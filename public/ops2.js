!function(t) {
    var e, i, n, a, o, d, c, s, r, h, l, f, p, g = 0, b = {}, y = [], u = 0, w = {}, x = [], m = null, v = new Image, I = /\.(jpg|gif|png|bmp|jpeg)(.*)?$/i, C = /[^\.]\.(swf)\s*$/i, k = 1, O = 0, j = "", T = !1, A = t.extend(t("<div/>")[0], {
        prop: 0
    }), S = navigator.userAgent.match(/msie [6]/i) && t.browser.version < 7 && !window.XMLHttpRequest, D = function() {
        i.hide(),
        v.onerror = v.onload = null,
        m && m.abort(),
        e.empty()
    }, F = function() {
        !1 === b.onError(y, g, b) ? (i.hide(),
        T = !1) : (b.titleShow = !1,
        b.width = "auto",
        b.height = "auto",
        e.html('<p id="fancybox-error">Error<br />Intentelo m√°s tarde.</p>'),
        N())
    }, E = function() {
        var n, a, o, c, s, r, h = y[g];
        if (D(),
        b = t.extend({}, t.fn.fancybox.defaults, void 0 === t(h).data("fancybox") ? b : t(h).data("fancybox")),
        !1 === (r = b.onStart(y, g, b)))
            T = !1;
        else if ("object" == typeof r && (b = t.extend(b, r)),
        o = b.title || (h.nodeName ? t(h).attr("title") : h.title) || "",
        h.nodeName && !b.orig && (b.orig = t(h).children("img:first").length ? t(h).children("img:first") : t(h)),
        "" === o && b.orig && b.titleFromAlt && (o = b.orig.attr("alt")),
        n = b.href || (h.nodeName ? t(h).attr("href") : h.href) || null,
        (/^(?:javascript)/i.test(n) || "#" == n) && (n = null),
        b.type ? (a = b.type,
        n || (n = b.content)) : b.content ? a = "html" : n && (a = n.match(I) ? "image" : n.match(C) ? "swf" : t(h).hasClass("iframe") ? "iframe" : 0 === n.indexOf("#") ? "inline" : "ajax"),
        a)
            switch ("inline" == a && (h = n.substr(n.indexOf("#")),
            a = t(h).length > 0 ? "inline" : "ajax"),
            b.type = a,
            b.href = n,
            b.title = o,
            b.autoDimensions && ("html" == b.type || "inline" == b.type || "ajax" == b.type ? (b.width = "auto",
            b.height = "auto") : b.autoDimensions = !1),
            b.modal && (b.overlayShow = !0,
            b.hideOnOverlayClick = !1,
            b.hideOnContentClick = !1,
            b.enableEscapeButton = !1,
            b.showCloseButton = !1),
            b.padding = parseInt(b.padding, 10),
            b.margin = parseInt(b.margin, 10),
            e.css("padding", b.padding + b.margin),
            t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change", function() {
                t(this).replaceWith(d.children())
            }),
            a) {
            case "html":
                e.html(b.content),
                N();
                break;
            case "inline":
                if (!0 === t(h).parent().is("#fancybox-content")) {
                    T = !1;
                    break
                }
                t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(h)).bind("fancybox-cleanup", function() {
                    t(this).replaceWith(d.children())
                }).bind("fancybox-cancel", function() {
                    t(this).replaceWith(e.children())
                }),
                t(h).appendTo(e),
                N();
                break;
            case "image":
                T = !1,
                t.fancybox.showActivity(),
                (v = new Image).onerror = function() {
                    F()
                }
                ,
                v.onload = function() {
                    T = !0,
                    v.onerror = v.onload = null,
                    b.width = v.width,
                    b.height = v.height,
                    t("<img />").attr({
                        id: "fancybox-img",
                        src: v.src,
                        alt: b.title
                    }).appendTo(e),
                    B()
                }
                ,
                v.src = n;
                break;
            case "swf":
                b.scrolling = "no",
                c = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="' + b.width + '" height="' + b.height + '"><param name="movie" value="' + n + '"></param>',
                s = "",
                t.each(b.swf, function(t, e) {
                    c += '<param name="' + t + '" value="' + e + '"></param>',
                    s += " " + t + '="' + e + '"'
                }),
                c += '<embed src="' + n + '" type="application/x-shockwave-flash" width="' + b.width + '" height="' + b.height + '"' + s + "></embed></object>",
                e.html(c),
                N();
                break;
            case "ajax":
                T = !1,
                t.fancybox.showActivity(),
                b.ajax.win = b.ajax.success,
                m = t.ajax(t.extend({}, b.ajax, {
                    url: n,
                    data: b.ajax.data || {},
                    error: function(t) {
                        t.status > 0 && F()
                    },
                    success: function(t, a, o) {
                        if (200 == ("object" == typeof o ? o : m).status) {
                            if ("function" == typeof b.ajax.win) {
                                if (!1 === (r = b.ajax.win(n, t, a, o)))
                                    return void i.hide();
                                "string" != typeof r && "object" != typeof r || (t = r)
                            }
                            e.html(t),
                            N()
                        }
                    }
                }));
                break;
            case "iframe":
                B()
            }
        else
            F()
    }, N = function() {
        var i = b.width
          , n = b.height;
        i = i.toString().indexOf("%") > -1 ? parseInt((t(window).width() - 2 * b.margin) * parseFloat(i) / 100, 10) + "px" : "auto" == i ? "auto" : i + "px",
        n = n.toString().indexOf("%") > -1 ? parseInt((t(window).height() - 2 * b.margin) * parseFloat(n) / 100, 10) + "px" : "auto" == n ? "auto" : n + "px",
        e.wrapInner('<div style="width:' + i + ";height:" + n + ";overflow: " + ("auto" == b.scrolling ? "auto" : "yes" == b.scrolling ? "scroll" : "hidden") + ';position:relative;"></div>'),
        b.width = e.width(),
        b.height = e.height(),
        B()
    }, B = function() {
        var l, m;
        if (i.hide(),
        a.is(":visible") && !1 === w.onCleanup(x, u, w))
            t.event.trigger("fancybox-cancel"),
            T = !1;
        else {
            if (T = !0,
            t(d.add(n)).unbind(),
            t(window).unbind("resize.fb scroll.fb"),
            t(document).unbind("keydown.fb"),
            a.is(":visible") && "outside" !== w.titlePosition && a.css("height", a.height()),
            x = y,
            u = g,
            (w = b).overlayShow ? (n.css({
                "background-color": w.overlayColor,
                opacity: w.overlayOpacity,
                cursor: w.hideOnOverlayClick ? "pointer" : "auto",
                height: t(document).height()
            }),
            n.is(":visible") || (S && t("select:not(#fancybox-tmp select)").filter(function() {
                return "hidden" !== this.style.visibility
            }).css({
                visibility: "hidden"
            }).one("fancybox-cleanup", function() {
                this.style.visibility = "inherit"
            }),
            n.show())) : n.hide(),
            p = H(),
            j = w.title || "",
            O = 0,
            s.empty().removeAttr("style").removeClass(),
            !1 !== w.titleShow && (l = t.isFunction(w.titleFormat) ? w.titleFormat(j, x, u, w) : !(!j || !j.length) && ("float" == w.titlePosition ? '<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">' + j + '</td><td id="fancybox-title-float-right"></td></tr></table>' : '<div id="fancybox-title-' + w.titlePosition + '">' + j + "</div>"),
            (j = l) && "" !== j))
                switch (s.addClass("fancybox-title-" + w.titlePosition).html(j).appendTo("body").show(),
                w.titlePosition) {
                case "inside":
                    s.css({
                        width: p.width - 2 * w.padding,
                        marginLeft: w.padding,
                        marginRight: w.padding
                    }),
                    O = s.outerHeight(!0),
                    s.appendTo(o),
                    p.height += O;
                    break;
                case "over":
                    s.css({
                        marginLeft: w.padding,
                        width: p.width - 2 * w.padding,
                        bottom: w.padding
                    }).appendTo(o);
                    break;
                case "float":
                    s.css("left", -1 * parseInt((s.width() - p.width - 40) / 2, 10)).appendTo(a);
                    break;
                default:
                    s.css({
                        width: p.width - 2 * w.padding,
                        paddingLeft: w.padding,
                        paddingRight: w.padding
                    }).appendTo(a)
                }
            s.hide(),
            a.is(":visible") ? (t(c.add(r).add(h)).hide(),
            l = a.position(),
            f = {
                top: l.top,
                left: l.left,
                width: a.width(),
                height: a.height()
            },
            m = f.width == p.width && f.height == p.height,
            d.fadeTo(w.changeFade, .3, function() {
                var i = function() {
                    d.html(e.contents()).fadeTo(w.changeFade, 1, L)
                };
                t.event.trigger("fancybox-change"),
                d.empty().removeAttr("filter").css({
                    "border-width": w.padding,
                    width: p.width - 2 * w.padding,
                    height: b.autoDimensions ? "auto" : p.height - O - 2 * w.padding
                }),
                m ? i() : (A.prop = 0,
                t(A).animate({
                    prop: 1
                }, {
                    duration: w.changeSpeed,
                    easing: w.easingChange,
                    step: M,
                    complete: i
                }))
            })) : (a.removeAttr("style"),
            d.css("border-width", w.padding),
            "elastic" == w.transitionIn ? (f = R(),
            d.html(e.contents()),
            a.show(),
            w.opacity && (p.opacity = 0),
            A.prop = 0,
            t(A).animate({
                prop: 1
            }, {
                duration: w.speedIn,
                easing: w.easingIn,
                step: M,
                complete: L
            })) : ("inside" == w.titlePosition && O > 0 && s.show(),
            d.css({
                width: p.width - 2 * w.padding,
                height: b.autoDimensions ? "auto" : p.height - O - 2 * w.padding
            }).html(e.contents()),
            a.css(p).fadeIn("none" == w.transitionIn ? 0 : w.speedIn, L)))
        }
    }, P = function() {
        (w.enableEscapeButton || w.enableKeyboardNav) && t(document).bind("keydown.fb", function(e) {
            27 == e.keyCode && w.enableEscapeButton ? (e.preventDefault(),
            t.fancybox.close()) : 37 != e.keyCode && 39 != e.keyCode || !w.enableKeyboardNav || "INPUT" === e.target.tagName || "TEXTAREA" === e.target.tagName || "SELECT" === e.target.tagName || (e.preventDefault(),
            t.fancybox[37 == e.keyCode ? "prev" : "next"]())
        }),
        w.showNavArrows ? ((w.cyclic && x.length > 1 || 0 !== u) && r.show(),
        (w.cyclic && x.length > 1 || u != x.length - 1) && h.show()) : (r.hide(),
        h.hide())
    }, L = function() {
        t.support.opacity || (d.get(0).style.removeAttribute("filter"),
        a.get(0).style.removeAttribute("filter")),
        b.autoDimensions && d.css("height", "auto"),
        a.css("height", "auto"),
        j && j.length && s.show(),
        w.showCloseButton && c.show(),
        P(),
        w.hideOnContentClick && d.bind("click", t.fancybox.close),
        w.hideOnOverlayClick && n.bind("click", t.fancybox.close),
        t(window).bind("resize.fb", t.fancybox.resize),
        w.centerOnScroll && t(window).bind("scroll.fb", t.fancybox.center),
        "iframe" == w.type && t('<iframe id="fancybox-frame" name="fancybox-frame' + (new Date).getTime() + '" frameborder="0" hspace="0" ' + (navigator.userAgent.match(/msie [6]/i) ? 'allowtransparency="true""' : "") + ' scrolling="' + b.scrolling + '" src="' + w.href + '"></iframe>').appendTo(d),
        a.show(),
        T = !1,
        t.fancybox.center(),
        w.onComplete(x, u, w);
        var e;
        x.length - 1 > u && void 0 !== (e = x[u + 1].href) && e.match(I) && ((new Image).src = e),
        u > 0 && void 0 !== (e = x[u - 1].href) && e.match(I) && ((new Image).src = e)
    }, M = function(t) {
        var e = {
            width: parseInt(f.width + (p.width - f.width) * t, 10),
            height: parseInt(f.height + (p.height - f.height) * t, 10),
            top: parseInt(f.top + (p.top - f.top) * t, 10),
            left: parseInt(f.left + (p.left - f.left) * t, 10)
        };
        void 0 !== p.opacity && (e.opacity = t < .5 ? .5 : t),
        a.css(e),
        d.css({
            width: e.width - 2 * w.padding,
            height: e.height - O * t - 2 * w.padding
        })
    }, z = function() {
        return [t(window).width() - 2 * w.margin, t(window).height() - 2 * w.margin, t(document).scrollLeft() + w.margin, t(document).scrollTop() + w.margin]
    }, H = function() {
        var t = z()
          , e = {}
          , i = w.autoScale
          , n = 2 * w.padding;
        return e.width = w.width.toString().indexOf("%") > -1 ? parseInt(t[0] * parseFloat(w.width) / 100, 10) : w.width + n,
        e.height = w.height.toString().indexOf("%") > -1 ? parseInt(t[1] * parseFloat(w.height) / 100, 10) : w.height + n,
        i && (e.width > t[0] || e.height > t[1]) && ("image" == b.type || "swf" == b.type ? (i = w.width / w.height,
        e.width > t[0] && (e.width = t[0],
        e.height = parseInt((e.width - n) / i + n, 10)),
        e.height > t[1] && (e.height = t[1],
        e.width = parseInt((e.height - n) * i + n, 10))) : (e.width = Math.min(e.width, t[0]),
        e.height = Math.min(e.height, t[1]))),
        e.top = parseInt(Math.max(t[3] - 20, t[3] + .5 * (t[1] - e.height - 40)), 10),
        e.left = parseInt(Math.max(t[2] - 20, t[2] + .5 * (t[0] - e.width - 40)), 10),
        e
    }, R = function() {
        var e = !!b.orig && t(b.orig)
          , i = {};
        return e && e.length ? ((i = e.offset()).top += parseInt(e.css("paddingTop"), 10) || 0,
        i.left += parseInt(e.css("paddingLeft"), 10) || 0,
        i.top += parseInt(e.css("border-top-width"), 10) || 0,
        i.left += parseInt(e.css("border-left-width"), 10) || 0,
        i.width = e.width(),
        i.height = e.height(),
        i = {
            width: i.width + 2 * w.padding,
            height: i.height + 2 * w.padding,
            top: i.top - w.padding - 20,
            left: i.left - w.padding - 20
        }) : (e = z(),
        i = {
            width: 2 * w.padding,
            height: 2 * w.padding,
            top: parseInt(e[3] + .5 * e[1], 10),
            left: parseInt(e[2] + .5 * e[0], 10)
        }),
        i
    }, K = function() {
        i.is(":visible") ? (t("div", i).css("top", -40 * k + "px"),
        k = (k + 1) % 12) : clearInterval(l)
    };
    t.fn.fancybox = function(e) {
        return t(this).length ? (t(this).data("fancybox", t.extend({}, e, t.metadata ? t(this).metadata() : {})).unbind("click.fb").bind("click.fb", function(e) {
            e.preventDefault(),
            T || (T = !0,
            t(this).blur(),
            y = [],
            g = 0,
            (e = t(this).attr("rel") || "") && "" != e && "nofollow" !== e ? (y = t("a[rel=" + e + "], area[rel=" + e + "]"),
            g = y.index(this)) : y.push(this),
            E())
        }),
        this) : this
    }
    ,
    t.fancybox = function(e, i) {
        var n;
        if (!T) {
            if (T = !0,
            n = void 0 !== i ? i : {},
            y = [],
            g = parseInt(n.index, 10) || 0,
            t.isArray(e)) {
                for (var a = 0, o = e.length; a < o; a++)
                    "object" == typeof e[a] ? t(e[a]).data("fancybox", t.extend({}, n, e[a])) : e[a] = t({}).data("fancybox", t.extend({
                        content: e[a]
                    }, n));
                y = jQuery.merge(y, e)
            } else
                "object" == typeof e ? t(e).data("fancybox", t.extend({}, n, e)) : e = t({}).data("fancybox", t.extend({
                    content: e
                }, n)),
                y.push(e);
            (g > y.length || g < 0) && (g = 0),
            E()
        }
    }
    ,
    t.fancybox.showActivity = function() {
        clearInterval(l),
        i.show(),
        l = setInterval(K, 66)
    }
    ,
    t.fancybox.hideActivity = function() {
        i.hide()
    }
    ,
    t.fancybox.next = function() {
        return t.fancybox.pos(u + 1)
    }
    ,
    t.fancybox.prev = function() {
        return t.fancybox.pos(u - 1)
    }
    ,
    t.fancybox.pos = function(t) {
        T || (t = parseInt(t),
        y = x,
        t > -1 && t < x.length ? (g = t,
        E()) : w.cyclic && x.length > 1 && (g = t >= x.length ? 0 : x.length - 1,
        E()))
    }
    ,
    t.fancybox.cancel = function() {
        T || (T = !0,
        t.event.trigger("fancybox-cancel"),
        D(),
        b.onCancel(y, g, b),
        T = !1)
    }
    ,
    t.fancybox.close = function() {
        function e() {
            n.fadeOut("fast"),
            s.empty().hide(),
            a.hide(),
            t.event.trigger("fancybox-cleanup"),
            d.empty(),
            w.onClosed(x, u, w),
            x = b = [],
            u = g = 0,
            w = b = {},
            T = !1
        }
        if (!T && !a.is(":hidden"))
            if (T = !0,
            w && !1 === w.onCleanup(x, u, w))
                T = !1;
            else if (D(),
            t(c.add(r).add(h)).hide(),
            t(d.add(n)).unbind(),
            t(window).unbind("resize.fb scroll.fb"),
            t(document).unbind("keydown.fb"),
            d.find("iframe").attr("src", S && /^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank"),
            "inside" !== w.titlePosition && s.empty(),
            a.stop(),
            "elastic" == w.transitionOut) {
                f = R();
                var i = a.position();
                p = {
                    top: i.top,
                    left: i.left,
                    width: a.width(),
                    height: a.height()
                },
                w.opacity && (p.opacity = 1),
                s.empty().hide(),
                A.prop = 1,
                t(A).animate({
                    prop: 0
                }, {
                    duration: w.speedOut,
                    easing: w.easingOut,
                    step: M,
                    complete: e
                })
            } else
                a.fadeOut("none" == w.transitionOut ? 0 : w.speedOut, e)
    }
    ,
    t.fancybox.resize = function() {
        n.is(":visible") && n.css("height", t(document).height()),
        t.fancybox.center(!0)
    }
    ,
    t.fancybox.center = function(t) {
        var e, i;
        T || (i = !0 === t ? 1 : 0,
        e = z(),
        !i && (a.width() > e[0] || a.height() > e[1]) || a.stop().animate({
            top: parseInt(Math.max(e[3] - 20, e[3] + .5 * (e[1] - d.height() - 40) - w.padding)),
            left: parseInt(Math.max(e[2] - 20, e[2] + .5 * (e[0] - d.width() - 40) - w.padding))
        }, "number" == typeof t ? t : 200))
    }
    ,
    t.fancybox.init = function() {
        t("#fancybox-wrap").length || (t("body").append(e = t('<div id="fancybox-tmp"></div>'), i = t('<div id="fancybox-loading"><div></div></div>'), n = t('<div id="fancybox-overlay"></div>'), a = t('<div id="fancybox-wrap"></div>')),
        (o = t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a)).append(d = t('<div id="fancybox-content"></div>'), c = t('<a id="fancybox-close"></a>'), s = t('<div id="fancybox-title"></div>'), r = t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'), h = t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),
        c.click(t.fancybox.close),
        i.click(t.fancybox.cancel),
        r.click(function(e) {
            e.preventDefault(),
            t.fancybox.prev()
        }),
        h.click(function(e) {
            e.preventDefault(),
            t.fancybox.next()
        }),
        t.fn.mousewheel && a.bind("mousewheel.fb", function(e, i) {
            T ? e.preventDefault() : 0 != t(e.target).get(0).clientHeight && t(e.target).get(0).scrollHeight !== t(e.target).get(0).clientHeight || (e.preventDefault(),
            t.fancybox[i > 0 ? "prev" : "next"]())
        }),
        t.support.opacity || a.addClass("fancybox-ie"),
        S && (i.addClass("fancybox-ie6"),
        a.addClass("fancybox-ie6"),
        t('<iframe id="fancybox-hide-sel-frame" src="' + (/^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank") + '" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))
    }
    ,
    t.fn.fancybox.defaults = {
        padding: 10,
        margin: 40,
        opacity: !1,
        modal: !1,
        cyclic: !1,
        scrolling: "auto",
        width: 560,
        height: 340,
        autoScale: !0,
        autoDimensions: !0,
        centerOnScroll: !1,
        ajax: {},
        swf: {
            wmode: "transparent"
        },
        hideOnOverlayClick: !0,
        hideOnContentClick: !1,
        overlayShow: !0,
        overlayOpacity: .7,
        overlayColor: "#777",
        titleShow: !0,
        titlePosition: "float",
        titleFormat: null,
        titleFromAlt: !1,
        transitionIn: "fade",
        transitionOut: "fade",
        speedIn: 300,
        speedOut: 300,
        changeSpeed: 300,
        changeFade: "fast",
        easingIn: "swing",
        easingOut: "swing",
        showCloseButton: !0,
        showNavArrows: !0,
        enableEscapeButton: !0,
        enableKeyboardNav: !0,
        onStart: function() {},
        onCancel: function() {},
        onComplete: function() {},
        onCleanup: function() {},
        onClosed: function() {},
        onError: function() {}
    },
    t(document).ready(function() {
        t.fancybox.init()
    })
}(jQuery);
!function(e) {
    "undefined" != typeof module ? (module.exports = e(),
    Z80 = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(e) : this.Z80 = e()
}(function() {
    var m = {
        set: {
            DEC: [-1, -1, -1, -1, 5, -1, 11, -1, -1, -1, -1, -1, -1, -1],
            INC: [-1, -1, -1, -1, 4, -1, 3, -1, -1, -1, -1, -1, -1, -1],
            AND: [-1, -1, -1, -1, 160, 230, -1, -1, -1, -1, -1, -1, -1, -1],
            OR: [-1, -1, -1, -1, 176, 246, -1, -1, -1, -1, -1, -1, -1, -1],
            XOR: [-1, -1, -1, -1, 168, 238, -1, -1, -1, -1, -1, -1, -1, -1],
            SUB: [-1, -1, -1, -1, 144, 214, -1, -1, -1, -1, -1, -1, -1, -1],
            CP: [-1, -1, -1, -1, 184, 254, -1, -1, -1, -1, -1, -1, -1, -1],
            SLA: [-1, -1, -1, -1, 52e3, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SRA: [-1, -1, -1, -1, 52008, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SLL: [-1, -1, -1, -1, 52016, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SRL: [-1, -1, -1, -1, 52024, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RR: [-1, -1, -1, -1, 51992, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RL: [-1, -1, -1, -1, 51984, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RRC: [-1, -1, -1, -1, 51976, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RLC: [-1, -1, -1, -1, 51968, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            POP: [-1, -1, -1, -1, -1, -1, -1, 193, -1, -1, -1, -1, -1, -1],
            PUSH: [-1, -1, -1, -1, -1, -1, -1, 197, -1, -1, -1, -1, -1, -1],
            RET: [201, -1, -1, -1, -1, -1, -1, -1, 192, -1, -1, -1, -1, -1],
            IM: [-1, -1, -1, -1, -1, -1, -1, -1, -1, 60742, -1, -1, -1, -1],
            RST: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 199, -1, -1, -1],
            CALL: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 205, -1],
            JP: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 195, 233],
            DJNZ: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 16, -1, -1],
            JR: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 24, -1, -1],
            NOP: [0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CCF: [63, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CPD: [60841, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CPDR: [60857, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CPI: [60833, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CPIR: [60849, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CPL: [47, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            DAA: [39, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            DI: [243, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            EI: [251, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            EXX: [217, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            IND: [60842, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            INDR: [60858, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            INI: [60834, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            INIR: [60850, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LDD: [60840, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LDDR: [60856, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LDI: [60832, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LDIR: [60848, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            OUTD: [60843, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            OTDR: [60859, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            OUTI: [60835, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            OTIR: [60851, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            HALT: [118, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            NEG: [60740, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RETI: [60749, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RETN: [60741, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RLA: [23, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RLCA: [7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RLD: [60783, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RRA: [31, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RRCA: [15, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RRD: [60775, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SCF: [55, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
        },
        set2: {
            EX: [0],
            LD: [0],
            ADC: [136, 206, 60746],
            ADD: [128, 198, 9, 9],
            SBC: [152, 222, 60738],
            BIT: [-1, -1, -1, -1, 52032],
            RES: [-1, -1, -1, -1, 52096],
            SET: [-1, -1, -1, -1, 52160],
            CAL2: [-1, -1, -1, -1, -1, 196],
            JP2: [-1, -1, -1, -1, -1, 194],
            JR2: [-1, -1, -1, -1, -1, 32],
            IN: [60736, 219, -1, -1, -1, -1],
            OUT: [60737, 211, -1, -1, -1, -1]
        },
        R8: {
            DEC: 3,
            INC: 3
        },
        R16: {
            DEC: 4,
            INC: 4,
            POP: 4,
            PUSH: 4
        },
        parseOpcode: function(e) {
            function r(e) {
                var r = ["B", "C", "D", "E", "H", "L", "~", "A"].indexOf(e.toUpperCase());
                return "(HL)" == e.toUpperCase() ? 6 : r
            }
            function t(e) {
                return ["BC", "DE", "HL", "SP"].indexOf(e.toUpperCase())
            }
            function n(e) {
                return ["NZ", "Z", "NC", "C", "PO", "PE", "P", "M"].indexOf(e.toUpperCase())
            }
            function s(e) {
                return "(" == e[0] && ")" == e[e.length - 1] ? e.substr(1, e.length - 2) : null
            }
            function a(e) {
                var r = null
                  , t = null
                  , n = e.replace(/\s/g, "").substr(0, 4).toUpperCase();
                return "(IX)" == n && (r = "0",
                t = 221,
                e = "(HL)"),
                "(IX+" == n && (r = e.substr(4, e.length - 5),
                t = 221,
                e = "(HL)"),
                "(IX-" == n && (r = "-" + e.substr(4, e.length - 5),
                t = 221,
                e = "(HL)"),
                "(IY)" == n && (r = "0",
                t = 253,
                e = "(HL)"),
                "(IY+" == n && (r = e.substr(4, e.length - 5),
                t = 253,
                e = "(HL)"),
                "(IY-" == n && (r = "-" + e.substr(4, e.length - 5),
                t = 253,
                e = "(HL)"),
                "IX" == n && (t = 221,
                e = "HL"),
                "IY" == n && (t = 253,
                e = "HL"),
                "IXL" == n && (t = 221,
                e = "L"),
                "IXH" == n && (t = 221,
                e = "H"),
                "IYL" == n && (t = 253,
                e = "L"),
                "IYH" == n && (t = 253,
                e = "H"),
                [e, r, t]
            }
            var o, u, l, p, i, f = function(e) {
                return ["B", "C", "D", "E", "H", "L", "F", "A"].indexOf(e.toUpperCase())
            }, C = m.set[e.opcode], c = m.set2[e.opcode], U = -1, b = 1, d = [], y = null, P = null;
            if (C && !c && 1 < (e.params ? e.params.length : 0) && "JP" !== e.opcode && "JR" !== e.opcode && "CALL" !== e.opcode)
                throw "Un par√°metro necesario";
            if (!C && c && (C = c,
            2 !== (e.params ? e.params.length : 0)))
                throw "Dos par√°metros necesarios";
            if (C) {
                if (e.params && 0 !== e.params.length) {
                    if (1 == e.params.length) {
                        var I, L = (I = a(L = e.params[0]))[0], P = I[1], y = I[2];
                        if (0 < C[11])
                            return e.bytes = 2,
                            e.lens = [],
                            e.lens[0] = C[11],
                            e.lens[1] = function(e) {
                                e = Parser.evaluate(L, e) - (e._PC + 2);
                                if (127 < e)
                                    throw "Fuera de rango";
                                if (e < -128)
                                    throw "Fuera de rango";
                                return e = e < 0 ? 256 + e : e
                            }
                            ,
                            e;
                        if (0 < C[12])
                            return e.lens = [],
                            "(HL)" == L.toUpperCase() && 0 < C[13] ? I[2] ? (e.bytes = 2,
                            e.lens[0] = I[2],
                            e.lens[1] = C[13]) : (e.bytes = 1,
                            e.lens[0] = C[13]) : (e.bytes = 3,
                            e.lens[0] = C[12],
                            e.lens[1] = function(e) {
                                return Parser.evaluate(L, e)
                            }
                            ,
                            e.lens[2] = null),
                            e;
                        if (0 < C[9]) {
                            switch (e.bytes = 2,
                            e.lens = [],
                            e.lens[0] = 237,
                            Parser.evaluate(L)) {
                            case 0:
                                return e.lens[1] = 70,
                                e;
                            case 1:
                                return e.lens[1] = 86,
                                e;
                            case 2:
                                return e.lens[1] = 94,
                                e
                            }
                            throw "Modo inv√°lido"
                        }
                        if (0 < C[10]) {
                            switch (e.bytes = 1,
                            e.lens = [],
                            Parser.evaluate(L)) {
                            case 0:
                                return e.lens[0] = 199,
                                e;
                            case 8:
                                return e.lens[0] = 207,
                                e;
                            case 16:
                                return e.lens[0] = 215,
                                e;
                            case 24:
                                return e.lens[0] = 223,
                                e;
                            case 32:
                                return e.lens[0] = 231,
                                e;
                            case 40:
                                return e.lens[0] = 239,
                                e;
                            case 48:
                                return e.lens[0] = 247,
                                e;
                            case 56:
                                return e.lens[0] = 255,
                                e
                            }
                            throw "RST inv√°lido"
                        }
                        0 <= (o = n(L)) && 0 < C[8] ? 0 < (U = C[8]) && (U += o << 3) : 0 <= (o = t(L)) && 0 <= C[6] ? 0 < (U = C[6]) && (m.R16[e.opcode] ? U += o << m.R16[e.opcode] : U += o) : (i = L,
                        0 <= (o = ["BC", "DE", "HL", "AF"].indexOf(i.toUpperCase())) && 0 <= C[7] ? 0 < (U = C[7]) && (m.R16[e.opcode] ? U += o << m.R16[e.opcode] : U += o) : 0 <= (o = r(L)) && 0 < C[4] ? 0 < (U = C[4]) && (m.R8[e.opcode] ? U += o << m.R8[e.opcode] : U += o) : (U = C[5],
                        u = function(e) {
                            return Parser.evaluate(L, e)
                        }
                        ))
                    } else if (2 == e.params.length) {
                        var R = e.params[0]
                          , v = e.params[1];
                        if ("EX" == e.opcode)
                            return "DE" == R.toUpperCase() && "HL" == v.toUpperCase() ? (e.lens = [235],
                            e.bytes = 1,
                            e) : "AF" == R.toUpperCase() && "AF'" == v.toUpperCase() ? (e.lens = [8],
                            e.bytes = 1,
                            e) : "(SP)" == R.toUpperCase() && "HL" == v.toUpperCase() ? (e.lens = [227],
                            e.bytes = 1,
                            e) : "(SP)" == R.toUpperCase() && "IX" == v.toUpperCase() ? (e.lens = [221, 227],
                            e.bytes = 2,
                            e) : "(SP)" == R.toUpperCase() && "IY" == v.toUpperCase() ? (e.lens = [253, 227],
                            e.bytes = 2,
                            e) : null;
                        if ("CALL" == e.opcode)
                            return C = m.set2.CAL2,
                            0 <= (o = n(R)) && 0 < C[5] && 0 < (U = C[5]) ? (U += o << 3,
                            e.bytes = 3,
                            e.lens = [],
                            e.lens[0] = U,
                            e.lens[1] = function(e) {
                                return Parser.evaluate(v, e)
                            }
                            ,
                            e.lens[2] = null,
                            e) : null;
                        if ("JP" == e.opcode)
                            return C = m.set2.JP2,
                            0 <= (o = n(R)) && 0 < C[5] && 0 < (U = C[5]) ? (U += o << 3,
                            e.bytes = 3,
                            e.lens = [],
                            e.lens[0] = U,
                            e.lens[1] = function(e) {
                                return Parser.evaluate(v, e)
                            }
                            ,
                            e.lens[2] = null,
                            e) : null;
                        if ("JR" == e.opcode)
                            return C = m.set2.JR2,
                            0 <= (o = n(R)) && o < 4 && 0 < C[5] && 0 < (U = C[5]) ? (U += o << 3,
                            e.bytes = 2,
                            e.lens = [],
                            e.lens[0] = U,
                            e.lens[1] = function(e) {
                                e = Parser.evaluate(v, e) - (e._PC + 2);
                                if (127 < e)
                                    throw "Fuera de rango";
                                if (e < -128)
                                    throw "Fuera de rango";
                                return e = e < 0 ? 256 + e : e
                            }
                            ,
                            e) : null;
                        if ("IN" == e.opcode)
                            return "(C)" == v.toUpperCase() && 0 <= (o = f(R)) && C[0] ? (e.lens = [237, 64 + (o << 3)],
                            e.bytes = 2,
                            e) : "A" == R.toUpperCase() ? (e.lens = [C[1]],
                            e.lens[1] = function(e) {
                                return Parser.evaluate(v, e)
                            }
                            ,
                            e.bytes = 2,
                            e) : null;
                        if ("OUT" == e.opcode)
                            return "(C)" == R.toUpperCase() && 0 <= (o = f(v)) && C[0] ? (e.lens = [237, 65 + (o << 3)],
                            e.bytes = 2,
                            e) : "A" == v.toUpperCase() ? (e.lens = [C[1]],
                            e.lens[1] = function(e) {
                                return Parser.evaluate(R, e)
                            }
                            ,
                            e.bytes = 2,
                            e) : null;
                        if ("LD" == e.opcode) {
                            if ("A" == R.toUpperCase() && "R" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [237, 95],
                                e;
                            if ("A" == R.toUpperCase() && "I" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [237, 87],
                                e;
                            if ("R" == R.toUpperCase() && "A" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [237, 79],
                                e;
                            if ("I" == R.toUpperCase() && "A" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [237, 71],
                                e;
                            if ("HL" == R.toUpperCase() && "DE" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [98, 107],
                                e;
                            if ("HL" == R.toUpperCase() && "BC" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [96, 105],
                                e;
                            if ("DE" == R.toUpperCase() && "HL" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [84, 93],
                                e;
                            if ("DE" == R.toUpperCase() && "BC" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [80, 89],
                                e;
                            if ("BC" == R.toUpperCase() && "HL" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [68, 77],
                                e;
                            if ("BC" == R.toUpperCase() && "DE" == v.toUpperCase())
                                return e.bytes = 2,
                                e.lens = [66, 75],
                                e;
                            f = a(R),
                            R = f[0];
                            P = f[1],
                            y = f[2];
                            var D = a(v)
                              , v = D[0];
                            if (D[1] && P)
                                throw "Par√°metros inv√°lidos";
                            if (D[1] && (P = D[1]),
                            D[2] && y)
                                throw "Par√°metros inv√°lidos";
                            D[2] && (y = D[2]);
                            var h, A, f = r(R), D = r(v), d = [];
                            if (0 <= f && 0 <= D && (e.bytes = 1,
                            d[0] = 64 + (f << 3) + D),
                            "A" == R.toUpperCase() && "(BC)" == v.toUpperCase())
                                return e.bytes = 1,
                                e.lens = [10],
                                e;
                            if ("A" == R.toUpperCase() && "(DE)" == v.toUpperCase())
                                return e.bytes = 1,
                                e.lens = [26],
                                e;
                            if ("A" == R.toUpperCase() && s(v) && 0 === e.bytes)
                                return e.bytes = 3,
                                e.lens = [58, function(e) {
                                    return Parser.evaluate(s(v), e)
                                }
                                , null],
                                e;
                            if ("(BC)" == R.toUpperCase() && "A" == v.toUpperCase())
                                return e.bytes = 1,
                                e.lens = [2],
                                e;
                            if ("(DE)" == R.toUpperCase() && "A" == v.toUpperCase())
                                return e.bytes = 1,
                                e.lens = [18],
                                e;
                            if (s(R) && "A" == v.toUpperCase() && 0 === e.bytes)
                                return e.bytes = 3,
                                e.lens = [50, function(e) {
                                    return Parser.evaluate(s(R), e)
                                }
                                , null],
                                e;
                            if (7 == f && D < 0 && "(" == v[0])
                                return e.bytes = 3,
                                d[0] = 58,
                                d[1] = function(e) {
                                    return Parser.evaluate(v, e)
                                }
                                ,
                                d[2] = null,
                                e;
                            if (0 <= f && D < 0 && "(" == v[0])
                                throw "Error";
                            return (0 <= f && D < 0 && (e.bytes = 2,
                            d[0] = 6 + (f << 3),
                            d[1] = function(e) {
                                return Parser.evaluate(v, e)
                            }
                            ),
                            0 === e.bytes && (f = t(R),
                            D = t(v),
                            h = s(R),
                            A = s(v),
                            0 <= f && !A && (e.bytes = 3,
                            d = [1 + (f << 4), function(e) {
                                return Parser.evaluate(v, e)
                            }
                            , null]),
                            0 <= f && A && (e.bytes = [4, 4, 3, 4][f],
                            d = [237, 75 + (f << 4), function(e) {
                                return Parser.evaluate(A, e)
                            }
                            , null],
                            3 == e.bytes && (d = [42, function(e) {
                                return Parser.evaluate(A, e)
                            }
                            , null])),
                            h && 0 <= D && (e.bytes = [4, 4, 3, 4][D],
                            d = [237, 67 + (D << 4), function(e) {
                                return Parser.evaluate(h, e)
                            }
                            , null],
                            3 == e.bytes && (d = [34, function(e) {
                                return Parser.evaluate(h, e)
                            }
                            , null])),
                            3 == f && 2 == D && (e.bytes = 1,
                            d = [249])),
                            d.length) ? (y && (d.unshift(y),
                            e.bytes++),
                            P && (3 == e.bytes && (d[3] = d[2],
                            d[2] = function(e) {
                                e = Parser.evaluate(P, e);
                                if (127 < e || e < -128)
                                    throw "Fuera de rango (" + e + ")";
                                return e
                            }
                            ,
                            e.bytes = 4),
                            2 == e.bytes && (d[2] = function(e) {
                                e = Parser.evaluate(P, e);
                                if (127 < e || e < -128)
                                    throw "Fuera de rango (" + e + ")";
                                return e
                            }
                            ,
                            e.bytes = 3)),
                            e.lens = d,
                            e) : null
                        }
                        0 <= C[4] && (D = parseInt(R, 10),
                        I = a(v),
                        v = I[0],
                        P = I[1],
                        y = I[2],
                        o = r(v),
                        U = C[4] + 8 * D + o),
                        "A" == R.toUpperCase() && (I = a(v),
                        v = I[0],
                        P = I[1],
                        y = I[2],
                        0 <= (o = r(v)) ? U = C[0] + o : (U = C[1],
                        u = function(e) {
                            return Parser.evaluate(v, e)
                        }
                        )),
                        "IX" == R.toUpperCase() && (p = v,
                        0 <= (o = ["BC", "DE", "IX", "SP"].indexOf(p.toUpperCase())) && (U = C[2] + (o << 4),
                        y = 221)),
                        "IY" == R.toUpperCase() && (l = v,
                        0 <= (o = ["BC", "DE", "IY", "SP"].indexOf(l.toUpperCase())) && (U = C[2] + (o << 4),
                        y = 253)),
                        "HL" == R.toUpperCase() && 0 <= (o = t(v)) && (U = C[2] + (o << 4))
                    }
                } else
                    U = C[0];
                if (U < 0)
                    throw "Error " + e.numline;
                255 < U ? (b++,
                d[0] = (65280 & U) >> 8,
                d[1] = 255 & U) : d[0] = 255 & U;
                return y && (d.unshift(y),
                b++),
                null != P && (3 == b && (d[3] = d[2],
                d[2] = function(e) {
                    e = Parser.evaluate(P, e);
                    if (127 < e || e < -128)
                        throw "Fuera de rango (" + e + ")";
                    return e
                }
                ,
                b = 4),
                2 == b && (d[2] = function(e) {
                    e = Parser.evaluate(P, e);
                    if (127 < e || e < -128)
                        throw "Fuera de rango (" + e + ")";
                    return e
                }
                ,
                b = 3)),
                u && (d.push(u),
                b++),
                e.lens = d,
                e.bytes = b,
                e
            }
            return null
        }
    };
    return m
});
!function(t, o) {
    "undefined" != typeof module ? (module.exports = o(),
    I8080 = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(o) : this.I8080 = o()
}(0, function() {
    var t = {
        set: {
            RST: {
                o: 199,
                t: "RST"
            },
            LDA: {
                o: 58,
                t: "IW"
            },
            STA: {
                o: 50,
                t: "IW"
            },
            LDAX: {
                o: 10,
                t: "BD"
            },
            STAX: {
                o: 2,
                t: "BD"
            },
            LHLD: {
                o: 42,
                t: "IW"
            },
            SHLD: {
                o: 34,
                t: "IW"
            },
            JMP: {
                o: 195,
                t: "IW"
            },
            JNZ: {
                o: 194,
                t: "IW"
            },
            JZ: {
                o: 202,
                t: "IW"
            },
            JNC: {
                o: 210,
                t: "IW"
            },
            JC: {
                o: 218,
                t: "IW"
            },
            JPO: {
                o: 226,
                t: "IW"
            },
            JPE: {
                o: 234,
                t: "IW"
            },
            JP: {
                o: 242,
                t: "IW"
            },
            JM: {
                o: 250,
                t: "IW"
            },
            JNK: {
                o: 221,
                t: "IW"
            },
            JK: {
                o: 253,
                t: "IW"
            },
            CALL: {
                o: 205,
                t: "IW"
            },
            CNZ: {
                o: 196,
                t: "IW"
            },
            CZ: {
                o: 204,
                t: "IW"
            },
            CNC: {
                o: 212,
                t: "IW"
            },
            CC: {
                o: 220,
                t: "IW"
            },
            CPO: {
                o: 228,
                t: "IW"
            },
            CPE: {
                o: 236,
                t: "IW"
            },
            CP: {
                o: 244,
                t: "IW"
            },
            CM: {
                o: 252,
                t: "IW"
            },
            LXI: {
                o: 1,
                t: "RPW"
            },
            DAD: {
                o: 9,
                t: "RPWD"
            },
            INX: {
                o: 3,
                t: "RPWD"
            },
            DCX: {
                o: 11,
                t: "RPWD"
            },
            PUSH: {
                o: 197,
                t: "RQW"
            },
            POP: {
                o: 193,
                t: "RQW"
            },
            MVI: {
                o: 6,
                t: "RB"
            },
            ADI: {
                o: 198,
                t: "B"
            },
            ACI: {
                o: 206,
                t: "B"
            },
            SUI: {
                o: 214,
                t: "B"
            },
            SBI: {
                o: 222,
                t: "B"
            },
            ANI: {
                o: 230,
                t: "B"
            },
            XRI: {
                o: 238,
                t: "B"
            },
            ORI: {
                o: 246,
                t: "B"
            },
            CPI: {
                o: 254,
                t: "B"
            },
            INR: {
                o: 4,
                t: "RR"
            },
            DCR: {
                o: 5,
                t: "RR"
            },
            MOV: {
                o: 64,
                t: "RRR"
            },
            HLT: {
                o: 118,
                t: "0"
            },
            NOP: {
                o: 0,
                t: "0"
            },
            IN: {
                o: 219,
                t: "B"
            },
            OUT: {
                o: 211,
                t: "B"
            },
            RIM: {
                o: 32,
                t: "0"
            },
            SIM: {
                o: 48,
                t: "0"
            },
            ADD: {
                o: 128,
                t: "RR0"
            },
            ADC: {
                o: 136,
                t: "RR0"
            },
            SUB: {
                o: 144,
                t: "RR0"
            },
            SBB: {
                o: 152,
                t: "RR0"
            },
            ANA: {
                o: 160,
                t: "RR0"
            },
            XRA: {
                o: 168,
                t: "RR0"
            },
            ORA: {
                o: 176,
                t: "RR0"
            },
            CMP: {
                o: 184,
                t: "RR0"
            },
            EI: {
                o: 251,
                t: "0"
            },
            DI: {
                o: 243,
                t: "0"
            },
            SPHL: {
                o: 249,
                t: "0"
            },
            XCHG: {
                o: 235,
                t: "0"
            },
            XTHL: {
                o: 227,
                t: "0"
            },
            DAA: {
                o: 39,
                t: "0"
            },
            CMA: {
                o: 47,
                t: "0"
            },
            STC: {
                o: 55,
                t: "0"
            },
            CMC: {
                o: 63,
                t: "0"
            },
            RLC: {
                o: 7,
                t: "0"
            },
            RRC: {
                o: 15,
                t: "0"
            },
            RAL: {
                o: 23,
                t: "0"
            },
            RAR: {
                o: 31,
                t: "0"
            },
            RRHL: {
                o: 16,
                t: "0"
            },
            RLDE: {
                o: 24,
                t: "0"
            },
            PCHL: {
                o: 233,
                t: "0"
            },
            DSUB: {
                o: 8,
                t: "0"
            },
            RSTV: {
                o: 203,
                t: "0"
            },
            RET: {
                o: 201,
                t: "0"
            },
            RNZ: {
                o: 192,
                t: "0"
            },
            RZ: {
                o: 200,
                t: "0"
            },
            RNC: {
                o: 208,
                t: "0"
            },
            RC: {
                o: 216,
                t: "0"
            },
            RPO: {
                o: 224,
                t: "0"
            },
            RPE: {
                o: 232,
                t: "0"
            },
            RP: {
                o: 240,
                t: "0"
            },
            RM: {
                o: 248,
                t: "0"
            }
        },
        lens: {
            R: function(t) {
                return "BCDEHLMA".indexOf(t.toUpperCase())
            },
            RDD: function(t) {
                return "BDHSP".indexOf(t.toUpperCase())
            },
            RBD: function(t) {
                return "BD".indexOf(t.toUpperCase())
            },
            RQQ: function(t) {
                return "BDHPSW".indexOf(t.toUpperCase())
            },
            RB: function(t, o) {
                var n = this.R(o[0]);
                if (n < 0)
                    throw "Registro desconocido " + o[0];
                return n <<= 3,
                [n | t, function(t) {
                    return Parser.evaluate(o[1], t)
                }
                ]
            },
            B: function(t, o) {
                return [t, function(t) {
                    return Parser.evaluate(o[0], t)
                }
                ]
            },
            RR: function(t, o) {
                var n = this.R(o[0]);
                if (n < 0)
                    throw "Registro desconocido " + o[0];
                return n <<= 3,
                [n | t]
            },
            RR0: function(t, o) {
                var n = this.R(o[0]);
                if (n < 0)
                    throw "Registro desconocido " + o[0];
                return [n | t]
            },
            RRR: function(t, o) {
                var n = this.R(o[0]);
                if (n < 0)
                    throw "Registro desconocido " + o[0];
                var r = this.R(o[1]);
                if (r < 0)
                    throw "Registro desconocido " + o[1];
                return n <<= 3,
                [n | r | t]
            },
            RPW: function(t, o) {
                var n = this.RDD(o[0]);
                if (n < 0 || n > 3)
                    throw "Registro desconocido " + o[0];
                return n <<= 4,
                [n | t, function(t) {
                    return Parser.evaluate(o[1], t)
                }
                , null]
            },
            RPWD: function(t, o) {
                var n = this.RDD(o[0]);
                if (n < 0 || n > 3)
                    throw "Registro desconocido " + o[0];
                return n <<= 4,
                [n | t]
            },
            BD: function(t, o) {
                var n = this.RBD(o[0]);
                if (n < 0 || n > 1)
                    throw "Registro desconocido " + o[0];
                return n <<= 4,
                [n | t]
            },
            RQW: function(t, o) {
                var n = this.RQQ(o[0]);
                if (n < 0 || n > 3)
                    throw "Registro desconocido " + o[0];
                return n <<= 4,
                [n | t]
            },
            IW: function(t, o) {
                return [t, function(t) {
                    return Parser.evaluate(o[0], t)
                }
                , null]
            },
            RST: function(t, o) {
                return [t | parseInt(o[0], 10) << 3]
            },
            0: function(t, o) {
                return [t]
            }
        },
        parseOpcode: function(o) {
            var n = t.set[o.opcode];
            if (n) {
                var r = n.t
                  , e = t.lens[r](n.o, o.params);
                return o.bytes = e.length,
                o.lens = e,
                o.resolve = e.reduce(function(t, o) {
                    return "function" == typeof o ? t + 1 : t
                }, 0),
                o
            }
            return null
        }
    };
    return t
});
var I8008 = {
    set: {
        ADA: {
            o: 128,
            t: "0"
        },
        ADB: {
            o: 129,
            t: "0"
        },
        ADC: {
            o: 130,
            t: "0"
        },
        ADD: {
            o: 131,
            t: "0"
        },
        ADE: {
            o: 132,
            t: "0"
        },
        ADH: {
            o: 133,
            t: "0"
        },
        ADL: {
            o: 134,
            t: "0"
        },
        ADM: {
            o: 135,
            t: "0"
        },
        ACA: {
            o: 136,
            t: "0"
        },
        ACB: {
            o: 137,
            t: "0"
        },
        ACC: {
            o: 138,
            t: "0"
        },
        ACD: {
            o: 139,
            t: "0"
        },
        ACE: {
            o: 140,
            t: "0"
        },
        ACH: {
            o: 141,
            t: "0"
        },
        ACL: {
            o: 142,
            t: "0"
        },
        ACM: {
            o: 143,
            t: "0"
        },
        SUA: {
            o: 144,
            t: "0"
        },
        SUB: {
            o: 145,
            t: "0"
        },
        SUC: {
            o: 146,
            t: "0"
        },
        SUD: {
            o: 147,
            t: "0"
        },
        SUE: {
            o: 148,
            t: "0"
        },
        SUH: {
            o: 149,
            t: "0"
        },
        SUL: {
            o: 150,
            t: "0"
        },
        SUM: {
            o: 151,
            t: "0"
        },
        SBA: {
            o: 152,
            t: "0"
        },
        SBB: {
            o: 153,
            t: "0"
        },
        SBC: {
            o: 154,
            t: "0"
        },
        SBD: {
            o: 155,
            t: "0"
        },
        SBE: {
            o: 156,
            t: "0"
        },
        SBH: {
            o: 157,
            t: "0"
        },
        SBL: {
            o: 158,
            t: "0"
        },
        SBM: {
            o: 159,
            t: "0"
        },
        NDA: {
            o: 160,
            t: "0"
        },
        NDB: {
            o: 161,
            t: "0"
        },
        NDC: {
            o: 162,
            t: "0"
        },
        NDD: {
            o: 163,
            t: "0"
        },
        NDE: {
            o: 164,
            t: "0"
        },
        NDH: {
            o: 165,
            t: "0"
        },
        NDL: {
            o: 166,
            t: "0"
        },
        NDM: {
            o: 167,
            t: "0"
        },
        XRA: {
            o: 168,
            t: "0"
        },
        XRB: {
            o: 169,
            t: "0"
        },
        XRC: {
            o: 170,
            t: "0"
        },
        XRD: {
            o: 171,
            t: "0"
        },
        XRE: {
            o: 172,
            t: "0"
        },
        XRH: {
            o: 173,
            t: "0"
        },
        XRL: {
            o: 174,
            t: "0"
        },
        XRM: {
            o: 175,
            t: "0"
        },
        ORA: {
            o: 176,
            t: "0"
        },
        ORB: {
            o: 177,
            t: "0"
        },
        ORC: {
            o: 178,
            t: "0"
        },
        ORD: {
            o: 179,
            t: "0"
        },
        ORE: {
            o: 180,
            t: "0"
        },
        ORH: {
            o: 181,
            t: "0"
        },
        ORL: {
            o: 182,
            t: "0"
        },
        ORM: {
            o: 183,
            t: "0"
        },
        CPA: {
            o: 184,
            t: "0"
        },
        CPB: {
            o: 185,
            t: "0"
        },
        CPC: {
            o: 186,
            t: "0"
        },
        CPD: {
            o: 187,
            t: "0"
        },
        CPE: {
            o: 188,
            t: "0"
        },
        CPH: {
            o: 189,
            t: "0"
        },
        CPL: {
            o: 190,
            t: "0"
        },
        CPM: {
            o: 191,
            t: "0"
        },
        LAA: {
            o: 192,
            t: "0"
        },
        LAB: {
            o: 193,
            t: "0"
        },
        LAC: {
            o: 194,
            t: "0"
        },
        LAD: {
            o: 195,
            t: "0"
        },
        LAE: {
            o: 196,
            t: "0"
        },
        LAH: {
            o: 197,
            t: "0"
        },
        LAL: {
            o: 198,
            t: "0"
        },
        LAM: {
            o: 199,
            t: "0"
        },
        LBA: {
            o: 200,
            t: "0"
        },
        LBB: {
            o: 201,
            t: "0"
        },
        LBC: {
            o: 202,
            t: "0"
        },
        LBD: {
            o: 203,
            t: "0"
        },
        LBE: {
            o: 204,
            t: "0"
        },
        LBH: {
            o: 205,
            t: "0"
        },
        LBL: {
            o: 206,
            t: "0"
        },
        LBM: {
            o: 207,
            t: "0"
        },
        LCA: {
            o: 208,
            t: "0"
        },
        LCB: {
            o: 209,
            t: "0"
        },
        LCC: {
            o: 210,
            t: "0"
        },
        LCD: {
            o: 211,
            t: "0"
        },
        LCE: {
            o: 212,
            t: "0"
        },
        LCH: {
            o: 213,
            t: "0"
        },
        LCL: {
            o: 214,
            t: "0"
        },
        LCM: {
            o: 215,
            t: "0"
        },
        LDA: {
            o: 216,
            t: "0"
        },
        LDB: {
            o: 217,
            t: "0"
        },
        LDC: {
            o: 218,
            t: "0"
        },
        LDD: {
            o: 219,
            t: "0"
        },
        LDE: {
            o: 220,
            t: "0"
        },
        LDH: {
            o: 221,
            t: "0"
        },
        LDL: {
            o: 222,
            t: "0"
        },
        LDM: {
            o: 223,
            t: "0"
        },
        LEA: {
            o: 224,
            t: "0"
        },
        LEB: {
            o: 225,
            t: "0"
        },
        LEC: {
            o: 226,
            t: "0"
        },
        LED: {
            o: 227,
            t: "0"
        },
        LEE: {
            o: 228,
            t: "0"
        },
        LEH: {
            o: 229,
            t: "0"
        },
        LEL: {
            o: 230,
            t: "0"
        },
        LEM: {
            o: 231,
            t: "0"
        },
        LHA: {
            o: 232,
            t: "0"
        },
        LHB: {
            o: 233,
            t: "0"
        },
        LHC: {
            o: 234,
            t: "0"
        },
        LHD: {
            o: 235,
            t: "0"
        },
        LHE: {
            o: 236,
            t: "0"
        },
        LHH: {
            o: 237,
            t: "0"
        },
        LHL: {
            o: 238,
            t: "0"
        },
        LHM: {
            o: 239,
            t: "0"
        },
        LLA: {
            o: 240,
            t: "0"
        },
        LLB: {
            o: 241,
            t: "0"
        },
        LLC: {
            o: 242,
            t: "0"
        },
        LLD: {
            o: 243,
            t: "0"
        },
        LLE: {
            o: 244,
            t: "0"
        },
        LLH: {
            o: 245,
            t: "0"
        },
        LLL: {
            o: 246,
            t: "0"
        },
        LLM: {
            o: 247,
            t: "0"
        },
        LMA: {
            o: 248,
            t: "0"
        },
        LMB: {
            o: 249,
            t: "0"
        },
        LMC: {
            o: 250,
            t: "0"
        },
        LMD: {
            o: 251,
            t: "0"
        },
        LME: {
            o: 252,
            t: "0"
        },
        LMH: {
            o: 253,
            t: "0"
        },
        LML: {
            o: 254,
            t: "0"
        },
        LMM: {
            o: 255,
            t: "0"
        },
        JMP: {
            o: 68,
            t: "IW"
        },
        CAL: {
            o: 70,
            t: "IW"
        },
        CALL: {
            o: 70,
            t: "IW"
        },
        RET: {
            o: 7,
            t: "0"
        },
        JFC: {
            o: 64,
            t: "IW"
        },
        JFZ: {
            o: 72,
            t: "IW"
        },
        JFS: {
            o: 80,
            t: "IW"
        },
        JFP: {
            o: 88,
            t: "IW"
        },
        JTC: {
            o: 96,
            t: "IW"
        },
        JTZ: {
            o: 104,
            t: "IW"
        },
        JTS: {
            o: 112,
            t: "IW"
        },
        JTP: {
            o: 120,
            t: "IW"
        },
        CFC: {
            o: 66,
            t: "IW"
        },
        CFZ: {
            o: 74,
            t: "IW"
        },
        CFS: {
            o: 82,
            t: "IW"
        },
        CFP: {
            o: 90,
            t: "IW"
        },
        CTC: {
            o: 98,
            t: "IW"
        },
        CTZ: {
            o: 106,
            t: "IW"
        },
        CTS: {
            o: 114,
            t: "IW"
        },
        CTP: {
            o: 122,
            t: "IW"
        },
        RFC: {
            o: 3,
            t: "0"
        },
        RFZ: {
            o: 11,
            t: "0"
        },
        RFS: {
            o: 19,
            t: "0"
        },
        RFP: {
            o: 27,
            t: "0"
        },
        RTC: {
            o: 35,
            t: "0"
        },
        RTZ: {
            o: 43,
            t: "0"
        },
        RTS: {
            o: 51,
            t: "0"
        },
        RTP: {
            o: 59,
            t: "0"
        },
        JNC: {
            o: 64,
            t: "IW"
        },
        JNZ: {
            o: 72,
            t: "IW"
        },
        JP: {
            o: 80,
            t: "IW"
        },
        JPO: {
            o: 88,
            t: "IW"
        },
        JC: {
            o: 96,
            t: "IW"
        },
        JZ: {
            o: 104,
            t: "IW"
        },
        JM: {
            o: 112,
            t: "IW"
        },
        JPE: {
            o: 120,
            t: "IW"
        },
        CNC: {
            o: 66,
            t: "IW"
        },
        CNZ: {
            o: 74,
            t: "IW"
        },
        CP: {
            o: 82,
            t: "IW"
        },
        CPO: {
            o: 90,
            t: "IW"
        },
        CC: {
            o: 98,
            t: "IW"
        },
        CZ: {
            o: 106,
            t: "IW"
        },
        CM: {
            o: 114,
            t: "IW"
        },
        "CPE-": {
            o: 122,
            t: "IW"
        },
        RNC: {
            o: 3,
            t: "0"
        },
        RNZ: {
            o: 11,
            t: "0"
        },
        RP: {
            o: 19,
            t: "0"
        },
        RPO: {
            o: 27,
            t: "0"
        },
        RC: {
            o: 35,
            t: "0"
        },
        RZ: {
            o: 43,
            t: "0"
        },
        RM: {
            o: 51,
            t: "0"
        },
        RPE: {
            o: 59,
            t: "0"
        },
        RST: {
            o: 5,
            t: "RST"
        },
        INP: {
            o: 65,
            t: "INP"
        },
        IN: {
            o: 65,
            t: "INP"
        },
        OUT: {
            o: 81,
            t: "OUT"
        },
        LAI: {
            o: 6,
            t: "B"
        },
        LBI: {
            o: 14,
            t: "B"
        },
        LCI: {
            o: 22,
            t: "B"
        },
        LDI: {
            o: 30,
            t: "B"
        },
        LEI: {
            o: 38,
            t: "B"
        },
        LHI: {
            o: 46,
            t: "B"
        },
        LLI: {
            o: 54,
            t: "B"
        },
        LMI: {
            o: 62,
            t: "B"
        },
        RLC: {
            o: 2,
            t: "0"
        },
        RRC: {
            o: 10,
            t: "0"
        },
        RAL: {
            o: 18,
            t: "0"
        },
        RAR: {
            o: 26,
            t: "0"
        },
        ADI: {
            o: 4,
            t: "B"
        },
        ACI: {
            o: 12,
            t: "B"
        },
        SUI: {
            o: 20,
            t: "B"
        },
        SBI: {
            o: 28,
            t: "B"
        },
        NDI: {
            o: 36,
            t: "B"
        },
        ANI: {
            o: 36,
            t: "B"
        },
        XRI: {
            o: 44,
            t: "B"
        },
        ORI: {
            o: 52,
            t: "B"
        },
        CPI: {
            o: 60,
            t: "B"
        },
        INB: {
            o: 8,
            t: "0"
        },
        INC: {
            o: 16,
            t: "0"
        },
        IND: {
            o: 24,
            t: "0"
        },
        INE: {
            o: 32,
            t: "0"
        },
        INH: {
            o: 40,
            t: "0"
        },
        INL: {
            o: 48,
            t: "0"
        },
        DCB: {
            o: 9,
            t: "0"
        },
        DCC: {
            o: 17,
            t: "0"
        },
        DCD: {
            o: 25,
            t: "0"
        },
        DCE: {
            o: 33,
            t: "0"
        },
        DCH: {
            o: 41,
            t: "0"
        },
        DCL: {
            o: 49,
            t: "0"
        },
        MVI: {
            o: 6,
            t: "RB"
        },
        MOV: {
            o: 192,
            t: "RRR"
        },
        "ADD-": {
            o: 128,
            t: "RR0"
        },
        "ADC-": {
            o: 136,
            t: "RR0"
        },
        "SUB-": {
            o: 144,
            t: "RR0"
        },
        "SBB-": {
            o: 152,
            t: "RR0"
        },
        ANA: {
            o: 160,
            t: "RR0"
        },
        "XRA-": {
            o: 168,
            t: "RR0"
        },
        "ORA-": {
            o: 176,
            t: "RR0"
        },
        CMP: {
            o: 184,
            t: "RR0"
        },
        INR: {
            o: 0,
            t: "RR-"
        },
        DCR: {
            o: 1,
            t: "RR"
        },
        HLT: {
            o: 255,
            t: "0"
        },
        NOP: {
            o: 192,
            t: "0"
        }
    },
    lens: {
        R: function(t) {
            return "ABCDEHLM".indexOf(t.toUpperCase())
        },
        RDD: function(t) {
            return "BDHSP".indexOf(t.toUpperCase())
        },
        RBD: function(t) {
            return "BD".indexOf(t.toUpperCase())
        },
        RQQ: function(t) {
            return "BDHPSW".indexOf(t.toUpperCase())
        },
        RB: function(t, o) {
            var r = this.R(o[0]);
            if (r < 0)
                throw "Registro desconocido " + o[0];
            return [(r <<= 3) | t, function(t) {
                return Parser.evaluate(o[1], t)
            }
            ]
        },
        B: function(t, o) {
            return [t, function(t) {
                return Parser.evaluate(o[0], t)
            }
            ]
        },
        RR: function(t, o) {
            var r = this.R(o[0]);
            if (r < 0)
                throw "Registro desconocido " + o[0];
            return [(r <<= 3) | t]
        },
        "RR-": function(t, o) {
            var r = this.R(o[0]);
            if (r < 0)
                throw "Registro desconocido " + o[0];
            if (0 === r)
                throw "Error";
            return [(r <<= 3) | t]
        },
        RR0: function(t, o) {
            var r = this.R(o[0]);
            if (r < 0)
                throw "Registro desconocido " + o[0];
            return [r | t]
        },
        RRR: function(t, o) {
            var r = this.R(o[0]);
            if (r < 0)
                throw "Registro desconocido " + o[0];
            var n = this.R(o[1]);
            if (n < 0)
                throw "Registro desconocido " + o[1];
            return [(r <<= 3) | n | t]
        },
        RPW: function(t, o) {
            var r = this.RDD(o[0]);
            if (r < 0 || 3 < r)
                throw "Registro desconocido " + o[0];
            return [(r <<= 4) | t, function(t) {
                return Parser.evaluate(o[1], t)
            }
            , null]
        },
        RPWD: function(t, o) {
            var r = this.RDD(o[0]);
            if (r < 0 || 3 < r)
                throw "Registro desconocido " + o[0];
            return [(r <<= 4) | t]
        },
        BD: function(t, o) {
            var r = this.RBD(o[0]);
            if (r < 0 || 1 < r)
                throw "Registro desconocido " + o[0];
            return [(r <<= 4) | t]
        },
        RQW: function(t, o) {
            var r = this.RQQ(o[0]);
            if (r < 0 || 3 < r)
                throw "Registro desconocido " + o[0];
            return [(r <<= 4) | t]
        },
        IW: function(t, o) {
            return [t, function(t) {
                return Parser.evaluate(o[0], t)
            }
            , null]
        },
        INP: function(t, o, r) {
            var n = Parser.evaluate(o[0], r);
            if (n < 0 || 7 < n)
                throw "Limite (0-7): " + o[0];
            return [t + (n << 1)]
        },
        OUT: function(t, o, r) {
            var n = Parser.evaluate(o[0], r);
            if (n < 8 || 31 < n)
                throw "Limite (8-31): " + o[0];
            return [t + ((n -= 8) << 1)]
        },
        RST: function(t, o) {
            return [t | parseInt(o[0], 10) << 3]
        },
        0: function(t, o) {
            return [t]
        }
    },
    parseOpcode: function(t, o) {
        var r = I8008.set[t.opcode];
        if (r) {
            t.params && 0 <= ["CPE", "ADD", "ADC", "SBB", "SUB", "XRA", "ORA"].indexOf(t.opcode) && t.params.length && (r = I8008.set[t.opcode + "-"]);
            var n = r.t
              , L = I8008.lens[n](r.o, t.params, o);
            return t.bytes = L.length,
            t.lens = L,
            t.resolve = L.reduce(function(t, o) {
                return "function" == typeof o ? t + 1 : t
            }, 0),
            t
        }
        return null
    }
};
!function(e, r) {
    "undefined" != typeof module ? (module.exports = r(),
    C6502 = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(r) : this.C6502 = r()
}(0, function() {
    var e = {
        set: {
            SLO: [-1, -1, -1, 15, 31, 27, 7, 23, -1, -1, 3, 19, -1, -1, -1],
            RLA: [-1, -1, -1, 47, 63, 59, 39, 55, -1, -1, 35, 51, -1, -1, -1],
            SRE: [-1, -1, -1, 79, 95, 91, 71, 87, -1, -1, 67, 83, -1, -1, -1],
            RRA: [-1, -1, -1, 111, 127, 123, 103, 119, -1, -1, 99, 115, -1, -1, -1],
            SAX: [-1, -1, -1, 143, -1, -1, 135, -1, 151, -1, 131, -1, -1, -1, -1],
            LAX: [-1, -1, 171, 175, -1, 191, 167, -1, 183, -1, 163, 179, -1, -1, -1],
            DCP: [-1, -1, -1, 207, 223, 219, 199, 215, -1, -1, 195, 211, -1, -1, -1],
            ISC: [-1, -1, -1, 239, 255, 251, 231, 247, -1, -1, 227, 243, -1, -1, -1],
            ANC: [-1, -1, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            ALR: [-1, -1, 75, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            ARR: [-1, -1, 107, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            XAA: [-1, -1, 139, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            AXS: [-1, -1, 203, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            AHX: [-1, -1, -1, -1, -1, 159, -1, -1, -1, -1, -1, 147, -1, -1, -1],
            SHY: [-1, -1, -1, -1, 156, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SHX: [-1, -1, -1, -1, -1, 158, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TAS: [-1, -1, -1, -1, -1, 155, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LAS: [-1, -1, -1, -1, -1, 187, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            BRA: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 128, -1, -1],
            PHX: [218, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PHY: [90, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PLX: [250, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PLY: [122, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB0: [-1, -1, -1, -1, -1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB1: [-1, -1, -1, -1, -1, -1, 23, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB2: [-1, -1, -1, -1, -1, -1, 39, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB3: [-1, -1, -1, -1, -1, -1, 55, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB4: [-1, -1, -1, -1, -1, -1, 71, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB5: [-1, -1, -1, -1, -1, -1, 87, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB6: [-1, -1, -1, -1, -1, -1, 103, -1, -1, -1, -1, -1, -1, -1, -1],
            RMB7: [-1, -1, -1, -1, -1, -1, 119, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB0: [-1, -1, -1, -1, -1, -1, 135, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB1: [-1, -1, -1, -1, -1, -1, 151, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB2: [-1, -1, -1, -1, -1, -1, 167, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB3: [-1, -1, -1, -1, -1, -1, 183, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB4: [-1, -1, -1, -1, -1, -1, 199, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB5: [-1, -1, -1, -1, -1, -1, 215, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB6: [-1, -1, -1, -1, -1, -1, 231, -1, -1, -1, -1, -1, -1, -1, -1],
            SMB7: [-1, -1, -1, -1, -1, -1, 247, -1, -1, -1, -1, -1, -1, -1, -1],
            BBR0: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 15, -1, -1],
            BBR1: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 31, -1, -1],
            BBR2: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 47, -1, -1],
            BBR3: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 63, -1, -1],
            BBR4: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 79, -1, -1],
            BBR5: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 95, -1, -1],
            BBR6: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 111, -1, -1],
            BBR7: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 127, -1, -1],
            BBS0: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 143, -1, -1],
            BBS1: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 159, -1, -1],
            BBS2: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 175, -1, -1],
            BBS3: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 191, -1, -1],
            BBS4: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 207, -1, -1],
            BBS5: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 223, -1, -1],
            BBS6: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 239, -1, -1],
            BBS7: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 255, -1, -1],
            TRB: [-1, -1, -1, 28, -1, -1, 20, -1, -1, -1, -1, -1, -1, -1, -1],
            TSB: [-1, -1, -1, 12, -1, -1, 4, -1, -1, -1, -1, -1, -1, -1, -1],
            STZ: [-1, -1, -1, 156, 158, -1, 100, 116, -1, -1, -1, -1, -1, -1, -1],
            ADC: [-1, -1, 105, 109, 125, 121, 101, 117, -1, -1, 97, 113, -1, 114, -1],
            AND: [-1, -1, 41, 45, 61, 57, 37, 53, -1, -1, 33, 49, -1, 50, -1],
            ASL: [-1, 10, -1, 14, 30, -1, 6, 22, -1, -1, -1, -1, -1, -1, -1],
            BCC: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 144, -1, -1],
            BCS: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 176, -1, -1],
            BEQ: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 240, -1, -1],
            BIT: [-1, -1, 137, 44, 60, -1, 36, 52, -1, -1, -1, -1, -1, -1, -1],
            BMI: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 48, -1, -1],
            BNE: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 208, -1, -1],
            BPL: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 16, -1, -1],
            BRK: [0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            BVC: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 80, -1, -1],
            BVS: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 112, -1, -1],
            CLC: [24, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CLD: [216, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CLI: [88, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CLV: [184, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            CMP: [-1, -1, 201, 205, 221, 217, 197, 213, -1, -1, 193, 209, -1, 210, -1],
            CPX: [-1, -1, 224, 236, -1, -1, 228, -1, -1, -1, -1, -1, -1, -1, -1],
            CPY: [-1, -1, 192, 204, -1, -1, 196, -1, -1, -1, -1, -1, -1, -1, -1],
            DEC: [58, -1, -1, 206, 222, -1, 198, 214, -1, -1, -1, -1, -1, -1, -1],
            DEX: [202, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            DEY: [136, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            EOR: [-1, -1, 73, 77, 93, 89, 69, 85, -1, -1, 65, 81, -1, 82, -1],
            INC: [26, -1, -1, 238, 254, -1, 230, 246, -1, -1, -1, -1, -1, -1, -1],
            INX: [232, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            INY: [200, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            JMP: [-1, -1, -1, 76, -1, -1, -1, -1, -1, 108, -1, -1, -1, -1, 124],
            JSR: [-1, -1, -1, 32, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            LDA: [-1, -1, 169, 173, 189, 185, 165, 181, -1, -1, 161, 177, -1, 178, -1],
            LDX: [-1, -1, 162, 174, -1, 190, 166, -1, 182, -1, -1, -1, -1, -1, -1],
            LDY: [-1, -1, 160, 172, 188, -1, 164, 180, -1, -1, -1, -1, -1, -1, -1],
            LSR: [-1, 74, -1, 78, 94, -1, 70, 86, -1, -1, -1, -1, -1, -1, -1],
            NOP: [234, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            ORA: [-1, -1, 9, 13, 29, 25, 5, 21, -1, -1, 1, 17, -1, 18, -1],
            PHA: [72, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PHP: [8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PLA: [104, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            PLP: [40, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            ROL: [-1, 42, -1, 46, 62, -1, 38, 54, -1, -1, -1, -1, -1, -1, -1],
            ROR: [-1, 106, -1, 110, 126, -1, 102, 118, -1, -1, -1, -1, -1, -1, -1],
            RTI: [64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            RTS: [96, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SBC: [-1, -1, 233, 237, 253, 249, 229, 245, -1, -1, 225, 241, -1, 242, -1],
            SEC: [56, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SED: [248, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            SEI: [120, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            STA: [-1, -1, -1, 141, 157, 153, 133, 149, -1, -1, 129, 145, -1, 146, -1],
            STX: [-1, -1, -1, 142, -1, -1, 134, -1, 150, -1, -1, -1, -1, -1, -1],
            STY: [-1, -1, -1, 140, -1, -1, 132, 148, -1, -1, -1, -1, -1, -1, -1],
            TAX: [170, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TAY: [168, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TSX: [186, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TXA: [138, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TXS: [154, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
            TYA: [152, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
        },
        steptab: [1, 1, 2, 3, 3, 3, 2, 2, 2, 3, 2, 2, 2, 2, 3],
        parseOpcode: function(r, t) {
            var a, n, u, B, s, l = e.set[r.opcode];
            if (l) {
                if (B = [],
                r.params && r.params.length) {
                    if (1 == r.params.length && "A" === r.params[0].toUpperCase())
                        a = 1;
                    else if (1 == r.params.length) {
                        if (n = r.params[0],
                        a = 3,
                        "A" === n && (a = 1),
                        "#" === n[0] && (a = 2,
                        B[1] = function(e) {
                            return Parser.evaluate(n.substr(1), e)
                        }
                        ),
                        "*" === n[0] && (a = 6,
                        B[1] = function(e) {
                            return Parser.evaluate(n.substr(1), e)
                        }
                        ),
                        t)
                            try {
                                (s = Parser.evaluate(n, t)) < 256 && l[6] >= 0 && (a = 6,
                                B[1] = function(e) {
                                    return Parser.evaluate(n, e)
                                }
                                )
                            } catch (e) {}
                        "(" === n[0] && ")" === n[n.length - 1] && (-1 !== l[9] && (a = 9),
                        -1 !== l[13] && (a = 13),
                        n = n.substr(1, n.length - 2),
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ,
                        9 == a && (B[2] = null)),
                        n.match(/^\$[0-9a-f]{1,2}$/i) && l[6] >= 0 && 13 !== a && (a = 6,
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ),
                        3 === a && (-1 == l[3] && l[12] ? (a = 12,
                        B[1] = function(e) {
                            var r = Parser.evaluate(n, e) - e._PC - 2;
                            return r < 0 && (r = 256 + r),
                            r
                        }
                        ) : (B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ,
                        B[2] = null))
                    } else if (2 == r.params.length) {
                        if (n = r.params[0],
                        s = null,
                        t)
                            try {
                                s = Parser.evaluate(n, t)
                            } catch (e) {}
                        u = r.params[1].toUpperCase(),
                        n.match(/^\$[0-9a-f]{1,2}$/i) && (l[7] >= 0 || l[8] >= 0) ? ("X" === u && l[7] >= 0 && (a = 7),
                        "Y" === u && l[8] >= 0 && (a = 8),
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ) : "*" === n[0] ? (n = n.substr(1),
                        "X" === u && (a = 7),
                        "Y" === u && (a = 8),
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ) : null !== s && s < 256 && l[7] >= 0 && "X" === u && "(" !== n[0] ? ("X" === u && "(" !== n[0] && (a = 7),
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ) : l[4] < 0 && "X" === u && l[7] >= 0 ? (a = 7,
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ) : null !== s && s < 256 && l[8] >= 0 && "Y" === u && "(" !== n[0] ? ("Y" === u && "(" !== n[0] && (a = 8),
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ) : ("X" === u && (a = 4,
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ,
                        B[2] = null),
                        "Y" === u && "(" !== n[0] && (a = 5,
                        B[1] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ,
                        B[2] = null),
                        "Y" === u && "(" === n[0] && (a = 11,
                        B[1] = function(e) {
                            return Parser.evaluate(n.substr(1, n.length - 2), e)
                        }
                        ),
                        "X)" === u && "(" === n[0] && (a = 10,
                        -1 !== l[14] && -1 === l[10] && (a = 14),
                        B[1] = function(e) {
                            return Parser.evaluate(n.substr(1), e)
                        }
                        ,
                        14 == a && (B[2] = null)))
                    }
                } else
                    a = 0,
                    -1 === l[0] && (a = 1);
                if (void 0 === a)
                    throw "Error " + r.numline;
                if (B[0] = l[a],
                null === B[0] || "-1" == B[0])
                    throw "Error " + r.numline;
                return r.admode = a,
                r.lens = B,
                r.bytes = this.steptab[a],
                r
            }
            return null
        }
    };
    return e
});
var C65816 = {
    set: {
        COP: [-1, -1, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        REP: [-1, -1, 194, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        SEP: [-1, -1, 226, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHB: [139, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHD: [11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHK: [75, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHX: [218, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHY: [90, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLB: [171, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLD: [43, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLX: [250, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLY: [122, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        RTL: [107, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TCS: [27, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TSC: [59, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TCD: [91, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TDC: [123, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TXY: [155, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TYX: [187, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        WAI: [203, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        WDM: [66, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        STP: [219, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        XBA: [235, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        XCE: [251, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TSB: [-1, -1, -1, 12, -1, -1, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TRB: [-1, -1, -1, 28, -1, -1, 20, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        STZ: [-1, -1, -1, 156, 158, -1, 100, 116, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        BRA: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 128, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        BRL: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 130, -1, -1],
        PER: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 98, -1, -1],
        PEI: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 212, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PEA: [-1, -1, -1, 244, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        MVP: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 68, -1],
        MVN: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 84, -1],
        ORA: [-1, -1, 9, 13, 29, 25, 5, 21, -1, -1, 1, 17, -1, 18, 7, 23, 19, 15, 31, -1, -1, -1, -1, 3],
        AND: [-1, -1, 41, 45, 61, 57, 37, 53, -1, -1, 33, 49, -1, 50, 39, 55, 51, 47, 63, -1, -1, -1, -1, 35],
        EOR: [-1, -1, 73, 77, 93, 89, 69, 85, -1, -1, 65, 81, -1, 82, 71, 87, 83, 79, 95, -1, -1, -1, -1, 67],
        ADC: [-1, -1, 105, 109, 125, 121, 101, 117, -1, -1, 97, 113, -1, 114, 103, 119, 115, 111, 127, -1, -1, -1, -1, 99],
        STA: [-1, -1, -1, 141, 157, 153, 133, 149, -1, -1, 129, 145, -1, 146, 135, 151, 147, 143, 159, -1, -1, -1, -1, 131],
        LDA: [-1, -1, 169, 173, 189, 185, 165, 181, -1, -1, 161, 177, -1, 178, 167, 183, 179, 175, 191, -1, -1, -1, -1, 163],
        CMP: [-1, -1, 201, 205, 221, 217, 197, 213, -1, -1, 193, 209, -1, 210, 199, 215, 211, 207, 223, -1, -1, -1, -1, 195],
        SBC: [-1, -1, 233, 237, 253, 249, 229, 245, -1, -1, 225, 241, -1, 242, 231, 247, 243, 239, 255, -1, -1, -1, -1, 227],
        JMP: [-1, -1, -1, 76, -1, -1, -1, -1, -1, 108, -1, -1, -1, -1, -1, -1, -1, 92, -1, 220, 124, -1, -1, -1],
        JSR: [-1, -1, -1, 32, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 34, -1, -1, 252, -1, -1, -1],
        JML: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 92, -1, 220, -1, -1, -1, -1],
        JSL: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 34, -1, -1, -1, -1, -1, -1],
        ASL: [-1, 10, -1, 14, 30, -1, 6, 22, -1, -1, -1, -1, -1],
        BCC: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 144],
        BCS: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 176],
        BEQ: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 240],
        BIT: [-1, -1, 137, 44, 60, -1, 36, 52, -1, -1, -1, -1, -1],
        BMI: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 48],
        BNE: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 208],
        BPL: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 16],
        BRK: [0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        BVC: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 80],
        BVS: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 112],
        CLC: [24, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        CLD: [216, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        CLI: [88, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        CLV: [184, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        CPX: [-1, -1, 224, 236, -1, -1, 228, -1, -1, -1, -1, -1, -1],
        CPY: [-1, -1, 192, 204, -1, -1, 196, -1, -1, -1, -1, -1, -1],
        DEC: [58, -1, -1, 206, 222, -1, 198, 214, -1, -1, -1, -1, -1],
        DEX: [202, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        DEY: [136, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        INC: [26, -1, -1, 238, 254, -1, 230, 246, -1, -1, -1, -1, -1],
        INX: [232, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        INY: [200, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        LDX: [-1, -1, 162, 174, -1, 190, 166, -1, 182, -1, -1, -1, -1],
        LDY: [-1, -1, 160, 172, 188, -1, 164, 180, -1, -1, -1, -1, -1],
        LSR: [-1, 74, -1, 78, 94, -1, 70, 86, -1, -1, -1, -1, -1],
        NOP: [234, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHA: [72, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PHP: [8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLA: [104, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        PLP: [40, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        ROL: [-1, 42, -1, 46, 62, -1, 38, 54, -1, -1, -1, -1, -1],
        ROR: [-1, 106, -1, 110, 126, -1, 102, 118, -1, -1, -1, -1, -1],
        RTI: [64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        RTS: [96, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        SEC: [56, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        SED: [248, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        SEI: [120, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        STX: [-1, -1, -1, 142, -1, -1, 134, -1, 150, -1, -1, -1, -1],
        STY: [-1, -1, -1, 140, -1, -1, 132, 148, -1, -1, -1, -1, -1],
        TAX: [170, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TAY: [168, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TSX: [186, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TXA: [138, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TXS: [154, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
        TYA: [152, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
    },
    steptab: [1, 1, 2, 3, 3, 3, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 4, 4, 3, 3, 3, 3, 2],
    parseOpcode: function(e, r) {
        if (".m16" === e.opcode)
            return console.log("M16"),
            null;
        var a, t, n, u, s, l = C65816.set[e.opcode];
        if (l) {
            if (u = [],
            e.params && e.params.length) {
                if (1 == e.params.length) {
                    if (a = 3,
                    "A" === (t = e.params[0]) && (a = 1),
                    "#" === t[0] && (a = 2,
                    u[1] = function(e) {
                        return Parser.evaluate(t.substr(1), e)
                    }
                    ),
                    "*" === t[0] && (a = 6,
                    u[1] = function(e) {
                        return Parser.evaluate(t.substr(1), e)
                    }
                    ),
                    r)
                        try {
                            (s = Parser.evaluate(t, r)) < 256 && 0 <= l[6] && (a = 6,
                            u[1] = function(e) {
                                return Parser.evaluate(t, e)
                            }
                            ),
                            65535 < s && 0 <= l[17] && (a = 17,
                            u[1] = function(e) {
                                return Parser.evaluate(t, e)
                            }
                            ,
                            u[2] = "addr24",
                            u[3] = null)
                        } catch (e) {}
                    if ("(" === t[0] && ")" === t[t.length - 1]) {
                        a = 9,
                        t = t.substr(1, t.length - 2),
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ,
                        u[2] = null;
                        try {
                            (s = Parser.evaluate(t, r)) < 256 && 0 <= l[13] && (a = 13,
                            u[1] = function(e) {
                                return Parser.evaluate(t, e)
                            }
                            )
                        } catch (e) {}
                    }
                    t.match(/^\$[0-9a-f]{1,2}$/i) && 0 <= l[6] && 13 != a && (a = 6,
                    u[1] = function(e) {
                        return Parser.evaluate(t, e)
                    }
                    ),
                    "[" === t[0] && "]" === t[t.length - 1] && (a = 14,
                    0 <= l[19] && (a = 19),
                    t = t.substr(1, t.length - 2),
                    u[1] = function(e) {
                        return Parser.evaluate(t, e)
                    }
                    ),
                    3 === a && (-1 == l[3] && 0 <= l[12] ? (a = 12,
                    u[1] = function(e) {
                        e = Parser.evaluate(t, e) - e._PC - 2;
                        return e = e < 0 ? 256 + e : e
                    }
                    ) : -1 == l[3] && 0 <= l[21] ? (a = 21,
                    u[1] = function(e) {
                        e = Parser.evaluate(t, e) - e._PC - 2;
                        return e = e < 0 ? 65536 + e : e
                    }
                    ) : (u[1] = function(e) {
                        return Parser.evaluate(t, e)
                    }
                    ,
                    u[2] = null))
                } else if (3 == e.params.length)
                    t = e.params[0],
                    n = e.params[1].toUpperCase(),
                    "Y" === e.params[2].toUpperCase() && "S)" === n && 0 <= l[16] && (a = 16,
                    u[1] = function(e) {
                        return Parser.evaluate(t.substr(1), e)
                    }
                    );
                else if (2 == e.params.length) {
                    if (t = e.params[0],
                    s = null,
                    r)
                        try {
                            s = Parser.evaluate(t, r)
                        } catch (e) {}
                    if (n = e.params[1].toUpperCase(),
                    0 <= l[22])
                        a = 22,
                        n = e.params[1],
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ,
                        u[2] = function(e) {
                            return Parser.evaluate(n, e)
                        }
                        ;
                    else if ("S" === n || "s" === n)
                        a = 23,
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ;
                    else if (t.match(/^\$[0-9a-f]{1,2}$/i))
                        "X" === n && (a = 7),
                        "Y" === n && (a = 8),
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ;
                    else if ("*" === t[0])
                        t = t.substr(1),
                        "X" === n && (a = 7),
                        "Y" === n && (a = 8),
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ;
                    else if (s && s < 256 && 0 <= l[7] && "X" === n && "(" !== t[0] && "[" !== t[0])
                        "X" === n && "(" !== t[0] && (a = 7),
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ;
                    else if (s && s < 256 && 0 <= l[8] && "Y" === n && "(" !== t[0] && "[" !== t[0])
                        "Y" === n && "(" !== t[0] && (a = 8),
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ;
                    else {
                        "X" === n && (a = 4,
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ,
                        u[2] = null);
                        try {
                            65535 < (s = Parser.evaluate(t, r)) && 0 <= l[18] && "X" === n && (a = 18,
                            u[1] = function(e) {
                                return Parser.evaluate(t, e)
                            }
                            ,
                            u[2] = "addr24",
                            u[3] = null)
                        } catch (e) {}
                        "Y" === n && "(" !== t[0] && (a = 5,
                        u[1] = function(e) {
                            return Parser.evaluate(t, e)
                        }
                        ,
                        u[2] = null),
                        "Y" === n && "(" === t[0] && (a = 11,
                        u[1] = function(e) {
                            return Parser.evaluate(t.substr(1, t.length - 2), e)
                        }
                        ),
                        "Y" === n && "[" === t[0] && (a = 15,
                        u[1] = function(e) {
                            return Parser.evaluate(t.substr(1, t.length - 2), e)
                        }
                        ),
                        "X)" === n && "(" === t[0] && (a = 10,
                        0 <= l[20] && (a = 20),
                        u[1] = function(e) {
                            return Parser.evaluate(t.substr(1), e)
                        }
                        )
                    }
                }
            } else
                -1 === l[a = 0] && (a = 1);
            if (u[0] = l[a],
            null === u[0] || "-1" == u[0])
                throw "Error " + e.numline;
            return e.admode = a,
            e.lens = u,
            e.bytes = C65816.steptab[a],
            r && 2 === a && (console.log(r),
            "LDX" === e.opcode || "LDY" === e.opcode ? r.__MX && 16 === r.__MX && (e.bytes++,
            e.lens[2] = null) : "ADC" !== e.opcode && "AND" !== e.opcode && "BIT" !== e.opcode && "CMP" !== e.opcode && "EOR" !== e.opcode && "LDA" !== e.opcode && "ORA" !== e.opcode && "SBC" !== e.opcode || r.__AX && 16 === r.__AX && (e.bytes++,
            e.lens[2] = null)),
            e
        }
        return null
    }
};
!function(e, r) {
    "undefined" != typeof module ? (module.exports = r(),
    H6309 = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(r) : this.H6309 = r()
}(0, function() {
    var e = {
        set: {
            NEG: [-1, 0, 96, 112, -1, -1, -1, -1],
            COM: [-1, 3, 99, 115, -1, -1, -1, -1],
            LSR: [-1, 4, 100, 116, -1, -1, -1, -1],
            ROR: [-1, 6, 102, 118, -1, -1, -1, -1],
            ASR: [-1, 7, 103, 119, -1, -1, -1, -1],
            LSL: [-1, 8, 104, 120, -1, -1, -1, -1],
            ASL: [-1, 8, 104, 120, -1, -1, -1, -1],
            ROL: [-1, 9, 105, 121, -1, -1, -1, -1],
            DEC: [-1, 10, 106, 122, -1, -1, -1, -1],
            INC: [-1, 12, 108, 124, -1, -1, -1, -1],
            TST: [-1, 13, 109, 125, -1, -1, -1, -1],
            JMP: [-1, 14, 110, 126, -1, -1, -1, -1],
            CLR: [-1, 15, 111, 127, -1, -1, -1, -1],
            LEAX: [-1, -1, 48, -1, -1, -1, -1, -1],
            LEAY: [-1, -1, 49, -1, -1, -1, -1, -1],
            LEAS: [-1, -1, 50, -1, -1, -1, -1, -1],
            LEAU: [-1, -1, 51, -1, -1, -1, -1, -1],
            NOP: [18, -1, -1, -1, -1, -1, -1, -1],
            SYNC: [19, -1, -1, -1, -1, -1, -1, -1],
            DAA: [25, -1, -1, -1, -1, -1, -1, -1],
            SEX: [29, -1, -1, -1, -1, -1, -1, -1],
            SEXW: [20, -1, -1, -1, -1, -1, -1, -1],
            RTS: [57, -1, -1, -1, -1, -1, -1, -1],
            ABX: [58, -1, -1, -1, -1, -1, -1, -1],
            RTI: [59, -1, -1, -1, -1, -1, -1, -1],
            CWAI: [-1, -1, -1, -1, -1, 60, -1, -1],
            MUL: [61, -1, -1, -1, -1, -1, -1, -1],
            SWI: [63, -1, -1, -1, -1, -1, -1, -1],
            SWI2: [4159, -1, -1, -1, -1, -1, -1, -1],
            SWI3: [4415, -1, -1, -1, -1, -1, -1, -1],
            NEGA: [64, -1, -1, -1, -1, -1, -1, -1],
            COMA: [67, -1, -1, -1, -1, -1, -1, -1],
            LSRA: [68, -1, -1, -1, -1, -1, -1, -1],
            RORA: [70, -1, -1, -1, -1, -1, -1, -1],
            ASRA: [71, -1, -1, -1, -1, -1, -1, -1],
            LSLA: [72, -1, -1, -1, -1, -1, -1, -1],
            ASLA: [72, -1, -1, -1, -1, -1, -1, -1],
            ROLA: [73, -1, -1, -1, -1, -1, -1, -1],
            DECA: [74, -1, -1, -1, -1, -1, -1, -1],
            INCA: [76, -1, -1, -1, -1, -1, -1, -1],
            TSTA: [77, -1, -1, -1, -1, -1, -1, -1],
            CLRA: [79, -1, -1, -1, -1, -1, -1, -1],
            NEGB: [80, -1, -1, -1, -1, -1, -1, -1],
            COMB: [83, -1, -1, -1, -1, -1, -1, -1],
            LSRB: [84, -1, -1, -1, -1, -1, -1, -1],
            RORB: [86, -1, -1, -1, -1, -1, -1, -1],
            ASRB: [87, -1, -1, -1, -1, -1, -1, -1],
            LSLB: [88, -1, -1, -1, -1, -1, -1, -1],
            ASLB: [88, -1, -1, -1, -1, -1, -1, -1],
            ROLB: [89, -1, -1, -1, -1, -1, -1, -1],
            DECB: [90, -1, -1, -1, -1, -1, -1, -1],
            INCB: [92, -1, -1, -1, -1, -1, -1, -1],
            TSTB: [93, -1, -1, -1, -1, -1, -1, -1],
            CLRB: [95, -1, -1, -1, -1, -1, -1, -1],
            SUBA: [-1, 144, 160, 176, -1, 128, -1, -1],
            CMPA: [-1, 145, 161, 177, -1, 129, -1, -1],
            SBCA: [-1, 146, 162, 178, -1, 130, -1, -1],
            ANDA: [-1, 148, 164, 180, -1, 132, -1, -1],
            BITA: [-1, 149, 165, 181, -1, 133, -1, -1],
            LDA: [-1, 150, 166, 182, -1, 134, -1, -1],
            STA: [-1, 151, 167, 183, -1, -1, -1, -1],
            EORA: [-1, 152, 168, 184, -1, 136, -1, -1],
            ADCA: [-1, 153, 169, 185, -1, 137, -1, -1],
            ORA: [-1, 154, 170, 186, -1, 138, -1, -1],
            ADDA: [-1, 155, 171, 187, -1, 139, -1, -1],
            JSR: [-1, 157, 173, 189, -1, -1, -1, -1],
            SUBD: [-1, 147, 163, 179, -1, -1, 131, -1],
            CMPX: [-1, 156, 172, 188, -1, -1, 140, -1],
            LDX: [-1, 158, 174, 190, -1, -1, 142, -1],
            STX: [-1, 159, 175, 191, -1, -1, -1, -1],
            CMPD: [-1, 4243, 4259, 4275, -1, -1, 4227, -1],
            CMPY: [-1, 4252, 4268, 4284, -1, -1, 4236, -1],
            LDY: [-1, 4254, 4270, 4286, -1, -1, 4238, -1],
            STY: [-1, 4255, 4271, 4287, -1, -1, -1, -1],
            LDS: [-1, 4318, 4334, 4350, -1, -1, 4302, -1],
            STS: [-1, 4319, 4335, 4351, -1, -1, -1, -1],
            CMPE: [-1, 4497, 4513, 4529, -1, 4481, -1, -1],
            CMPF: [-1, 4561, 4577, 4593, -1, 4545, -1, -1],
            CMPW: [-1, 4241, 4257, 4273, -1, -1, 4225, -1],
            SUBB: [-1, 208, 224, 240, -1, 192, -1, -1],
            CMPB: [-1, 209, 225, 241, -1, 193, -1, -1],
            SBCB: [-1, 210, 226, 242, -1, 194, -1, -1],
            ANDB: [-1, 212, 228, 244, -1, 196, -1, -1],
            BITB: [-1, 213, 229, 245, -1, 197, -1, -1],
            LDB: [-1, 214, 230, 246, -1, 198, -1, -1],
            STB: [-1, 215, 231, 247, -1, -1, -1, -1],
            EORB: [-1, 216, 232, 248, -1, 200, -1, -1],
            ADCB: [-1, 217, 233, 249, -1, 201, -1, -1],
            ORB: [-1, 218, 234, 250, -1, 202, -1, -1],
            ADDB: [-1, 219, 235, 251, -1, 203, -1, -1],
            ADDE: [-1, 4507, 4523, 4539, -1, 4491, -1, -1],
            ADDF: [-1, 4571, 4587, 4603, -1, 4555, -1, -1],
            ADDW: [-1, 4251, 4267, 4283, -1, -1, 4235, -1],
            LDE: [-1, 4502, 4518, 4534, -1, 4486, -1, -1],
            LDF: [-1, 4566, 4582, 4598, -1, 4550, -1, -1],
            STE: [-1, 4503, 4519, 4535, -1, -1, -1, -1],
            STF: [-1, 4567, 4583, 4599, -1, -1, -1, -1],
            STQ: [-1, 4317, 4333, 4349, -1, -1, -1, -1],
            SUBE: [-1, 4496, 4512, 4528, -1, 4480, -1, -1],
            SUBF: [-1, 4560, 4576, 4592, -1, 4544, -1, -1],
            ADDD: [-1, 211, 227, 243, -1, -1, 195, -1],
            LDD: [-1, 220, 236, 252, -1, -1, 204, -1],
            STD: [-1, 221, 237, 253, -1, -1, -1, -1],
            LDU: [-1, 222, 238, 254, -1, -1, 206, -1],
            STU: [-1, 223, 239, 255, -1, -1, -1, -1],
            CMPS: [-1, 4508, 4524, 4540, -1, -1, 4492, -1],
            CMPU: [-1, 4499, 4515, 4531, -1, -1, 4483, -1],
            LBRA: [-1, -1, -1, -1, -1, -1, -1, 22],
            LBSR: [-1, -1, -1, -1, -1, -1, -1, 23],
            BSR: [-1, -1, -1, -1, 141, -1, -1, -1],
            BRA: [-1, -1, -1, -1, 32, -1, -1, -1],
            BRN: [-1, -1, -1, -1, 33, -1, -1, -1],
            BHI: [-1, -1, -1, -1, 34, -1, -1, -1],
            BLS: [-1, -1, -1, -1, 35, -1, -1, -1],
            BHS: [-1, -1, -1, -1, 36, -1, -1, -1],
            BCC: [-1, -1, -1, -1, 36, -1, -1, -1],
            BLO: [-1, -1, -1, -1, 37, -1, -1, -1],
            BCS: [-1, -1, -1, -1, 37, -1, -1, -1],
            BNE: [-1, -1, -1, -1, 38, -1, -1, -1],
            BEQ: [-1, -1, -1, -1, 39, -1, -1, -1],
            BVC: [-1, -1, -1, -1, 40, -1, -1, -1],
            BVS: [-1, -1, -1, -1, 41, -1, -1, -1],
            BPL: [-1, -1, -1, -1, 42, -1, -1, -1],
            BMI: [-1, -1, -1, -1, 43, -1, -1, -1],
            BGE: [-1, -1, -1, -1, 44, -1, -1, -1],
            BLT: [-1, -1, -1, -1, 45, -1, -1, -1],
            BGT: [-1, -1, -1, -1, 46, -1, -1, -1],
            BLE: [-1, -1, -1, -1, 47, -1, -1, -1],
            LBRN: [-1, -1, -1, -1, -1, -1, -1, 4129],
            LBHI: [-1, -1, -1, -1, -1, -1, -1, 4130],
            LBLS: [-1, -1, -1, -1, -1, -1, -1, 4131],
            LBHS: [-1, -1, -1, -1, -1, -1, -1, 4132],
            LBCC: [-1, -1, -1, -1, -1, -1, -1, 4132],
            LBLO: [-1, -1, -1, -1, -1, -1, -1, 4133],
            LBCS: [-1, -1, -1, -1, -1, -1, -1, 4133],
            LBNE: [-1, -1, -1, -1, -1, -1, -1, 4134],
            LBEQ: [-1, -1, -1, -1, -1, -1, -1, 4135],
            LBVC: [-1, -1, -1, -1, -1, -1, -1, 4136],
            LBVS: [-1, -1, -1, -1, -1, -1, -1, 4137],
            LBPL: [-1, -1, -1, -1, -1, -1, -1, 4138],
            LBMI: [-1, -1, -1, -1, -1, -1, -1, 4139],
            LBGE: [-1, -1, -1, -1, -1, -1, -1, 4140],
            LBLT: [-1, -1, -1, -1, -1, -1, -1, 4141],
            LBGT: [-1, -1, -1, -1, -1, -1, -1, 4142],
            LBLE: [-1, -1, -1, -1, -1, -1, -1, 4143],
            ORCC: [-1, -1, -1, -1, -1, 26, -1, -1],
            ANDCC: [-1, -1, -1, -1, -1, 28, -1, -1],
            ADCR: [4145, -1, -1, -1, -1, -1, -1, -1],
            ADDR: [4144, -1, -1, -1, -1, -1, -1, -1],
            SUBR: [4146, -1, -1, -1, -1, -1, -1, -1],
            SBCR: [4147, -1, -1, -1, -1, -1, -1, -1],
            ANDR: [4148, -1, -1, -1, -1, -1, -1, -1],
            ORR: [4149, -1, -1, -1, -1, -1, -1, -1],
            EORR: [4150, -1, -1, -1, -1, -1, -1, -1],
            CMPR: [4151, -1, -1, -1, -1, -1, -1, -1],
            PSHSW: [4152, -1, -1, -1, -1, -1, -1, -1],
            PULSW: [4153, -1, -1, -1, -1, -1, -1, -1],
            PSHUW: [4154, -1, -1, -1, -1, -1, -1, -1],
            PULUW: [4155, -1, -1, -1, -1, -1, -1, -1],
            NEGD: [4160, -1, -1, -1, -1, -1, -1, -1],
            COMD: [4163, -1, -1, -1, -1, -1, -1, -1],
            LSRD: [4164, -1, -1, -1, -1, -1, -1, -1],
            RORD: [4166, -1, -1, -1, -1, -1, -1, -1],
            ASRD: [4167, -1, -1, -1, -1, -1, -1, -1],
            ASLD: [4168, -1, -1, -1, -1, -1, -1, -1],
            LSLD: [4168, -1, -1, -1, -1, -1, -1, -1],
            ROLD: [4169, -1, -1, -1, -1, -1, -1, -1],
            DECD: [4170, -1, -1, -1, -1, -1, -1, -1],
            INCD: [4172, -1, -1, -1, -1, -1, -1, -1],
            TSTD: [4173, -1, -1, -1, -1, -1, -1, -1],
            CLRD: [4175, -1, -1, -1, -1, -1, -1, -1],
            COMW: [4179, -1, -1, -1, -1, -1, -1, -1],
            LSRW: [4180, -1, -1, -1, -1, -1, -1, -1],
            RORW: [4182, -1, -1, -1, -1, -1, -1, -1],
            ROLW: [4185, -1, -1, -1, -1, -1, -1, -1],
            DECW: [4186, -1, -1, -1, -1, -1, -1, -1],
            INCW: [4188, -1, -1, -1, -1, -1, -1, -1],
            TSTW: [4189, -1, -1, -1, -1, -1, -1, -1],
            CLRW: [4191, -1, -1, -1, -1, -1, -1, -1],
            SUBW: [-1, 4240, 4256, 4272, -1, -1, 4224, -1],
            CMPW: [-1, 4241, 4257, 4273, -1, -1, 4225, -1],
            SBCD: [-1, 4242, 4258, 4274, -1, -1, 4226, -1],
            ANDD: [-1, 4244, 4260, 4276, -1, -1, 4228, -1],
            BITD: [-1, 4245, 4261, 4277, -1, -1, 4229, -1],
            BITMD: [-1, -1, -1, -1, -1, 4412, -1, -1],
            LDMD: [-1, -1, -1, -1, -1, 4413, -1, -1],
            LDW: [-1, 4246, 4262, 4278, -1, -1, 4230, -1],
            STW: [-1, 4247, 4263, 4279, -1, -1, 4231, -1],
            EORD: [-1, 4248, 4264, 4280, -1, -1, 4232, -1],
            ADCD: [-1, 4249, 4265, 4281, -1, -1, 4233, -1],
            ORD: [-1, 4250, 4266, 4282, -1, -1, 4234, -1],
            ADDW: [-1, 4251, 4267, 4283, -1, -1, 4235, -1],
            DIVD: [-1, 4509, 4525, 4541, -1, -1, 4493, -1],
            DIVQ: [-1, 4510, 4526, 4542, -1, -1, 4494, -1],
            MULD: [-1, 4511, 4527, 4543, -1, -1, 4495, -1],
            LDQ: [-1, 4316, 4332, 4348, -1, -1, 205, -1],
            STQ: [-1, 4317, 4333, 4349, -1, -1, -1, -1],
            COME: [4419, -1, -1, -1, -1, -1, -1, -1],
            DECE: [4426, -1, -1, -1, -1, -1, -1, -1],
            INCE: [4428, -1, -1, -1, -1, -1, -1, -1],
            TSTE: [4429, -1, -1, -1, -1, -1, -1, -1],
            CLRE: [4431, -1, -1, -1, -1, -1, -1, -1],
            COMF: [4435, -1, -1, -1, -1, -1, -1, -1],
            DECF: [4442, -1, -1, -1, -1, -1, -1, -1],
            INCF: [4444, -1, -1, -1, -1, -1, -1, -1],
            TSTF: [4445, -1, -1, -1, -1, -1, -1, -1],
            CLRF: [4447, -1, -1, -1, -1, -1, -1, -1],
            OIM: [-1, 1, 97, 113, -1, -1, -1, -1],
            AIM: [-1, 2, 98, 114, -1, -1, -1, -1],
            EIM: [-1, 5, 101, 117, -1, -1, -1, -1],
            TIM: [-1, 11, 107, 123, -1, -1, -1, -1],
            BAND: [-1, 4400, -1, -1, -1, -1, -1, -1],
            BIAND: [-1, 4401, -1, -1, -1, -1, -1, -1],
            BOR: [-1, 4402, -1, -1, -1, -1, -1, -1],
            BIOR: [-1, 4403, -1, -1, -1, -1, -1, -1],
            BEOR: [-1, 4404, -1, -1, -1, -1, -1, -1],
            BIEOR: [-1, 4405, -1, -1, -1, -1, -1, -1],
            LDBT: [-1, 4406, -1, -1, -1, -1, -1, -1],
            STBT: [-1, 4407, -1, -1, -1, -1, -1, -1]
        },
        parseOpcode: function(r, n) {
            r._dp || (r._dp = 0);
            var t, s, a, o, l = function(e) {
                var r = ["D", "X", "Y", "U", "S", "PC", "W", "V", "A", "B", "CC", "DP", "", "0", "E", "F"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return r
            }, i = function(e) {
                var r = ["D", "X", "Y", "U", "S"].indexOf(e.toUpperCase()[0]);
                if (r < 0)
                    throw "Registro desconocido";
                return r
            }, u = function(e) {
                if ("D" == e.toUpperCase())
                    return 6;
                var r = ["CC", "A", "B", "DP", "X", "Y", "U", "PC"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return 1 << r
            }, p = function(e) {
                if ("D" == e.toUpperCase())
                    return 6;
                var r = ["CC", "A", "B", "DP", "X", "Y", "S", "PC"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return 1 << r
            }, f = e.set[r.opcode], C = 0, B = -1, D = 0, d = null;
            if (r.lens = [],
            "EXG" == r.opcode && (r.lens[0] = 30),
            "TFR" == r.opcode && (r.lens[0] = 31),
            "EXG" == r.opcode || "TFR" == r.opcode) {
                if (r.bytes = 2,
                2 != r.params.length)
                    throw r.opcode + " necesita dos registros " + r.numline;
                return r.lens[1] = (l(r.params[0]) << 4) + l(r.params[1]),
                r
            }
            if ("TFM" == r.opcode) {
                if (2 != r.params.length)
                    throw r.opcode + " necesita dos registros " + r.numline;
                var m = r.params[0][1]
                  , S = r.params[1][1];
                if ("+" == m && "+" == S)
                    r.lens[1] = 56;
                else if ("-" == m && "-" == S)
                    r.lens[1] = 57;
                else if ("+" == m && void 0 === S)
                    r.lens[1] = 58;
                else {
                    if (void 0 !== m || "+" != S)
                        throw "Error " + r.opcode + " , " + r.numline;
                    r.lens[1] = 59
                }
                return r.lens[0] = 17,
                r.bytes = 3,
                r.lens[2] = (i(r.params[0]) << 4) + i(r.params[1]),
                r
            }
            if (["ADDR", "ADCR", "SUBR", "SBCR", "ANDR", "ORR", "EORR", "CMPR"].indexOf(r.opcode) >= 0) {
                if (r.lens[0] = f[0] >> 8,
                r.lens[1] = 255 & f[0],
                r.bytes = 3,
                2 != r.params.length)
                    throw r.opcode + " necesita dos registros " + r.numline;
                return r.lens[2] = (l(r.params[0]) << 4) + l(r.params[1]),
                r
            }
            if ("PSHS" == r.opcode) {
                for (r.lens[0] = 52,
                r.bytes = 2,
                r.lens[1] = 0,
                o = 0; o < r.params.length; o++)
                    r.lens[1] |= u(r.params[o]);
                return r
            }
            if ("PULS" == r.opcode) {
                for (r.lens[0] = 53,
                r.bytes = 2,
                r.lens[1] = 0,
                o = 0; o < r.params.length; o++)
                    r.lens[1] |= u(r.params[o]);
                return r
            }
            if ("PSHU" == r.opcode) {
                for (r.lens[0] = 54,
                r.bytes = 2,
                r.lens[1] = 0,
                o = 0; o < r.params.length; o++)
                    r.lens[1] |= p(r.params[o]);
                return r
            }
            if ("PULU" == r.opcode) {
                for (r.lens[0] = 55,
                r.bytes = 2,
                r.lens[1] = 0,
                o = 0; o < r.params.length; o++)
                    r.lens[1] |= p(r.params[o]);
                return r
            }
            if (f) {
                if (f[0] >= 0)
                    return f[0] > 255 ? (r.lens = [f[0] >> 8, 255 & f[0]],
                    r.bytes = 2,
                    r) : (r.lens = [f[0]],
                    r.bytes = 1,
                    r);
                var b = !1;
                if (-1 != ["AIM", "EIM", "OIM", "TIM"].indexOf(r.opcode) && void 0 === r.aimPar) {
                    if (r.aimPar = r.params.shift(),
                    "#" != r.aimPar[0])
                        throw r.opcode + " necesita un par√°metro " + r.numline;
                    b = !0
                }
                if (-1 != ["BAND", "BOR", "BEOR", "BIAND", "BIOR", "BIEOR", "LDBT", "STBT"].indexOf(r.opcode)) {
                    if (void 0 === r.bandPar) {
                        var L, R;
                        if (4 == r.params.length)
                            L = r.params[0],
                            R = r.params[1],
                            bmb = r.params[2],
                            r.params.shift(),
                            r.params.shift(),
                            r.params.shift();
                        else {
                            if (2 != r.params.length)
                                throw r.opcode + "  necesita 2 o 4 par√°metros " + r.numline;
                            var c = r.params.shift().split(".");
                            L = c[0],
                            R = c[1];
                            var P = r.params[0].split(".");
                            bmb = P[1],
                            r.params[0] = P[0]
                        }
                        r.bandPar = [L, R, bmb]
                    }
                    L = r.bandPar[0],
                    R = r.bandPar[1],
                    bmb = r.bandPar[2];
                    var A = ["CC", "A", "B"].indexOf(L.toUpperCase());
                    if (A < 0)
                        throw r.opcode + "  necesita dos registros " + r.numline;
                    A <<= 6;
                    var v = Parser.evaluate(R, n);
                    if (v < 0)
                        throw r.opcode + " el n√∫mero de bits debe estar entre 0 y 7 " + r.numline;
                    if (v > 7)
                        throw r.opcode + " el n√∫mero de bits debe estar entre 0 y 7 " + r.numline;
                    var h = Parser.evaluate(bmb, n);
                    if (h < 0)
                        throw r.opcode + " el n√∫mero de bits debe estar entre 0 y 7 " + r.numline;
                    if (h > 7)
                        throw r.opcode + " el n√∫mero de bits debe estar entre 0 y 7 " + r.numline;
                    h <<= 3,
                    r.bytes = 4,
                    r.lens[0] = f[1] >> 8,
                    r.lens[1] = 255 & f[1],
                    r.lens[2] = A + h + v;
                    var O = 256 * r._dp
                      , E = r.params[0];
                    return r.lens[3] = function(e) {
                        return Parser.evaluate(E, e) - O
                    }
                    ,
                    r
                }
                if (1 == r.params.length && "[" !== r.params[0][0]) {
                    if (r.bytes = 0,
                    "#" == (E = r.params[0])[0] ? (D = 1,
                    C = 5,
                    f[5] < 0 && f[6] >= 0 && (C = 6)) : "<" == E[0] ? (D = 1,
                    C = 1) : ">" == E[0] ? (D = 1,
                    C = 3) : (f[1] >= 0 && (C = 1),
                    f[3] >= 0 && (C = 3),
                    f[4] >= 0 && (C = 4),
                    f[7] >= 0 && (C = 7),
                    function(e, r, n) {
                        if (n._dp < 0 || n._dp > 255)
                            return !1;
                        try {
                            if (null !== (t = Parser.evaluate(e, r)) && void 0 !== t && t >> 8 === n._dp)
                                return !0
                        } catch (e) {
                            return !1
                        }
                        return !1
                    }(E, n, r) && f[1] >= 0 && (C = 1)),
                    -1 == f[C])
                        throw "Error " + r.numline;
                    if (B = f[C],
                    4 != C && 7 != C && (d = D ? function(e) {
                        return Parser.evaluate(E.substr(1), e)
                    }
                    : function(e) {
                        return Parser.evaluate(E, e)
                    }
                    ),
                    1 === C && 0 != r._dp) {
                        O = 256 * r._dp;
                        d = D ? function(e) {
                            return Parser.evaluate(E.substr(1), e) - O
                        }
                        : function(e) {
                            return Parser.evaluate(E, e) - O
                        }
                    }
                    if (r.bytes += B > 255 ? 2 : 1,
                    4 == C && (d = function(e) {
                        var r = Parser.evaluate(E, e) - e._PC - 2;
                        if (r > 127)
                            throw "Fuera de rango";
                        if (r < -128)
                            throw "Fuera de rango";
                        return r < 0 && (r = 256 + r),
                        r
                    }
                    ),
                    7 == C && (d = function(e) {
                        var n = Parser.evaluate(E, e) - e._PC - r.bytes;
                        return n < 0 && (n = 65536 + n),
                        n
                    }
                    ),
                    r.lens = B > 255 ? [B >> 8, 255 & B, d] : [B, d],
                    1 == C && r.bytes++,
                    5 == C && r.bytes++,
                    4 == C && r.bytes++,
                    3 == C && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    6 == C && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    7 == C && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    b) {
                        T = r.aimPar.substr(1);
                        (U = Parser.evaluate(T, n)) < 0 && (U = 256 + U),
                        r.bytes > 2 && (r.lens[3] = r.lens[2]),
                        r.lens[2] = r.lens[1],
                        r.lens[1] = U,
                        r.bytes++
                    }
                    return "LDQ" == r.opcode && 6 == C && (r.lens[r.bytes - 1] = "addr32",
                    r.lens[r.bytes] = null,
                    r.lens[r.bytes + 1] = null,
                    r.bytes += 2),
                    r
                }
                var y = 1;
                if (r.bytes = 2,
                b) {
                    var T = r.aimPar.substr(1)
                      , U = Parser.evaluate(T, n);
                    U < 0 && (U = 256 + U),
                    r.lens[1] = U,
                    y++,
                    r.bytes++
                }
                if (1 == r.params.length && "[" === r.params[0][0])
                    return f[2] > 256 ? (r.lens[0] = f[2] >> 8,
                    r.lens[1] = 255 & f[2],
                    y = 2,
                    r.bytes++) : r.lens[0] = f[2],
                    E = r.params[0],
                    r.lens[y] = 159,
                    r.lens[y + 1] = function(e) {
                        return Parser.evaluate(E.substr(1, E.length - 2), e)
                    }
                    ,
                    r.lens[y + 2] = null,
                    r.bytes += 2,
                    r;
                if (f[2] <= 0 || 2 !== r.params.length)
                    throw "Error " + r.numline;
                f[2] > 256 ? (r.lens[0] = f[2] >> 8,
                r.lens[1] = 255 & f[2],
                y = 2,
                r.bytes++) : r.lens[0] = f[2];
                var g = 0;
                E = r.params[0],
                s = r.params[1],
                a = E,
                s,
                "[" == E[0] && "]" == s[s.length - 1] && (g = 16,
                E = E.substr(1),
                s = s.substr(0, s.length - 1));
                var I = function(e) {
                    var r = ["X", "Y", "U", "S"].indexOf(e.toUpperCase());
                    if (r < 0)
                        throw "Registro desconocido: " + e;
                    return r << 5
                }
                  , M = function(e) {
                    var r = ["X", "Y", "U", "S", "PC"].indexOf(e.toUpperCase());
                    if (4 == r)
                        return 4;
                    if (r < 0)
                        throw "Registro desconocido: " + e;
                    return r << 5
                };
                if ("" === E) {
                    if ("-" == s[0])
                        if ("-" == s[1])
                            r.lens[y] = 131 | I(s.substr(2)) | g,
                            "W" == s[0].toUpperCase() && (r.lens[y] = 239 | g);
                        else {
                            if (g > 0)
                                throw "Error";
                            r.lens[y] = 130 | I(s.substr(1))
                        }
                    else if ("+" == s[1])
                        if ("+" == s[2])
                            r.lens[y] = 129 | I(s.substr(0, 1)) | g,
                            "W" == s[0].toUpperCase() && (r.lens[y] = 207 | g);
                        else {
                            if (g > 0)
                                throw "Error";
                            r.lens[y] = 128 | I(s.substr(0, 1))
                        }
                    else
                        r.lens[y] = 132 | I(s) | g,
                        "W" == s[0].toUpperCase() && (r.lens[y] = 143 | g);
                    return r
                }
                if ("A" === E.toUpperCase())
                    return r.lens[y] = 134 | I(s) | g,
                    r;
                if ("B" === E.toUpperCase())
                    return r.lens[y] = 133 | I(s) | g,
                    r;
                if ("E" === E.toUpperCase())
                    return r.lens[y] = 135 | I(s) | g,
                    r;
                if ("F" === E.toUpperCase())
                    return r.lens[y] = 138 | I(s) | g,
                    r;
                if ("D" === E.toUpperCase())
                    return r.lens[y] = 139 | I(s) | g,
                    r;
                if ("W" === E.toUpperCase())
                    return r.lens[y] = 142 | I(s) | g,
                    r;
                try {
                    t = Parser.evaluate(E, n),
                    "PC" == s.toUpperCase() && (t -= n._PC)
                } catch (e) {
                    t = null
                }
                return t < 16 && t > -17 && 4 != M(s) ? (r.lens[y] = I(s) | g | 31 & t,
                r) : t < 256 && t > -129 && null !== t ? (t < 0 && (t = 256 + t),
                r.lens[y] = M(s) | g | 136,
                r.bytes++,
                "PC" == s.toUpperCase() ? r.lens[y + 1] = g ? function(e) {
                    var n = Parser.evaluate(a.substr(1), e) - e._PC - r.bytes;
                    return n < 0 && (n = 256 + n),
                    n
                }
                : function(e) {
                    var n = Parser.evaluate(a, e) - e._PC - r.bytes;
                    return n < 0 && (n = 256 + n),
                    n
                }
                : r.lens[y + 1] = g ? function(e) {
                    return Parser.evaluate(a.substr(1), e)
                }
                : function(e) {
                    return Parser.evaluate(a, e)
                }
                ,
                r) : (r.bytes += 2,
                r.lens[y] = M(s) | g | 137,
                "W" == s[0].toUpperCase() && (r.lens[y] = 175 | g),
                "PC" == s.toUpperCase() ? r.lens[y + 1] = g ? function(e) {
                    var n = Parser.evaluate(a.substr(1), e) - e._PC - r.bytes;
                    return n < 0 && (n += 65536),
                    n
                }
                : function(e) {
                    var n = Parser.evaluate(a, e) - e._PC - r.bytes;
                    return n < 0 && (n += 65536),
                    n
                }
                : r.lens[y + 1] = g ? function(e) {
                    return Parser.evaluate(a.substr(1), e)
                }
                : function(e) {
                    return Parser.evaluate(a, e)
                }
                ,
                r.lens[y + 2] = null,
                r)
            }
            return null
        },
        endian: !0
    };
    return e
});
!function(e, r) {
    "undefined" != typeof module ? (module.exports = r(),
    M6809 = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(r) : this.M6809 = r()
}(0, function() {
    var e = {
        set: {
            NEG: [-1, 0, 96, 112, -1, -1, -1, -1],
            COM: [-1, 3, 99, 115, -1, -1, -1, -1],
            LSR: [-1, 4, 100, 116, -1, -1, -1, -1],
            ROR: [-1, 6, 102, 118, -1, -1, -1, -1],
            ASR: [-1, 7, 103, 119, -1, -1, -1, -1],
            LSL: [-1, 8, 104, 120, -1, -1, -1, -1],
            ASL: [-1, 8, 104, 120, -1, -1, -1, -1],
            ROL: [-1, 9, 105, 121, -1, -1, -1, -1],
            DEC: [-1, 10, 106, 122, -1, -1, -1, -1],
            INC: [-1, 12, 108, 124, -1, -1, -1, -1],
            TST: [-1, 13, 109, 125, -1, -1, -1, -1],
            JMP: [-1, 14, 110, 126, -1, -1, -1, -1],
            CLR: [-1, 15, 111, 127, -1, -1, -1, -1],
            LEAX: [-1, -1, 48, -1, -1, -1, -1, -1],
            LEAY: [-1, -1, 49, -1, -1, -1, -1, -1],
            LEAS: [-1, -1, 50, -1, -1, -1, -1, -1],
            LEAU: [-1, -1, 51, -1, -1, -1, -1, -1],
            NOP: [18, -1, -1, -1, -1, -1, -1, -1],
            SYNC: [19, -1, -1, -1, -1, -1, -1, -1],
            DAA: [25, -1, -1, -1, -1, -1, -1, -1],
            SEX: [29, -1, -1, -1, -1, -1, -1, -1],
            RTS: [57, -1, -1, -1, -1, -1, -1, -1],
            ABX: [58, -1, -1, -1, -1, -1, -1, -1],
            RTI: [59, -1, -1, -1, -1, -1, -1, -1],
            CWAI: [-1, -1, -1, -1, -1, 60, -1, -1],
            MUL: [61, -1, -1, -1, -1, -1, -1, -1],
            SWI: [63, -1, -1, -1, -1, -1, -1, -1],
            SWI2: [4159, -1, -1, -1, -1, -1, -1, -1],
            SWI3: [4415, -1, -1, -1, -1, -1, -1, -1],
            NEGA: [64, -1, -1, -1, -1, -1, -1, -1],
            COMA: [67, -1, -1, -1, -1, -1, -1, -1],
            LSRA: [68, -1, -1, -1, -1, -1, -1, -1],
            RORA: [70, -1, -1, -1, -1, -1, -1, -1],
            ASRA: [71, -1, -1, -1, -1, -1, -1, -1],
            LSLA: [72, -1, -1, -1, -1, -1, -1, -1],
            ASLA: [72, -1, -1, -1, -1, -1, -1, -1],
            ROLA: [73, -1, -1, -1, -1, -1, -1, -1],
            DECA: [74, -1, -1, -1, -1, -1, -1, -1],
            INCA: [76, -1, -1, -1, -1, -1, -1, -1],
            TSTA: [77, -1, -1, -1, -1, -1, -1, -1],
            CLRA: [79, -1, -1, -1, -1, -1, -1, -1],
            NEGB: [80, -1, -1, -1, -1, -1, -1, -1],
            COMB: [83, -1, -1, -1, -1, -1, -1, -1],
            LSRB: [84, -1, -1, -1, -1, -1, -1, -1],
            RORB: [86, -1, -1, -1, -1, -1, -1, -1],
            ASRB: [87, -1, -1, -1, -1, -1, -1, -1],
            LSLB: [88, -1, -1, -1, -1, -1, -1, -1],
            ASLB: [88, -1, -1, -1, -1, -1, -1, -1],
            ROLB: [89, -1, -1, -1, -1, -1, -1, -1],
            DECB: [90, -1, -1, -1, -1, -1, -1, -1],
            INCB: [92, -1, -1, -1, -1, -1, -1, -1],
            TSTB: [93, -1, -1, -1, -1, -1, -1, -1],
            CLRB: [95, -1, -1, -1, -1, -1, -1, -1],
            SUBA: [-1, 144, 160, 176, -1, 128, -1, -1],
            CMPA: [-1, 145, 161, 177, -1, 129, -1, -1],
            SBCA: [-1, 146, 162, 178, -1, 130, -1, -1],
            ANDA: [-1, 148, 164, 180, -1, 132, -1, -1],
            BITA: [-1, 149, 165, 181, -1, 133, -1, -1],
            LDA: [-1, 150, 166, 182, -1, 134, -1, -1],
            STA: [-1, 151, 167, 183, -1, -1, -1, -1],
            EORA: [-1, 152, 168, 184, -1, 136, -1, -1],
            ADCA: [-1, 153, 169, 185, -1, 137, -1, -1],
            ORA: [-1, 154, 170, 186, -1, 138, -1, -1],
            ADDA: [-1, 155, 171, 187, -1, 139, -1, -1],
            JSR: [-1, 157, 173, 189, -1, -1, -1, -1],
            SUBD: [-1, 147, 163, 179, -1, -1, 131, -1],
            CMPX: [-1, 156, 172, 188, -1, -1, 140, -1],
            LDX: [-1, 158, 174, 190, -1, -1, 142, -1],
            STX: [-1, 159, 175, 191, -1, -1, -1, -1],
            CMPD: [-1, 4243, 4259, 4275, -1, -1, 4227, -1],
            CMPY: [-1, 4252, 4268, 4284, -1, -1, 4236, -1],
            LDY: [-1, 4254, 4270, 4286, -1, -1, 4238, -1],
            STY: [-1, 4255, 4271, 4287, -1, -1, -1, -1],
            LDS: [-1, 4318, 4334, 4350, -1, -1, 4302, -1],
            STS: [-1, 4319, 4335, 4351, -1, -1, -1, -1],
            SUBB: [-1, 208, 224, 240, -1, 192, -1, -1],
            CMPB: [-1, 209, 225, 241, -1, 193, -1, -1],
            SBCB: [-1, 210, 226, 242, -1, 194, -1, -1],
            ANDB: [-1, 212, 228, 244, -1, 196, -1, -1],
            BITB: [-1, 213, 229, 245, -1, 197, -1, -1],
            LDB: [-1, 214, 230, 246, -1, 198, -1, -1],
            STB: [-1, 215, 231, 247, -1, -1, -1, -1],
            EORB: [-1, 216, 232, 248, -1, 200, -1, -1],
            ADCB: [-1, 217, 233, 249, -1, 201, -1, -1],
            ORB: [-1, 218, 234, 250, -1, 202, -1, -1],
            ADDB: [-1, 219, 235, 251, -1, 203, -1, -1],
            ADDD: [-1, 211, 227, 243, -1, -1, 195, -1],
            LDD: [-1, 220, 236, 252, -1, -1, 204, -1],
            STD: [-1, 221, 237, 253, -1, -1, -1, -1],
            LDU: [-1, 222, 238, 254, -1, -1, 206, -1],
            STU: [-1, 223, 239, 255, -1, -1, -1, -1],
            CMPS: [-1, 4508, 4524, 4540, -1, -1, 4492, -1],
            CMPU: [-1, 4499, 4515, 4531, -1, -1, 4483, -1],
            LBRA: [-1, -1, -1, -1, -1, -1, -1, 22],
            LBSR: [-1, -1, -1, -1, -1, -1, -1, 23],
            BSR: [-1, -1, -1, -1, 141, -1, -1, -1],
            BRA: [-1, -1, -1, -1, 32, -1, -1, -1],
            BRN: [-1, -1, -1, -1, 33, -1, -1, -1],
            BHI: [-1, -1, -1, -1, 34, -1, -1, -1],
            BLS: [-1, -1, -1, -1, 35, -1, -1, -1],
            BHS: [-1, -1, -1, -1, 36, -1, -1, -1],
            BCC: [-1, -1, -1, -1, 36, -1, -1, -1],
            BLO: [-1, -1, -1, -1, 37, -1, -1, -1],
            BCS: [-1, -1, -1, -1, 37, -1, -1, -1],
            BNE: [-1, -1, -1, -1, 38, -1, -1, -1],
            BEQ: [-1, -1, -1, -1, 39, -1, -1, -1],
            BVC: [-1, -1, -1, -1, 40, -1, -1, -1],
            BVS: [-1, -1, -1, -1, 41, -1, -1, -1],
            BPL: [-1, -1, -1, -1, 42, -1, -1, -1],
            BMI: [-1, -1, -1, -1, 43, -1, -1, -1],
            BGE: [-1, -1, -1, -1, 44, -1, -1, -1],
            BLT: [-1, -1, -1, -1, 45, -1, -1, -1],
            BGT: [-1, -1, -1, -1, 46, -1, -1, -1],
            BLE: [-1, -1, -1, -1, 47, -1, -1, -1],
            LBRN: [-1, -1, -1, -1, -1, -1, -1, 4129],
            LBHI: [-1, -1, -1, -1, -1, -1, -1, 4130],
            LBLS: [-1, -1, -1, -1, -1, -1, -1, 4131],
            LBHS: [-1, -1, -1, -1, -1, -1, -1, 4132],
            LBCC: [-1, -1, -1, -1, -1, -1, -1, 4132],
            LBLO: [-1, -1, -1, -1, -1, -1, -1, 4133],
            LBCS: [-1, -1, -1, -1, -1, -1, -1, 4133],
            LBNE: [-1, -1, -1, -1, -1, -1, -1, 4134],
            LBEQ: [-1, -1, -1, -1, -1, -1, -1, 4135],
            LBVC: [-1, -1, -1, -1, -1, -1, -1, 4136],
            LBVS: [-1, -1, -1, -1, -1, -1, -1, 4137],
            LBPL: [-1, -1, -1, -1, -1, -1, -1, 4138],
            LBMI: [-1, -1, -1, -1, -1, -1, -1, 4139],
            LBGE: [-1, -1, -1, -1, -1, -1, -1, 4140],
            LBLT: [-1, -1, -1, -1, -1, -1, -1, 4141],
            LBGT: [-1, -1, -1, -1, -1, -1, -1, 4142],
            LBLE: [-1, -1, -1, -1, -1, -1, -1, 4143],
            ORCC: [-1, -1, -1, -1, -1, 26, -1, -1],
            ANDCC: [-1, -1, -1, -1, -1, 28, -1, -1]
        },
        parseOpcode: function(r, n) {
            r._dp || (r._dp = 0);
            var t, s, a, u, l, o = function(e) {
                var r = ["D", "X", "Y", "U", "S", "PC", "", "", "A", "B", "CC", "DP"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return r
            }, i = function(e) {
                if ("D" == e.toUpperCase())
                    return 6;
                var r = ["CC", "A", "B", "DP", "X", "Y", "U", "PC"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return 1 << r
            }, f = function(e) {
                if ("D" == e.toUpperCase())
                    return 6;
                var r = ["CC", "A", "B", "DP", "X", "Y", "S", "PC"].indexOf(e.toUpperCase());
                if (r < 0)
                    throw "Registro desconocido";
                return 1 << r
            }, B = e.set[r.opcode], p = 0, C = -1, L = 0, S = null;
            if (r.lens = [],
            "EXG" == r.opcode && (r.lens[0] = 30),
            "TFR" == r.opcode && (r.lens[0] = 31),
            "EXG" == r.opcode || "TFR" == r.opcode) {
                if (r.bytes = 2,
                2 != r.params.length)
                    throw r.opcode + " necesita dos registros " + r.numline;
                return r.lens[1] = (o(r.params[0]) << 4) + o(r.params[1]),
                r
            }
            if ("PSHS" == r.opcode) {
                for (r.lens[0] = 52,
                r.bytes = 2,
                r.lens[1] = 0,
                l = 0; l < r.params.length; l++)
                    r.lens[1] |= i(r.params[l]);
                return r
            }
            if ("PULS" == r.opcode) {
                for (r.lens[0] = 53,
                r.bytes = 2,
                r.lens[1] = 0,
                l = 0; l < r.params.length; l++)
                    r.lens[1] |= i(r.params[l]);
                return r
            }
            if ("PSHU" == r.opcode) {
                for (r.lens[0] = 54,
                r.bytes = 2,
                r.lens[1] = 0,
                l = 0; l < r.params.length; l++)
                    r.lens[1] |= f(r.params[l]);
                return r
            }
            if ("PULU" == r.opcode) {
                for (r.lens[0] = 55,
                r.bytes = 2,
                r.lens[1] = 0,
                l = 0; l < r.params.length; l++)
                    r.lens[1] |= f(r.params[l]);
                return r
            }
            if (B) {
                if (B[0] >= 0)
                    return B[0] > 255 ? (r.lens = [B[0] >> 8, 255 & B[0]],
                    r.bytes = 2,
                    r) : (r.lens = [B[0]],
                    r.bytes = 1,
                    r);
                if (1 == r.params.length && "[" !== r.params[0][0]) {
                    if (r.bytes = 0,
                    "#" == (s = r.params[0])[0] ? (L = 1,
                    p = 5,
                    B[5] < 0 && B[6] >= 0 && (p = 6)) : "<" == s[0] ? (L = 1,
                    p = 1) : ">" == s[0] ? (L = 1,
                    p = 3) : (B[1] >= 0 && (p = 1),
                    B[3] >= 0 && (p = 3),
                    B[4] >= 0 && (p = 4),
                    B[7] >= 0 && (p = 7),
                    function(e, r, n) {
                        if (n._dp < 0 || n._dp > 255)
                            return !1;
                        try {
                            if (null !== (t = Parser.evaluate(e, r)) && void 0 !== t && t >> 8 === n._dp)
                                return !0
                        } catch (e) {
                            return !1
                        }
                        return !1
                    }(s, n, r) && B[1] >= 0 && (p = 1)),
                    -1 == B[p])
                        throw "Error " + r.numline;
                    if (C = B[p],
                    4 != p && 7 != p && (S = L ? function(e) {
                        return Parser.evaluate(s.substr(1), e)
                    }
                    : function(e) {
                        return Parser.evaluate(s, e)
                    }
                    ),
                    1 === p && 0 != r._dp) {
                        var A = 256 * r._dp;
                        S = L ? function(e) {
                            return Parser.evaluate(s.substr(1), e) - A
                        }
                        : function(e) {
                            return Parser.evaluate(s, e) - A
                        }
                    }
                    return r.bytes += C > 255 ? 2 : 1,
                    4 == p && (S = function(e) {
                        var r = Parser.evaluate(s, e) - e._PC - 2;
                        if (r > 127)
                            throw "Fuera de rango";
                        if (r < -128)
                            throw "Fuera de rango";
                        return r < 0 && (r = 256 + r),
                        r
                    }
                    ),
                    7 == p && (S = function(e) {
                        var n = Parser.evaluate(s, e) - e._PC - r.bytes;
                        return n < 0 && (n = 65536 + n),
                        n
                    }
                    ),
                    r.lens = C > 255 ? [C >> 8, 255 & C, S] : [C, S],
                    1 == p && r.bytes++,
                    5 == p && r.bytes++,
                    4 == p && r.bytes++,
                    3 == p && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    6 == p && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    7 == p && (r.bytes += 2,
                    r.lens[r.bytes - 1] = null),
                    r
                }
                var c = 1;
                if (r.bytes = 2,
                1 == r.params.length && "[" === r.params[0][0])
                    return B[2] > 256 ? (r.lens[0] = B[2] >> 8,
                    r.lens[1] = 255 & B[2],
                    c = 2,
                    r.bytes++) : r.lens[0] = B[2],
                    s = r.params[0],
                    r.lens[c] = 159,
                    r.lens[c + 1] = function(e) {
                        return Parser.evaluate(s.substr(1, s.length - 2), e)
                    }
                    ,
                    r.lens[c + 2] = null,
                    r.bytes += 2,
                    r;
                if (B[2] <= 0 || 2 !== r.params.length)
                    throw "Error " + r.numline;
                B[2] > 256 ? (r.lens[0] = B[2] >> 8,
                r.lens[1] = 255 & B[2],
                c = 2,
                r.bytes++) : r.lens[0] = B[2];
                var d = 0;
                s = r.params[0],
                a = r.params[1],
                u = s,
                a,
                "[" == s[0] && "]" == a[a.length - 1] && (d = 16,
                s = s.substr(1),
                a = a.substr(0, a.length - 1));
                var P = function(e) {
                    var r = ["X", "Y", "U", "S"].indexOf(e.toUpperCase());
                    if (r < 0)
                        throw "Registro desconocido: " + e;
                    return r << 5
                }
                  , b = function(e) {
                    var r = ["X", "Y", "U", "S", "PC"].indexOf(e.toUpperCase());
                    if (4 == r)
                        return 4;
                    if (r < 0)
                        throw "Registro desconocido: " + e;
                    return r << 5
                };
                if ("" === s) {
                    if ("-" == a[0])
                        if ("-" == a[1])
                            r.lens[c] = 131 | P(a.substr(2)) | d;
                        else {
                            if (d > 0)
                                throw "Error";
                            r.lens[c] = 130 | P(a.substr(1))
                        }
                    else if ("+" == a[1])
                        if ("+" == a[2])
                            r.lens[c] = 129 | P(a.substr(0, 1)) | d;
                        else {
                            if (d > 0)
                                throw "Error";
                            r.lens[c] = 128 | P(a.substr(0, 1))
                        }
                    else
                        r.lens[c] = 132 | P(a) | d;
                    return r
                }
                if ("A" === s.toUpperCase())
                    return r.lens[c] = 134 | P(a) | d,
                    r;
                if ("B" === s.toUpperCase())
                    return r.lens[c] = 133 | P(a) | d,
                    r;
                if ("D" === s.toUpperCase())
                    return r.lens[c] = 139 | P(a) | d,
                    r;
                try {
                    t = Parser.evaluate(s, n),
                    "PC" == a.toUpperCase() && (t -= n._PC)
                } catch (e) {
                    t = null
                }
                return t > 65519 && 4 != b(a) ? (r.lens[c] = P(a) | d | 32 - (65536 - t) & 31,
                r) : t < 16 && t > -17 && 4 != b(a) ? (r.lens[c] = P(a) | d | 31 & t,
                r) : t < 128 && t > -129 && null !== t ? (t < 0 && (t = 256 + t),
                r.lens[c] = b(a) | d | 136,
                r.bytes++,
                "PC" == a.toUpperCase() ? r.lens[c + 1] = d ? function(e) {
                    var n = Parser.evaluate(u.substr(1), e) - e._PC - r.bytes;
                    return n < 0 && (n = 256 + n),
                    n
                }
                : function(e) {
                    var n = Parser.evaluate(u, e) - e._PC - r.bytes;
                    return n < 0 && (n = 256 + n),
                    n
                }
                : r.lens[c + 1] = d ? function(e) {
                    return Parser.evaluate(u.substr(1), e)
                }
                : function(e) {
                    return Parser.evaluate(u, e)
                }
                ,
                r) : (r.bytes += 2,
                r.lens[c] = b(a) | d | 137,
                "PC" == a.toUpperCase() ? r.lens[c + 1] = d ? function(e) {
                    var n = Parser.evaluate(u.substr(1), e) - e._PC - r.bytes;
                    return n < 0 && (n += 65536),
                    n
                }
                : function(e) {
                    var n = Parser.evaluate(u, e) - e._PC - r.bytes;
                    return n < 0 && (n += 65536),
                    n
                }
                : r.lens[c + 1] = d ? function(e) {
                    return Parser.evaluate(u.substr(1), e)
                }
                : function(e) {
                    return Parser.evaluate(u, e)
                }
                ,
                r.lens[c + 2] = null,
                r)
            }
            return null
        },
        endian: !0
    };
    return e
});
var M6800 = {
    set: {
        ABA: [27, -1, -1, -1, -1, -1, -1],
        ADCA: [-1, 153, -1, 185, 169, 137, -1],
        ADCB: [-1, 217, -1, 249, 233, 201, -1],
        ADDA: [-1, 155, -1, 187, 171, 139, -1],
        ADDB: [-1, 219, -1, 251, 235, 203, -1],
        ANDA: [-1, 148, -1, 180, 164, 132, -1],
        ANDB: [-1, 212, -1, 244, 228, 196, -1],
        ASL: [-1, -1, -1, 120, 104, -1, -1],
        ASLA: [72, -1, -1, -1, -1, -1, -1],
        ASLB: [88, -1, -1, -1, -1, -1, -1],
        ASR: [-1, -1, -1, 119, 103, -1, -1],
        ASRA: [71, -1, -1, -1, -1, -1, -1],
        ASRB: [87, -1, -1, -1, -1, -1, -1],
        BCC: [-1, -1, -1, -1, -1, -1, 36],
        BCS: [-1, -1, -1, -1, -1, -1, 37],
        BEQ: [-1, -1, -1, -1, -1, -1, 39],
        BGE: [-1, -1, -1, -1, -1, -1, 44],
        BGT: [-1, -1, -1, -1, -1, -1, 46],
        BHI: [-1, -1, -1, -1, -1, -1, 34],
        BITA: [-1, 149, -1, 181, 165, 133, -1],
        BITB: [-1, 213, -1, 245, 229, 197, -1],
        BLE: [-1, -1, -1, -1, -1, -1, 47],
        BLS: [-1, -1, -1, -1, -1, -1, 35],
        BLT: [-1, -1, -1, -1, -1, -1, 45],
        BMI: [-1, -1, -1, -1, -1, -1, 43],
        BNE: [-1, -1, -1, -1, -1, -1, 38],
        BPL: [-1, -1, -1, -1, -1, -1, 42],
        BRA: [-1, -1, -1, -1, -1, -1, 32],
        BSR: [-1, -1, -1, -1, -1, -1, 141],
        BVC: [-1, -1, -1, -1, -1, -1, 40],
        BVS: [-1, -1, -1, -1, -1, -1, 41],
        CBA: [17, -1, -1, -1, -1, -1, -1],
        CLC: [12, -1, -1, -1, -1, -1, -1],
        CLI: [14, -1, -1, -1, -1, -1, -1],
        CLR: [-1, -1, -1, 127, 111, -1, -1],
        CLRA: [79, -1, -1, -1, -1, -1, -1],
        CLRB: [95, -1, -1, -1, -1, -1, -1],
        CLV: [10, -1, -1, -1, -1, -1, -1],
        CMPA: [-1, 145, -1, 177, 161, 129, -1],
        CMPB: [-1, 209, -1, 241, 225, 193, -1],
        COM: [-1, -1, -1, 115, 99, -1, -1],
        COMA: [67, -1, -1, -1, -1, -1, -1],
        COMB: [83, -1, -1, -1, -1, -1, -1],
        CPX: [-1, 156, 140, 188, 172, -1, -1],
        DAA: [25, -1, -1, -1, -1, -1, -1],
        DEC: [-1, -1, -1, 122, 106, -1, -1],
        DECA: [74, -1, -1, -1, -1, -1, -1],
        DECB: [90, -1, -1, -1, -1, -1, -1],
        DES: [52, -1, -1, -1, -1, -1, -1],
        DEX: [9, -1, -1, -1, -1, -1, -1],
        EORA: [-1, 152, -1, 184, 168, 136, -1],
        EORB: [-1, 216, -1, 248, 232, 200, -1],
        INC: [-1, -1, -1, 124, 108, -1, -1],
        INCA: [76, -1, -1, -1, -1, -1, -1],
        INCB: [92, -1, -1, -1, -1, -1, -1],
        INS: [49, -1, -1, -1, -1, -1, -1],
        INX: [8, -1, -1, -1, -1, -1, -1],
        JMP: [-1, -1, -1, 126, 110, -1, -1],
        JSR: [-1, -1, -1, 189, 173, -1, -1],
        LDAA: [-1, 150, -1, 182, 166, 134, -1],
        LDAB: [-1, 214, -1, 246, 230, 198, -1],
        LDS: [-1, 158, 142, 190, 174, -1, -1],
        LDX: [-1, 222, 206, 254, 238, -1, -1],
        LSR: [-1, -1, -1, 116, 100, -1, -1],
        LSRA: [68, -1, -1, -1, -1, -1, -1],
        LSRB: [84, -1, -1, -1, -1, -1, -1],
        NEG: [-1, -1, -1, 112, 96, -1, -1],
        NEGA: [64, -1, -1, -1, -1, -1, -1],
        NEGB: [80, -1, -1, -1, -1, -1, -1],
        NOP: [1, -1, -1, -1, -1, -1, -1],
        ORAA: [-1, 154, -1, 186, 170, 138, -1],
        ORAB: [-1, 218, -1, 250, 234, 202, -1],
        PSHA: [54, -1, -1, -1, -1, -1, -1],
        PSHB: [55, -1, -1, -1, -1, -1, -1],
        PULA: [50, -1, -1, -1, -1, -1, -1],
        PULB: [51, -1, -1, -1, -1, -1, -1],
        ROL: [-1, -1, -1, 121, 105, -1, -1],
        ROLA: [73, -1, -1, -1, -1, -1, -1],
        ROLB: [89, -1, -1, -1, -1, -1, -1],
        ROR: [-1, -1, -1, 118, 102, -1, -1],
        RORA: [70, -1, -1, -1, -1, -1, -1],
        RORB: [86, -1, -1, -1, -1, -1, -1],
        RTI: [59, -1, -1, -1, -1, -1, -1],
        RTS: [57, -1, -1, -1, -1, -1, -1],
        SBA: [16, -1, -1, -1, -1, -1, -1],
        SBCA: [-1, 146, -1, 178, 162, 130, -1],
        SBCB: [-1, 210, -1, 242, 226, 194, -1],
        SEC: [13, -1, -1, -1, -1, -1, -1],
        SEI: [15, -1, -1, -1, -1, -1, -1],
        SEV: [11, -1, -1, -1, -1, -1, -1],
        STAA: [-1, 151, -1, 183, 167, -1, -1],
        STAB: [-1, 215, -1, 247, 231, -1, -1],
        STS: [-1, 159, -1, 191, 175, -1, -1],
        STX: [-1, 223, -1, 255, 239, -1, -1],
        SUBA: [-1, 144, -1, 176, 160, 128, -1],
        SUBB: [-1, 208, -1, 240, 224, 192, -1],
        SWI: [63, -1, -1, -1, -1, -1, -1],
        TAB: [22, -1, -1, -1, -1, -1, -1],
        TAP: [6, -1, -1, -1, -1, -1, -1],
        TBA: [23, -1, -1, -1, -1, -1, -1],
        TPA: [7, -1, -1, -1, -1, -1, -1],
        TST: [-1, -1, -1, 125, 109, -1, -1],
        TSTA: [77, -1, -1, -1, -1, -1, -1],
        TSTB: [93, -1, -1, -1, -1, -1, -1],
        TSX: [48, -1, -1, -1, -1, -1, -1],
        TXS: [53, -1, -1, -1, -1, -1, -1],
        WAI: [62, -1, -1, -1, -1, -1, -1]
    },
    parseOpcode: function(r, e) {
        var a, s = r.opcode;
        if (!r.opcode)
            return null;
        if (r.params && 3 == s.length && !("A" != r.params[0] && "B" != r.params[0] || 1 != r.params[0].indexOf(" ") && 1 != r.params[0].length)) {
            var n = r.params[0] + "";
            r.reg6800 = n.substr(0, 1).toUpperCase(),
            r.params[0] = n.substr(2).trim(),
            r.paramstring = r.paramstring.substr(2).trim(),
            s += r.reg6800
        }
        var t = M6800.set[s];
        if (r.opcode = s,
        r.lens = [],
        t) {
            if (t[0] >= 0)
                return t[0] > 255 ? (r.lens = [t[0] >> 8, 255 & t[0]],
                r.bytes = 2,
                r) : (r.lens = [t[0]],
                r.bytes = 1,
                r);
            if (a = r.params[0] + "",
            r.params[0] && r.params[0].length > 0 && !r.params[1]) {
                var A = t[1]
                  , B = t[2]
                  , u = t[3]
                  , S = t[5]
                  , l = t[6];
                if (l > -1)
                    return r.lens[0] = l,
                    r.lens[1] = function(r) {
                        var e = Parser.evaluate(a, r) - r._PC - 2;
                        return e < 0 && (e = 256 + e),
                        e
                    }
                    ,
                    r.bytes = 2,
                    r;
                if ("#" == a[0] && B > -1)
                    return r.lens[0] = B,
                    r.lens[1] = function(r) {
                        return Parser.evaluate(a.substr(1), r)
                    }
                    ,
                    r.lens[2] = null,
                    r.bytes = 3,
                    r;
                if ("#" == a[0] && S > -1)
                    return r.lens[0] = S,
                    r.lens[1] = function(r) {
                        return Parser.evaluate(a.substr(1), r)
                    }
                    ,
                    r.bytes = 2,
                    r;
                if (A > -1 && e) {
                    var C = null;
                    try {
                        C = Parser.evaluate(a, e)
                    } catch (r) {}
                    if (C < 256 && C >= 0)
                        return r.lens[0] = A,
                        r.lens[1] = function(r) {
                            return Parser.evaluate(a, r)
                        }
                        ,
                        r.bytes = 2,
                        r
                }
                if (u > -1)
                    return r.lens[0] = u,
                    r.lens[1] = function(r) {
                        return Parser.evaluate(a, r)
                    }
                    ,
                    r.lens[2] = null,
                    r.bytes = 3,
                    r
            }
            if (t[4] > -1 && "X" == r.params[1].toUpperCase())
                return r.lens[0] = t[4],
                r.lens[1] = function(r) {
                    return Parser.evaluate(a, r)
                }
                ,
                r.bytes = 2,
                r
        }
        return null
    },
    endian: !0
};
var CDP1802 = {
    set: {
        ADC: [116, 0],
        ADCI: [124, 1],
        ADD: [244, 0],
        ADI: [252, 1],
        AND: [242, 0],
        ANI: [250, 1],
        B1: [52, 3],
        B2: [53, 3],
        B3: [54, 3],
        B4: [55, 3],
        BDF: [51, 3],
        BN1: [60, 3],
        BN2: [61, 3],
        BN3: [62, 3],
        BN4: [63, 3],
        BNF: [59, 3],
        BNQ: [57, 3],
        BNZ: [58, 3],
        BQ: [49, 3],
        BR: [48, 3],
        BZ: [50, 3],
        DEC: [32, 2],
        DIS: [113, 0],
        GHI: [144, 2],
        GLO: [128, 2],
        IDL: [0, 0],
        INC: [16, 2],
        INP: [104, 5],
        IRX: [96, 0],
        LBDF: [195, 4],
        LBNF: [203, 4],
        LBNQ: [201, 4],
        LBNZ: [202, 4],
        LBQ: [193, 4],
        LBR: [192, 4],
        LBZ: [194, 4],
        LDA: [64, 2],
        LDI: [248, 1],
        LDN: [0, 2],
        LDX: [240, 0],
        LDXA: [114, 0],
        LSDF: [207, 0],
        LSIE: [204, 0],
        LSKP: [200, 0],
        LSNF: [199, 0],
        LSNQ: [197, 0],
        LSNZ: [198, 0],
        LSQ: [205, 0],
        LSZ: [206, 0],
        MARK: [121, 0],
        NOP: [196, 0],
        OR: [241, 0],
        ORI: [249, 1],
        OUT: [96, 5],
        PHI: [176, 2],
        PLO: [160, 2],
        REQ: [122, 0],
        RET: [112, 0],
        SAV: [120, 0],
        SD: [245, 0],
        SDB: [117, 0],
        SDBI: [125, 1],
        SDI: [253, 1],
        SEP: [208, 2],
        SEQ: [123, 0],
        SEX: [224, 2],
        SHL: [254, 0],
        SHLC: [126, 0],
        SHR: [246, 0],
        SHRC: [118, 0],
        SKP: [56, 0],
        SM: [247, 0],
        SMB: [119, 0],
        SMBI: [127, 1],
        SMI: [255, 1],
        STR: [80, 2],
        STXD: [115, 0],
        XOR: [243, 0],
        XRI: [251, 1]
    },
    parseOpcode: function(e, r) {
        var a, s = CDP1802.set[e.opcode];
        e.lens = [];
        if (s)
            switch (s[1]) {
            case 0:
                return e.lens = [s[0]],
                e.bytes = 1,
                e;
            case 1:
                return a = function(e) {
                    return e.replace("#", "$")
                }(e.params[0] + ""),
                e.lens = [s[0], function(e) {
                    return Parser.evaluate(a, e)
                }
                ],
                e.bytes = 2,
                e;
            case 4:
                return a = e.params[0] + "",
                e.lens = [s[0], function(e) {
                    return Parser.evaluate(a, e)
                }
                , null],
                e.bytes = 3,
                e;
            case 3:
                return a = e.params[0] + "",
                e.lens = [s[0], function(e) {
                    var r = Parser.evaluate(a, e)
                      , s = 255 & r;
                    if ((65280 & e._PC | s) != r)
                        throw {
                            message: "Error"
                        };
                    return s
                }
                ],
                e.bytes = 2,
                e;
            case 2:
                var t;
                if (1 == (a = e.params[0] + "").length)
                    t = parseInt(a, 16);
                else if (2 != a.length && 3 != a.length || "R" != a[0].toUpperCase())
                    try {
                        t = Parser.evaluate(a, r)
                    } catch (e) {
                        t = NaN
                    }
                else
                    t = parseInt(a.substr(1), 10);
                if (isNaN(t) || t > 15 || t < 0)
                    throw "Registro desconocido: " + a;
                return e.lens = [s[0] + t],
                e.bytes = 1,
                e;
            case 5:
                var n;
                if (1 == (a = e.params[0] + "").length)
                    n = parseInt(a, 10);
                else
                    try {
                        n = Parser.evaluate(a, r)
                    } catch (e) {
                        n = NaN
                    }
                if (isNaN(n) || n > 7 || n < 1)
                    throw "Error interno: " + a;
                return e.lens = [s[0] + n],
                e.bytes = 1,
                e
            }
        return null
    },
    endian: !0
};
!function(e) {
    "undefined" != typeof module ? (module.exports = e(),
    ASM = module.exports) : "function" == typeof define && "object" == typeof define.amd ? define(e) : this.ASM = e()
}(function() {
    "use strict";
    function b(e) {
        return btoa(unescape(encodeURIComponent(e)))
    }
    function S(e) {
        return decodeURIComponent(escape(atob(e)))
    }
    function A(e, n) {
        var o = e < 0
          , r = o ? -e : e;
        if ((n = void 0 === n || n) && e == Math.floor(e) && -65535 <= e && e <= 65535)
            return [0, o ? 255 : 0, 255 & (r = o ? 65536 + e : e), r >> 8 & 255, 0];
        var a, l = Math.floor(Math.log2(r) + 1);
        if (127 < l)
            throw new Error("Overflow");
        if (l < -127)
            return [0, 0, 0, 0, 0];
        if (l < 0)
            for (a = 0; a < -l; a++)
                r *= 2;
        else
            for (a = 0; a < l; a++)
                r /= 2;
        var t = function(e, n) {
            for (var o = "", r = [], a = 0; a < 32; a++) {
                var l = "0";
                1 <= (e *= 2) && (--e,
                l = "1"),
                n && 0 === a && (l = "1"),
                n || 0 !== a || (l = "0"),
                o += l,
                a % 8 == 7 && (r.push(parseInt(o, 2)),
                o = "")
            }
            return r
        }(r, o);
        return [l + 128, t[0], t[1], t[2], t[3]]
    }
    function I(e) {
        return e.map(function(e) {
            var n = e.line;
            for (n = (n = n.replace("&lt;", "<")).replace("&gt;", ">"); " " == n[n.length - 1]; )
                n = n.substr(0, n.length - 1);
            if (" " != (e.line = n)[0])
                return e;
            for (; " " == n[0]; )
                n = n.substr(1);
            return e.line = " " + n,
            e
        })
    }
    function R(e) {
        return e.filter(function(e) {
            for (var n = e.line; " " == n[0]; )
                n = n.substr(1);
            return !!n.length
        })
    }
    function w(e) {
        var n = 1;
        return e.map(function(e) {
            return {
                line: e,
                numline: n++,
                addr: null,
                bytes: 0
            }
        })
    }
    function B(e) {
        return e.replace(/^\s+|\s+$/g, "")
    }
    function G(e, n) {
        if (!n)
            return e;
        for (var o = [], r = null, a = 0; a < e.length; a++) {
            var l = e[a]
              , t = P(l, {});
            if (r && o.push(l),
            ".ENDBLOCK" == t.opcode) {
                if (r)
                    return o
            } else if (".BLOCK" == t.opcode) {
                if (r)
                    return o;
                t.params[0].toUpperCase() == n.toUpperCase() && (o.push(l),
                r = !0)
            }
        }
        throw {
            msg: "Error " + n + " ."
        }
    }
    function u(e, n, o, r, a) {
        var l = {
            line: e.line,
            addr: e.addr,
            macro: e.macro,
            numline: e.numline
        };
        o = o + "S" + a,
        n = n || [];
        var t = r || [];
        if (t && t.length > n.length)
            throw l.numline = a,
            {
                msg: "Error",
                s: l
            };
        for (var s = n.length - 1; 0 <= s; s--) {
            var i = n[s];
            0 === i.indexOf("00bb") && (i = S(i.substr(4))),
            l.line = l.line.replace("%%" + (s + 1), i),
            t && t[s] && (l.line = l.line.replace(t[s], i))
        }
        return l.line = l.line.replace("%%M", "M_" + o),
        l.line = l.line.replace("%%m", "M_" + o),
        l
    }
    function n(e, n) {
        for (var o = e.toString(16); o.length < n; )
            o = "0" + o;
        return o.toUpperCase()
    }
    function h(e) {
        return n(255 & e, 2)
    }
    function m(e) {
        return n(e, 4)
    }
    function g(e) {
        return n(e, 6)
    }
    function M(e) {
        if (ASM.PRAGMAS.RELAX)
            return "string" == typeof e ? 255 & e.charCodeAt(0) : 255 & e;
        if ("string" == typeof e) {
            if (1 != e.length)
                throw "Error (" + e + ")";
            return 255 & e.charCodeAt(0)
        }
        if (255 < e)
            throw "Par√°metro fuera de rango (" + e + ")";
        if (e < -128)
            throw "Par√°metro fuera de rango (" + e + ")";
        return 255 & e
    }
    function i(e, n) {
        var o = ":"
          , r = n.length
          , a = 0;
        o += h(r),
        o += m(e),
        o += "00",
        a = r + Math.floor(e / 256) + Math.floor(e % 256);
        for (var l = 0; l < n.length; l++)
            o += h(n[l]),
            a += n[l];
        return o += h(256 - a % 256)
    }
    function v(e, n, o) {
        var r = 0
          , a = []
          , l = 16;
        1 < o && (l = o);
        for (var t = "", s = 0; s < n.length; s++)
            a.push(n[s]),
            ++r === l && (t += i(e, a) + "\n",
            a = [],
            r = 0,
            e += l);
        return a.length && (t += i(e, a) + "\n"),
        t
    }
    function t(e, n) {
        var o = "S1"
          , r = n.length
          , a = 0;
        o += h(r + 3),
        o += m(e),
        a = r + 3 + Math.floor(e / 256) + Math.floor(e % 256);
        for (var l = 0; l < n.length; l++)
            o += h(n[l]),
            a += n[l];
        return o += h(256 - a % 256)
    }
    function E(e, n) {
        for (var o = 0, r = [], a = "", l = 0; l < n.length; l++)
            r.push(n[l]),
            16 == ++o && (a += t(e, r) + "\n",
            r = [],
            o = 0,
            e += 16);
        return r.length && (a += t(e, r) + "\n"),
        a
    }
    function s(e, n) {
        var o = "S2"
          , r = n.length
          , a = 0;
        o += h(r + 4),
        o += g(e),
        a = r + 4 + Math.floor(e / 65536) + Math.floor(e / 256) % 256 + Math.floor(e % 256);
        for (var l = 0; l < n.length; l++)
            o += h(n[l]),
            a += n[l];
        return o += h(255 - a % 256)
    }
    function y(e, n) {
        for (var o = 0, r = [], a = "", l = 0; l < n.length; l++)
            r.push(n[l]),
            16 == ++o && (a += s(e, r) + "\n",
            r = [],
            o = 0,
            e += 16);
        return r.length && (a += s(e, r) + "\n"),
        a
    }
    var L = null
      , _ = null
      , T = {}
      , C = !1
      , P = function(n, e, o, r) {
        var a, l = n.line, t = l.match(/^\s*:\s*(.*)/);
        t && (n.anonymousLabel = "anon__" + ((a = n).includedFile ? a.includedFileAtLine + "__" + a.numline : a.numline),
        l = t[1]),
        (t = l.match(/^\s*(\@{0,1}[a-zA-Z0-9-_]+):\s*(.*)/)) && (n.label = t[1].toUpperCase(),
        l = t[2]),
        (t = l.match(/^\s*:\s*(.*)/)) && (n.label = "__@anon" + n.numline,
        l = t[2]),
        n._dp = 0,
        n.params = [];
        var s, i = l.match(/^\s*(\=)\s*(.*)/);
        if ((i = i || l.match(/^\s*([\.a-zA-Z0-9-_]+)\s*(.*)/)) && (n.opcode = i[1].toUpperCase(),
        l = i[2]),
        l) {
            for (; l.match(/\"(.*?)\"/g); )
                l = l.replace(/\"(.*?)\"/g, function(e) {
                    return "00ss" + b(e) + "!"
                });
            for (; l.match(/\'(.*?)\'/g); )
                l = l.replace(/\'(.*?)\'/g, function(e) {
                    return "00ss" + b('"' + e.substr(1, e.length - 2) + '"') + "!"
                });
            for (; l.match(/\{(.*?)\}/g); )
                l = l.replace(/\{(.*?)\}/g, function(e) {
                    return "00bb" + b(e.substr(1, e.length - 2))
                });
            for (; l.match(/"(.*?);(.*?)"/g); )
                l = l.replace(/"(.*?);(.*?)"/g, '"$1¬ß$2"');
            for (; l.match(/'(.*?);(.*?)'/g); )
                l = l.replace(/'(.*?);(.*?)'/g, '"$1¬ß$2"');
            var p = l.match(/^\s*([^;]*)(.*)/);
            if (p && p[1].length) {
                n.paramstring = p[1];
                for (var c = p[1]; c.match(/"(.*?),(.*?)"/g); )
                    c = c.replace(/"(.*?),(.*?)"/g, '"$1‚Ç¨$2"');
                for (; c.match(/'(.*?),(.*?)'/g); )
                    c = c.replace(/'(.*?),(.*?)'/g, '"$1‚Ç¨$2"');
                var f = c.match(/([0-9]+)\s*DUP\s*\((.*)\)/i);
                if (f) {
                    for (var d = parseInt(f[1]), u = "", h = 0; h < d; h++)
                        u += f[2] + ",";
                    c = u.substring(0, u.length - 1)
                }
                var m = c.split(/\s*,\s*/);
                n.params = m.map(function(e) {
                    return B(e.replace(/‚Ç¨/g, ",").replace(/¬ß/g, ";")).replace(/00ss(.*?)\!/g, function(e) {
                        return S(e.substr(4, e.length - 5))
                    })
                }),
                l = p[2].replace(/¬ß/g, ";")
            }
        }
        if (!l || (s = l.match(/^\s*;*(.*)/)) && (n.remark = s[1].replace(/00ss(.*?)\!/g, function(e) {
            return S(e.substr(4, e.length - 5))
        }),
        n.remark || (n.remark = " "),
        l = ""),
        n.notparsed = l,
        "ORG" === n.opcode && (n.opcode = ".ORG"),
        ".ERROR" === n.opcode)
            return n.paramstring = n.paramstring.replace(/00ss(.*?)\!/g, function(e) {
                return S(e.substr(4, e.length - 5))
            }),
            n;
        if (".EQU" === n.opcode && (n.opcode = "EQU"),
        ".FILL" === n.opcode && (n.opcode = "FILL"),
        ".ORG" === n.opcode)
            try {
                return n
            } catch (e) {
                throw {
                    msg: e.message,
                    s: n
                }
            }
        if ("DEFB" === n.opcode)
            return n.opcode = "DB",
            n;
        if (".BYTE" === n.opcode)
            return n.opcode = "DB",
            n;
        if (".DB" === n.opcode)
            return n.opcode = "DB",
            n;
        if (".WORD" === n.opcode)
            return n.opcode = "DW",
            n;
        if (".DW" === n.opcode)
            return n.opcode = "DW",
            n;
        if ("DEFW" === n.opcode)
            return n.opcode = "DW",
            n;
        if (".DD" === n.opcode)
            return n.opcode = "DD",
            n;
        if (".DF" === n.opcode)
            return n.opcode = "DF",
            n;
        if (".DFZXS" === n.opcode)
            return n.opcode = "DFZXS",
            n;
        if (".DFF" === n.opcode)
            return n.opcode = "DFF",
            n;
        if ("DEFS" === n.opcode)
            return n.opcode = "DS",
            n;
        if (".RES" === n.opcode)
            return n.opcode = "DS",
            n;
        if ("DEFM" === n.opcode)
            return n.opcode = "DS",
            n;
        if (".ALIGN" === n.opcode)
            return n.opcode = "ALIGN",
            n;
        if (".IF" === n.opcode)
            return n.opcode = "IF",
            n;
        if (".ELSE" === n.opcode)
            return n.opcode = "ELSE",
            n;
        if (".ENDIF" === n.opcode)
            return n.opcode = "ENDIF",
            n;
        if (".PRAGMA" === n.opcode)
            return ASM.PRAGMAS = ASM.PRAGMAS || [],
            ASM.PRAGMAS.push(n.params[0].toUpperCase()),
            n;
        if ("EQU" === n.opcode || "=" === n.opcode || ".SET" === n.opcode || "IF" === n.opcode || "IFN" === n.opcode || "ELSE" === n.opcode || "ENDIF" === n.opcode || ".ERROR" === n.opcode || ".INCLUDE" === n.opcode || ".INCBIN" === n.opcode || ".MACRO" === n.opcode || ".ENDM" === n.opcode || ".BLOCK" === n.opcode || ".ENDBLOCK" === n.opcode || ".REPT" === n.opcode || ".CPU" === n.opcode || ".ENT" === n.opcode || ".BINFROM" === n.opcode || ".BINTO" === n.opcode || ".ENGINE" === n.opcode || ".PRAGMA" === n.opcode || "END" === n.opcode || ".END" === n.opcode || "BSZ" === n.opcode || "FCB" === n.opcode || "FCC" === n.opcode || "FDB" === n.opcode || "FILL" === n.opcode || "RMB" === n.opcode || "ZMB" === n.opcode || "SETDP" === n.opcode || ".M8" === n.opcode || ".X8" === n.opcode || ".M16" === n.opcode || ".X16" === n.opcode || ".PHASE" === n.opcode || ".DEPHASE" === n.opcode || ".SETPHASE" === n.opcode || "ALIGN" === n.opcode || ".CSTR" === n.opcode || ".ISTR" === n.opcode || ".PSTR" === n.opcode || ".CSEG" === n.opcode || ".DSEG" === n.opcode || ".ESEG" === n.opcode || ".BSSEG" === n.opcode || "DB" === n.opcode || "DW" === n.opcode || "DD" === n.opcode || "DF" === n.opcode || "DFF" === n.opcode || "DFZXS" === n.opcode || "DS" === n.opcode)
            return n;
        if (".DEBUGINFO" === n.opcode || ".MACPACK" === n.opcode || ".FEATURE" === n.opcode || ".ZEROPAGE" === n.opcode || ".SEGMENT" === n.opcode || ".SETCPU" === n.opcode)
            return n.opcode = "",
            n;
        if (!n.opcode && n.label)
            return n;
        try {
            var g = L.parseOpcode(n)
        } catch (e) {
            throw {
                msg: e,
                s: n
            }
        }
        if (null !== g)
            return g;
        if (e[n.opcode])
            return n.macro = n.opcode,
            n;
        if (!n.label && !o) {
            var v = JSON.parse(JSON.stringify(n));
            if (v.addr = null,
            v.bytes = 0,
            n.remark && !n.opcode)
                return n;
            if (!n.params || 0 === n.params.length)
                throw {
                    msg: "Instrucci√≥n no reconocida " + n.opcode,
                    s: n
                };
            if (!n.opcode)
                throw {
                    msg: "Instrucci√≥n no reconocida " + n.opcode,
                    s: n
                };
            0 === n.params[0].indexOf(":=") && (n.params[0] = ".SET" + n.params[0].substr(2)),
            v.line = n.opcode + ": " + n.params.join(),
            n.remark && (v.line += " ;" + n.remark);
            var E = P(v, e, !0, n);
            if (!E.opcode)
                throw {
                    msg: "Instrucci√≥n no reconocida " + n.opcode,
                    s: n
                };
            return E
        }
        if (o)
            throw {
                msg: "Instrucci√≥n no reconocida " + r.opcode,
                s: n
            };
        throw {
            msg: "Instrucci√≥n no reconocida " + n.opcode,
            s: n
        }
    }
      , U = function(e, n, o) {
        var r, a, l = null;
        n = n || {};
        for (var t = {}, s = null, i = null, p = [], c = 0, f = e.length; c < f; c++) {
            var d = (r = e[c].line).match(/\s*(.)/);
            if (d && ";" === d[1])
                p.push(e[c]);
            else if (a = r.match(/\s*(\.[^\s]+)(.*)/)) {
                var u = a[1].toUpperCase()
                  , h = a[2].match(/^\s*([^;]*)(.*)/)
                  , l = h && h[1].length ? (h[1],
                (C = h[1].split(/\s*,\s*/)).map(B)) : null;
                if (".INCLUDE" !== u || !n.noinclude)
                    if (".INCLUDE" !== u)
                        if (".ENDM" !== u)
                            if (".MACRO" !== u)
                                if (".REPT" !== u)
                                    s ? t[s].push(e[c]) : p.push(e[c]);
                                else {
                                    if (!l[0])
                                        throw {
                                            msg: "Error",
                                            s: e[c]
                                        };
                                    if (!(i = Parser.evaluate(l[0])))
                                        throw {
                                            msg: "Error",
                                            s: e[c]
                                        };
                                    if (t[s = "*REPT" + e[c].numline])
                                        throw {
                                            msg: "Error Macro " + e[c].numline,
                                            s: e[c]
                                        };
                                    t[s] = []
                                }
                            else {
                                if (";" === r[0])
                                    continue;
                                var m = null
                                  , g = r.match(/^(\S+)\s+\.MACRO/i);
                                if (g ? m = g[1] : l && l[0] && (m = l.shift()),
                                !m)
                                    throw {
                                        msg: "Error " + e[c].numline,
                                        s: e[c]
                                    };
                                if (":" === m[m.length - 1] && (m = m.substr(0, m.length - 1)),
                                t[s = m.toUpperCase()])
                                    throw {
                                        msg: "Macro " + s + " redefinida en " + e[c].numline,
                                        s: e[c]
                                    };
                                t[s] = [l]
                            }
                        else {
                            if (!s)
                                throw {
                                    msg: "ENDM Error " + e[c].numline,
                                    s: e[c]
                                };
                            if (i) {
                                p.push({
                                    numline: e[c].numline,
                                    line: ";rept unroll",
                                    addr: null,
                                    bytes: 0,
                                    remark: "REPT unroll"
                                });
                                for (var v = 0; v < i; v++)
                                    for (var E = 0; E < t[s].length; E++) {
                                        var b = t[s][E].line;
                                        p.push({
                                            numline: e[v].numline,
                                            line: b,
                                            addr: null,
                                            bytes: 0
                                        })
                                    }
                            } else {
                                var S = t[s][0] || [];
                                p.push({
                                    numline: e[c].numline,
                                    line: ";Macro define " + s,
                                    addr: null,
                                    bytes: 0,
                                    listing: ".macro " + s + (S ? "," : "") + S.join(",")
                                });
                                for (var A = t[s], M = 0; M < A.length; M++)
                                    A[M] && p.push({
                                        line: ";",
                                        listing: A[M].line
                                    });
                                p.push({
                                    line: ";",
                                    listing: ".endm"
                                }),
                                p.push({
                                    line: ";",
                                    listing: " "
                                })
                            }
                            i = s = null
                        }
                    else {
                        var y = "";
                        if (0 <= l[0].indexOf(":")) {
                            var C = l[0].split(":");
                            if (l[0] = C[0],
                            y = C[1],
                            3 == C.length)
                                y = C[2];
                            else if (T["*" + C[0].toUpperCase() + ":" + y.toUpperCase()])
                                continue;
                            T["*" + C[0].toUpperCase() + ":" + y.toUpperCase()] = "used"
                        }
                        if (!l || !l[0])
                            throw {
                                msg: "Archivo no existente",
                                s: e[c]
                            };
                        if ("THIS" == l[0].toUpperCase() && y)
                            D = G(o, y);
                        else {
                            var P = _(l[0].replace(/\"/g, ""));
                            if (!P)
                                throw {
                                    msg: "Archivo " + l[0] + " inexistente",
                                    s: e[c]
                                };
                            var D = w(P.split(/\n/));
                            D = R(D);
                            var N = D = I(D);
                            D = G(D, y)
                        }
                        for (var F = U(D, {}, N), M = 0; M < F[0].length; M++)
                            F[0][M].includedFile = l[0].replace(/\"/g, ""),
                            F[0][M].includedFileAtLine = e[c].numline,
                            p.push(F[0][M]);
                        for (M in F[1])
                            t[M] = F[1][M];
                        T[l[0].replace(/\"/g, "")] = P
                    }
            } else {
                if (s) {
                    t[s].push(e[c]);
                    continue
                }
                p.push(e[c])
            }
        }
        if (s)
            throw {
                msg: "MACRO " + s + ".",
                s: e[c]
            };
        return [p, t]
    }
      , D = function(e, n, o) {
        o = o || "";
        for (var r = [], a = 0; a < e.length; a++) {
            var l = e[a];
            if (l.macro) {
                var t = n[l.macro]
                  , s = t[0];
                r.push({
                    remark: "*Macro unroll: " + l.line
                });
                for (var i = 0; i < t.length; i++)
                    if (0 !== i) {
                        var p = u(t[i], l.params, a + o, s, l.numline);
                        p.bytes = 0;
                        var c = P(p, n);
                        if (c.macro)
                            for (var f = D([c], n, o + "_" + a), d = 0; d < f.length; d++)
                                r.push(f[d]);
                        else
                            l.label && (c.label = l.label),
                            l.label = "",
                            c.remark = l.remark,
                            c.macro = l.macro,
                            l.macro = null,
                            l.remark = "",
                            r.push(c)
                    }
            } else
                r.push(l)
        }
        return r
    }
      , O = {};
    return {
        parse: function(e, n) {
            (L = n).endian && (C = n.endian),
            T = {};
            var o = w(e.split(/\n/))
              , o = R(o);
            o = I(o);
            var r = U(o);
            return o = r[0].map(function(e) {
                return P(e, r[1])
            }),
            o = D(o, r[1])
        },
        pass1: function(e, n) {
            function o() {
                if ("BSSEG" === r)
                    throw p.opcode + " ."
            }
            var r = "CSEG"
              , a = {}
              , l = 0
              , t = {};
            n && (t = n);
            for (var s, i, p = null, c = 0, f = 0, d = [], u = [], h = 0, m = 0, g = 0, v = e.length; g < v; g++)
                if (p = e[g],
                ASM.WLINE = e[g],
                p.pass = 1,
                p.segment = r,
                p.addr = l,
                p._dp = m,
                t._PC = l,
                0 !== h && (p.phase = h),
                "ENDIF" !== p.opcode)
                    if ("ELSE" !== p.opcode)
                        if ("IF" !== p.opcode)
                            if ("IFN" !== p.opcode) {
                                if (c)
                                    p.ifskip = !0;
                                else if (".BLOCK" !== p.opcode)
                                    if (".ENDBLOCK" !== p.opcode) {
                                        if (p.label) {
                                            var E = p.label
                                              , b = !1;
                                            if ("@" === E[0] && (b = !0,
                                            E = E.substr(1),
                                            p.label = E,
                                            p.beGlobal = !0),
                                            p.beGlobal && (b = !0),
                                            0 < u.length && (E = u.join("/") + "/" + E,
                                            t["__" + u.join("/")].push(p.label)),
                                            !n && (t[E + "$"] || b && void 0 !== t[p.label]) && ".SET" !== p.opcode && ":=" !== p.opcode)
                                                throw {
                                                    msg: "Etiqueta redefinida " + p.label + " en " + p.numline,
                                                    s: p
                                                };
                                            t[p.label] ? t[E] = t[p.label] : b && (t[E] = l),
                                            O[p.label] = {
                                                defined: {
                                                    line: p.numline,
                                                    file: p.includedFile || "*main*"
                                                },
                                                value: l
                                            },
                                            t[E + "$"] = l,
                                            t[p.label] = l,
                                            b && (t[E] = l)
                                        }
                                        try {
                                            if (".ORG" === p.opcode) {
                                                l = Parser.evaluate(p.params[0], t),
                                                p.addr = l,
                                                a[r] = l;
                                                continue
                                            }
                                            if (".CSEG" === p.opcode && (a[r] = l,
                                            r = "CSEG",
                                            l = a[p.segment = r] || 0,
                                            p.addr = l),
                                            ".DSEG" === p.opcode && (a[r] = l,
                                            r = "DSEG",
                                            l = a[p.segment = r] || 0,
                                            p.addr = l),
                                            ".ESEG" === p.opcode && (a[r] = l,
                                            r = "ESEG",
                                            l = a[p.segment = r] || 0,
                                            p.addr = l),
                                            ".BSSEG" === p.opcode && (a[r] = l,
                                            r = "BSSEG",
                                            l = a[p.segment = r] || 0,
                                            p.addr = l),
                                            ".PHASE" === p.opcode) {
                                                if (h)
                                                    throw {
                                                        message: "Error"
                                                    };
                                                var S = Parser.evaluate(p.params[0], t)
                                                  , h = S - (p.addr = l)
                                                  , l = S;
                                                continue
                                            }
                                            if (".DEPHASE" === p.opcode) {
                                                p.addr = l,
                                                l -= h,
                                                h = 0;
                                                continue
                                            }
                                            if ("EQU" === p.opcode) {
                                                try {
                                                    t[p.label] = Parser.evaluate(p.params[0], t)
                                                } catch (e) {
                                                    t[p.label] = null
                                                }
                                                O[p.label] = {
                                                    defined: {
                                                        line: p.numline,
                                                        file: p.includedFile || "*main*"
                                                    },
                                                    value: t[p.label]
                                                };
                                                continue
                                            }
                                            if ("=" === p.opcode || ":=" === p.opcode || ".SET" === p.opcode) {
                                                t[p.label] = Parser.evaluate(p.params[0], t),
                                                O[p.label] = {
                                                    defined: {
                                                        line: p.numline,
                                                        file: p.includedFile || "*main*"
                                                    },
                                                    value: t[p.label]
                                                };
                                                continue
                                            }
                                        } catch (e) {
                                            throw {
                                                msg: e.message,
                                                s: p
                                            }
                                        }
                                        if ("DB" === p.opcode || "FCB" === p.opcode)
                                            for (o(),
                                            s = p.bytes = 0; s < p.params.length; s++)
                                                try {
                                                    if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                        p.bytes++;
                                                        continue
                                                    }
                                                    if ("string" == typeof D) {
                                                        p.bytes += D.length;
                                                        continue
                                                    }
                                                } catch (e) {
                                                    p.bytes++
                                                }
                                        if ("FCC" === p.opcode)
                                            for (o(),
                                            s = p.bytes = 0; s < p.params.length; s++) {
                                                var A = p.params[s].trim()
                                                  , M = A[0];
                                                if (A[A.length - 1] !== M)
                                                    throw {
                                                        msg: "Error",
                                                        s: p
                                                    };
                                                p.bytes += A.length - 2
                                            }
                                        if (".CSTR" === p.opcode || ".PSTR" === p.opcode || ".ISTR" === p.opcode) {
                                            for (o(),
                                            s = p.bytes = 0; s < p.params.length; s++)
                                                try {
                                                    if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                        p.bytes++;
                                                        continue
                                                    }
                                                    if ("string" == typeof D) {
                                                        p.bytes += D.length;
                                                        continue
                                                    }
                                                } catch (e) {
                                                    p.bytes++
                                                }
                                            ".CSTR" !== p.opcode && ".PSTR" !== p.opcode || p.bytes++
                                        }
                                        if ("DS" !== p.opcode && "RMB" !== p.opcode)
                                            if ("ALIGN" !== p.opcode)
                                                if ("SETDP" !== p.opcode)
                                                    if ("FILL" !== p.opcode)
                                                        if ("BSZ" !== p.opcode && "ZMB" !== p.opcode) {
                                                            if ("DW" === p.opcode || "FDB" === p.opcode)
                                                                for (o(),
                                                                s = p.bytes = 0; s < p.params.length; s++)
                                                                    try {
                                                                        if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                                            p.bytes += 2;
                                                                            continue
                                                                        }
                                                                    } catch (e) {
                                                                        p.bytes += 2
                                                                    }
                                                            if ("DD" === p.opcode || "DF" === p.opcode)
                                                                for (o(),
                                                                s = p.bytes = 0; s < p.params.length; s++)
                                                                    try {
                                                                        if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                                            p.bytes += 4;
                                                                            continue
                                                                        }
                                                                    } catch (e) {
                                                                        p.bytes += 4
                                                                    }
                                                            if ("DFF" === p.opcode)
                                                                for (o(),
                                                                s = p.bytes = 0; s < p.params.length; s++)
                                                                    try {
                                                                        if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                                            p.bytes += 8;
                                                                            continue
                                                                        }
                                                                    } catch (e) {
                                                                        p.bytes += 8
                                                                    }
                                                            if ("DFZXS" === p.opcode)
                                                                for (o(),
                                                                s = p.bytes = 0; s < p.params.length; s++)
                                                                    try {
                                                                        if ("number" == typeof (D = Parser.evaluate(p.params[s], t))) {
                                                                            p.bytes += 5;
                                                                            continue
                                                                        }
                                                                    } catch (e) {
                                                                        p.bytes += 5
                                                                    }
                                                            if (".INCBIN" !== p.opcode)
                                                                if (".M16" !== p.opcode)
                                                                    if (".M8" !== p.opcode)
                                                                        if (".X16" !== p.opcode)
                                                                            if (".X8" !== p.opcode) {
                                                                                var y = L.parseOpcode(e[g], t);
                                                                                if (y && (o(),
                                                                                p = y),
                                                                                void 0 === p.bytes && (p.bytes = 0),
                                                                                l += p.bytes,
                                                                                p.params && p.params.length && !p.opcode)
                                                                                    throw {
                                                                                        msg: "Error",
                                                                                        s: p
                                                                                    }
                                                                            } else
                                                                                t.__MX = 8;
                                                                        else
                                                                            t.__MX = 16;
                                                                    else
                                                                        t.__AX = 8;
                                                                else
                                                                    t.__AX = 16;
                                                            else {
                                                                if (o(),
                                                                !p.params[0])
                                                                    throw {
                                                                        msg: "Archivo no encontrado " + p.numline,
                                                                        s: p
                                                                    };
                                                                var C = _(p.params[0], !0);
                                                                if (!C)
                                                                    throw {
                                                                        msg: "Error " + p.params[0] + ".",
                                                                        s: p
                                                                    };
                                                                p.bytes = 0,
                                                                p.lens = [];
                                                                for (F = 0; F < C.length; F++) {
                                                                    var P = C.charCodeAt(F);
                                                                    255 < P && (p.lens[p.bytes++] = P >> 8),
                                                                    p.lens[p.bytes++] = P % 256
                                                                }
                                                                l += p.bytes
                                                            }
                                                        } else {
                                                            o();
                                                            N = Parser.evaluate(p.params[0], t);
                                                            p.bytes = N,
                                                            p.lens = [];
                                                            for (F = 0; F < N; F++)
                                                                p.lens[F] = 0;
                                                            l += N
                                                        }
                                                    else {
                                                        o();
                                                        var D, N = Parser.evaluate(p.params[1], t);
                                                        "string" == typeof (D = Parser.evaluate(p.params[0], t)) && (D = D.charCodeAt(0)),
                                                        p.bytes = N,
                                                        p.lens = [];
                                                        for (var F = 0; F < N; F++)
                                                            p.lens[F] = D;
                                                        l += N
                                                    }
                                                else
                                                    m = Parser.evaluate(p.params[0], t);
                                            else {
                                                var I = Parser.evaluate(p.params[0], t);
                                                l += 0 < l % I ? I - l % I : 0
                                            }
                                        else {
                                            if ("number" != typeof (N = Parser.evaluate(p.params[0], t)))
                                                throw {
                                                    msg: "DS / RMB necesitan un par√°metro ",
                                                    s: p
                                                };
                                            if (2 == p.params.length) {
                                                "string" == typeof (D = Parser.evaluate(p.params[1], t)) && (D = D.charCodeAt(0)),
                                                p.bytes = N,
                                                p.lens = [];
                                                for (var F = 0; F < N; F++)
                                                    p.lens[F] = D
                                            }
                                            l += N
                                        }
                                    } else {
                                        for (var R = t["__" + u.join("/")], w = 0; w < R.length; w++)
                                            t[R[w]] = t[u.join("/") + "/" + R[w]],
                                            delete t[u.join("/") + "/" + R[w]];
                                        u.pop(),
                                        t.__blocks = JSON.stringify(u)
                                    }
                                else
                                    p.includedFileAtLine ? u.push(p.numline + "@" + p.includedFileAtLine) : u.push(p.numline),
                                    t["__" + u.join("/")] = []
                            } else {
                                try {
                                    i = Parser.evaluate(p.params[0], t)
                                } catch (e) {}
                                i && (c = 1),
                                f = 1,
                                d.push(c)
                            }
                        else {
                            try {
                                i = Parser.evaluate(p.params[0], t)
                            } catch (e) {}
                            i || (c = 1),
                            f = 1,
                            d.push(c)
                        }
                    else {
                        if (!f)
                            throw {
                                msg: "Error",
                                s: p
                            };
                        c = (c = d.pop()) ? 0 : 1,
                        d.filter(function(e) {
                            return 1 == e
                        }).length && (c = 1),
                        d.push(c)
                    }
                else {
                    if (!f)
                        throw {
                            msg: "Error",
                            s: p
                        };
                    c = d.pop(),
                    d.length ? f = 1 : c = f = 0
                }
            return [e, t]
        },
        pass2: function(e) {
            for (var n, o, r, a, l = e[0], t = e[1], s = null, i = null, p = [], c = 0, f = 0, d = l.length; f < d; f++)
                try {
                    if ((s = l[f]).pass = 2,
                    "ENDIF" === s.opcode) {
                        c = 0;
                        continue
                    }
                    if ("ELSE" === s.opcode) {
                        c = c ? 0 : 1;
                        continue
                    }
                    if (c)
                        continue;
                    if (".ERROR" === s.opcode)
                        throw {
                            msg: s.paramstring,
                            s: s
                        };
                    if ("IF" === s.opcode) {
                        Parser.evaluate(s.params[0], t);
                        try {
                            Parser.evaluate(s.params[0], t) || (c = 1)
                        } catch (e) {
                            throw {
                                message: "Error"
                            }
                        }
                        continue
                    }
                    if ("IFN" === s.opcode) {
                        try {
                            Parser.evaluate(s.params[0], t) && (c = 1)
                        } catch (e) {
                            throw {
                                message: "Error"
                            }
                        }
                        continue
                    }
                    t._PC = s.addr;
                    try {
                        for (var u = Parser.usage(s.params[0].toUpperCase(), t), h = 0; h < u.length; h++)
                            O[u[h]].usage || (O[u[h]].usage = []),
                            O[u[h]].usage.push({
                                line: s.numline,
                                file: s.includedFile || "*main*"
                            })
                    } catch (e) {}
                    try {
                        for (u = Parser.usage(s.params[1].toUpperCase(), t),
                        h = 0; h < u.length; h++)
                            O[u[h]].usage || (O[u[h]].usage = []),
                            O[u[h]].usage.push({
                                line: s.numline,
                                file: s.includedFile || "*main*"
                            })
                    } catch (e) {}
                    if (".BLOCK" === s.opcode) {
                        s.includedFileAtLine ? p.push(s.numline + "@" + s.includedFileAtLine) : p.push(s.numline);
                        for (var m = t["__" + p.join("/")], g = 0; g < m.length; g++)
                            t[p.join("/") + "/" + m[g]] = t[m[g]],
                            t[m[g]] = t[p.join("/") + "/" + m[g] + "$"];
                        continue
                    }
                    if (".ENDBLOCK" === s.opcode) {
                        for (m = t["__" + p.join("/")],
                        g = 0; g < m.length; g++)
                            t[m[g]] = t[p.join("/") + "/" + m[g]],
                            void 0 === t[m[g]] && delete t[m[g]],
                            t[p.join("/") + "/" + m[g]] = null;
                        p.pop();
                        continue
                    }
                    if (".ENT" === s.opcode) {
                        ASM.ENT = Parser.evaluate(s.params[0], t);
                        continue
                    }
                    if (".BINFROM" === s.opcode) {
                        ASM.BINFROM = Parser.evaluate(s.params[0], t);
                        continue
                    }
                    if (".BINTO" === s.opcode) {
                        ASM.BINTO = Parser.evaluate(s.params[0], t);
                        continue
                    }
                    if (".SETPHASE" === s.opcode) {
                        ASM.PHASES || (ASM.PHASES = {}),
                        ASM.PHASES[s.addr] = s.params[0];
                        continue
                    }
                    if (".ENGINE" === s.opcode) {
                        ASM.ENGINE = s.params[0];
                        continue
                    }
                    if ("EQU" === s.opcode) {
                        if (!s.label)
                            throw {
                                msg: "EQU error",
                                s: s
                            };
                        t[s.label] = Parser.evaluate(s.params[0], t);
                        continue
                    }
                    if (".SET" === s.opcode || ":=" === s.opcode) {
                        t[s.label] = Parser.evaluate(s.params[0], t);
                        continue
                    }
                    if ("DB" === s.opcode || "FCB" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            if ("number" != typeof (b = Parser.evaluate(s.params[o], t))) {
                                if ("string" == typeof b)
                                    for (var v = 0; v < b.length; v++)
                                        s.lens[n++] = b.charCodeAt(v)
                            } else
                                s.lens[n++] = Math.floor(b % 256);
                        continue
                    }
                    if ("FCC" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            for (var E = s.params[o].trim(), b = (E[0],
                            E.substr(1, E.length - 2)), v = 0; v < b.length; v++)
                                s.lens[n++] = b.charCodeAt(v);
                        continue
                    }
                    if (".CSTR" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            if ("number" != typeof (b = Parser.evaluate(s.params[o], t))) {
                                if ("string" == typeof b)
                                    for (v = 0; v < b.length; v++)
                                        s.lens[n++] = b.charCodeAt(v)
                            } else
                                s.lens[n++] = Math.floor(b % 256);
                        s.lens[n++] = 0;
                        continue
                    }
                    if (".PSTR" === s.opcode) {
                        for (n = 1,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            if ("number" != typeof (b = Parser.evaluate(s.params[o], t))) {
                                if ("string" == typeof b)
                                    for (v = 0; v < b.length; v++)
                                        s.lens[n++] = b.charCodeAt(v)
                            } else
                                s.lens[n++] = Math.floor(b % 256);
                        s.lens[0] = n - 1;
                        continue
                    }
                    if (".ISTR" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            if ("number" != typeof (b = Parser.evaluate(s.params[o], t))) {
                                if ("string" == typeof b)
                                    for (v = 0; v < b.length; v++)
                                        s.lens[n++] = 127 & b.charCodeAt(v)
                            } else
                                s.lens[n++] = Math.floor(b % 128);
                        s.lens[n - 1] = 128 | s.lens[n - 1];
                        continue
                    }
                    if ("DW" === s.opcode || "FDB" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++)
                            "number" != typeof (b = Parser.evaluate(s.params[o], t)) || (C ? (s.lens[n++] = Math.floor(b / 256),
                            s.lens[n++] = Math.floor(b % 256)) : (s.lens[n++] = Math.floor(b % 256),
                            s.lens[n++] = Math.floor(b / 256)));
                        continue
                    }
                    if ("DD" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++) {
                            "number" != typeof (b = Parser.evaluate(s.params[o], t)) || (r = new ArrayBuffer(4),
                            new Int32Array(r)[0] = b,
                            a = new Uint8Array(r),
                            C ? (s.lens[n++] = a[3],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[0]) : (s.lens[n++] = a[0],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[3]))
                        }
                        continue
                    }
                    if ("DF" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++) {
                            "number" != typeof (b = Parser.evaluate(s.params[o], t)) || (r = new ArrayBuffer(4),
                            new Float32Array(r)[0] = b,
                            a = new Uint8Array(r),
                            C ? (s.lens[n++] = a[3],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[0]) : (s.lens[n++] = a[0],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[3]))
                        }
                        continue
                    }
                    if ("DFF" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++) {
                            "number" != typeof (b = Parser.evaluate(s.params[o], t)) || (r = new ArrayBuffer(8),
                            new Float64Array(r)[0] = b,
                            a = new Uint8Array(r),
                            C ? (s.lens[n++] = a[7],
                            s.lens[n++] = a[6],
                            s.lens[n++] = a[5],
                            s.lens[n++] = a[4],
                            s.lens[n++] = a[3],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[0]) : (s.lens[n++] = a[0],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[3],
                            s.lens[n++] = a[4],
                            s.lens[n++] = a[5],
                            s.lens[n++] = a[6],
                            s.lens[n++] = a[7]))
                        }
                        continue
                    }
                    if ("DFZXS" === s.opcode) {
                        for (n = 0,
                        s.lens = [],
                        o = 0; o < s.params.length; o++) {
                            "number" != typeof (b = Parser.evaluate(s.params[o], t)) || (a = A(b, !1),
                            C ? (s.lens[n++] = a[4],
                            s.lens[n++] = a[3],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[0]) : (s.lens[n++] = a[0],
                            s.lens[n++] = a[1],
                            s.lens[n++] = a[2],
                            s.lens[n++] = a[3],
                            s.lens[n++] = a[4]))
                        }
                        continue
                    }
                    if (s.anonymousLabel && (console.log(s),
                    t.ANON_PREV_2 = ["ANON_PREV_1"],
                    t.ANON_PREV_1 = s.addr,
                    console.log(t)),
                    s.lens && s.lens[1] && "function" == typeof s.lens[1] && ("addr24" === s.lens[2] ? (i = s.lens[1](t),
                    C ? (s.lens[3] = Math.floor(i % 256),
                    s.lens[2] = Math.floor((i >> 8) % 256),
                    s.lens[1] = Math.floor(i >> 16 & 255)) : (s.lens[1] = Math.floor(i % 256),
                    s.lens[2] = Math.floor((i >> 8) % 256),
                    s.lens[3] = Math.floor(i >> 16 & 255))) : "addr32" === s.lens[2] ? (i = s.lens[1](t),
                    C ? (s.lens[4] = Math.floor(i % 256),
                    s.lens[3] = Math.floor((i >> 8) % 256),
                    s.lens[2] = Math.floor(i >> 16 & 255),
                    s.lens[1] = Math.floor(i >> 24 & 255)) : (s.lens[1] = Math.floor(i % 256),
                    s.lens[2] = Math.floor((i >> 8) % 256),
                    s.lens[3] = Math.floor(i >> 16 & 255),
                    s.lens[4] = Math.floor(i >> 24 & 255))) : null === s.lens[2] ? "string" == typeof (i = s.lens[1](t)) ? C ? (s.lens[1] = 255 & i.charCodeAt(0),
                    s.lens[2] = 255 & i.charCodeAt(1)) : (s.lens[2] = 255 & i.charCodeAt(0),
                    s.lens[1] = 255 & i.charCodeAt(1)) : C ? (s.lens[2] = Math.floor(i % 256),
                    s.lens[1] = Math.floor(i / 256)) : (s.lens[1] = Math.floor(i % 256),
                    s.lens[2] = Math.floor(i / 256)) : (i = s.lens[1](t),
                    s.lens[1] = M(i))),
                    s.lens && 2 < s.lens.length && "function" == typeof s.lens[2] && (i = s.lens[2](t),
                    null === s.lens[3] ? "string" == typeof (i = s.lens[2](t)) ? C ? (s.lens[2] = 255 & i.charCodeAt(0),
                    s.lens[3] = 255 & i.charCodeAt(1)) : (s.lens[3] = 255 & i.charCodeAt(0),
                    s.lens[2] = 255 & i.charCodeAt(1)) : C ? (s.lens[3] = 255 & i,
                    s.lens[2] = i >> 8) : (s.lens[2] = 255 & i,
                    s.lens[3] = i >> 8) : s.lens[2] = M(i)),
                    s.lens && 3 < s.lens.length && "function" == typeof s.lens[3] && (i = s.lens[3](t),
                    null === s.lens[4] ? "string" == typeof (i = s.lens[3](t)) ? C ? (s.lens[3] = 255 & i.charCodeAt(0),
                    s.lens[4] = 255 & i.charCodeAt(1)) : (s.lens[4] = 255 & i.charCodeAt(0),
                    s.lens[3] = 255 & i.charCodeAt(1)) : C ? (s.lens[4] = 255 & i,
                    s.lens[3] = i >> 8) : (s.lens[3] = 255 & i,
                    s.lens[4] = i >> 8) : s.lens[3] = M(i)),
                    s.lens && 1 < s.lens.length) {
                        if ("string" == typeof s.lens[1] && (s.lens[1] = s.lens[1].charCodeAt(0)),
                        isNaN(s.lens[1]))
                            throw {
                                message: "NaN"
                            };
                        if ((255 < s.lens[1] || s.lens[1] < -128) && 2 == s.lens.length)
                            throw {
                                message: "Par√°metro fuera de rango - " + s.lens[1]
                            };
                        s.lens[1] < 0 && (s.lens[1] = 256 + s.lens[1])
                    }
                } catch (e) {
                    throw {
                        msg: e.message,
                        s: s,
                        e: e
                    }
                }
            return [l, t]
        },
        parseLine: P,
        ENT: null,
        WLINE: null,
        compile: function(e, n) {
            try {
                ASM.ENT = null,
                ASM.BINFROM = null,
                ASM.BINTO = null,
                ASM.ENGINE = null,
                ASM.PRAGMAS = [];
                var o = ASM.parse(e, n);
                O = {};
                var r = ASM.pass1(o)
                  , r = ASM.pass1(r[0], r[1]);
                return r = ASM.pass1(r[0], r[1]),
                r = ASM.pass1(r[0], r[1]),
                r = ASM.pass1(r[0], r[1]),
                r = ASM.pass1(r[0], r[1]),
                (r = ASM.pass1(r[0], r[1]))[1].__PRAGMAS = ASM.PRAGMAS,
                [null, r = ASM.pass2(r), O]
            } catch (e) {
                console.log(e);
                var a = e.s || "Internal error";
                return (e.e && (e = "object" == typeof e.e ? e.e : {
                    msg: e.e,
                    s: e.s
                }),
                !e.msg && e.message && (e.msg = e.message),
                e.msg) ? (e.s || (e.s = a),
                [e, null]) : ["Cannot evaluate line " + ASM.WLINE.numline + ", there is some unspecified error (e.g. reserved world as label etc.)", null]
            }
        },
        compileAsync: function(e, n, o) {
            try {
                var r = ASM.parse(e, n)
                  , a = ASM.pass1(r);
                o(null, a = ASM.pass2(a))
            } catch (e) {
                o(e, null)
            }
        },
        lst: function(e, n, o, r, a) {
            var l, t, s = "";
            void 0 === r && (r = !1);
            for (var i = 0, p = e.length; i < p; i++) {
                if (l = "",
                (t = e[i]).macro,
                void 0 === t.addr || t.ifskip || (l += m(t.addr),
                t.phase && (l += " @" + m(t.addr - t.phase)),
                l += r ? " " : "   "),
                t.lens && !t.ifskip)
                    for (var c = 0; c < t.lens.length; c++)
                        l += h(t.lens[c]) + " ";
                if (!r)
                    for (; l.length < 20; )
                        l += " ";
                if (r)
                    for (; l.length < 15; )
                        l += " ";
                if (t.listing)
                    s += l + t.listing + "\n";
                else {
                    if (t.label && (l += t.label + ":   "),
                    !r)
                        for (; l.length < 30; )
                            l += " ";
                    if (r)
                        for (; l.length < 22; )
                            l += " ";
                    t.opcode && (l += t.opcode + (r ? " " : "   ")),
                    t.bandPar && (l += t.bandPar + ","),
                    t.aimPar && (l += t.aimPar + ","),
                    t.params && (l += t.params + (r ? " " : "   ")),
                    t.remark && (l += ";" + t.remark),
                    s += l + "\n"
                }
            }
            if (o)
                return s;
            for (var f in s += "\n\n",
            O)
                if (null !== O[f] && ("_" != f[0] || "_" != f[1]) && "$" !== f[f.length - 1]) {
                    for (l = "",
                    l += f + ": "; l.length < 20; )
                        l += " ";
                    if (l += m(O[f].value),
                    l += " DEFINED AT LINE " + O[f].defined.line,
                    "*main*" != O[f].defined.file && (l += " IN " + O[f].defined.file),
                    s += l + "\n",
                    O[f].usage)
                        for (p = 0; p < O[f].usage.length; p++)
                            s += "                    > USED AT LINE " + O[f].usage[p].line,
                            "*main*" != O[f].usage[p].file && (s += " IN " + O[f].usage[p].file),
                            s += "\n"
                }
            return s
        },
        html: function(e, r, n, o) {
            function a(e) {
                for (var n in e += "",
                r)
                    if (null !== r[n] && ("_" != n[0] || "_" != n[1]) && "$" !== n[n.length - 1]) {
                        var o = new RegExp("^" + n + "$","i");
                        if (e.match(o))
                            return '<a href="#LBL' + n + '">' + e + "</a>"
                    }
                return e
            }
            var l, t, s = "<html><head><meta charset=utf-8><body><table>";
            void 0 === o && (o = !1);
            for (var i = 0, p = e.length; i < p; i++) {
                if (l = '<tr id="ln' + (t = e[i]).numline + '">',
                t.macro,
                void 0 !== t.addr ? (l += '<td><a name="ADDR' + m(t.addr) + '">' + m(t.addr) + "</a>",
                t.phase ? l += "</td><td>" + m(t.addr - t.phase) : l += "</td><td>",
                l += "</td>") : l += "<td></td><td></td>",
                t.lens) {
                    l += "<td>";
                    for (var c = 0; c < t.lens.length; c++)
                        l += h(t.lens[c]) + " ";
                    l += "</td>"
                } else
                    l += "<td></td>";
                t.label ? l += '<td><a name="LBL' + t.label + '">' + t.label + "</a></td>" : l += "<td></td>",
                t.opcode ? l += "<td>" + t.opcode + "</td>" : l += "<td></td>",
                t.params ? l += "<td>" + t.params.map(a) + "</td>" : l += "<td></td>",
                t.remark ? l += "<td>;" + t.remark + "</td>" : l += "<td></td>",
                s += l + "</tr>\n"
            }
            return s += "</table>"
        },
        hex: function(e, n) {
            for (var o, r = null, a = 0, l = [], t = "", s = !1, i = 16, p = 0, c = e.length; p < c; p++)
                if (".PRAGMA" === (o = e[p]).opcode && (2 == o.params.length && "HEXLEN" == o.params[0].toUpperCase() && ((i = parseInt(o.params[1])) < 1 || 64 < i) && (i = 16),
                1 == o.params.length && "SEGMENT" == o.params[0].toUpperCase() && (s = !0)),
                !(o.ifskip || s && (n = n || "CSEG",
                o.segment != n))) {
                    var f = o.addr;
                    if (o.phase && (f -= o.phase),
                    void 0 !== f && 0 === a && (r = f),
                    f != r + a && (a && (t += v(r, l, i)),
                    r = f,
                    a = 0,
                    l = []),
                    o.lens) {
                        for (var d = 0; d < o.lens.length; d++)
                            l.push(o.lens[d]);
                        a += o.lens.length
                    } else
                        ;
                }
            return l.length && (t += v(r, l, i)),
            t += ":00000001FF"
        },
        srec: function(e, n) {
            for (var o, r = null, a = 0, l = !1, t = [], s = "", i = 0, p = e.length; i < p; i++)
                if (".PRAGMA" === (o = e[i]).opcode && 1 == o.params.length && "SEGMENT" == o.params[0].toUpperCase() && (l = !0),
                !(o.ifskip || l && (n = n || "CSEG",
                o.segment != n))) {
                    var c = o.addr;
                    if (o.phase && (c -= o.phase),
                    void 0 !== c && 0 === a && (r = c),
                    c != r + a && (a && (s += E(r, t)),
                    r = c,
                    a = 0,
                    t = []),
                    o.lens) {
                        for (var f = 0; f < o.lens.length; f++)
                            t.push(o.lens[f]);
                        a += o.lens.length
                    } else
                        ;
                }
            t.length && (s += E(r, t));
            var d = ASM.ENT || 0
              , u = 3 + Math.floor(d / 256) + Math.floor(d % 256);
            return s += "S903" + m(d) + h(255 - u % 256)
        },
        srec28: function(e, n) {
            for (var o, r = null, a = 0, l = !1, t = [], s = "", i = 0, p = e.length; i < p; i++)
                if (".PRAGMA" === (o = e[i]).opcode && 1 == o.params.length && "SEGMENT" == o.params[0].toUpperCase() && (l = !0),
                !l || (n = n || "CSEG",
                o.segment == n)) {
                    var c = o.addr;
                    if (o.phase && (c -= o.phase),
                    void 0 !== c && 0 === a && (r = c),
                    c != r + a && (a && (s += y(r, t)),
                    r = c,
                    a = 0,
                    t = []),
                    o.lens) {
                        for (var f = 0; f < o.lens.length; f++)
                            t.push(o.lens[f]);
                        a += o.lens.length
                    } else
                        ;
                }
            t.length && (s += y(r, t));
            var d = ASM.ENT || 0
              , u = 3 + Math.floor(d / 256) + Math.floor(d % 256);
            return s += "S804" + g(d) + h(255 - u % 256) + "\n"
        },
        linemap: function(e) {
            for (var n, o = [], r = null, a = 0, l = e.length; a < l; a++)
                if (".PHASE" !== (n = e[a]).opcode || "" === n.label)
                    if (".DEPHASE" !== n.opcode) {
                        if (n.lens)
                            for (var t = 0; t < n.lens.length; t++)
                                r ? (o[n.addr + t] || (o[n.addr + t] = {}),
                                o[n.addr + t][r] = a + 1) : o[n.addr + t] = a + 1
                    } else
                        r = null;
                else
                    r = n.label;
            return o
        },
        beautify: function(e, n) {
            L = n;
            var o = w(e.split(/\n/));
            o = o.map(function(e) {
                for (var n = e.line, o = {
                    addr: 0,
                    line: ";;;EMPTYLINE",
                    numline: e.numline
                }; " " == n[0]; )
                    n = n.substr(1);
                return n.length ? e : o
            }),
            o = R(o),
            o = I(o);
            for (var r, a, l = U(o, {
                noinclude: !0
            }), o = o.map(function(e) {
                return e.line = e.line.replace(/\%\%M/gi, "__m"),
                P(e, l[1])
            }), t = "", s = 0; s < o.length; s++)
                if (a = "",
                "EMPTYLINE" != (r = o[s]).remark)
                    if (r.label || r.opcode || !r.remark) {
                        for (r.label && (a += r.label,
                        "EQU" != r.opcode && "=" != r.opcode && ".SET" != r.opcode && (a += ":"),
                        a += " "); a.length < 12; )
                            a += " ";
                        for (r.opcode && (a += r.opcode + " "); a.length < 20; )
                            a += " ";
                        r.params && (a += r.params + " "),
                        r.remark && (a += ";" + r.remark),
                        t += (a = a.replace(/__m/gi, "%%M")) + "\n"
                    } else
                        t += ";" + r.remark + "\n";
                else
                    t += "\n";
            return t
        },
        buff: function(e) {
            for (var n, o, r = new Uint8Array(65536), a = 0, l = e.length; a < l; a++)
                if (o = (n = e[a]).addr,
                n.lens)
                    for (var t = 0; t < n.lens.length; t++)
                        r[o++] = n.lens[t];
            return r
        },
        fileGet: function(e) {
            _ = e
        }
    }
});
Array.indexOf || (Array.prototype.indexOf = function(t, s) {
    for (var e = s || 0; e < this.length; e++)
        if (this[e] === t)
            return e;
    return -1
}
);
var Parser = function(t) {
    function s(t) {
        function s() {}
        return s.prototype = t,
        new s
    }
    function e(t, s, e, i) {
        this.type_ = t,
        this.index_ = s || 0,
        this.prio_ = e || 0,
        this.number_ = void 0 !== i && null !== i ? i : 0,
        this.toString = function() {
            switch (this.type_) {
            case O:
                return this.number_;
            case S:
            case P:
            case I:
                return this.index_;
            case L:
                return "CALL";
            default:
                return "Invalid Token"
            }
        }
    }
    function i(t, s, e, i) {
        this.tokens = t,
        this.ops1 = s,
        this.ops2 = e,
        this.functions = i
    }
    function n(t) {
        return "string" == typeof t ? (j.lastIndex = 0,
        j.test(t) ? "'" + t.replace(j, function(t) {
            var s = q[t];
            return "string" == typeof s ? s : "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
        }) + "'" : "'" + t + "'") : t
    }
    function r(t) {
        for (var s = 0, e = 0; e < t.length; e++)
            s *= 256,
            s += t.charCodeAt(e);
        return s
    }
    function o(t, s) {
        return "string" == typeof t && (t = r(t)),
        "string" == typeof s && (s = r(s)),
        Number(t) + Number(s)
    }
    function h(t, s) {
        return Number(t) & Number(s)
    }
    function p(t, s) {
        return Number(t) | Number(s)
    }
    function u(t, s) {
        return Number(t) == Number(s) ? 1 : 0
    }
    function a(t, s) {
        return Number(t) == Number(s) ? 0 : 1
    }
    function f(t, s) {
        return Number(t) < Number(s) ? 1 : 0
    }
    function c(t, s) {
        return Number(t) > Number(s) ? 1 : 0
    }
    function l(t, s) {
        return Number(t) <= Number(s) ? 1 : 0
    }
    function x(t, s) {
        return Number(t) >= Number(s) ? 1 : 0
    }
    function d(t, s) {
        return "string" == typeof t && (t = r(t)),
        "string" == typeof s && (s = r(s)),
        Number(t) - Number(s)
    }
    function g(t, s) {
        if ("string" == typeof t) {
            for (var e = "", i = 0; i < s; i++)
                e += t;
            return e
        }
        return t * s
    }
    function b(t, s) {
        return t / s
    }
    function _(t, s) {
        return t % s
    }
    function k(t, s) {
        return "" + t + s
    }
    function m(t) {
        return -t
    }
    function v(t) {
        return Math.random() * (t || 1)
    }
    function w(t) {
        for (var s = t = Math.floor(t); t > 1; )
            s *= --t;
        return s
    }
    function M(t, s) {
        return Math.sqrt(t * t + s * s)
    }
    function y(t) {
        return t > 127 ? 0 : t < -128 ? 0 : 1
    }
    function A(t, s) {
        return "[object Array]" != Object.prototype.toString.call(t) ? [t, s] : ((t = t.slice()).push(s),
        t)
    }
    function C(t) {
        return t % 256
    }
    function N(t) {
        return t >> 8 & 255
    }
    function E() {
        this.success = !1,
        this.errormsg = "",
        this.expression = "",
        this.pos = 0,
        this.tokennumber = 0,
        this.tokenprio = 0,
        this.tokenindex = 0,
        this.tmpprio = 0,
        this.ops1 = {
            lsb: C,
            msb: N,
            sin: Math.sin,
            cos: Math.cos,
            tan: Math.tan,
            asin: Math.asin,
            acos: Math.acos,
            atan: Math.atan,
            sqrt: Math.sqrt,
            log: Math.log,
            abs: Math.abs,
            ceil: Math.ceil,
            floor: Math.floor,
            round: Math.round,
            isnear: y,
            "-": m,
            exp: Math.exp
        },
        this.ops2 = {
            "+": o,
            "-": d,
            "*": g,
            "/": b,
            "%": _,
            "#": _,
            "^": Math.pow,
            ",": A,
            "=": u,
            "!=": a,
            "<": f,
            ">": c,
            "<=": l,
            ">=": x,
            "&": h,
            "|": p,
            "||": k
        },
        this.functions = {
            random: v,
            fac: w,
            min: Math.min,
            max: Math.max,
            pyt: M,
            isnear: y,
            pow: Math.pow,
            atan2: Math.atan2
        },
        this.consts = {}
    }
    var O = 0
      , S = 1
      , P = 2
      , I = 3
      , L = 4
      , j = /[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g
      , q = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        "'": "\\'",
        "\\": "\\\\"
    };
    i.prototype = {
        simplify: function(t) {
            t = t || {};
            var n, r, o, h, p = [], u = [], a = this.tokens.length, f = 0;
            for (f = 0; f < a; f++) {
                var c = (h = this.tokens[f]).type_;
                if (c === O)
                    p.push(h);
                else if (c === I && h.index_ in t)
                    h = new e(O,0,0,t[h.index_]),
                    p.push(h);
                else if (c === P && p.length > 1)
                    r = p.pop(),
                    n = p.pop(),
                    o = this.ops2[h.index_],
                    h = new e(O,0,0,o(n.number_, r.number_)),
                    p.push(h);
                else if (c === S && p.length > 0)
                    n = p.pop(),
                    o = this.ops1[h.index_],
                    h = new e(O,0,0,o(n.number_)),
                    p.push(h);
                else {
                    for (; p.length > 0; )
                        u.push(p.shift());
                    u.push(h)
                }
            }
            for (; p.length > 0; )
                u.push(p.shift());
            return new i(u,s(this.ops1),s(this.ops2),s(this.functions))
        },
        substitute: function(t, n) {
            n instanceof i || (n = (new E).parse(String(n)));
            var r, o = [], h = this.tokens.length, p = 0;
            for (p = 0; p < h; p++)
                if ((r = this.tokens[p]).type_ === I && r.index_ === t)
                    for (var u = 0; u < n.tokens.length; u++) {
                        var a = n.tokens[u]
                          , f = new e(a.type_,a.index_,a.prio_,a.number_);
                        o.push(f)
                    }
                else
                    o.push(r);
            return new i(o,s(this.ops1),s(this.ops2),s(this.functions))
        },
        evaluate: function(t) {
            t = t || {};
            var s, e, i, n, r = [], o = this.tokens.length, h = 0;
            for (h = 0; h < o; h++) {
                var p = (n = this.tokens[h]).type_;
                if (p === O)
                    r.push(n.number_);
                else if (p === P)
                    e = r.pop(),
                    s = r.pop(),
                    i = this.ops2[n.index_],
                    r.push(i(s, e));
                else if (p === I)
                    if (n.index_ = n.index_.toUpperCase(),
                    "<" === n.index_[0])
                        n.index_.substr(1)in t && r.push(t[n.index_.substr(1)] % 256);
                    else if (">" === n.index_[0])
                        n.index_.substr(1)in t && r.push(Math.floor(t[n.index_.substr(1)] / 256));
                    else if (n.index_ in t)
                        r.push(t[n.index_]);
                    else {
                        if (!(n.index_ in this.functions))
                            throw new Error("Variable indefinida: " + n.index_);
                        r.push(this.functions[n.index_])
                    }
                else if (p === S)
                    s = r.pop(),
                    i = this.ops1[n.index_],
                    r.push(i(s));
                else {
                    if (p !== L)
                        throw new Error("Expresi√≥n inv√°lida");
                    if (s = r.pop(),
                    !(i = r.pop()).apply || !i.call)
                        throw new Error(i + " no es una funci√≥n");
                    "[object Array]" == Object.prototype.toString.call(s) ? r.push(i.apply(void 0, s)) : r.push(i.call(void 0, s))
                }
            }
            if (r.length > 1)
                throw new Error("Expresi√≥n inv√°lida");
            var u = r[0]
              , a = t.__PRAGMAS;
            if (a && "number" == typeof u) {
                if (a.indexOf("ROUNDFLOAT") >= 0 && (u = Math.round(u)),
                a.indexOf("FLOAT") >= 0)
                    return u;
                if (a.indexOf("NOFLOAT") >= 0)
                    return parseInt(u)
            }
            return "number" == typeof u && (u = parseInt(u)),
            u
        },
        usage: function(t) {
            t = t || {};
            var s, e, i, n, r = [], o = [], h = this.tokens.length, p = 0;
            for (p = 0; p < h; p++) {
                var u = (n = this.tokens[p]).type_;
                if (u === O)
                    o.push(n.number_);
                else if (u === P)
                    e = o.pop(),
                    s = o.pop(),
                    i = this.ops2[n.index_],
                    o.push(i(s, e));
                else if (u === I)
                    if (n.index_ = n.index_.toUpperCase(),
                    "<" === n.index_[0])
                        n.index_.substr(1)in t && (o.push(t[n.index_.substr(1)] % 256),
                        r.push(n.index_.substr(1)));
                    else if (">" === n.index_[0])
                        n.index_.substr(1)in t && (o.push(Math.floor(t[n.index_.substr(1)] / 256)),
                        r.push(n.index_.substr(1)));
                    else if (n.index_ in t)
                        o.push(t[n.index_]),
                        r.push(n.index_);
                    else {
                        if (!(n.index_ in this.functions))
                            throw new Error("Variable indefinida: " + n.index_);
                        o.push(this.functions[n.index_]),
                        r.push(n.index_)
                    }
                else if (u === S)
                    s = o.pop(),
                    i = this.ops1[n.index_],
                    o.push(i(s));
                else {
                    if (u !== L)
                        throw new Error("Expresi√≥n inv√°lida");
                    if (s = o.pop(),
                    !(i = o.pop()).apply || !i.call)
                        throw new Error(i + " no es una funci√≥n");
                    "[object Array]" == Object.prototype.toString.call(s) ? o.push(i.apply(void 0, s)) : o.push(i.call(void 0, s))
                }
            }
            if (o.length > 1)
                throw new Error("Expresi√≥n inv√°lida");
            return r
        },
        toString: function(t) {
            var s, e, i, r, o = [], h = this.tokens.length, p = 0;
            for (p = 0; p < h; p++) {
                var u = (r = this.tokens[p]).type_;
                if (u === O)
                    o.push(n(r.number_));
                else if (u === P)
                    e = o.pop(),
                    s = o.pop(),
                    i = r.index_,
                    t && "^" == i ? o.push("Math.pow(" + s + "," + e + ")") : o.push("(" + s + i + e + ")");
                else if (u === I)
                    o.push(r.index_);
                else if (u === S)
                    s = o.pop(),
                    "-" === (i = r.index_) ? o.push("(" + i + s + ")") : o.push(i + "(" + s + ")");
                else {
                    if (u !== L)
                        throw new Error("Expresi√≥n inv√°lida");
                    s = o.pop(),
                    i = o.pop(),
                    o.push(i + "(" + s + ")")
                }
            }
            if (o.length > 1)
                throw new Error("Expresi√≥n inv√°lida");
            return o[0]
        },
        variables: function() {
            for (var t = this.tokens.length, s = [], e = 0; e < t; e++) {
                var i = this.tokens[e];
                i.type_ === I && -1 == s.indexOf(i.index_) && s.push(i.index_)
            }
            return s
        },
        toJSFunction: function(t, s) {
            return new Function(t,"with(Parser.values) { return " + this.simplify(s).toString(!0) + "; }")
        }
    },
    E.parse = function(t) {
        return (new E).parse(t)
    }
    ,
    E.usage = function(t, s) {
        return E.parse(t).usage(s)
    }
    ,
    E.evaluate = function(t, s) {
        return E.parse(t).evaluate(s)
    }
    ,
    E.Expression = i,
    E.values = {
        lsb: function(t) {
            Math.floor(t % 256)
        },
        msb: function(t) {
            Math.floor(t / 256)
        },
        sin: Math.sin,
        cos: Math.cos,
        tan: Math.tan,
        asin: Math.asin,
        acos: Math.acos,
        atan: Math.atan,
        sqrt: Math.sqrt,
        log: Math.log,
        abs: Math.abs,
        ceil: Math.ceil,
        floor: Math.floor,
        round: Math.round,
        random: v,
        fac: w,
        exp: Math.exp,
        min: Math.min,
        max: Math.max,
        pyt: M,
        isnear: y,
        pow: Math.pow,
        atan2: Math.atan2,
        E: Math.E,
        PI: Math.PI
    };
    return E.prototype = {
        parse: function(t) {
            this.errormsg = "",
            this.success = !0;
            var n = []
              , r = [];
            this.tmpprio = 0;
            var o = 77
              , h = 0;
            if (this.expression = t,
            this.pos = 0,
            !this.expression)
                throw new Error("Falta un argumento");
            for (; this.pos < this.expression.length; )
                if (this.isNumber()) {
                    0 == (1 & o) && this.error_parsing(this.pos, "unexpected number");
                    p = new e(O,0,0,this.tokennumber);
                    r.push(p),
                    o = 50
                } else if (this.isOperator())
                    this.isSign() && 64 & o ? (this.isNegativeSign() && (this.tokenprio = 2,
                    this.tokenindex = "-",
                    h++,
                    this.addfunc(r, n, S)),
                    o = 77) : this.isComment() || (0 == (2 & o) && this.error_parsing(this.pos, "unexpected operator"),
                    h += 2,
                    this.addfunc(r, n, P),
                    o = 77);
                else if (this.isString()) {
                    0 == (1 & o) && this.error_parsing(this.pos, "unexpected string");
                    p = new e(O,0,0,this.tokennumber);
                    r.push(p),
                    o = 50
                } else if (this.isLeftParenth())
                    0 == (8 & o) && this.error_parsing(this.pos, 'unexpected "("'),
                    128 & o && (h += 2,
                    this.tokenprio = -2,
                    this.tokenindex = -1,
                    this.addfunc(r, n, L)),
                    o = 333;
                else if (this.isRightParenth()) {
                    if (256 & o) {
                        var p = new e(O,0,0,[]);
                        r.push(p)
                    } else
                        0 == (16 & o) && this.error_parsing(this.pos, 'unexpected ")"');
                    o = 186
                } else if (this.isComma())
                    0 == (32 & o) && this.error_parsing(this.pos, 'unexpected ","'),
                    this.addfunc(r, n, P),
                    h += 2,
                    o = 77;
                else if (this.isConst()) {
                    0 == (1 & o) && this.error_parsing(this.pos, "unexpected constant");
                    var u = new e(O,0,0,this.tokennumber);
                    r.push(u),
                    o = 50
                } else if (this.isOp2())
                    0 == (4 & o) && this.error_parsing(this.pos, "unexpected function"),
                    this.addfunc(r, n, P),
                    h += 2,
                    o = 8;
                else if (this.isOp1())
                    0 == (4 & o) && this.error_parsing(this.pos, "unexpected function"),
                    this.addfunc(r, n, S),
                    h++,
                    o = 8;
                else if (this.isVar()) {
                    0 == (1 & o) && this.error_parsing(this.pos, "unexpected variable");
                    var a = new e(I,this.tokenindex,0,0);
                    r.push(a),
                    o = 186
                } else
                    this.isWhite() || ("" === this.errormsg ? this.error_parsing(this.pos, "unknown character in " + this.expression) : this.error_parsing(this.pos, this.errormsg));
            for ((this.tmpprio < 0 || this.tmpprio >= 10) && this.error_parsing(this.pos, 'unmatched "()"'); n.length > 0; ) {
                var f = n.pop();
                r.push(f)
            }
            return h + 1 !== r.length && this.error_parsing(this.pos, "parity"),
            new i(r,s(this.ops1),s(this.ops2),s(this.functions))
        },
        evaluate: function(t, s) {
            return this.parse(t).evaluate(s)
        },
        error_parsing: function(t, s) {
            throw this.success = !1,
            this.errormsg = "Error [columna " + t + "]: " + s,
            new Error(this.errormsg)
        },
        addfunc: function(t, s, i) {
            for (var n = new e(i,this.tokenindex,this.tokenprio + this.tmpprio,0); s.length > 0 && n.prio_ <= s[s.length - 1].prio_; )
                t.push(s.pop());
            s.push(n)
        },
        isNumber: function() {
            for (var t = !1, s = "", e = 0, i = 0, n = 10, r = !1, o = this.pos; this.pos < this.expression.length; ) {
                var h, p = this.expression.charCodeAt(this.pos);
                if (0 === e && (i = p),
                !(p >= 48 && p <= 57 || 46 === p || 0 === e && 36 === p || 0 === e && 37 === p || 1 === e && 88 === p && 48 === i || 1 === e && 120 === p && 48 === i || e > 0 && 72 === p || e > 0 && 104 === p || e > 0 && 66 === p || e > 0 && 98 === p || e > 0 && 81 === p || e > 0 && 113 === p || e > 0 && 79 === p || e > 0 && 111 === p || e > 0 && p >= 65 && p <= 70 || e > 0 && p >= 97 && p <= 102))
                    break;
                (e > 0 && p >= 65 && p <= 70 || e > 0 && p >= 97 && p <= 102) && 16 !== n && (r = !0),
                e++,
                s += this.expression.charAt(this.pos),
                this.pos++,
                h = s,
                "$" === s[0] && (h = "0x" + s.substr(1),
                n = 16),
                "x" !== s[1] && "X" !== s[1] || (n = 16),
                "h" !== s[s.length - 1] && "H" !== s[s.length - 1] || 10 != n && 2 != n || (h = "0x" + s.substr(0, s.length - 1),
                n = 16),
                "b" !== s[s.length - 1] && "B" !== s[s.length - 1] || 10 == n && (h = s.substr(0, s.length - 1),
                n = 2),
                "q" !== s[s.length - 1] && "Q" !== s[s.length - 1] && "o" !== s[s.length - 1] && "O" !== s[s.length - 1] || 10 == n && (h = s.substr(0, s.length - 1),
                n = 8),
                this.tokennumber = 10 != n ? parseInt(h, n) : parseFloat(h),
                t = !0
            }
            if ("%" === s[0]) {
                if (s.length < 2)
                    return this.pos = o,
                    !1;
                h = s.substr(1),
                this.tokennumber = parseInt(h, 2)
            }
            return r && 2 === n && (r = !1),
            r && 16 !== n ? (this.pos = o,
            !1) : "0x" === h ? (this.pos = o,
            !1) : t
        },
        unescape: function(t, s) {
            for (var e = [], i = !1, n = 0; n < t.length; n++) {
                var r = t.charAt(n);
                if (i) {
                    switch (r) {
                    case "'":
                        e.push("'");
                        break;
                    case "\\":
                        e.push("\\");
                        break;
                    case "/":
                        e.push("/");
                        break;
                    case "b":
                        e.push("\b");
                        break;
                    case "f":
                        e.push("\f");
                        break;
                    case "n":
                        e.push("\n");
                        break;
                    case "r":
                        e.push("\r");
                        break;
                    case "t":
                        e.push("\t");
                        break;
                    case "u":
                        var o = parseInt(t.substring(n + 1, n + 5), 16);
                        e.push(String.fromCharCode(o)),
                        n += 4;
                        break;
                    default:
                        throw this.error_parsing(s + n, "Secuencia no permitida '\\" + r + "'")
                    }
                    i = !1
                } else
                    "\\" == r ? i = !0 : e.push(r)
            }
            return e.join("")
        },
        isString: function() {
            var t = !1
              , s = ""
              , e = this.pos;
            if (this.pos < this.expression.length && "'" == this.expression.charAt(this.pos) || '"' == this.expression.charAt(this.pos)) {
                var i = this.expression.charAt(this.pos);
                for (this.pos++; this.pos < this.expression.length; ) {
                    if (this.expression.charAt(this.pos) == i && "\\" != s.slice(-1)) {
                        this.pos++,
                        this.tokennumber = this.unescape(s, e),
                        t = !0;
                        break
                    }
                    s += this.expression.charAt(this.pos),
                    this.pos++
                }
            }
            return t
        },
        isConst: function() {
            return !1
        },
        isOperator: function() {
            var t = this.expression.charCodeAt(this.pos);
            if (43 === t)
                this.tokenprio = 0,
                this.tokenindex = "+";
            else if (45 === t)
                this.tokenprio = 0,
                this.tokenindex = "-";
            else if (124 === t)
                124 === this.expression.charCodeAt(this.pos + 1) ? (this.pos++,
                this.tokenprio = 0,
                this.tokenindex = "||") : (this.tokenprio = 5,
                this.tokenindex = "|");
            else if (42 === t)
                this.tokenprio = 1,
                this.tokenindex = "*";
            else if (47 === t)
                this.tokenprio = 2,
                this.tokenindex = "/";
            else if (37 === t)
                this.tokenprio = 2,
                this.tokenindex = "%";
            else if (35 === t)
                this.tokenprio = 2,
                this.tokenindex = "#";
            else if (94 === t)
                this.tokenprio = 3,
                this.tokenindex = "^";
            else if (38 === t)
                this.tokenprio = 4,
                this.tokenindex = "&";
            else if (61 === t)
                this.tokenprio = -1,
                this.tokenindex = "=";
            else if (33 === t)
                61 === this.expression.charCodeAt(this.pos + 1) ? (this.pos++,
                this.tokenprio = -1,
                this.tokenindex = "!=") : (this.tokenprio = 5,
                this.tokenindex = "!");
            else {
                if (63 !== t)
                    return !1;
                60 === this.expression.charCodeAt(this.pos + 1) && (this.pos++,
                61 === this.expression.charCodeAt(this.pos + 1) ? (this.pos++,
                this.tokenprio = -1,
                this.tokenindex = "<=") : (this.tokenprio = -1,
                this.tokenindex = "<")),
                62 === this.expression.charCodeAt(this.pos + 1) && (this.pos++,
                61 === this.expression.charCodeAt(this.pos + 1) ? (this.pos++,
                this.tokenprio = -1,
                this.tokenindex = ">=") : (this.tokenprio = -1,
                this.tokenindex = ">"))
            }
            return this.pos++,
            !0
        },
        isSign: function() {
            var t = this.expression.charCodeAt(this.pos - 1);
            return 45 === t || 43 === t
        },
        isPositiveSign: function() {
            return 43 === this.expression.charCodeAt(this.pos - 1)
        },
        isNegativeSign: function() {
            return 45 === this.expression.charCodeAt(this.pos - 1)
        },
        isLeftParenth: function() {
            return 40 === this.expression.charCodeAt(this.pos) && (this.pos++,
            this.tmpprio += 10,
            !0)
        },
        isRightParenth: function() {
            return 41 === this.expression.charCodeAt(this.pos) && (this.pos++,
            this.tmpprio -= 10,
            !0)
        },
        isComma: function() {
            return 44 === this.expression.charCodeAt(this.pos) && (this.pos++,
            this.tokenprio = -1,
            this.tokenindex = ",",
            !0)
        },
        isWhite: function() {
            var t = this.expression.charCodeAt(this.pos);
            return (32 === t || 9 === t || 10 === t || 13 === t) && (this.pos++,
            !0)
        },
        isOp1: function() {
            for (var t = "", s = this.pos; s < this.expression.length; s++) {
                var e = this.expression.charAt(s);
                if (e.toUpperCase() === e.toLowerCase() && (s === this.pos || "_" != e && (e < "0" || e > "9")))
                    break;
                t += e
            }
            return t.length > 0 && t in this.ops1 && (this.tokenindex = t,
            this.tokenprio = 5,
            this.pos += t.length,
            !0)
        },
        isOp2: function() {
            for (var t = "", s = this.pos; s < this.expression.length; s++) {
                var e = this.expression.charAt(s);
                if (e.toUpperCase() === e.toLowerCase() && (s === this.pos || "_" != e && (e < "0" || e > "9")))
                    break;
                t += e
            }
            return t.length > 0 && t in this.ops2 && (this.tokenindex = t,
            this.tokenprio = 5,
            this.pos += t.length,
            !0)
        },
        isVar: function() {
            for (var t = "", s = this.pos; s < this.expression.length; s++) {
                var e = this.expression.charAt(s);
                if ("$" === e) {
                    t = "_PC";
                    break
                }
                if (e.toUpperCase() === e.toLowerCase() && "<" !== e && ">" !== e && (s === this.pos || "_" != e && (e < "0" || e > "9")))
                    break;
                t += e
            }
            return t.length > 0 && (this.tokenindex = t,
            this.tokenprio = 4,
            "_PC" !== t ? this.pos += t.length : this.pos++,
            !0)
        },
        isComment: function() {
            return 47 === this.expression.charCodeAt(this.pos - 1) && 42 === this.expression.charCodeAt(this.pos) && (this.pos = this.expression.indexOf("*/", this.pos) + 2,
            1 === this.pos && (this.pos = this.expression.length),
            !0)
        }
    },
    t.Parser = E,
    E
}("undefined" == typeof exports ? {} : exports);
(function() {
    var e = function() {
        return this
    }();
    !e && "undefined" != typeof window && (e = window);
    var t = function(e, i, n) {
        "string" == typeof e ? (2 == arguments.length && (n = i),
        t.modules[e] || (t.payloads[e] = n,
        t.modules[e] = null)) : t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."),
        console.trace())
    };
    t.modules = {},
    t.payloads = {};
    var i = function(e, t, i) {
        if ("string" == typeof t) {
            var s = o(e, t);
            if (void 0 != s)
                return i && i(),
                s
        } else if ("[object Array]" === Object.prototype.toString.call(t)) {
            for (var r = [], a = 0, l = t.length; a < l; ++a) {
                var h = o(e, t[a]);
                if (void 0 == h && n.original)
                    return;
                r.push(h)
            }
            return i && i.apply(null, r) || !0
        }
    }
      , n = function(e, t) {
        var s = i("", e, t);
        return void 0 == s && n.original ? n.original.apply(this, arguments) : s
    }
      , s = function(e, t) {
        if (-1 !== t.indexOf("!")) {
            var i = t.split("!");
            return s(e, i[0]) + "!" + s(e, i[1])
        }
        if ("." == t.charAt(0))
            for (t = e.split("/").slice(0, -1).join("/") + "/" + t; -1 !== t.indexOf(".") && n != t; ) {
                var n = t;
                t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "")
            }
        return t
    }
      , o = function(e, n) {
        n = s(e, n);
        var o = t.modules[n];
        if (!o) {
            if ("function" == typeof (o = t.payloads[n])) {
                var r = {}
                  , a = {
                    id: n,
                    uri: "",
                    exports: r,
                    packaged: !0
                };
                r = o(function(e, t) {
                    return i(n, e, t)
                }, r, a) || a.exports,
                t.modules[n] = r,
                delete t.payloads[n]
            }
            o = t.modules[n] = r || o
        }
        return o
    };
    !function(i) {
        var s = e;
        i && (e[i] || (e[i] = {}),
        s = e[i]),
        s.define && s.define.packaged || (t.original = s.define,
        s.define = t,
        s.define.packaged = !0),
        s.require && s.require.packaged || (n.original = s.require,
        s.require = n,
        s.require.packaged = !0)
    }("ace")
}
)(),
ace.define("ace/lib/regexp", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    function n(e) {
        return (e.global ? "g" : "") + (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.extended ? "x" : "") + (e.sticky ? "y" : "")
    }
    function s(e, t, i) {
        if (Array.prototype.indexOf)
            return e.indexOf(t, i);
        for (var n = i || 0; n < e.length; n++)
            if (e[n] === t)
                return n;
        return -1
    }
    var o = {
        exec: RegExp.prototype.exec,
        test: RegExp.prototype.test,
        match: String.prototype.match,
        replace: String.prototype.replace,
        split: String.prototype.split
    }
      , r = void 0 === o.exec.call(/()??/, "")[1]
      , a = function() {
        var e = /^/g;
        return o.test.call(e, ""),
        !e.lastIndex
    }();
    a && r || (RegExp.prototype.exec = function(e) {
        var t, i, l = o.exec.apply(this, arguments);
        if ("string" == typeof e && l) {
            if (!r && l.length > 1 && s(l, "") > -1 && (i = RegExp(this.source, o.replace.call(n(this), "g", "")),
            o.replace.call(e.slice(l.index), i, function() {
                for (var e = 1; e < arguments.length - 2; e++)
                    void 0 === arguments[e] && (l[e] = void 0)
            })),
            this._xregexp && this._xregexp.captureNames)
                for (var h = 1; h < l.length; h++)
                    (t = this._xregexp.captureNames[h - 1]) && (l[t] = l[h]);
            !a && this.global && !l[0].length && this.lastIndex > l.index && this.lastIndex--
        }
        return l
    }
    ,
    a || (RegExp.prototype.test = function(e) {
        var t = o.exec.call(this, e);
        return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--,
        !!t
    }
    ))
}),
ace.define("ace/lib/es5-shim", ["require", "exports", "module"], function(e, t, i) {
    function n() {}
    function s(e) {
        try {
            return Object.defineProperty(e, "sentinel", {}),
            "sentinel"in e
        } catch (e) {}
    }
    function o(e) {
        return (e = +e) !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))),
        e
    }
    Function.prototype.bind || (Function.prototype.bind = function(e) {
        var t = this;
        if ("function" != typeof t)
            throw new TypeError("Error " + t);
        var i = f.call(arguments, 1)
          , s = function() {
            if (this instanceof s) {
                var n = t.apply(this, i.concat(f.call(arguments)));
                return Object(n) === n ? n : this
            }
            return t.apply(e, i.concat(f.call(arguments)))
        };
        return t.prototype && (n.prototype = t.prototype,
        s.prototype = new n,
        n.prototype = null),
        s
    }
    );
    var r, a, l, h, c, u = Function.prototype.call, d = Array.prototype, g = Object.prototype, f = d.slice, m = u.bind(g.toString), p = u.bind(g.hasOwnProperty);
    if ((c = p(g, "__defineGetter__")) && (r = u.bind(g.__defineGetter__),
    a = u.bind(g.__defineSetter__),
    l = u.bind(g.__lookupGetter__),
    h = u.bind(g.__lookupSetter__)),
    2 != [1, 2].splice(0).length)
        if (function() {
            function e(e) {
                var t = new Array(e + 2);
                return t[0] = t[1] = 0,
                t
            }
            var t, i = [];
            if (i.splice.apply(i, e(20)),
            i.splice.apply(i, e(26)),
            t = i.length,
            i.splice(5, 0, "XXX"),
            i.length,
            t + 1 == i.length)
                return !0
        }()) {
            var v = Array.prototype.splice;
            Array.prototype.splice = function(e, t) {
                return arguments.length ? v.apply(this, [void 0 === e ? 0 : e, void 0 === t ? this.length - e : t].concat(f.call(arguments, 2))) : []
            }
        } else
            Array.prototype.splice = function(e, t) {
                var i = this.length;
                e > 0 ? e > i && (e = i) : void 0 == e ? e = 0 : e < 0 && (e = Math.max(i + e, 0)),
                e + t < i || (t = i - e);
                var n = this.slice(e, e + t)
                  , s = f.call(arguments, 2)
                  , o = s.length;
                if (e === i)
                    o && this.push.apply(this, s);
                else {
                    var r = Math.min(t, i - e)
                      , a = e + r
                      , l = a + o - r
                      , h = i - a
                      , c = i - r;
                    if (l < a)
                        for (var u = 0; u < h; ++u)
                            this[l + u] = this[a + u];
                    else if (l > a)
                        for (u = h; u--; )
                            this[l + u] = this[a + u];
                    if (o && e === c)
                        this.length = c,
                        this.push.apply(this, s);
                    else
                        for (this.length = c + o,
                        u = 0; u < o; ++u)
                            this[e + u] = s[u]
                }
                return n
            }
            ;
    Array.isArray || (Array.isArray = function(e) {
        return "[object Array]" == m(e)
    }
    );
    var w = Object("a")
      , $ = "a" != w[0] || !(0 in w);
    if (Array.prototype.forEach || (Array.prototype.forEach = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = arguments[1]
          , s = -1
          , o = i.length >>> 0;
        if ("[object Function]" != m(e))
            throw new TypeError;
        for (; ++s < o; )
            s in i && e.call(n, i[s], s, t)
    }
    ),
    Array.prototype.map || (Array.prototype.map = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = i.length >>> 0
          , s = Array(n)
          , o = arguments[1];
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        for (var r = 0; r < n; r++)
            r in i && (s[r] = e.call(o, i[r], r, t));
        return s
    }
    ),
    Array.prototype.filter || (Array.prototype.filter = function(e) {
        var t, i = T(this), n = $ && "[object String]" == m(this) ? this.split("") : i, s = n.length >>> 0, o = [], r = arguments[1];
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        for (var a = 0; a < s; a++)
            a in n && (t = n[a],
            e.call(r, t, a, i) && o.push(t));
        return o
    }
    ),
    Array.prototype.every || (Array.prototype.every = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = i.length >>> 0
          , s = arguments[1];
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        for (var o = 0; o < n; o++)
            if (o in i && !e.call(s, i[o], o, t))
                return !1;
        return !0
    }
    ),
    Array.prototype.some || (Array.prototype.some = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = i.length >>> 0
          , s = arguments[1];
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        for (var o = 0; o < n; o++)
            if (o in i && e.call(s, i[o], o, t))
                return !0;
        return !1
    }
    ),
    Array.prototype.reduce || (Array.prototype.reduce = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = i.length >>> 0;
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        if (!n && 1 == arguments.length)
            throw new TypeError("error");
        var s, o = 0;
        if (arguments.length >= 2)
            s = arguments[1];
        else
            for (; ; ) {
                if (o in i) {
                    s = i[o++];
                    break
                }
                if (++o >= n)
                    throw new TypeError("error")
            }
        for (; o < n; o++)
            o in i && (s = e.call(void 0, s, i[o], o, t));
        return s
    }
    ),
    Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
        var t = T(this)
          , i = $ && "[object String]" == m(this) ? this.split("") : t
          , n = i.length >>> 0;
        if ("[object Function]" != m(e))
            throw new TypeError(e + " no es una funci√≥n");
        if (!n && 1 == arguments.length)
            throw new TypeError("error");
        var s, o = n - 1;
        if (arguments.length >= 2)
            s = arguments[1];
        else
            for (; ; ) {
                if (o in i) {
                    s = i[o--];
                    break
                }
                if (--o < 0)
                    throw new TypeError("error")
            }
        do {
            o in this && (s = e.call(void 0, s, i[o], o, t))
        } while (o--);
        return s
    }
    ),
    Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
        var t = $ && "[object String]" == m(this) ? this.split("") : T(this)
          , i = t.length >>> 0;
        if (!i)
            return -1;
        var n = 0;
        for (arguments.length > 1 && (n = o(arguments[1])),
        n = n >= 0 ? n : Math.max(0, i + n); n < i; n++)
            if (n in t && t[n] === e)
                return n;
        return -1
    }
    ),
    Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
        var t = $ && "[object String]" == m(this) ? this.split("") : T(this)
          , i = t.length >>> 0;
        if (!i)
            return -1;
        var n = i - 1;
        for (arguments.length > 1 && (n = Math.min(n, o(arguments[1]))),
        n = n >= 0 ? n : i - Math.abs(n); n >= 0; n--)
            if (n in t && e === t[n])
                return n;
        return -1
    }
    ),
    Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
        return e.__proto__ || (e.constructor ? e.constructor.prototype : g)
    }
    ),
    !Object.getOwnPropertyDescriptor) {
        Object.getOwnPropertyDescriptor = function(e, t) {
            if ("object" != typeof e && "function" != typeof e || null === e)
                throw new TypeError("error " + e);
            if (p(e, t)) {
                var i;
                if (i = {
                    enumerable: !0,
                    configurable: !0
                },
                c) {
                    var n = e.__proto__;
                    e.__proto__ = g;
                    var s = l(e, t)
                      , o = h(e, t);
                    if (e.__proto__ = n,
                    s || o)
                        return s && (i.get = s),
                        o && (i.set = o),
                        i
                }
                return i.value = e[t],
                i
            }
        }
    }
    if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
        return Object.keys(e)
    }
    ),
    !Object.create) {
        var b;
        b = null === Object.prototype.__proto__ ? function() {
            return {
                __proto__: null
            }
        }
        : function() {
            var e = {};
            for (var t in e)
                e[t] = null;
            return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null,
            e
        }
        ,
        Object.create = function(e, t) {
            var i;
            if (null === e)
                i = b();
            else {
                if ("object" != typeof e)
                    throw new TypeError("" + typeof e + "");
                var n = function() {};
                n.prototype = e,
                (i = new n).__proto__ = e
            }
            return void 0 !== t && Object.defineProperties(i, t),
            i
        }
    }
    if (Object.defineProperty) {
        var y = s({})
          , C = "undefined" == typeof document || s(document.createElement("div"));
        if (!y || !C)
            var S = Object.defineProperty
    }
    if (!Object.defineProperty || S) {
        Object.defineProperty = function(e, t, i) {
            if ("object" != typeof e && "function" != typeof e || null === e)
                throw new TypeError("error " + e);
            if ("object" != typeof i && "function" != typeof i || null === i)
                throw new TypeError("error " + i);
            if (S)
                try {
                    return S.call(Object, e, t, i)
                } catch (e) {}
            if (p(i, "value"))
                if (c && (l(e, t) || h(e, t))) {
                    var n = e.__proto__;
                    e.__proto__ = g,
                    delete e[t],
                    e[t] = i.value,
                    e.__proto__ = n
                } else
                    e[t] = i.value;
            else {
                if (!c)
                    throw new TypeError("Algo no funciona bien");
                p(i, "get") && r(e, t, i.get),
                p(i, "set") && a(e, t, i.set)
            }
            return e
        }
    }
    Object.defineProperties || (Object.defineProperties = function(e, t) {
        for (var i in t)
            p(t, i) && Object.defineProperty(e, i, t[i]);
        return e
    }
    ),
    Object.seal || (Object.seal = function(e) {
        return e
    }
    ),
    Object.freeze || (Object.freeze = function(e) {
        return e
    }
    );
    try {
        Object.freeze(function() {})
    } catch (e) {
        Object.freeze = function(e) {
            return function(t) {
                return "function" == typeof t ? t : e(t)
            }
        }(Object.freeze)
    }
    if (Object.preventExtensions || (Object.preventExtensions = function(e) {
        return e
    }
    ),
    Object.isSealed || (Object.isSealed = function(e) {
        return !1
    }
    ),
    Object.isFrozen || (Object.isFrozen = function(e) {
        return !1
    }
    ),
    Object.isExtensible || (Object.isExtensible = function(e) {
        if (Object(e) === e)
            throw new TypeError;
        for (var t = ""; p(e, t); )
            t += "?";
        e[t] = !0;
        var i = p(e, t);
        return delete e[t],
        i
    }
    ),
    !Object.keys) {
        var x = !0
          , A = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"]
          , k = A.length;
        for (var L in {
            toString: null
        })
            x = !1;
        Object.keys = function(e) {
            if ("object" != typeof e && "function" != typeof e || null === e)
                throw new TypeError("error");
            var t = [];
            for (var i in e)
                p(e, i) && t.push(i);
            if (x)
                for (var n = 0, s = k; n < s; n++) {
                    var o = A[n];
                    p(e, o) && t.push(o)
                }
            return t
        }
    }
    Date.now || (Date.now = function() {
        return (new Date).getTime()
    }
    );
    var R = "\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff";
    if (!String.prototype.trim || R.trim()) {
        R = "[" + R + "]";
        var E = new RegExp("^" + R + R + "*")
          , M = new RegExp(R + R + "*$");
        String.prototype.trim = function() {
            return String(this).replace(E, "").replace(M, "")
        }
    }
    var T = function(e) {
        if (null == e)
            throw new TypeError("can't convert " + e + " to object");
        return Object(e)
    }
}),
ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim"], function(e, t, i) {
    "use strict";
    e("./regexp"),
    e("./es5-shim"),
    "undefined" != typeof Element && !Element.prototype.remove && Object.defineProperty(Element.prototype, "remove", {
        enumerable: !1,
        writable: !0,
        configurable: !0,
        value: function() {
            this.parentNode && this.parentNode.removeChild(this)
        }
    })
}),
ace.define("ace/lib/useragent", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    if (t.OS = {
        LINUX: "LINUX",
        MAC: "MAC",
        WINDOWS: "WINDOWS"
    },
    t.getOS = function() {
        return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS
    }
    ,
    "object" == typeof navigator) {
        var n = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase()
          , s = navigator.userAgent;
        t.isWin = "win" == n,
        t.isMac = "mac" == n,
        t.isLinux = "linux" == n,
        t.isIE = "Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]),
        t.isOldIE = t.isIE && t.isIE < 9,
        t.isGecko = t.isMozilla = s.match(/ Gecko\/\d+/),
        t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera),
        t.isWebKit = parseFloat(s.split("WebKit/")[1]) || void 0,
        t.isChrome = parseFloat(s.split(" Chrome/")[1]) || void 0,
        t.isEdge = parseFloat(s.split(" Edge/")[1]) || void 0,
        t.isAIR = s.indexOf("AdobeAIR") >= 0,
        t.isIPad = s.indexOf("iPad") >= 0,
        t.isAndroid = s.indexOf("Android") >= 0,
        t.isChromeOS = s.indexOf(" CrOS ") >= 0,
        t.isIOS = /iPad|iPhone|iPod/.test(s) && !window.MSStream,
        t.isIOS && (t.isMac = !0),
        t.isMobile = t.isIPad || t.isAndroid
    }
}),
ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    var n = e("./useragent");
    if (t.buildDom = function e(t, i, n) {
        if ("string" == typeof t && t) {
            var s = document.createTextNode(t);
            return i && i.appendChild(s),
            s
        }
        if (!Array.isArray(t))
            return t;
        if ("string" != typeof t[0] || !t[0]) {
            for (var o = [], r = 0; r < t.length; r++) {
                var a = e(t[r], i, n);
                a && o.push(a)
            }
            return o
        }
        var l = document.createElement(t[0])
          , h = t[1]
          , c = 1;
        h && "object" == typeof h && !Array.isArray(h) && (c = 2);
        for (r = c; r < t.length; r++)
            e(t[r], l, n);
        return 2 == c && Object.keys(h).forEach(function(e) {
            var t = h[e];
            "class" === e ? l.className = Array.isArray(t) ? t.join(" ") : t : "function" == typeof t || "value" == e ? l[e] = t : "ref" === e ? n && (n[t] = l) : null != t && l.setAttribute(e, t)
        }),
        i && i.appendChild(l),
        l
    }
    ,
    t.getDocumentHead = function(e) {
        return e || (e = document),
        e.head || e.getElementsByTagName("head")[0] || e.documentElement
    }
    ,
    t.createElement = function(e, t) {
        return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e)
    }
    ,
    t.removeChildren = function(e) {
        e.innerHTML = ""
    }
    ,
    t.createTextNode = function(e, t) {
        return (t ? t.ownerDocument : document).createTextNode(e)
    }
    ,
    t.createFragment = function(e) {
        return (e ? e.ownerDocument : document).createDocumentFragment()
    }
    ,
    t.hasCssClass = function(e, t) {
        return -1 !== (e.className + "").split(/\s+/g).indexOf(t)
    }
    ,
    t.addCssClass = function(e, i) {
        t.hasCssClass(e, i) || (e.className += " " + i)
    }
    ,
    t.removeCssClass = function(e, t) {
        for (var i = e.className.split(/\s+/g); ; ) {
            var n = i.indexOf(t);
            if (-1 == n)
                break;
            i.splice(n, 1)
        }
        e.className = i.join(" ")
    }
    ,
    t.toggleCssClass = function(e, t) {
        for (var i = e.className.split(/\s+/g), n = !0; ; ) {
            var s = i.indexOf(t);
            if (-1 == s)
                break;
            n = !1,
            i.splice(s, 1)
        }
        return n && i.push(t),
        e.className = i.join(" "),
        n
    }
    ,
    t.setCssClass = function(e, i, n) {
        n ? t.addCssClass(e, i) : t.removeCssClass(e, i)
    }
    ,
    t.hasCssString = function(e, t) {
        var i, n = 0;
        if (t = t || document,
        i = t.querySelectorAll("style"))
            for (; n < i.length; )
                if (i[n++].id === e)
                    return !0
    }
    ,
    t.importCssString = function(e, i, n) {
        var s = n && n.getRootNode ? n.getRootNode() : document
          , o = s.ownerDocument || s;
        if (i && t.hasCssString(i, s))
            return null;
        i && (e += "\n/*# sourceURL=ace/css/" + i + " */");
        var r = t.createElement("style");
        r.appendChild(o.createTextNode(e)),
        i && (r.id = i),
        s == o && (s = t.getDocumentHead(o)),
        s.insertBefore(r, s.firstChild)
    }
    ,
    t.importCssStylsheet = function(e, i) {
        t.buildDom(["link", {
            rel: "stylesheet",
            href: e
        }], t.getDocumentHead(i))
    }
    ,
    t.scrollbarWidth = function(e) {
        var i = t.createElement("ace_inner");
        i.style.width = "100%",
        i.style.minWidth = "0px",
        i.style.height = "200px",
        i.style.display = "block";
        var n = t.createElement("ace_outer")
          , s = n.style;
        s.position = "absolute",
        s.left = "-10000px",
        s.overflow = "hidden",
        s.width = "200px",
        s.minWidth = "0px",
        s.height = "150px",
        s.display = "block",
        n.appendChild(i);
        var o = e.documentElement;
        o.appendChild(n);
        var r = i.offsetWidth;
        s.overflow = "scroll";
        var a = i.offsetWidth;
        return r == a && (a = n.clientWidth),
        o.removeChild(n),
        r - a
    }
    ,
    "undefined" == typeof document && (t.importCssString = function() {}
    ),
    t.computedStyle = function(e, t) {
        return window.getComputedStyle(e, "") || {}
    }
    ,
    t.setStyle = function(e, t, i) {
        e[t] !== i && (e[t] = i)
    }
    ,
    t.HAS_CSS_ANIMATION = !1,
    t.HAS_CSS_TRANSFORMS = !1,
    t.HI_DPI = !n.isWin || "undefined" != typeof window && window.devicePixelRatio >= 1.5,
    "undefined" != typeof document) {
        var s = document.createElement("div");
        t.HI_DPI && void 0 !== s.style.transform && (t.HAS_CSS_TRANSFORMS = !0),
        !n.isEdge && void 0 !== s.style.animationName && (t.HAS_CSS_ANIMATION = !0),
        s = null
    }
    t.HAS_CSS_TRANSFORMS ? t.translate = function(e, t, i) {
        e.style.transform = "translate(" + Math.round(t) + "px, " + Math.round(i) + "px)"
    }
    : t.translate = function(e, t, i) {
        e.style.top = Math.round(i) + "px",
        e.style.left = Math.round(t) + "px"
    }
}),
ace.define("ace/lib/oop", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    t.inherits = function(e, t) {
        e.super_ = t,
        e.prototype = Object.create(t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    }
    ,
    t.mixin = function(e, t) {
        for (var i in t)
            e[i] = t[i];
        return e
    }
    ,
    t.implement = function(e, i) {
        t.mixin(e, i)
    }
}),
ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop"], function(e, t, i) {
    "use strict";
    e("./fixoldbrowsers");
    var n = e("./oop")
      , s = function() {
        var e, t, i = {
            MODIFIER_KEYS: {
                16: "Shift",
                17: "Ctrl",
                18: "Alt",
                224: "Meta"
            },
            KEY_MODS: {
                ctrl: 1,
                alt: 2,
                option: 2,
                shift: 4,
                super: 8,
                meta: 8,
                command: 8,
                cmd: 8
            },
            FUNCTION_KEYS: {
                8: "Backspace",
                9: "Tab",
                13: "Return",
                19: "Pause",
                27: "Esc",
                32: "Space",
                33: "PageUp",
                34: "PageDown",
                35: "End",
                36: "Home",
                37: "Left",
                38: "Up",
                39: "Right",
                40: "Down",
                44: "Print",
                45: "Insert",
                46: "Delete",
                96: "Numpad0",
                97: "Numpad1",
                98: "Numpad2",
                99: "Numpad3",
                100: "Numpad4",
                101: "Numpad5",
                102: "Numpad6",
                103: "Numpad7",
                104: "Numpad8",
                105: "Numpad9",
                "-13": "NumpadEnter",
                112: "F1",
                113: "F2",
                114: "F3",
                115: "F4",
                116: "F5",
                117: "F6",
                118: "F7",
                119: "F8",
                120: "F9",
                121: "F10",
                122: "F11",
                123: "F12",
                144: "Numlock",
                145: "Scrolllock"
            },
            PRINTABLE_KEYS: {
                32: " ",
                48: "0",
                49: "1",
                50: "2",
                51: "3",
                52: "4",
                53: "5",
                54: "6",
                55: "7",
                56: "8",
                57: "9",
                59: ";",
                61: "=",
                65: "a",
                66: "b",
                67: "c",
                68: "d",
                69: "e",
                70: "f",
                71: "g",
                72: "h",
                73: "i",
                74: "j",
                75: "k",
                76: "l",
                77: "m",
                78: "n",
                79: "o",
                80: "p",
                81: "q",
                82: "r",
                83: "s",
                84: "t",
                85: "u",
                86: "v",
                87: "w",
                88: "x",
                89: "y",
                90: "z",
                107: "+",
                109: "-",
                110: ".",
                186: ";",
                187: "=",
                188: ",",
                189: "-",
                190: ".",
                191: "/",
                192: "`",
                219: "[",
                220: "\\",
                221: "]",
                222: "'",
                111: "/",
                106: "*"
            }
        };
        for (t in i.FUNCTION_KEYS)
            e = i.FUNCTION_KEYS[t].toLowerCase(),
            i[e] = parseInt(t, 10);
        for (t in i.PRINTABLE_KEYS)
            e = i.PRINTABLE_KEYS[t].toLowerCase(),
            i[e] = parseInt(t, 10);
        return n.mixin(i, i.MODIFIER_KEYS),
        n.mixin(i, i.PRINTABLE_KEYS),
        n.mixin(i, i.FUNCTION_KEYS),
        i.enter = i.return,
        i.escape = i.esc,
        i.del = i.delete,
        i[173] = "-",
        function() {
            for (var e = ["cmd", "ctrl", "alt", "shift"], t = Math.pow(2, e.length); t--; )
                i.KEY_MODS[t] = e.filter(function(e) {
                    return t & i.KEY_MODS[e]
                }).join("-") + "-"
        }(),
        i.KEY_MODS[0] = "",
        i.KEY_MODS[-1] = "input-",
        i
    }();
    n.mixin(t, s),
    t.keyCodeToString = function(e) {
        var t = s[e];
        return "string" != typeof t && (t = String.fromCharCode(e)),
        t.toLowerCase()
    }
}),
ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    function n(e, t, i) {
        var n = h(t);
        if (!r.isMac && a) {
            if (t.getModifierState && (t.getModifierState("OS") || t.getModifierState("Win")) && (n |= 8),
            a.altGr) {
                if (3 == (3 & n))
                    return;
                a.altGr = 0
            }
            if (18 === i || 17 === i) {
                var s = "location"in t ? t.location : t.keyLocation;
                17 === i && 1 === s ? 1 == a[i] && (l = t.timeStamp) : 18 === i && 3 === n && 2 === s && t.timeStamp - l < 50 && (a.altGr = !0)
            }
        }
        if (i in o.MODIFIER_KEYS && (i = -1),
        8 & n && i >= 91 && i <= 93 && (i = -1),
        n || 13 !== i || 3 !== (s = "location"in t ? t.location : t.keyLocation) || (e(t, n, -i),
        !t.defaultPrevented)) {
            if (r.isChromeOS && 8 & n) {
                if (e(t, n, i),
                t.defaultPrevented)
                    return;
                n &= -9
            }
            return !!(n || i in o.FUNCTION_KEYS || i in o.PRINTABLE_KEYS) && e(t, n, i)
        }
    }
    function s() {
        a = Object.create(null)
    }
    var o = e("./keys")
      , r = e("./useragent")
      , a = null
      , l = 0;
    t.addListener = function(e, t, i) {
        if (e.addEventListener)
            return e.addEventListener(t, i, !1);
        if (e.attachEvent) {
            var n = function() {
                i.call(e, window.event)
            };
            i._wrapper = n,
            e.attachEvent("on" + t, n)
        }
    }
    ,
    t.removeListener = function(e, t, i) {
        if (e.removeEventListener)
            return e.removeEventListener(t, i, !1);
        e.detachEvent && e.detachEvent("on" + t, i._wrapper || i)
    }
    ,
    t.stopEvent = function(e) {
        return t.stopPropagation(e),
        t.preventDefault(e),
        !1
    }
    ,
    t.stopPropagation = function(e) {
        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
    }
    ,
    t.preventDefault = function(e) {
        e.preventDefault ? e.preventDefault() : e.returnValue = !1
    }
    ,
    t.getButton = function(e) {
        return "dblclick" == e.type ? 0 : "contextmenu" == e.type || r.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.preventDefault ? e.button : {
            1: 0,
            2: 2,
            4: 1
        }[e.button]
    }
    ,
    t.capture = function(e, i, n) {
        function s(e) {
            i && i(e),
            n && n(e),
            t.removeListener(document, "mousemove", i, !0),
            t.removeListener(document, "mouseup", s, !0),
            t.removeListener(document, "dragstart", s, !0)
        }
        return t.addListener(document, "mousemove", i, !0),
        t.addListener(document, "mouseup", s, !0),
        t.addListener(document, "dragstart", s, !0),
        s
    }
    ,
    t.addTouchMoveListener = function(e, i) {
        var n, s;
        t.addListener(e, "touchstart", function(e) {
            var t = e.touches[0];
            n = t.clientX,
            s = t.clientY
        }),
        t.addListener(e, "touchmove", function(e) {
            var t = e.touches;
            if (!(t.length > 1)) {
                var o = t[0];
                e.wheelX = n - o.clientX,
                e.wheelY = s - o.clientY,
                n = o.clientX,
                s = o.clientY,
                i(e)
            }
        })
    }
    ,
    t.addMouseWheelListener = function(e, i) {
        "onmousewheel"in e ? t.addListener(e, "mousewheel", function(e) {
            void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8,
            e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0,
            e.wheelY = -e.wheelDelta / 8),
            i(e)
        }) : "onwheel"in e ? t.addListener(e, "wheel", function(e) {
            switch (e.deltaMode) {
            case e.DOM_DELTA_PIXEL:
                e.wheelX = .35 * e.deltaX || 0,
                e.wheelY = .35 * e.deltaY || 0;
                break;
            case e.DOM_DELTA_LINE:
            case e.DOM_DELTA_PAGE:
                e.wheelX = 5 * (e.deltaX || 0),
                e.wheelY = 5 * (e.deltaY || 0)
            }
            i(e)
        }) : t.addListener(e, "DOMMouseScroll", function(e) {
            e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0),
            e.wheelY = 0) : (e.wheelX = 0,
            e.wheelY = 5 * (e.detail || 0)),
            i(e)
        })
    }
    ,
    t.addMultiMouseDownListener = function(e, i, n, s) {
        function o(e) {
            if (0 !== t.getButton(e) ? u = 0 : e.detail > 1 ? ++u > 4 && (u = 1) : u = 1,
            r.isIE) {
                var o = Math.abs(e.clientX - l) > 5 || Math.abs(e.clientY - h) > 5;
                c && !o || (u = 1),
                c && clearTimeout(c),
                c = setTimeout(function() {
                    c = null
                }, i[u - 1] || 600),
                1 == u && (l = e.clientX,
                h = e.clientY)
            }
            if (e._clicks = u,
            n[s]("mousedown", e),
            u > 4)
                u = 0;
            else if (u > 1)
                return n[s](d[u], e)
        }
        function a(e) {
            u = 2,
            c && clearTimeout(c),
            c = setTimeout(function() {
                c = null
            }, i[u - 1] || 600),
            n[s]("mousedown", e),
            n[s](d[u], e)
        }
        var l, h, c, u = 0, d = {
            2: "dblclick",
            3: "tripleclick",
            4: "quadclick"
        };
        Array.isArray(e) || (e = [e]),
        e.forEach(function(e) {
            t.addListener(e, "mousedown", o),
            r.isOldIE && t.addListener(e, "dblclick", a)
        })
    }
    ;
    var h = !r.isMac || !r.isOpera || "KeyboardEvent"in window ? function(e) {
        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0)
    }
    : function(e) {
        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0)
    }
    ;
    if (t.getModifierString = function(e) {
        return o.KEY_MODS[h(e)]
    }
    ,
    t.addCommandKeyListener = function(e, i) {
        var o = t.addListener;
        if (r.isOldGecko || r.isOpera && !("KeyboardEvent"in window)) {
            var l = null;
            o(e, "keydown", function(e) {
                l = e.keyCode
            }),
            o(e, "keypress", function(e) {
                return n(i, e, l)
            })
        } else {
            var h = null;
            o(e, "keydown", function(e) {
                a[e.keyCode] = (a[e.keyCode] || 0) + 1;
                var t = n(i, e, e.keyCode);
                return h = e.defaultPrevented,
                t
            }),
            o(e, "keypress", function(e) {
                h && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e),
                h = null)
            }),
            o(e, "keyup", function(e) {
                a[e.keyCode] = null
            }),
            a || (s(),
            o(window, "focus", s))
        }
    }
    ,
    "object" == typeof window && window.postMessage && !r.isOldIE) {
        var c = 1;
        t.nextTick = function(e, i) {
            i = i || window;
            var n = "zero-timeout-message-" + c++
              , s = function(o) {
                o.data == n && (t.stopPropagation(o),
                t.removeListener(i, "message", s),
                e())
            };
            t.addListener(i, "message", s),
            i.postMessage(n, "*")
        }
    }
    t.$idleBlocked = !1,
    t.onIdle = function(e, i) {
        return setTimeout(function i() {
            t.$idleBlocked ? setTimeout(i, 100) : e()
        }, i)
    }
    ,
    t.$idleBlockId = null,
    t.blockIdle = function(e) {
        t.$idleBlockId && clearTimeout(t.$idleBlockId),
        t.$idleBlocked = !0,
        t.$idleBlockId = setTimeout(function() {
            t.$idleBlocked = !1
        }, e || 100)
    }
    ,
    t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame),
    t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function(e) {
        setTimeout(e, 17)
    }
}),
ace.define("ace/range", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    var n = function(e, t, i, n) {
        this.start = {
            row: e,
            column: t
        },
        this.end = {
            row: i,
            column: n
        }
    };
    (function() {
        this.isEqual = function(e) {
            return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column
        }
        ,
        this.toString = function() {
            return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"
        }
        ,
        this.contains = function(e, t) {
            return 0 == this.compare(e, t)
        }
        ,
        this.compareRange = function(e) {
            var t, i = e.end, n = e.start;
            return 1 == (t = this.compare(i.row, i.column)) ? 1 == (t = this.compare(n.row, n.column)) ? 2 : 0 == t ? 1 : 0 : -1 == t ? -2 : -1 == (t = this.compare(n.row, n.column)) ? -1 : 1 == t ? 42 : 0
        }
        ,
        this.comparePoint = function(e) {
            return this.compare(e.row, e.column)
        }
        ,
        this.containsRange = function(e) {
            return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end)
        }
        ,
        this.intersects = function(e) {
            var t = this.compareRange(e);
            return -1 == t || 0 == t || 1 == t
        }
        ,
        this.isEnd = function(e, t) {
            return this.end.row == e && this.end.column == t
        }
        ,
        this.isStart = function(e, t) {
            return this.start.row == e && this.start.column == t
        }
        ,
        this.setStart = function(e, t) {
            "object" == typeof e ? (this.start.column = e.column,
            this.start.row = e.row) : (this.start.row = e,
            this.start.column = t)
        }
        ,
        this.setEnd = function(e, t) {
            "object" == typeof e ? (this.end.column = e.column,
            this.end.row = e.row) : (this.end.row = e,
            this.end.column = t)
        }
        ,
        this.inside = function(e, t) {
            return 0 == this.compare(e, t) && (!this.isEnd(e, t) && !this.isStart(e, t))
        }
        ,
        this.insideStart = function(e, t) {
            return 0 == this.compare(e, t) && !this.isEnd(e, t)
        }
        ,
        this.insideEnd = function(e, t) {
            return 0 == this.compare(e, t) && !this.isStart(e, t)
        }
        ,
        this.compare = function(e, t) {
            return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0
        }
        ,
        this.compareStart = function(e, t) {
            return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
        }
        ,
        this.compareEnd = function(e, t) {
            return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t)
        }
        ,
        this.compareInside = function(e, t) {
            return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
        }
        ,
        this.clipRows = function(e, t) {
            if (this.end.row > t)
                i = {
                    row: t + 1,
                    column: 0
                };
            else if (this.end.row < e)
                var i = {
                    row: e,
                    column: 0
                };
            if (this.start.row > t)
                s = {
                    row: t + 1,
                    column: 0
                };
            else if (this.start.row < e)
                var s = {
                    row: e,
                    column: 0
                };
            return n.fromPoints(s || this.start, i || this.end)
        }
        ,
        this.extend = function(e, t) {
            var i = this.compare(e, t);
            if (0 == i)
                return this;
            if (-1 == i)
                var s = {
                    row: e,
                    column: t
                };
            else
                var o = {
                    row: e,
                    column: t
                };
            return n.fromPoints(s || this.start, o || this.end)
        }
        ,
        this.isEmpty = function() {
            return this.start.row === this.end.row && this.start.column === this.end.column
        }
        ,
        this.isMultiLine = function() {
            return this.start.row !== this.end.row
        }
        ,
        this.clone = function() {
            return n.fromPoints(this.start, this.end)
        }
        ,
        this.collapseRows = function() {
            return 0 == this.end.column ? new n(this.start.row,0,Math.max(this.start.row, this.end.row - 1),0) : new n(this.start.row,0,this.end.row,0)
        }
        ,
        this.toScreenRange = function(e) {
            var t = e.documentToScreenPosition(this.start)
              , i = e.documentToScreenPosition(this.end);
            return new n(t.row,t.column,i.row,i.column)
        }
        ,
        this.moveBy = function(e, t) {
            this.start.row += e,
            this.start.column += t,
            this.end.row += e,
            this.end.column += t
        }
    }
    ).call(n.prototype),
    n.fromPoints = function(e, t) {
        return new n(e.row,e.column,t.row,t.column)
    }
    ,
    n.comparePoints = function(e, t) {
        return e.row - t.row || e.column - t.column
    }
    ,
    n.comparePoints = function(e, t) {
        return e.row - t.row || e.column - t.column
    }
    ,
    t.Range = n
}),
ace.define("ace/lib/lang", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    t.last = function(e) {
        return e[e.length - 1]
    }
    ,
    t.stringReverse = function(e) {
        return e.split("").reverse().join("")
    }
    ,
    t.stringRepeat = function(e, t) {
        for (var i = ""; t > 0; )
            1 & t && (i += e),
            (t >>= 1) && (e += e);
        return i
    }
    ;
    var n = /^\s\s*/
      , s = /\s\s*$/;
    t.stringTrimLeft = function(e) {
        return e.replace(n, "")
    }
    ,
    t.stringTrimRight = function(e) {
        return e.replace(s, "")
    }
    ,
    t.copyObject = function(e) {
        var t = {};
        for (var i in e)
            t[i] = e[i];
        return t
    }
    ,
    t.copyArray = function(e) {
        for (var t = [], i = 0, n = e.length; i < n; i++)
            e[i] && "object" == typeof e[i] ? t[i] = this.copyObject(e[i]) : t[i] = e[i];
        return t
    }
    ,
    t.deepCopy = function e(t) {
        if ("object" != typeof t || !t)
            return t;
        var i;
        if (Array.isArray(t)) {
            i = [];
            for (n = 0; n < t.length; n++)
                i[n] = e(t[n]);
            return i
        }
        if ("[object Object]" !== Object.prototype.toString.call(t))
            return t;
        i = {};
        for (var n in t)
            i[n] = e(t[n]);
        return i
    }
    ,
    t.arrayToMap = function(e) {
        for (var t = {}, i = 0; i < e.length; i++)
            t[e[i]] = 1;
        return t
    }
    ,
    t.createMap = function(e) {
        var t = Object.create(null);
        for (var i in e)
            t[i] = e[i];
        return t
    }
    ,
    t.arrayRemove = function(e, t) {
        for (var i = 0; i <= e.length; i++)
            t === e[i] && e.splice(i, 1)
    }
    ,
    t.escapeRegExp = function(e) {
        return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1")
    }
    ,
    t.escapeHTML = function(e) {
        return ("" + e).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;")
    }
    ,
    t.getMatchOffsets = function(e, t) {
        var i = [];
        return e.replace(t, function(e) {
            i.push({
                offset: arguments[arguments.length - 2],
                length: e.length
            })
        }),
        i
    }
    ,
    t.deferredCall = function(e) {
        var t = null
          , i = function() {
            t = null,
            e()
        }
          , n = function(e) {
            return n.cancel(),
            t = setTimeout(i, e || 0),
            n
        };
        return n.schedule = n,
        n.call = function() {
            return this.cancel(),
            e(),
            n
        }
        ,
        n.cancel = function() {
            return clearTimeout(t),
            t = null,
            n
        }
        ,
        n.isPending = function() {
            return t
        }
        ,
        n
    }
    ,
    t.delayedCall = function(e, t) {
        var i = null
          , n = function() {
            i = null,
            e()
        }
          , s = function(e) {
            null == i && (i = setTimeout(n, e || t))
        };
        return s.delay = function(e) {
            i && clearTimeout(i),
            i = setTimeout(n, e || t)
        }
        ,
        s.schedule = s,
        s.call = function() {
            this.cancel(),
            e()
        }
        ,
        s.cancel = function() {
            i && clearTimeout(i),
            i = null
        }
        ,
        s.isPending = function() {
            return i
        }
        ,
        s
    }
}),
ace.define("ace/keyboard/textinput_ios", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/lib/keys"], function(e, t, i) {
    "use strict";
    var n = e("../lib/event")
      , s = e("../lib/useragent")
      , o = e("../lib/dom")
      , r = e("../lib/lang")
      , a = e("../lib/keys")
      , l = a.KEY_MODS
      , h = s.isChrome < 18
      , c = s.isIE;
    t.TextInput = function(e, t) {
        function i(e) {
            if (!w) {
                if (w = !0,
                A)
                    t = 0,
                    i = e ? 0 : g.value.length - 1;
                else
                    var t = 4
                      , i = 5;
                try {
                    g.setSelectionRange(t, i)
                } catch (e) {}
                w = !1
            }
        }
        function u() {
            w || (g.value = f,
            s.isWebKit && S.schedule())
        }
        function d() {
            clearTimeout(F),
            F = setTimeout(function() {
                $ && (g.style.cssText = $,
                $ = ""),
                null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0,
                t.renderer.$moveTextAreaToCursor())
            }, 0)
        }
        var g = o.createElement("textarea");
        g.className = s.isIOS ? "ace_text-input ace_text-input-ios" : "ace_text-input",
        s.isTouchPad && g.setAttribute("x-palm-disable-auto-cap", !0),
        g.setAttribute("wrap", "off"),
        g.setAttribute("autocorrect", "off"),
        g.setAttribute("autocapitalize", "off"),
        g.setAttribute("spellcheck", !1),
        g.style.opacity = "0",
        e.insertBefore(g, e.firstChild);
        var f = "\n aaaa a\n"
          , m = !1
          , p = !1
          , v = !1
          , w = !1
          , $ = ""
          , b = !0;
        try {
            var y = document.activeElement === g
        } catch (e) {}
        n.addListener(g, "blur", function(e) {
            t.onBlur(e),
            y = !1
        }),
        n.addListener(g, "focus", function(e) {
            y = !0,
            t.onFocus(e),
            i()
        }),
        this.focus = function() {
            if ($)
                return g.focus();
            g.style.position = "fixed",
            g.focus()
        }
        ,
        this.blur = function() {
            g.blur()
        }
        ,
        this.isFocused = function() {
            return y
        }
        ;
        var C = r.delayedCall(function() {
            y && i(b)
        })
          , S = r.delayedCall(function() {
            w || (g.value = f,
            y && i())
        });
        s.isWebKit || t.addEventListener("changeSelection", function() {
            t.selection.isEmpty() != b && (b = !b,
            C.schedule())
        }),
        u(),
        y && t.onFocus();
        var x = function(e) {
            return 0 === e.selectionStart && e.selectionEnd === e.value.length
        }
          , A = null;
        this.setInputHandler = function(e) {
            A = e
        }
        ,
        this.getInputHandler = function() {
            return A
        }
        ;
        var k = !1
          , L = function(e) {
            4 === g.selectionStart && 5 === g.selectionEnd || (A && (e = A(e),
            A = null),
            v ? (i(),
            e && t.onPaste(e),
            v = !1) : e == f.substr(0) && 4 === g.selectionStart ? k ? t.execCommand("del", {
                source: "ace"
            }) : t.execCommand("backspace", {
                source: "ace"
            }) : m || (e.substring(0, 9) == f && e.length > f.length ? e = e.substr(9) : e.substr(0, 4) == f.substr(0, 4) ? e = e.substr(4, e.length - f.length + 1) : e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)),
            e != f.charAt(0) && e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)),
            e && t.onTextInput(e)),
            m && (m = !1),
            k && (k = !1))
        }
          , R = function(e) {
            if (!w) {
                var t = g.value;
                L(t),
                u()
            }
        }
          , E = function(e, t, i) {
            var n = e.clipboardData || window.clipboardData;
            if (n && !h) {
                var s = c || i ? "Text" : "text/plain";
                try {
                    return t ? !1 !== n.setData(s, t) : n.getData(s)
                } catch (e) {
                    if (!i)
                        return E(e, t, !0)
                }
            }
        }
          , M = function(e, o) {
            var r = t.getCopyText();
            if (!r)
                return n.preventDefault(e);
            E(e, r) ? (s.isIOS && (p = o,
            g.value = "\n aa" + r + "a a\n",
            g.setSelectionRange(4, 4 + r.length),
            m = {
                value: r
            }),
            o ? t.onCut() : t.onCopy(),
            s.isIOS || n.preventDefault(e)) : (m = !0,
            g.value = r,
            g.select(),
            setTimeout(function() {
                m = !1,
                u(),
                i(),
                o ? t.onCut() : t.onCopy()
            }))
        };
        n.addCommandKeyListener(g, t.onCommandKey.bind(t)),
        n.addListener(g, "select", function(e) {
            x(g) ? (t.selectAll(),
            i()) : A && i(t.selection.isEmpty())
        }),
        n.addListener(g, "input", R),
        n.addListener(g, "cut", function(e) {
            M(e, !0)
        }),
        n.addListener(g, "copy", function(e) {
            M(e, !1)
        }),
        n.addListener(g, "paste", function(e) {
            var o = E(e);
            "string" == typeof o ? (o && t.onPaste(o, e),
            s.isIE && setTimeout(i),
            n.preventDefault(e)) : (g.value = "",
            v = !0)
        });
        var T = function() {
            if (w && t.onCompositionUpdate && !t.$readOnly) {
                var e = g.value.replace(/\x01/g, "");
                if (w.lastValue !== e && (t.onCompositionUpdate(e),
                w.lastValue && t.undo(),
                w.canUndo && (w.lastValue = e),
                w.lastValue)) {
                    var i = t.selection.getRange();
                    t.insert(w.lastValue),
                    t.session.markUndoGroup(),
                    w.range = t.selection.getRange(),
                    t.selection.setRange(i),
                    t.selection.clearSelection()
                }
            }
        }
          , _ = function(e) {
            if (t.onCompositionEnd && !t.$readOnly) {
                var i = w;
                w = !1;
                var n = setTimeout(function() {
                    n = null;
                    var e = g.value.replace(/\x01/g, "");
                    w || (e == i.lastValue ? u() : !i.lastValue && e && (u(),
                    L(e)))
                });
                A = function(e) {
                    return n && clearTimeout(n),
                    (e = e.replace(/\x01/g, "")) == i.lastValue ? "" : (i.lastValue && n && t.undo(),
                    e)
                }
                ,
                t.onCompositionEnd(),
                t.removeListener("mousedown", _),
                "compositionend" == e.type && i.range && t.selection.setRange(i.range),
                (!!s.isChrome && s.isChrome >= 53 || !!s.isWebKit && s.isWebKit >= 603) && R()
            }
        }
          , O = r.delayedCall(T, 50);
        n.addListener(g, "compositionstart", function(e) {
            w || !t.onCompositionStart || t.$readOnly || ((w = {}).canUndo = t.session.$undoManager,
            t.onCompositionStart(),
            setTimeout(T, 0),
            t.on("mousedown", _),
            w.canUndo && !t.selection.isEmpty() && (t.insert(""),
            t.session.markUndoGroup(),
            t.selection.clearSelection()),
            t.session.markUndoGroup())
        }),
        n.addListener(g, "compositionupdate", function() {
            O.schedule()
        }),
        n.addListener(g, "keyup", function() {
            O.schedule()
        }),
        n.addListener(g, "keydown", function() {
            O.schedule()
        }),
        n.addListener(g, "compositionend", _),
        this.getElement = function() {
            return g
        }
        ,
        this.setReadOnly = function(e) {
            g.readOnly = e
        }
        ,
        this.onContextMenu = function(e) {
            k = !0,
            i(t.selection.isEmpty()),
            t._emit("nativecontextmenu", {
                target: t,
                domEvent: e
            }),
            this.moveToMouse(e, !0)
        }
        ,
        this.moveToMouse = function(e, i) {
            $ || ($ = g.style.cssText),
            g.style.cssText = (i ? "z-index:100000;" : "") + "height:" + g.style.height + ";" + (s.isIE ? "opacity:0.1;" : "");
            var r = t.container.getBoundingClientRect()
              , a = o.computedStyle(t.container)
              , l = r.top + (parseInt(a.borderTopWidth) || 0)
              , h = r.left + (parseInt(r.borderLeftWidth) || 0)
              , c = r.bottom - l - g.clientHeight - 2
              , u = function(e) {
                g.style.left = e.clientX - h - 2 + "px",
                g.style.top = Math.min(e.clientY - l - 2, c) + "px"
            };
            u(e),
            "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null),
            clearTimeout(F),
            s.isWin && n.capture(t.container, u, d))
        }
        ,
        this.onContextMenuClose = d;
        var F, I = function(e) {
            t.textInput.onContextMenu(e),
            d()
        };
        if (n.addListener(g, "mouseup", I),
        n.addListener(g, "mousedown", function(e) {
            e.preventDefault(),
            d()
        }),
        n.addListener(t.renderer.scroller, "contextmenu", I),
        n.addListener(g, "contextmenu", I),
        s.isIOS) {
            var W = null
              , D = !1;
            e.addEventListener("keydown", function(e) {
                W && clearTimeout(W),
                D = !0
            }),
            e.addEventListener("keyup", function(e) {
                W = setTimeout(function() {
                    D = !1
                }, 100)
            });
            var B = function(e) {
                if (document.activeElement === g && !D) {
                    if (p)
                        return setTimeout(function() {
                            p = !1
                        }, 100);
                    var i = g.selectionStart
                      , n = g.selectionEnd;
                    if (g.setSelectionRange(4, 5),
                    i == n)
                        switch (i) {
                        case 0:
                            t.onCommandKey(null, 0, a.up);
                            break;
                        case 1:
                            t.onCommandKey(null, 0, a.home);
                            break;
                        case 2:
                            t.onCommandKey(null, l.option, a.left);
                            break;
                        case 4:
                            t.onCommandKey(null, 0, a.left);
                            break;
                        case 5:
                            t.onCommandKey(null, 0, a.right);
                            break;
                        case 7:
                            t.onCommandKey(null, l.option, a.right);
                            break;
                        case 8:
                            t.onCommandKey(null, 0, a.end);
                            break;
                        case 9:
                            t.onCommandKey(null, 0, a.down)
                        }
                    else {
                        switch (n) {
                        case 6:
                            t.onCommandKey(null, l.shift, a.right);
                            break;
                        case 7:
                            t.onCommandKey(null, l.shift | l.option, a.right);
                            break;
                        case 8:
                            t.onCommandKey(null, l.shift, a.end);
                            break;
                        case 9:
                            t.onCommandKey(null, l.shift, a.down)
                        }
                        switch (i) {
                        case 0:
                            t.onCommandKey(null, l.shift, a.up);
                            break;
                        case 1:
                            t.onCommandKey(null, l.shift, a.home);
                            break;
                        case 2:
                            t.onCommandKey(null, l.shift | l.option, a.left);
                            break;
                        case 3:
                            t.onCommandKey(null, l.shift, a.left)
                        }
                    }
                }
            };
            document.addEventListener("selectionchange", B),
            t.on("destroy", function() {
                document.removeEventListener("selectionchange", B)
            })
        }
    }
}),
ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/keyboard/textinput_ios"], function(e, t, i) {
    "use strict";
    var n = e("../lib/event")
      , s = e("../lib/useragent")
      , o = e("../lib/dom")
      , r = e("../lib/lang")
      , a = s.isChrome < 18
      , l = s.isIE
      , h = s.isChrome > 63
      , c = 400
      , u = e("./textinput_ios").TextInput;
    t.TextInput = function(e, t) {
        function i() {
            if (!v && !w && (k || E)) {
                v = !0;
                var e = t.selection
                  , i = e.getRange()
                  , n = e.cursor.row
                  , s = i.start.column
                  , o = i.end.column
                  , r = t.session.getLine(n);
                if (i.start.row != n) {
                    var a = t.session.getLine(n - 1);
                    s = i.start.row < n - 1 ? 0 : s,
                    o += a.length + 1,
                    r = a + "\n" + r
                } else if (i.end.row != n) {
                    var l = t.session.getLine(n + 1);
                    o = i.end.row > n + 1 ? l.length : o,
                    o += r.length + 1,
                    r = r + "\n" + l
                }
                r.length > c && (s < c && o < c ? r = r.slice(0, c) : (r = "\n",
                s = 0,
                o = 1));
                var h = r + "\n\n";
                if (h != S && (f.value = S = h,
                x = A = h.length),
                E && (x = f.selectionStart,
                A = f.selectionEnd),
                A != o || x != s)
                    try {
                        f.setSelectionRange(s, o),
                        x = s,
                        A = o
                    } catch (e) {}
                v = !1
            }
        }
        function d() {
            C = !0,
            f.blur(),
            f.focus(),
            C = !1
        }
        function g() {
            clearTimeout(P),
            P = setTimeout(function() {
                $ && (f.style.cssText = $,
                $ = ""),
                null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0,
                t.renderer.$moveTextAreaToCursor())
            }, 0)
        }
        if (s.isIOS)
            return u.call(this, e, t);
        var f = o.createElement("textarea");
        f.className = "ace_text-input",
        f.setAttribute("wrap", "off"),
        f.setAttribute("autocorrect", "off"),
        f.setAttribute("autocapitalize", "off"),
        f.setAttribute("spellcheck", !1),
        f.style.opacity = "0",
        e.insertBefore(f, e.firstChild);
        var m = !1
          , p = !1
          , v = !1
          , w = !1
          , $ = ""
          , b = !1;
        s.isMobile || (f.style.fontSize = "1px");
        var y = !1
          , C = !1
          , S = ""
          , x = 0
          , A = 0;
        try {
            var k = document.activeElement === f
        } catch (e) {}
        n.addListener(f, "blur", function(e) {
            C || (t.onBlur(e),
            k = !1)
        }),
        n.addListener(f, "focus", function(e) {
            C || (k = !0,
            t.onFocus(e),
            i())
        }),
        this.$focusScroll = !1,
        this.focus = function() {
            if ($ || h || "browser" == this.$focusScroll)
                return f.focus({
                    preventScroll: !0
                });
            if (document.documentElement.contains(f)) {
                var e = f.style.top;
                f.style.position = "fixed",
                f.style.top = "0px";
                var t = 0 != f.getBoundingClientRect().top
                  , i = [];
                if (t)
                    for (var n = f.parentElement; n && 1 == n.nodeType; )
                        i.push(n),
                        n.setAttribute("ace_nocontext", !0),
                        n = !n.parentElement && n.getRootNode ? n.getRootNode().host : n.parentElement;
                f.focus({
                    preventScroll: !0
                }),
                t && i.forEach(function(e) {
                    e.removeAttribute("ace_nocontext")
                }),
                setTimeout(function() {
                    f.style.position = "",
                    "0px" == f.style.top && (f.style.top = e)
                }, 0)
            }
        }
        ,
        this.blur = function() {
            f.blur()
        }
        ,
        this.isFocused = function() {
            return k
        }
        ,
        t.on("beforeEndOperation", function() {
            t.curOp && "insertstring" == t.curOp.command.name || (v && (S = f.value = "",
            B()),
            i())
        }),
        k && t.onFocus();
        var L = function(e) {
            return 0 === e.selectionStart && e.selectionEnd >= S.length && e.value === S && S && e.selectionEnd !== A
        }
          , R = null;
        this.setInputHandler = function(e) {
            R = e
        }
        ,
        this.getInputHandler = function() {
            return R
        }
        ;
        var E = !1
          , M = function(e, n) {
            if (E && (E = !1),
            p)
                return i(),
                e && t.onPaste(e),
                p = !1,
                "";
            for (var s = f.selectionStart, o = f.selectionEnd, r = x, a = S.length - A, l = e, h = e.length - s, c = e.length - o, u = 0; r > 0 && S[u] == e[u]; )
                u++,
                r--;
            for (l = l.slice(u),
            u = 1; a > 0 && S.length - u > x - 1 && S[S.length - u] == e[e.length - u]; )
                u++,
                a--;
            return h -= u - 1,
            c -= u - 1,
            l = l.slice(0, l.length - u + 1),
            n || h != l.length || r || a || c ? (w = !0,
            l && !r && !a && !h && !c || y ? t.onTextInput(l) : t.onTextInput(l, {
                extendLeft: r,
                extendRight: a,
                restoreStart: h,
                restoreEnd: c
            }),
            w = !1,
            S = e,
            x = s,
            A = o,
            l) : ""
        }
          , T = function(e) {
            if (v)
                return D();
            var t = f.value
              , n = M(t, !0);
            (t.length > c + 100 || /\n/.test(n)) && i()
        }
          , _ = function(e, t, i) {
            var n = e.clipboardData || window.clipboardData;
            if (n && !a) {
                var s = l || i ? "Text" : "text/plain";
                try {
                    return t ? !1 !== n.setData(s, t) : n.getData(s)
                } catch (e) {
                    if (!i)
                        return _(e, t, !0)
                }
            }
        }
          , O = function(e, s) {
            var o = t.getCopyText();
            if (!o)
                return n.preventDefault(e);
            _(e, o) ? (s ? t.onCut() : t.onCopy(),
            n.preventDefault(e)) : (m = !0,
            f.value = o,
            f.select(),
            setTimeout(function() {
                m = !1,
                i(),
                s ? t.onCut() : t.onCopy()
            }))
        }
          , F = function(e) {
            O(e, !0)
        }
          , I = function(e) {
            O(e, !1)
        }
          , W = function(e) {
            var o = _(e);
            "string" == typeof o ? (o && t.onPaste(o, e),
            s.isIE && setTimeout(i),
            n.preventDefault(e)) : (f.value = "",
            p = !0)
        };
        n.addCommandKeyListener(f, t.onCommandKey.bind(t)),
        n.addListener(f, "select", function(e) {
            v || (m ? m = !1 : L(f) && (t.selectAll(),
            i()))
        }),
        n.addListener(f, "input", T),
        n.addListener(f, "cut", F),
        n.addListener(f, "copy", I),
        n.addListener(f, "paste", W),
        (!("oncut"in f) || !("oncopy"in f) || !("onpaste"in f)) && n.addListener(e, "keydown", function(e) {
            if ((!s.isMac || e.metaKey) && e.ctrlKey)
                switch (e.keyCode) {
                case 67:
                    I(e);
                    break;
                case 86:
                    W(e);
                    break;
                case 88:
                    F(e)
                }
        });
        var D = function() {
            if (v && t.onCompositionUpdate && !t.$readOnly) {
                if (y)
                    return d();
                if (v.useTextareaForIME)
                    t.onCompositionUpdate(f.value);
                else {
                    var e = f.value;
                    M(e),
                    v.markerRange && (v.context && (v.markerRange.start.column = v.selectionStart = v.context.compositionStartOffset),
                    v.markerRange.end.column = v.markerRange.start.column + A - v.selectionStart)
                }
            }
        }
          , B = function(e) {
            t.onCompositionEnd && !t.$readOnly && (v = !1,
            t.onCompositionEnd(),
            t.off("mousedown", d),
            e && T())
        }
          , H = r.delayedCall(D, 50).schedule.bind(null, null);
        n.addListener(f, "compositionstart", function(e) {
            if (!v && t.onCompositionStart && !t.$readOnly && (v = {},
            !y)) {
                setTimeout(D, 0),
                t.on("mousedown", d);
                var i = t.getSelectionRange();
                i.end.row = i.start.row,
                i.end.column = i.start.column,
                v.markerRange = i,
                v.selectionStart = x,
                t.onCompositionStart(v),
                v.useTextareaForIME ? (f.value = "",
                S = "",
                x = 0,
                A = 0) : (f.msGetInputContext && (v.context = f.msGetInputContext()),
                f.getInputContext && (v.context = f.getInputContext()))
            }
        }),
        n.addListener(f, "compositionupdate", D),
        n.addListener(f, "keyup", function(e) {
            27 == e.keyCode && f.value.length < f.selectionStart && (v || (S = f.value),
            x = A = -1,
            i()),
            H()
        }),
        n.addListener(f, "keydown", H),
        n.addListener(f, "compositionend", B),
        this.getElement = function() {
            return f
        }
        ,
        this.setCommandMode = function(e) {
            y = e,
            f.readOnly = !1
        }
        ,
        this.setReadOnly = function(e) {
            y || (f.readOnly = e)
        }
        ,
        this.setCopyWithEmptySelection = function(e) {
            b = e
        }
        ,
        this.onContextMenu = function(e) {
            E = !0,
            i(),
            t._emit("nativecontextmenu", {
                target: t,
                domEvent: e
            }),
            this.moveToMouse(e, !0)
        }
        ,
        this.moveToMouse = function(e, i) {
            $ || ($ = f.style.cssText),
            f.style.cssText = (i ? "z-index:100000;" : "") + (s.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (x + A) * t.renderer.characterWidth * .5 + "px;";
            var r = t.container.getBoundingClientRect()
              , a = o.computedStyle(t.container)
              , l = r.top + (parseInt(a.borderTopWidth) || 0)
              , h = r.left + (parseInt(r.borderLeftWidth) || 0)
              , c = r.bottom - l - f.clientHeight - 2
              , u = function(e) {
                f.style.left = e.clientX - h - 2 + "px",
                f.style.top = Math.min(e.clientY - l - 2, c) + "px"
            };
            u(e),
            "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null),
            clearTimeout(P),
            s.isWin && n.capture(t.container, u, g))
        }
        ,
        this.onContextMenuClose = g;
        var P, N = function(e) {
            t.textInput.onContextMenu(e),
            g()
        };
        n.addListener(f, "mouseup", N),
        n.addListener(f, "mousedown", function(e) {
            e.preventDefault(),
            g()
        }),
        n.addListener(t.renderer.scroller, "contextmenu", N),
        n.addListener(f, "contextmenu", N)
    }
}),
ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    function n(e) {
        e.$clickSelection = null;
        var t = e.editor;
        t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)),
        t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)),
        t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)),
        t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)),
        t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)),
        t.setDefaultHandler("touchmove", this.onTouchMove.bind(e));
        ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"].forEach(function(t) {
            e[t] = this[t]
        }, this),
        e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"),
        e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange")
    }
    function s(e, t, i, n) {
        return Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2))
    }
    function o(e, t) {
        if (e.start.row == e.end.row)
            i = 2 * t.column - e.start.column - e.end.column;
        else if (e.start.row != e.end.row - 1 || e.start.column || e.end.column)
            i = 2 * t.row - e.start.row - e.end.row;
        else
            var i = t.column - 4;
        return i < 0 ? {
            cursor: e.start,
            anchor: e.end
        } : {
            cursor: e.end,
            anchor: e.start
        }
    }
    var r = e("../lib/useragent");
    (function() {
        this.onMouseDown = function(e) {
            var t = e.inSelection()
              , i = e.getDocumentPosition();
            this.mousedownEvent = e;
            var n = this.editor
              , s = e.getButton();
            return 0 !== s ? ((n.getSelectionRange().isEmpty() || 1 == s) && n.selection.moveToPosition(i),
            void (2 == s && (n.textInput.onContextMenu(e.domEvent),
            r.isMozilla || e.preventDefault()))) : (this.mousedownEvent.time = Date.now(),
            !t || n.isFocused() || (n.focus(),
            !this.$focusTimeout || this.$clickSelection || n.inMultiSelectMode) ? (this.captureMouse(e),
            this.startSelect(i, e.domEvent._clicks > 1),
            e.preventDefault()) : (this.setState("focusWait"),
            void this.captureMouse(e)))
        }
        ,
        this.startSelect = function(e, t) {
            e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
            var i = this.editor;
            this.mousedownEvent && (this.mousedownEvent.getShiftKey() ? i.selection.selectToPosition(e) : t || i.selection.moveToPosition(e),
            t || this.select(),
            i.renderer.scroller.setCapture && i.renderer.scroller.setCapture(),
            i.setStyle("ace_selecting"),
            this.setState("select"))
        }
        ,
        this.select = function() {
            var e, t = this.editor, i = t.renderer.screenToTextCoordinates(this.x, this.y);
            if (this.$clickSelection) {
                var n = this.$clickSelection.comparePoint(i);
                if (-1 == n)
                    e = this.$clickSelection.end;
                else if (1 == n)
                    e = this.$clickSelection.start;
                else {
                    var s = o(this.$clickSelection, i);
                    i = s.cursor,
                    e = s.anchor
                }
                t.selection.setSelectionAnchor(e.row, e.column)
            }
            t.selection.selectToPosition(i),
            t.renderer.scrollCursorIntoView()
        }
        ,
        this.extendSelectionBy = function(e) {
            var t, i = this.editor, n = i.renderer.screenToTextCoordinates(this.x, this.y), s = i.selection[e](n.row, n.column);
            if (this.$clickSelection) {
                var r = this.$clickSelection.comparePoint(s.start)
                  , a = this.$clickSelection.comparePoint(s.end);
                if (-1 == r && a <= 0)
                    t = this.$clickSelection.end,
                    s.end.row == n.row && s.end.column == n.column || (n = s.start);
                else if (1 == a && r >= 0)
                    t = this.$clickSelection.start,
                    s.start.row == n.row && s.start.column == n.column || (n = s.end);
                else if (-1 == r && 1 == a)
                    n = s.end,
                    t = s.start;
                else {
                    var l = o(this.$clickSelection, n);
                    n = l.cursor,
                    t = l.anchor
                }
                i.selection.setSelectionAnchor(t.row, t.column)
            }
            i.selection.selectToPosition(n),
            i.renderer.scrollCursorIntoView()
        }
        ,
        this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
            this.$clickSelection = null,
            this.editor.unsetStyle("ace_selecting"),
            this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture()
        }
        ,
        this.focusWait = function() {
            var e = s(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)
              , t = Date.now();
            (e > 0 || t - this.mousedownEvent.time > this.$focusTimeout) && this.startSelect(this.mousedownEvent.getDocumentPosition())
        }
        ,
        this.onDoubleClick = function(e) {
            var t = e.getDocumentPosition()
              , i = this.editor
              , n = i.session.getBracketRange(t);
            n ? (n.isEmpty() && (n.start.column--,
            n.end.column++),
            this.setState("select")) : (n = i.selection.getWordRange(t.row, t.column),
            this.setState("selectByWords")),
            this.$clickSelection = n,
            this.select()
        }
        ,
        this.onTripleClick = function(e) {
            var t = e.getDocumentPosition()
              , i = this.editor;
            this.setState("selectByLines");
            var n = i.getSelectionRange();
            n.isMultiLine() && n.contains(t.row, t.column) ? (this.$clickSelection = i.selection.getLineRange(n.start.row),
            this.$clickSelection.end = i.selection.getLineRange(n.end.row).end) : this.$clickSelection = i.selection.getLineRange(t.row),
            this.select()
        }
        ,
        this.onQuadClick = function(e) {
            var t = this.editor;
            t.selectAll(),
            this.$clickSelection = t.getSelectionRange(),
            this.setState("selectAll")
        }
        ,
        this.onMouseWheel = function(e) {
            if (!e.getAccelKey()) {
                e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY,
                e.wheelY = 0);
                var t = this.editor;
                this.$lastScroll || (this.$lastScroll = {
                    t: 0,
                    vx: 0,
                    vy: 0,
                    allowed: 0
                });
                var i = this.$lastScroll
                  , n = e.domEvent.timeStamp
                  , s = n - i.t
                  , o = s ? e.wheelX / s : i.vx
                  , r = s ? e.wheelY / s : i.vy;
                s < 250 && (o = (o + i.vx) / 2,
                r = (r + i.vy) / 2);
                var a = Math.abs(o / r)
                  , l = !1;
                return a >= 1 && t.renderer.isScrollableBy(e.wheelX * e.speed, 0) && (l = !0),
                a <= 1 && t.renderer.isScrollableBy(0, e.wheelY * e.speed) && (l = !0),
                l ? i.allowed = n : n - i.allowed < 250 && (Math.abs(o) <= 1.1 * Math.abs(i.vx) && Math.abs(r) <= 1.1 * Math.abs(i.vy) ? (l = !0,
                i.allowed = n) : i.allowed = 0),
                i.t = n,
                i.vx = o,
                i.vy = r,
                l ? (t.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed),
                e.stop()) : void 0
            }
        }
        ,
        this.onTouchMove = function(e) {
            this.editor._emit("mousewheel", e)
        }
    }
    ).call(n.prototype),
    t.DefaultHandlers = n
}),
ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    function n(e) {
        this.isOpen = !1,
        this.$element = null,
        this.$parentNode = e
    }
    e("./lib/oop");
    var s = e("./lib/dom");
    (function() {
        this.$init = function() {
            return this.$element = s.createElement("div"),
            this.$element.className = "ace_tooltip",
            this.$element.style.display = "none",
            this.$parentNode.appendChild(this.$element),
            this.$element
        }
        ,
        this.getElement = function() {
            return this.$element || this.$init()
        }
        ,
        this.setText = function(e) {
            this.getElement().textContent = e
        }
        ,
        this.setHtml = function(e) {
            this.getElement().innerHTML = e
        }
        ,
        this.setPosition = function(e, t) {
            this.getElement().style.left = e + "px",
            this.getElement().style.top = t + "px"
        }
        ,
        this.setClassName = function(e) {
            s.addCssClass(this.getElement(), e)
        }
        ,
        this.show = function(e, t, i) {
            null != e && this.setText(e),
            null != t && null != i && this.setPosition(t, i),
            this.isOpen || (this.getElement().style.display = "block",
            this.isOpen = !0)
        }
        ,
        this.hide = function() {
            this.isOpen && (this.getElement().style.display = "none",
            this.isOpen = !1)
        }
        ,
        this.getHeight = function() {
            return this.getElement().offsetHeight
        }
        ,
        this.getWidth = function() {
            return this.getElement().offsetWidth
        }
        ,
        this.destroy = function() {
            this.isOpen = !1,
            this.$element && this.$element.parentNode && this.$element.parentNode.removeChild(this.$element)
        }
    }
    ).call(n.prototype),
    t.Tooltip = n
}),
ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function(e, t, i) {
    "use strict";
    function n(e) {
        a.call(this, e)
    }
    var s = e("../lib/dom")
      , o = e("../lib/oop")
      , r = e("../lib/event")
      , a = e("../tooltip").Tooltip;
    o.inherits(n, a),
    function() {
        this.setPosition = function(e, t) {
            var i = window.innerWidth || document.documentElement.clientWidth
              , n = window.innerHeight || document.documentElement.clientHeight
              , s = this.getWidth()
              , o = this.getHeight();
            t += 15,
            (e += 15) + s > i && (e -= e + s - i),
            t + o > n && (t -= 20 + o),
            a.prototype.setPosition.call(this, e, t)
        }
    }
    .call(n.prototype),
    t.GutterHandler = function(e) {
        function t() {
            var t = u.getDocumentPosition().row
              , n = l.$annotations[t];
            if (!n)
                return i();
            if (t == a.session.getLength()) {
                var s = a.renderer.pixelToScreenCoordinates(0, u.y).row
                  , r = u.$pos;
                if (s > a.session.documentToScreenRow(r.row, r.column))
                    return i()
            }
            if (d != n)
                if (d = n.text.join("<br/>"),
                h.setHtml(d),
                h.show(),
                a._signal("showGutterTooltip", h),
                a.on("mousewheel", i),
                e.$tooltipFollowsMouse)
                    o(u);
                else {
                    var c = u.domEvent.target.getBoundingClientRect()
                      , g = h.getElement().style;
                    g.left = c.right + "px",
                    g.top = c.bottom + "px"
                }
        }
        function i() {
            c && (c = clearTimeout(c)),
            d && (h.hide(),
            d = null,
            a._signal("hideGutterTooltip", h),
            a.removeEventListener("mousewheel", i))
        }
        function o(e) {
            h.setPosition(e.x, e.y)
        }
        var a = e.editor
          , l = a.renderer.$gutterLayer
          , h = new n(a.container);
        e.editor.setDefaultHandler("guttermousedown", function(t) {
            if (a.isFocused() && 0 == t.getButton() && "foldWidgets" != l.getRegion(t)) {
                var i = t.getDocumentPosition().row
                  , n = a.session.selection;
                if (t.getShiftKey())
                    n.selectTo(i, 0);
                else {
                    if (2 == t.domEvent.detail)
                        return a.selectAll(),
                        t.preventDefault();
                    e.$clickSelection = a.selection.getLineRange(i)
                }
                return e.setState("selectByLines"),
                e.captureMouse(t),
                t.preventDefault()
            }
        });
        var c, u, d;
        e.editor.setDefaultHandler("guttermousemove", function(n) {
            var r = n.domEvent.target || n.domEvent.srcElement;
            if (s.hasCssClass(r, "ace_fold-widget"))
                return i();
            d && e.$tooltipFollowsMouse && o(n),
            u = n,
            c || (c = setTimeout(function() {
                c = null,
                u && !e.isMousePressed ? t() : i()
            }, 50))
        }),
        r.addListener(a.renderer.$gutter, "mouseout", function(e) {
            u = null,
            d && !c && (c = setTimeout(function() {
                c = null,
                i()
            }, 50))
        }),
        a.on("changeSession", i)
    }
}),
ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    var n = e("../lib/event")
      , s = e("../lib/useragent")
      , o = t.MouseEvent = function(e, t) {
        this.domEvent = e,
        this.editor = t,
        this.x = this.clientX = e.clientX,
        this.y = this.clientY = e.clientY,
        this.$pos = null,
        this.$inSelection = null,
        this.propagationStopped = !1,
        this.defaultPrevented = !1
    }
    ;
    (function() {
        this.stopPropagation = function() {
            n.stopPropagation(this.domEvent),
            this.propagationStopped = !0
        }
        ,
        this.preventDefault = function() {
            n.preventDefault(this.domEvent),
            this.defaultPrevented = !0
        }
        ,
        this.stop = function() {
            this.stopPropagation(),
            this.preventDefault()
        }
        ,
        this.getDocumentPosition = function() {
            return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY),
            this.$pos)
        }
        ,
        this.inSelection = function() {
            if (null !== this.$inSelection)
                return this.$inSelection;
            var e = this.editor.getSelectionRange();
            if (e.isEmpty())
                this.$inSelection = !1;
            else {
                var t = this.getDocumentPosition();
                this.$inSelection = e.contains(t.row, t.column)
            }
            return this.$inSelection
        }
        ,
        this.getButton = function() {
            return n.getButton(this.domEvent)
        }
        ,
        this.getShiftKey = function() {
            return this.domEvent.shiftKey
        }
        ,
        this.getAccelKey = s.isMac ? function() {
            return this.domEvent.metaKey
        }
        : function() {
            return this.domEvent.ctrlKey
        }
    }
    ).call(o.prototype)
}),
ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    function n(e) {
        function t(e, t) {
            var i = Date.now()
              , n = !t || e.row != t.row
              , o = !t || e.column != t.column;
            !L || n || o ? (p.moveCursorToPosition(e),
            L = i,
            R = {
                x: $,
                y: b
            }) : s(R.x, R.y, $, b) > c ? L = null : i - L >= h && (p.renderer.scrollCursorIntoView(),
            L = null)
        }
        function i(e, t) {
            var i = Date.now()
              , n = p.renderer.layerConfig.lineHeight
              , s = p.renderer.layerConfig.characterWidth
              , o = p.renderer.scroller.getBoundingClientRect()
              , r = {
                x: {
                    left: $ - o.left,
                    right: o.right - $
                },
                y: {
                    top: b - o.top,
                    bottom: o.bottom - b
                }
            }
              , a = Math.min(r.x.left, r.x.right)
              , h = Math.min(r.y.top, r.y.bottom)
              , c = {
                row: e.row,
                column: e.column
            };
            a / s <= 2 && (c.column += r.x.left < r.x.right ? -3 : 2),
            h / n <= 1 && (c.row += r.y.top < r.y.bottom ? -1 : 1);
            var u = e.row != c.row
              , d = e.column != c.column
              , g = !t || e.row != t.row;
            u || d && !g ? k ? i - k >= l && p.renderer.scrollCursorIntoView(c) : k = i : k = null
        }
        function n() {
            var e = S;
            t(S = p.renderer.screenToTextCoordinates($, b), e),
            i(S, e)
        }
        function u() {
            C = p.selection.toOrientedRange(),
            w = p.session.addMarker(C, "ace_selection", p.getSelectionStyle()),
            p.clearSelection(),
            p.isFocused() && p.renderer.$cursorLayer.setBlinking(!1),
            clearInterval(y),
            n(),
            y = setInterval(n, 20),
            M = 0,
            r.addListener(document, "mousemove", g)
        }
        function d() {
            clearInterval(y),
            p.session.removeMarker(w),
            w = null,
            p.selection.fromOrientedRange(C),
            p.isFocused() && !A && p.renderer.$cursorLayer.setBlinking(!p.getReadOnly()),
            C = null,
            S = null,
            M = 0,
            k = null,
            L = null,
            r.removeListener(document, "mousemove", g)
        }
        function g() {
            null == T && (T = setTimeout(function() {
                null != T && w && d()
            }, 20))
        }
        function f(e) {
            var t = e.types;
            return !t || Array.prototype.some.call(t, function(e) {
                return "text/plain" == e || "Text" == e
            })
        }
        function m(e) {
            var t = ["copy", "copymove", "all", "uninitialized"]
              , i = a.isMac ? e.altKey : e.ctrlKey
              , n = "uninitialized";
            try {
                n = e.dataTransfer.effectAllowed.toLowerCase()
            } catch (e) {}
            var s = "none";
            return i && t.indexOf(n) >= 0 ? s = "copy" : ["move", "copymove", "linkmove", "all", "uninitialized"].indexOf(n) >= 0 ? s = "move" : t.indexOf(n) >= 0 && (s = "copy"),
            s
        }
        var p = e.editor
          , v = o.createElement("img");
        v.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
        a.isOpera && (v.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");
        ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"].forEach(function(t) {
            e[t] = this[t]
        }, this),
        p.addEventListener("mousedown", this.onMouseDown.bind(e));
        var w, $, b, y, C, S, x, A, k, L, R, E = p.container, M = 0;
        this.onDragStart = function(e) {
            if (this.cancelDrag || !E.draggable) {
                var t = this;
                return setTimeout(function() {
                    t.startSelect(),
                    t.captureMouse(e)
                }, 0),
                e.preventDefault()
            }
            C = p.getSelectionRange();
            var i = e.dataTransfer;
            i.effectAllowed = p.getReadOnly() ? "copy" : "copyMove",
            a.isOpera && (p.container.appendChild(v),
            v.scrollTop = 0),
            i.setDragImage && i.setDragImage(v, 0, 0),
            a.isOpera && p.container.removeChild(v),
            i.clearData(),
            i.setData("Text", p.session.getTextRange()),
            A = !0,
            this.setState("drag")
        }
        ,
        this.onDragEnd = function(e) {
            if (E.draggable = !1,
            A = !1,
            this.setState(null),
            !p.getReadOnly()) {
                var t = e.dataTransfer.dropEffect;
                !x && "move" == t && p.session.remove(p.getSelectionRange()),
                p.renderer.$cursorLayer.setBlinking(!0)
            }
            this.editor.unsetStyle("ace_dragging"),
            this.editor.renderer.setCursorStyle("")
        }
        ,
        this.onDragEnter = function(e) {
            if (!p.getReadOnly() && f(e.dataTransfer))
                return $ = e.clientX,
                b = e.clientY,
                w || u(),
                M++,
                e.dataTransfer.dropEffect = x = m(e),
                r.preventDefault(e)
        }
        ,
        this.onDragOver = function(e) {
            if (!p.getReadOnly() && f(e.dataTransfer))
                return $ = e.clientX,
                b = e.clientY,
                w || (u(),
                M++),
                null !== T && (T = null),
                e.dataTransfer.dropEffect = x = m(e),
                r.preventDefault(e)
        }
        ,
        this.onDragLeave = function(e) {
            if (--M <= 0 && w)
                return d(),
                x = null,
                r.preventDefault(e)
        }
        ,
        this.onDrop = function(e) {
            if (S) {
                var t = e.dataTransfer;
                if (A)
                    switch (x) {
                    case "move":
                        C = C.contains(S.row, S.column) ? {
                            start: S,
                            end: S
                        } : p.moveText(C, S);
                        break;
                    case "copy":
                        C = p.moveText(C, S, !0)
                    }
                else {
                    var i = t.getData("Text");
                    C = {
                        start: S,
                        end: p.session.insert(S, i)
                    },
                    p.focus(),
                    x = null
                }
                return d(),
                r.preventDefault(e)
            }
        }
        ,
        r.addListener(E, "dragstart", this.onDragStart.bind(e)),
        r.addListener(E, "dragend", this.onDragEnd.bind(e)),
        r.addListener(E, "dragenter", this.onDragEnter.bind(e)),
        r.addListener(E, "dragover", this.onDragOver.bind(e)),
        r.addListener(E, "dragleave", this.onDragLeave.bind(e)),
        r.addListener(E, "drop", this.onDrop.bind(e));
        var T = null
    }
    function s(e, t, i, n) {
        return Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2))
    }
    var o = e("../lib/dom")
      , r = e("../lib/event")
      , a = e("../lib/useragent")
      , l = 200
      , h = 200
      , c = 5;
    (function() {
        this.dragWait = function() {
            Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag()
        }
        ,
        this.dragWaitEnd = function() {
            this.editor.container.draggable = !1,
            this.startSelect(this.mousedownEvent.getDocumentPosition()),
            this.selectEnd()
        }
        ,
        this.dragReadyEnd = function(e) {
            this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),
            this.editor.unsetStyle("ace_dragging"),
            this.editor.renderer.setCursorStyle(""),
            this.dragWaitEnd()
        }
        ,
        this.startDrag = function() {
            this.cancelDrag = !1;
            var e = this.editor;
            e.container.draggable = !0,
            e.renderer.$cursorLayer.setBlinking(!1),
            e.setStyle("ace_dragging");
            var t = a.isWin ? "default" : "move";
            e.renderer.setCursorStyle(t),
            this.setState("dragReady")
        }
        ,
        this.onMouseDrag = function(e) {
            var t = this.editor.container;
            if (a.isIE && "dragReady" == this.state && (i = s(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)) > 3 && t.dragDrop(),
            "dragWait" === this.state) {
                var i = s(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
                i > 0 && (t.draggable = !1,
                this.startSelect(this.mousedownEvent.getDocumentPosition()))
            }
        }
        ,
        this.onMouseDown = function(e) {
            if (this.$dragEnabled) {
                this.mousedownEvent = e;
                var t = this.editor
                  , i = e.inSelection()
                  , n = e.getButton();
                if (1 === (e.domEvent.detail || 1) && 0 === n && i) {
                    if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))
                        return;
                    this.mousedownEvent.time = Date.now();
                    var s = e.domEvent.target || e.domEvent.srcElement;
                    "unselectable"in s && (s.unselectable = "on"),
                    t.getDragDelay() ? (a.isWebKit && (this.cancelDrag = !0,
                    t.container.draggable = !0),
                    this.setState("dragWait")) : this.startDrag(),
                    this.captureMouse(e, this.onMouseDrag.bind(this)),
                    e.defaultPrevented = !0
                }
            }
        }
    }
    ).call(n.prototype),
    t.DragdropHandler = n
}),
ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    var n = e("./dom");
    t.get = function(e, t) {
        var i = new XMLHttpRequest;
        i.open("GET", e, !0),
        i.onreadystatechange = function() {
            4 === i.readyState && t(i.responseText)
        }
        ,
        i.send(null)
    }
    ,
    t.loadScript = function(e, t) {
        var i = n.getDocumentHead()
          , s = document.createElement("script");
        s.src = e,
        i.appendChild(s),
        s.onload = s.onreadystatechange = function(e, i) {
            !i && s.readyState && "loaded" != s.readyState && "complete" != s.readyState || (s = s.onload = s.onreadystatechange = null,
            i || t())
        }
    }
    ,
    t.qualifyURL = function(e) {
        var t = document.createElement("a");
        return t.href = e,
        t.href
    }
}),
ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    var n = {}
      , s = function() {
        this.propagationStopped = !0
    }
      , o = function() {
        this.defaultPrevented = !0
    };
    n._emit = n._dispatchEvent = function(e, t) {
        this._eventRegistry || (this._eventRegistry = {}),
        this._defaultHandlers || (this._defaultHandlers = {});
        var i = this._eventRegistry[e] || []
          , n = this._defaultHandlers[e];
        if (i.length || n) {
            "object" == typeof t && t || (t = {}),
            t.type || (t.type = e),
            t.stopPropagation || (t.stopPropagation = s),
            t.preventDefault || (t.preventDefault = o),
            i = i.slice();
            for (var r = 0; r < i.length && (i[r](t, this),
            !t.propagationStopped); r++)
                ;
            return n && !t.defaultPrevented ? n(t, this) : void 0
        }
    }
    ,
    n._signal = function(e, t) {
        var i = (this._eventRegistry || {})[e];
        if (i) {
            i = i.slice();
            for (var n = 0; n < i.length; n++)
                i[n](t, this)
        }
    }
    ,
    n.once = function(e, t) {
        var i = this;
        t && this.addEventListener(e, function n() {
            i.removeEventListener(e, n),
            t.apply(null, arguments)
        })
    }
    ,
    n.setDefaultHandler = function(e, t) {
        var i = this._defaultHandlers;
        if (i || (i = this._defaultHandlers = {
            _disabled_: {}
        }),
        i[e]) {
            var n = i[e]
              , s = i._disabled_[e];
            s || (i._disabled_[e] = s = []),
            s.push(n);
            var o = s.indexOf(t);
            -1 != o && s.splice(o, 1)
        }
        i[e] = t
    }
    ,
    n.removeDefaultHandler = function(e, t) {
        var i = this._defaultHandlers;
        if (i) {
            var n = i._disabled_[e];
            if (i[e] == t)
                n && this.setDefaultHandler(e, n.pop());
            else if (n) {
                var s = n.indexOf(t);
                -1 != s && n.splice(s, 1)
            }
        }
    }
    ,
    n.on = n.addEventListener = function(e, t, i) {
        this._eventRegistry = this._eventRegistry || {};
        var n = this._eventRegistry[e];
        return n || (n = this._eventRegistry[e] = []),
        -1 == n.indexOf(t) && n[i ? "unshift" : "push"](t),
        t
    }
    ,
    n.off = n.removeListener = n.removeEventListener = function(e, t) {
        this._eventRegistry = this._eventRegistry || {};
        var i = this._eventRegistry[e];
        if (i) {
            var n = i.indexOf(t);
            -1 !== n && i.splice(n, 1)
        }
    }
    ,
    n.removeAllListeners = function(e) {
        this._eventRegistry && (this._eventRegistry[e] = [])
    }
    ,
    t.EventEmitter = n
}),
ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, i) {
    "no use strict";
    function n(e) {
        "undefined" != typeof console && console.warn && console.warn.apply(console, arguments)
    }
    function s(e, t) {
        var i = new Error(e);
        i.data = t,
        "object" == typeof console && console.error && console.error(i),
        setTimeout(function() {
            throw i
        })
    }
    var o = e("./oop")
      , r = e("./event_emitter").EventEmitter
      , a = {
        setOptions: function(e) {
            Object.keys(e).forEach(function(t) {
                this.setOption(t, e[t])
            }, this)
        },
        getOptions: function(e) {
            var t = {};
            if (e)
                Array.isArray(e) || (t = e,
                e = Object.keys(t));
            else {
                var i = this.$options;
                e = Object.keys(i).filter(function(e) {
                    return !i[e].hidden
                })
            }
            return e.forEach(function(e) {
                t[e] = this.getOption(e)
            }, this),
            t
        },
        setOption: function(e, t) {
            if (this["$" + e] !== t) {
                var i = this.$options[e];
                return i ? i.forwardTo ? this[i.forwardTo] && this[i.forwardTo].setOption(e, t) : (i.handlesSet || (this["$" + e] = t),
                void (i && i.set && i.set.call(this, t))) : n('misspelled option "' + e + '"')
            }
        },
        getOption: function(e) {
            var t = this.$options[e];
            return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : n('misspelled option "' + e + '"')
        }
    }
      , l = function() {
        this.$defaultOptions = {}
    };
    (function() {
        o.implement(this, r),
        this.defineOptions = function(e, t, i) {
            return e.$options || (this.$defaultOptions[t] = e.$options = {}),
            Object.keys(i).forEach(function(t) {
                var n = i[t];
                "string" == typeof n && (n = {
                    forwardTo: n
                }),
                n.name || (n.name = t),
                e.$options[n.name] = n,
                "initialValue"in n && (e["$" + n.name] = n.initialValue)
            }),
            o.implement(e, a),
            this
        }
        ,
        this.resetOptions = function(e) {
            Object.keys(e.$options).forEach(function(t) {
                var i = e.$options[t];
                "value"in i && e.setOption(t, i.value)
            })
        }
        ,
        this.setDefaultValue = function(e, t, i) {
            var n = this.$defaultOptions[e] || (this.$defaultOptions[e] = {});
            n[t] && (n.forwardTo ? this.setDefaultValue(n.forwardTo, t, i) : n[t].value = i)
        }
        ,
        this.setDefaultValues = function(e, t) {
            Object.keys(t).forEach(function(i) {
                this.setDefaultValue(e, i, t[i])
            }, this)
        }
        ,
        this.warn = n,
        this.reportError = s
    }
    ).call(l.prototype),
    t.AppConfig = l
}),
ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config"], function(e, t, i) {
    "no use strict";
    function n(e) {
        return e.replace(/-(.)/g, function(e, t) {
            return t.toUpperCase()
        })
    }
    var s = e("./lib/lang")
      , o = (e("./lib/oop"),
    e("./lib/net"))
      , r = e("./lib/app_config").AppConfig;
    i.exports = t = new r;
    var a = function() {
        return this || "undefined" != typeof window && window
    }()
      , l = {
        packaged: !1,
        workerPath: null,
        modePath: null,
        themePath: null,
        basePath: "",
        suffix: ".js",
        $moduleUrls: {}
    };
    t.get = function(e) {
        if (!l.hasOwnProperty(e))
            throw new Error("Clave desconocida:  " + e);
        return l[e]
    }
    ,
    t.set = function(e, t) {
        if (!l.hasOwnProperty(e))
            throw new Error("Clave desconocida: " + e);
        l[e] = t
    }
    ,
    t.all = function() {
        return s.copyObject(l)
    }
    ,
    t.$modes = {},
    t.moduleUrl = function(e, t) {
        if (l.$moduleUrls[e])
            return l.$moduleUrls[e];
        var i = e.split("/")
          , n = "snippets" == (t = t || i[i.length - 2] || "") ? "/" : "-"
          , s = i[i.length - 1];
        if ("worker" == t && "-" == n) {
            var o = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$","g");
            s = s.replace(o, "")
        }
        (!s || s == t) && i.length > 1 && (s = i[i.length - 2]);
        var r = l[t + "Path"];
        return null == r ? r = l.basePath : "/" == n && (t = n = ""),
        r && "/" != r.slice(-1) && (r += "/"),
        r + t + n + s + this.get("suffix")
    }
    ,
    t.setModuleUrl = function(e, t) {
        return l.$moduleUrls[e] = t
    }
    ,
    t.$loading = {},
    t.loadModule = function(i, n) {
        var s, r;
        Array.isArray(i) && (r = i[0],
        i = i[1]);
        try {
            s = e(i)
        } catch (e) {}
        if (s && !t.$loading[i])
            return n && n(s);
        if (t.$loading[i] || (t.$loading[i] = []),
        t.$loading[i].push(n),
        !(t.$loading[i].length > 1)) {
            var a = function() {
                e([i], function(e) {
                    t._emit("load.module", {
                        name: i,
                        module: e
                    });
                    var n = t.$loading[i];
                    t.$loading[i] = null,
                    n.forEach(function(t) {
                        t && t(e)
                    })
                })
            };
            if (!t.get("packaged"))
                return a();
            o.loadScript(t.moduleUrl(i, r), a),
            h()
        }
    }
    ;
    var h = function() {
        !l.basePath && !l.workerPath && !l.modePath && !l.themePath && !Object.keys(l.$moduleUrls).length && (console.error("Unable to infer path to ace from script src,", "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes", "or with webpack use ace/webpack-resolver"),
        h = function() {}
        )
    };
    t.init = function(s) {
        if (a && a.document) {
            l.packaged = s || e.packaged || i.packaged || a.define && define.packaged;
            for (var o = {}, r = "", h = document.currentScript || document._currentScript, c = (h && h.ownerDocument || document).getElementsByTagName("script"), u = 0; u < c.length; u++) {
                var d = c[u]
                  , g = d.src || d.getAttribute("src");
                if (g) {
                    for (var f = d.attributes, m = 0, p = f.length; m < p; m++) {
                        var v = f[m];
                        0 === v.name.indexOf("data-ace-") && (o[n(v.name.replace(/^data-ace-/, ""))] = v.value)
                    }
                    var w = g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
                    w && (r = w[1])
                }
            }
            r && (o.base = o.base || r,
            o.packaged = !0),
            o.basePath = o.base,
            o.workerPath = o.workerPath || o.base,
            o.modePath = o.modePath || o.base,
            o.themePath = o.themePath || o.base,
            delete o.base;
            for (var $ in o)
                void 0 !== o[$] && t.set($, o[$])
        }
    }
}),
ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config"], function(e, t, i) {
    "use strict";
    var n = e("../lib/event")
      , s = e("../lib/useragent")
      , o = e("./default_handlers").DefaultHandlers
      , r = e("./default_gutter_handler").GutterHandler
      , a = e("./mouse_event").MouseEvent
      , l = e("./dragdrop_handler").DragdropHandler
      , h = e("../config")
      , c = function(e) {
        var t = this;
        this.editor = e,
        new o(this),
        new r(this),
        new l(this);
        var i = function(t) {
            (!document.hasFocus || !document.hasFocus() || !e.isFocused() && document.activeElement == (e.textInput && e.textInput.getElement())) && window.focus(),
            e.focus()
        }
          , a = e.renderer.getMouseEventTarget();
        n.addListener(a, "click", this.onMouseEvent.bind(this, "click")),
        n.addListener(a, "mousemove", this.onMouseMove.bind(this, "mousemove")),
        n.addMultiMouseDownListener([a, e.renderer.scrollBarV && e.renderer.scrollBarV.inner, e.renderer.scrollBarH && e.renderer.scrollBarH.inner, e.textInput && e.textInput.getElement()].filter(Boolean), [400, 300, 250], this, "onMouseEvent"),
        n.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")),
        n.addTouchMoveListener(e.container, this.onTouchMove.bind(this, "touchmove"));
        var h = e.renderer.$gutter;
        n.addListener(h, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")),
        n.addListener(h, "click", this.onMouseEvent.bind(this, "gutterclick")),
        n.addListener(h, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")),
        n.addListener(h, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")),
        n.addListener(a, "mousedown", i),
        n.addListener(h, "mousedown", i),
        s.isIE && e.renderer.scrollBarV && (n.addListener(e.renderer.scrollBarV.element, "mousedown", i),
        n.addListener(e.renderer.scrollBarH.element, "mousedown", i)),
        e.on("mousemove", function(i) {
            if (!t.state && !t.$dragDelay && t.$dragEnabled) {
                var n = e.renderer.screenToTextCoordinates(i.x, i.y)
                  , s = e.session.selection.getRange()
                  , o = e.renderer;
                !s.isEmpty() && s.insideStart(n.row, n.column) ? o.setCursorStyle("default") : o.setCursorStyle("")
            }
        })
    };
    (function() {
        this.onMouseEvent = function(e, t) {
            this.editor._emit(e, new a(t,this.editor))
        }
        ,
        this.onMouseMove = function(e, t) {
            var i = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
            i && i.length && this.editor._emit(e, new a(t,this.editor))
        }
        ,
        this.onMouseWheel = function(e, t) {
            var i = new a(t,this.editor);
            i.speed = 2 * this.$scrollSpeed,
            i.wheelX = t.wheelX,
            i.wheelY = t.wheelY,
            this.editor._emit(e, i)
        }
        ,
        this.onTouchMove = function(e, t) {
            var i = new a(t,this.editor);
            i.speed = 1,
            i.wheelX = t.wheelX,
            i.wheelY = t.wheelY,
            this.editor._emit(e, i)
        }
        ,
        this.setState = function(e) {
            this.state = e
        }
        ,
        this.captureMouse = function(e, t) {
            this.x = e.x,
            this.y = e.y,
            this.isMousePressed = !0;
            var i = this.editor
              , o = this.editor.renderer;
            o.$keepTextAreaAtCursor && (o.$keepTextAreaAtCursor = null);
            var r = this
              , l = function(e) {
                if (e)
                    return s.isWebKit && !e.which && r.releaseMouse ? r.releaseMouse() : (r.x = e.clientX,
                    r.y = e.clientY,
                    t && t(e),
                    r.mouseEvent = new a(e,r.editor),
                    void (r.$mouseMoved = !0))
            }
              , h = function(e) {
                i.off("beforeEndOperation", u),
                clearInterval(d),
                c(),
                r[r.state + "End"] && r[r.state + "End"](e),
                r.state = "",
                null == o.$keepTextAreaAtCursor && (o.$keepTextAreaAtCursor = !0,
                o.$moveTextAreaToCursor()),
                r.isMousePressed = !1,
                r.$onCaptureMouseMove = r.releaseMouse = null,
                e && r.onMouseEvent("mouseup", e),
                i.endOperation()
            }
              , c = function() {
                r[r.state] && r[r.state](),
                r.$mouseMoved = !1
            };
            if (s.isOldIE && "dblclick" == e.domEvent.type)
                return setTimeout(function() {
                    h(e)
                });
            var u = function(e) {
                r.releaseMouse && i.curOp.command.name && i.curOp.selectionChanged && (r[r.state + "End"] && r[r.state + "End"](),
                r.state = "",
                r.releaseMouse())
            };
            i.on("beforeEndOperation", u),
            i.startOperation({
                command: {
                    name: "mouse"
                }
            }),
            r.$onCaptureMouseMove = l,
            r.releaseMouse = n.capture(this.editor.container, l, h);
            var d = setInterval(c, 20)
        }
        ,
        this.releaseMouse = null,
        this.cancelContextMenu = function() {
            var e = function(t) {
                t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e),
                t && t.domEvent && n.stopEvent(t.domEvent))
            }
            .bind(this);
            setTimeout(e, 10),
            this.editor.on("nativecontextmenu", e)
        }
    }
    ).call(c.prototype),
    h.defineOptions(c.prototype, "mouseHandler", {
        scrollSpeed: {
            initialValue: 2
        },
        dragDelay: {
            initialValue: s.isMac ? 150 : 0
        },
        dragEnabled: {
            initialValue: !0
        },
        focusTimeout: {
            initialValue: 0
        },
        tooltipFollowsMouse: {
            initialValue: !0
        }
    }),
    t.MouseHandler = c
}),
ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    var n = e("../lib/dom");
    t.FoldHandler = function(e) {
        e.on("click", function(t) {
            var i = t.getDocumentPosition()
              , s = e.session
              , o = s.getFoldAt(i.row, i.column, 1);
            o && (t.getAccelKey() ? s.removeFold(o) : s.expandFold(o),
            t.stop());
            var r = t.domEvent && t.domEvent.target;
            r && n.hasCssClass(r, "ace_inline_button") && n.hasCssClass(r, "ace_toggle_wrap") && (s.setOption("wrap", !0),
            e.renderer.scrollCursorIntoView())
        }),
        e.on("gutterclick", function(t) {
            if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                var i = t.getDocumentPosition().row
                  , n = e.session;
                n.foldWidgets && n.foldWidgets[i] && e.session.onFoldWidgetClick(i, t),
                e.isFocused() || e.focus(),
                t.stop()
            }
        }),
        e.on("gutterdblclick", function(t) {
            if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                var i = t.getDocumentPosition().row
                  , n = e.session
                  , s = n.getParentFoldRangeData(i, !0)
                  , o = s.range || s.firstRange;
                if (o) {
                    i = o.start.row;
                    var r = n.getFoldAt(i, n.getLine(i).length, 1);
                    r ? n.removeFold(r) : (n.addFold("...", o),
                    e.renderer.scrollCursorIntoView({
                        row: o.start.row,
                        column: 0
                    }))
                }
                t.stop()
            }
        })
    }
}),
ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(e, t, i) {
    "use strict";
    var n = e("../lib/keys")
      , s = e("../lib/event")
      , o = function(e) {
        this.$editor = e,
        this.$data = {
            editor: e
        },
        this.$handlers = [],
        this.setDefaultHandler(e.commands)
    };
    (function() {
        this.setDefaultHandler = function(e) {
            this.removeKeyboardHandler(this.$defaultHandler),
            this.$defaultHandler = e,
            this.addKeyboardHandler(e, 0)
        }
        ,
        this.setKeyboardHandler = function(e) {
            var t = this.$handlers;
            if (t[t.length - 1] != e) {
                for (; t[t.length - 1] && t[t.length - 1] != this.$defaultHandler; )
                    this.removeKeyboardHandler(t[t.length - 1]);
                this.addKeyboardHandler(e, 1)
            }
        }
        ,
        this.addKeyboardHandler = function(e, t) {
            if (e) {
                "function" == typeof e && !e.handleKeyboard && (e.handleKeyboard = e);
                var i = this.$handlers.indexOf(e);
                -1 != i && this.$handlers.splice(i, 1),
                void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e),
                -1 == i && e.attach && e.attach(this.$editor)
            }
        }
        ,
        this.removeKeyboardHandler = function(e) {
            var t = this.$handlers.indexOf(e);
            return -1 != t && (this.$handlers.splice(t, 1),
            e.detach && e.detach(this.$editor),
            !0)
        }
        ,
        this.getKeyboardHandler = function() {
            return this.$handlers[this.$handlers.length - 1]
        }
        ,
        this.getStatusText = function() {
            var e = this.$data
              , t = e.editor;
            return this.$handlers.map(function(i) {
                return i.getStatusText && i.getStatusText(t, e) || ""
            }).filter(Boolean).join(" ")
        }
        ,
        this.$callKeyboardHandlers = function(e, t, i, n) {
            for (var o, r = !1, a = this.$editor.commands, l = this.$handlers.length; l-- && !((o = this.$handlers[l].handleKeyboard(this.$data, e, t, i, n)) && o.command && ((r = "null" == o.command || a.exec(o.command, this.$editor, o.args, n)) && n && -1 != e && 1 != o.passEvent && 1 != o.command.passEvent && s.stopEvent(n),
            r)); )
                ;
            return !r && -1 == e && (o = {
                command: "insertstring"
            },
            r = a.exec("insertstring", this.$editor, t)),
            r && this.$editor._signal && this.$editor._signal("keyboardActivity", o),
            r
        }
        ,
        this.onCommandKey = function(e, t, i) {
            var s = n.keyCodeToString(i);
            this.$callKeyboardHandlers(t, s, i, e)
        }
        ,
        this.onTextInput = function(e) {
            this.$callKeyboardHandlers(-1, e)
        }
    }
    ).call(o.prototype),
    t.KeyBinding = o
}),
ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    function n(e, t, i, n) {
        var s = a ? f : g
          , m = null
          , p = null
          , v = null
          , w = 0
          , $ = null
          , b = -1
          , S = null
          , A = null
          , k = [];
        if (!n)
            for (S = 0,
            n = []; S < i; S++)
                n[S] = r(e[S]);
        for (l = a,
        h = !1,
        c = !1,
        u = !1,
        d = !1,
        A = 0; A < i; A++) {
            if (m = w,
            k[A] = p = o(e, n, k, A),
            w = s[m][p],
            $ = 240 & w,
            w &= 15,
            t[A] = v = s[w][5],
            $ > 0)
                if (16 == $) {
                    for (S = b; S < A; S++)
                        t[S] = 1;
                    b = -1
                } else
                    b = -1;
            if (s[w][6])
                -1 == b && (b = A);
            else if (b > -1) {
                for (S = b; S < A; S++)
                    t[S] = v;
                b = -1
            }
            n[A] == y && (t[A] = 0),
            l |= v
        }
        if (d)
            for (S = 0; S < i; S++)
                if (n[S] == C) {
                    t[S] = a;
                    for (var L = S - 1; L >= 0 && n[L] == x; L--)
                        t[L] = a
                }
    }
    function s(e, t, i) {
        if (!(l < e))
            if (1 != e || a != m || u)
                for (var n, s, o, r, h = i.length, c = 0; c < h; ) {
                    if (t[c] >= e) {
                        for (n = c + 1; n < h && t[n] >= e; )
                            n++;
                        for (s = c,
                        o = n - 1; s < o; s++,
                        o--)
                            r = i[s],
                            i[s] = i[o],
                            i[o] = r;
                        c = n
                    }
                    c++
                }
            else
                i.reverse()
    }
    function o(e, t, i, n) {
        var s, o, r, l, g = t[n];
        switch (g) {
        case p:
        case v:
            h = !1;
        case b:
        case $:
            return g;
        case w:
            return h ? $ : w;
        case S:
            return h = !0,
            c = !0,
            v;
        case x:
            return b;
        case A:
            return n < 1 || n + 1 >= t.length || (s = i[n - 1]) != w && s != $ || (o = t[n + 1]) != w && o != $ ? b : (h && (o = $),
            o == s ? o : b);
        case k:
            return (s = n > 0 ? i[n - 1] : y) == w && n + 1 < t.length && t[n + 1] == w ? w : b;
        case L:
            if (n > 0 && i[n - 1] == w)
                return w;
            if (h)
                return b;
            for (l = n + 1,
            r = t.length; l < r && t[l] == L; )
                l++;
            return l < r && t[l] == w ? w : b;
        case R:
            for (r = t.length,
            l = n + 1; l < r && t[l] == R; )
                l++;
            if (l < r) {
                var f = e[n]
                  , m = f >= 1425 && f <= 2303 || 64286 == f;
                if (s = t[l],
                m && (s == v || s == S))
                    return v
            }
            return n < 1 || (s = t[n - 1]) == y ? b : i[n - 1];
        case y:
            return h = !1,
            u = !0,
            a;
        case C:
            return d = !0,
            b;
        case E:
        case M:
        case _:
        case O:
        case T:
            h = !1;
        case F:
            return b
        }
    }
    function r(e) {
        var t = e.charCodeAt(0)
          , i = t >> 8;
        return 0 == i ? t > 191 ? p : I[t] : 5 == i ? /[\u0591-\u05f4]/.test(e) ? v : p : 6 == i ? /[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e) ? R : /[\u0660-\u0669\u066b-\u066c]/.test(e) ? $ : 1642 == t ? L : /[\u06f0-\u06f9]/.test(e) ? w : S : 32 == i && t <= 8287 ? W[255 & t] : 254 == i && t >= 65136 ? S : b
    }
    var a = 0
      , l = 0
      , h = !1
      , c = !1
      , u = !1
      , d = !1
      , g = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]]
      , f = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]]
      , m = 1
      , p = 0
      , v = 1
      , w = 2
      , $ = 3
      , b = 4
      , y = 5
      , C = 6
      , S = 7
      , x = 8
      , A = 9
      , k = 10
      , L = 11
      , R = 12
      , E = 13
      , M = 14
      , T = 15
      , _ = 16
      , O = 17
      , F = 18
      , I = [F, F, F, F, F, F, F, F, F, C, y, C, x, y, F, F, F, F, F, F, F, F, F, F, F, F, F, F, y, y, y, C, x, b, b, L, L, L, b, b, b, b, b, k, A, k, A, A, w, w, w, w, w, w, w, w, w, w, A, b, b, b, b, b, b, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, b, b, b, b, b, b, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, b, b, b, b, F, F, F, F, F, F, y, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, A, b, L, L, L, L, b, b, b, b, p, b, b, F, b, b, L, L, w, w, b, p, b, b, b, w, p, b, b, b, b, b]
      , W = [x, x, x, x, x, x, x, x, x, x, x, F, F, F, p, v, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, x, y, E, M, T, _, O, A, L, L, L, L, L, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, A, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, b, x];
    t.L = p,
    t.R = v,
    t.EN = w,
    t.ON_R = 3,
    t.AN = 4,
    t.R_H = 5,
    t.B = 6,
    t.RLE = 7,
    t.DOT = "¬∑",
    t.doBidiReorder = function(e, i, o) {
        if (e.length < 2)
            return {};
        var r = e.split("")
          , l = new Array(r.length)
          , h = new Array(r.length)
          , c = [];
        a = o ? m : 0,
        n(r, c, r.length, i);
        for (u = 0; u < l.length; l[u] = u,
        u++)
            ;
        s(2, c, l),
        s(1, c, l);
        for (u = 0; u < l.length - 1; u++)
            i[u] === $ ? c[u] = t.AN : c[u] === v && (i[u] > S && i[u] < E || i[u] === b || i[u] === F) ? c[u] = t.ON_R : u > 0 && "ŸÑ" === r[u - 1] && /\u0622|\u0623|\u0625|\u0627/.test(r[u]) && (c[u - 1] = c[u] = t.R_H,
            u++);
        r[r.length - 1] === t.DOT && (c[r.length - 1] = t.B),
        "‚Ä´" === r[0] && (c[0] = t.RLE);
        for (var u = 0; u < l.length; u++)
            h[u] = c[l[u]];
        return {
            logicalFromVisual: l,
            bidiLevels: h
        }
    }
    ,
    t.hasBidiCharacters = function(e, t) {
        for (var i = !1, n = 0; n < e.length; n++)
            t[n] = r(e.charAt(n)),
            !i && (t[n] == v || t[n] == S || t[n] == $) && (i = !0);
        return i
    }
    ,
    t.getVisualFromLogicalIdx = function(e, t) {
        for (var i = 0; i < t.logicalFromVisual.length; i++)
            if (t.logicalFromVisual[i] == e)
                return i;
        return 0
    }
}),
ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], function(e, t, i) {
    "use strict";
    var n = e("./lib/bidiutil")
      , s = e("./lib/lang")
      , o = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/
      , r = function(e) {
        this.session = e,
        this.bidiMap = {},
        this.currentRow = null,
        this.bidiUtil = n,
        this.charWidths = [],
        this.EOL = "¬¨",
        this.showInvisibles = !0,
        this.isRtlDir = !1,
        this.line = "",
        this.wrapIndent = 0,
        this.EOF = "¬∂",
        this.RLE = "‚Ä´",
        this.contentWidth = 0,
        this.fontMetrics = null,
        this.rtlLineOffset = 0,
        this.wrapOffset = 0,
        this.isMoveLeftOperation = !1,
        this.seenBidi = o.test(e.getValue())
    };
    (function() {
        this.isBidiRow = function(e, t, i) {
            return !!this.seenBidi && (e !== this.currentRow && (this.currentRow = e,
            this.updateRowLine(t, i),
            this.updateBidiMap()),
            this.bidiMap.bidiLevels)
        }
        ,
        this.onChange = function(e) {
            this.seenBidi ? this.currentRow = null : "insert" == e.action && o.test(e.lines.join("\n")) && (this.seenBidi = !0,
            this.currentRow = null)
        }
        ,
        this.getDocumentRow = function() {
            var e = 0
              , t = this.session.$screenRowCache;
            if (t.length) {
                var i = this.session.$getRowCacheIndex(t, this.currentRow);
                i >= 0 && (e = this.session.$docRowCache[i])
            }
            return e
        }
        ,
        this.getSplitIndex = function() {
            var e = 0
              , t = this.session.$screenRowCache;
            if (t.length)
                for (var i, n = this.session.$getRowCacheIndex(t, this.currentRow); this.currentRow - e > 0 && (i = this.session.$getRowCacheIndex(t, this.currentRow - e - 1)) === n; )
                    n = i,
                    e++;
            else
                e = this.currentRow;
            return e
        }
        ,
        this.updateRowLine = function(e, t) {
            void 0 === e && (e = this.getDocumentRow());
            var i = e === this.session.getLength() - 1 ? this.EOF : this.EOL;
            if (this.wrapIndent = 0,
            this.line = this.session.getLine(e),
            this.isRtlDir = this.line.charAt(0) === this.RLE,
            this.session.$useWrapMode) {
                var o = this.session.$wrapData[e];
                o && (void 0 === t && (t = this.getSplitIndex()),
                t > 0 && o.length ? (this.wrapIndent = o.indent,
                this.wrapOffset = this.wrapIndent * this.charWidths[n.L],
                this.line = t < o.length ? this.line.substring(o[t - 1], o[t]) : this.line.substring(o[o.length - 1])) : this.line = this.line.substring(0, o[t])),
                t == o.length && (this.line += this.showInvisibles ? i : n.DOT)
            } else
                this.line += this.showInvisibles ? i : n.DOT;
            var r, a = this.session, l = 0;
            this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(e, t) {
                return "\t" === e || a.isFullWidth(e.charCodeAt(0)) ? (r = "\t" === e ? a.getScreenTabSize(t + l) : 2,
                l += r - 1,
                s.stringRepeat(n.DOT, r)) : e
            }),
            this.isRtlDir && (this.fontMetrics.$main.innerHTML = this.line.charAt(this.line.length - 1) == n.DOT ? this.line.substr(0, this.line.length - 1) : this.line,
            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width)
        }
        ,
        this.updateBidiMap = function() {
            var e = [];
            n.hasBidiCharacters(this.line, e) || this.isRtlDir ? this.bidiMap = n.doBidiReorder(this.line, e, this.isRtlDir) : this.bidiMap = {}
        }
        ,
        this.markAsDirty = function() {
            this.currentRow = null
        }
        ,
        this.updateCharacterWidths = function(e) {
            if (this.characterWidth !== e.$characterSize.width) {
                this.fontMetrics = e;
                var t = this.characterWidth = e.$characterSize.width
                  , i = e.$measureCharWidth("◊î");
                this.charWidths[n.L] = this.charWidths[n.EN] = this.charWidths[n.ON_R] = t,
                this.charWidths[n.R] = this.charWidths[n.AN] = i,
                this.charWidths[n.R_H] = .45 * i,
                this.charWidths[n.B] = this.charWidths[n.RLE] = 0,
                this.currentRow = null
            }
        }
        ,
        this.setShowInvisibles = function(e) {
            this.showInvisibles = e,
            this.currentRow = null
        }
        ,
        this.setEolChar = function(e) {
            this.EOL = e
        }
        ,
        this.setContentWidth = function(e) {
            this.contentWidth = e
        }
        ,
        this.isRtlLine = function(e) {
            return void 0 != e ? this.session.getLine(e).charAt(0) == this.RLE : this.isRtlDir
        }
        ,
        this.setRtlDirection = function(e, t) {
            for (var i = e.getCursorPosition(), n = e.selection.getSelectionAnchor().row; n <= i.row; n++)
                t || e.session.getLine(n).charAt(0) !== e.session.$bidiHandler.RLE ? t && e.session.getLine(n).charAt(0) !== e.session.$bidiHandler.RLE && e.session.doc.insert({
                    column: 0,
                    row: n
                }, e.session.$bidiHandler.RLE) : e.session.doc.removeInLine(n, 0, 1)
        }
        ,
        this.getPosLeft = function(e) {
            e -= this.wrapIndent;
            var t = this.line.charAt(0) === this.RLE ? 1 : 0
              , i = e > t ? this.session.getOverwrite() ? e : e - 1 : t
              , s = n.getVisualFromLogicalIdx(i, this.bidiMap)
              , o = this.bidiMap.bidiLevels
              , r = 0;
            !this.session.getOverwrite() && e <= t && o[s] % 2 != 0 && s++;
            for (var a = 0; a < s; a++)
                r += this.charWidths[o[a]];
            return !this.session.getOverwrite() && e > t && o[s] % 2 == 0 && (r += this.charWidths[o[s]]),
            this.wrapIndent && (r += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset),
            this.isRtlDir && (r += this.rtlLineOffset),
            r
        }
        ,
        this.getSelections = function(e, t) {
            var i, n = this.bidiMap, s = n.bidiLevels, o = [], r = 0, a = Math.min(e, t) - this.wrapIndent, l = Math.max(e, t) - this.wrapIndent, h = !1, c = !1, u = 0;
            this.wrapIndent && (r += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset);
            for (var d, g = 0; g < s.length; g++)
                d = n.logicalFromVisual[g],
                i = s[g],
                (h = d >= a && d < l) && !c ? u = r : !h && c && o.push({
                    left: u,
                    width: r - u
                }),
                r += this.charWidths[i],
                c = h;
            if (h && g === s.length && o.push({
                left: u,
                width: r - u
            }),
            this.isRtlDir)
                for (var f = 0; f < o.length; f++)
                    o[f].left += this.rtlLineOffset;
            return o
        }
        ,
        this.offsetToCol = function(e) {
            this.isRtlDir && (e -= this.rtlLineOffset);
            var t = 0
              , e = Math.max(e, 0)
              , i = 0
              , n = 0
              , s = this.bidiMap.bidiLevels
              , o = this.charWidths[s[n]];
            for (this.wrapIndent && (e -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset); e > i + o / 2; ) {
                if (i += o,
                n === s.length - 1) {
                    o = 0;
                    break
                }
                o = this.charWidths[s[++n]]
            }
            return n > 0 && s[n - 1] % 2 != 0 && s[n] % 2 == 0 ? (e < i && n--,
            t = this.bidiMap.logicalFromVisual[n]) : n > 0 && s[n - 1] % 2 == 0 && s[n] % 2 != 0 ? t = 1 + (e > i ? this.bidiMap.logicalFromVisual[n] : this.bidiMap.logicalFromVisual[n - 1]) : this.isRtlDir && n === s.length - 1 && 0 === o && s[n - 1] % 2 == 0 || !this.isRtlDir && 0 === n && s[n] % 2 != 0 ? t = 1 + this.bidiMap.logicalFromVisual[n] : (n > 0 && s[n - 1] % 2 != 0 && 0 !== o && n--,
            t = this.bidiMap.logicalFromVisual[n]),
            0 === t && this.isRtlDir && t++,
            t + this.wrapIndent
        }
    }
    ).call(r.prototype),
    t.BidiHandler = r
}),
ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/lang")
      , o = e("./lib/event_emitter").EventEmitter
      , r = e("./range").Range
      , a = function(e) {
        this.session = e,
        this.doc = e.getDocument(),
        this.clearSelection(),
        this.cursor = this.lead = this.doc.createAnchor(0, 0),
        this.anchor = this.doc.createAnchor(0, 0),
        this.$silent = !1;
        var t = this;
        this.cursor.on("change", function(e) {
            t.$cursorChanged = !0,
            t.$silent || t._emit("changeCursor"),
            !t.$isEmpty && !t.$silent && t._emit("changeSelection"),
            !t.$keepDesiredColumnOnChange && e.old.column != e.value.column && (t.$desiredColumn = null)
        }),
        this.anchor.on("change", function() {
            t.$anchorChanged = !0,
            !t.$isEmpty && !t.$silent && t._emit("changeSelection")
        })
    };
    (function() {
        n.implement(this, o),
        this.isEmpty = function() {
            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column
        }
        ,
        this.isMultiLine = function() {
            return !this.$isEmpty && this.anchor.row != this.cursor.row
        }
        ,
        this.getCursor = function() {
            return this.lead.getPosition()
        }
        ,
        this.setSelectionAnchor = function(e, t) {
            this.$isEmpty = !1,
            this.anchor.setPosition(e, t)
        }
        ,
        this.getAnchor = this.getSelectionAnchor = function() {
            return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition()
        }
        ,
        this.getSelectionLead = function() {
            return this.lead.getPosition()
        }
        ,
        this.isBackwards = function() {
            var e = this.anchor
              , t = this.lead;
            return e.row > t.row || e.row == t.row && e.column > t.column
        }
        ,
        this.getRange = function() {
            var e = this.anchor
              , t = this.lead;
            return this.$isEmpty ? r.fromPoints(t, t) : this.isBackwards() ? r.fromPoints(t, e) : r.fromPoints(e, t)
        }
        ,
        this.clearSelection = function() {
            this.$isEmpty || (this.$isEmpty = !0,
            this._emit("changeSelection"))
        }
        ,
        this.selectAll = function() {
            this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE)
        }
        ,
        this.setRange = this.setSelectionRange = function(e, t) {
            var i = t ? e.end : e.start
              , n = t ? e.start : e.end;
            this.$setSelection(i.row, i.column, n.row, n.column)
        }
        ,
        this.$setSelection = function(e, t, i, n) {
            var s = this.$isEmpty
              , o = this.inMultiSelectMode;
            this.$silent = !0,
            this.$cursorChanged = this.$anchorChanged = !1,
            this.anchor.setPosition(e, t),
            this.cursor.setPosition(i, n),
            this.$isEmpty = !r.comparePoints(this.anchor, this.cursor),
            this.$silent = !1,
            this.$cursorChanged && this._emit("changeCursor"),
            (this.$cursorChanged || this.$anchorChanged || s != this.$isEmpty || o) && this._emit("changeSelection")
        }
        ,
        this.$moveSelection = function(e) {
            var t = this.lead;
            this.$isEmpty && this.setSelectionAnchor(t.row, t.column),
            e.call(this)
        }
        ,
        this.selectTo = function(e, t) {
            this.$moveSelection(function() {
                this.moveCursorTo(e, t)
            })
        }
        ,
        this.selectToPosition = function(e) {
            this.$moveSelection(function() {
                this.moveCursorToPosition(e)
            })
        }
        ,
        this.moveTo = function(e, t) {
            this.clearSelection(),
            this.moveCursorTo(e, t)
        }
        ,
        this.moveToPosition = function(e) {
            this.clearSelection(),
            this.moveCursorToPosition(e)
        }
        ,
        this.selectUp = function() {
            this.$moveSelection(this.moveCursorUp)
        }
        ,
        this.selectDown = function() {
            this.$moveSelection(this.moveCursorDown)
        }
        ,
        this.selectRight = function() {
            this.$moveSelection(this.moveCursorRight)
        }
        ,
        this.selectLeft = function() {
            this.$moveSelection(this.moveCursorLeft)
        }
        ,
        this.selectLineStart = function() {
            this.$moveSelection(this.moveCursorLineStart)
        }
        ,
        this.selectLineEnd = function() {
            this.$moveSelection(this.moveCursorLineEnd)
        }
        ,
        this.selectFileEnd = function() {
            this.$moveSelection(this.moveCursorFileEnd)
        }
        ,
        this.selectFileStart = function() {
            this.$moveSelection(this.moveCursorFileStart)
        }
        ,
        this.selectWordRight = function() {
            this.$moveSelection(this.moveCursorWordRight)
        }
        ,
        this.selectWordLeft = function() {
            this.$moveSelection(this.moveCursorWordLeft)
        }
        ,
        this.getWordRange = function(e, t) {
            if (void 0 === t) {
                var i = e || this.lead;
                e = i.row,
                t = i.column
            }
            return this.session.getWordRange(e, t)
        }
        ,
        this.selectWord = function() {
            this.setSelectionRange(this.getWordRange())
        }
        ,
        this.selectAWord = function() {
            var e = this.getCursor()
              , t = this.session.getAWordRange(e.row, e.column);
            this.setSelectionRange(t)
        }
        ,
        this.getLineRange = function(e, t) {
            var i, n = "number" == typeof e ? e : this.lead.row, s = this.session.getFoldLine(n);
            return s ? (n = s.start.row,
            i = s.end.row) : i = n,
            !0 === t ? new r(n,0,i,this.session.getLine(i).length) : new r(n,0,i + 1,0)
        }
        ,
        this.selectLine = function() {
            this.setSelectionRange(this.getLineRange())
        }
        ,
        this.moveCursorUp = function() {
            this.moveCursorBy(-1, 0)
        }
        ,
        this.moveCursorDown = function() {
            this.moveCursorBy(1, 0)
        }
        ,
        this.wouldMoveIntoSoftTab = function(e, t, i) {
            var n = e.column
              , s = e.column + t;
            return i < 0 && (n = e.column - t,
            s = e.column),
            this.session.isTabStop(e) && this.doc.getLine(e.row).slice(n, s).split(" ").length - 1 == t
        }
        ,
        this.moveCursorLeft = function() {
            var e, t = this.lead.getPosition();
            if (e = this.session.getFoldAt(t.row, t.column, -1))
                this.moveCursorTo(e.start.row, e.start.column);
            else if (0 === t.column)
                t.row > 0 && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length);
            else {
                var i = this.session.getTabSize();
                this.wouldMoveIntoSoftTab(t, i, -1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, -i) : this.moveCursorBy(0, -1)
            }
        }
        ,
        this.moveCursorRight = function() {
            var e, t = this.lead.getPosition();
            if (e = this.session.getFoldAt(t.row, t.column, 1))
                this.moveCursorTo(e.end.row, e.end.column);
            else if (this.lead.column == this.doc.getLine(this.lead.row).length)
                this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0);
            else {
                var i = this.session.getTabSize()
                  , t = this.lead;
                this.wouldMoveIntoSoftTab(t, i, 1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, i) : this.moveCursorBy(0, 1)
            }
        }
        ,
        this.moveCursorLineStart = function() {
            var e = this.lead.row
              , t = this.lead.column
              , i = this.session.documentToScreenRow(e, t)
              , n = this.session.screenToDocumentPosition(i, 0)
              , s = this.session.getDisplayLine(e, null, n.row, n.column).match(/^\s*/);
            s[0].length != t && !this.session.$useEmacsStyleLineStart && (n.column += s[0].length),
            this.moveCursorToPosition(n)
        }
        ,
        this.moveCursorLineEnd = function() {
            var e = this.lead
              , t = this.session.getDocumentLastRowColumnPosition(e.row, e.column);
            if (this.lead.column == t.column) {
                var i = this.session.getLine(t.row);
                if (t.column == i.length) {
                    var n = i.search(/\s+$/);
                    n > 0 && (t.column = n)
                }
            }
            this.moveCursorTo(t.row, t.column)
        }
        ,
        this.moveCursorFileEnd = function() {
            var e = this.doc.getLength() - 1
              , t = this.doc.getLine(e).length;
            this.moveCursorTo(e, t)
        }
        ,
        this.moveCursorFileStart = function() {
            this.moveCursorTo(0, 0)
        }
        ,
        this.moveCursorLongWordRight = function() {
            var e = this.lead.row
              , t = this.lead.column
              , i = this.doc.getLine(e)
              , n = i.substring(t);
            this.session.nonTokenRe.lastIndex = 0,
            this.session.tokenRe.lastIndex = 0;
            var s = this.session.getFoldAt(e, t, 1);
            if (s)
                this.moveCursorTo(s.end.row, s.end.column);
            else {
                if (this.session.nonTokenRe.exec(n) && (t += this.session.nonTokenRe.lastIndex,
                this.session.nonTokenRe.lastIndex = 0,
                n = i.substring(t)),
                t >= i.length)
                    return this.moveCursorTo(e, i.length),
                    this.moveCursorRight(),
                    void (e < this.doc.getLength() - 1 && this.moveCursorWordRight());
                this.session.tokenRe.exec(n) && (t += this.session.tokenRe.lastIndex,
                this.session.tokenRe.lastIndex = 0),
                this.moveCursorTo(e, t)
            }
        }
        ,
        this.moveCursorLongWordLeft = function() {
            var e, t = this.lead.row, i = this.lead.column;
            if (e = this.session.getFoldAt(t, i, -1))
                this.moveCursorTo(e.start.row, e.start.column);
            else {
                var n = this.session.getFoldStringAt(t, i, -1);
                null == n && (n = this.doc.getLine(t).substring(0, i));
                var o = s.stringReverse(n);
                if (this.session.nonTokenRe.lastIndex = 0,
                this.session.tokenRe.lastIndex = 0,
                this.session.nonTokenRe.exec(o) && (i -= this.session.nonTokenRe.lastIndex,
                o = o.slice(this.session.nonTokenRe.lastIndex),
                this.session.nonTokenRe.lastIndex = 0),
                i <= 0)
                    return this.moveCursorTo(t, 0),
                    this.moveCursorLeft(),
                    void (t > 0 && this.moveCursorWordLeft());
                this.session.tokenRe.exec(o) && (i -= this.session.tokenRe.lastIndex,
                this.session.tokenRe.lastIndex = 0),
                this.moveCursorTo(t, i)
            }
        }
        ,
        this.$shortWordEndIndex = function(e) {
            var t, i = 0, n = /\s/, s = this.session.tokenRe;
            if (s.lastIndex = 0,
            this.session.tokenRe.exec(e))
                i = this.session.tokenRe.lastIndex;
            else {
                for (; (t = e[i]) && n.test(t); )
                    i++;
                if (i < 1)
                    for (s.lastIndex = 0; (t = e[i]) && !s.test(t); )
                        if (s.lastIndex = 0,
                        i++,
                        n.test(t)) {
                            if (i > 2) {
                                i--;
                                break
                            }
                            for (; (t = e[i]) && n.test(t); )
                                i++;
                            if (i > 2)
                                break
                        }
            }
            return s.lastIndex = 0,
            i
        }
        ,
        this.moveCursorShortWordRight = function() {
            var e = this.lead.row
              , t = this.lead.column
              , i = this.doc.getLine(e)
              , n = i.substring(t)
              , s = this.session.getFoldAt(e, t, 1);
            if (s)
                return this.moveCursorTo(s.end.row, s.end.column);
            if (t == i.length) {
                var o = this.doc.getLength();
                do {
                    e++,
                    n = this.doc.getLine(e)
                } while (e < o && /^\s*$/.test(n));
                /^\s+/.test(n) || (n = ""),
                t = 0
            }
            var r = this.$shortWordEndIndex(n);
            this.moveCursorTo(e, t + r)
        }
        ,
        this.moveCursorShortWordLeft = function() {
            var e, t = this.lead.row, i = this.lead.column;
            if (e = this.session.getFoldAt(t, i, -1))
                return this.moveCursorTo(e.start.row, e.start.column);
            var n = this.session.getLine(t).substring(0, i);
            if (0 === i) {
                do {
                    t--,
                    n = this.doc.getLine(t)
                } while (t > 0 && /^\s*$/.test(n));
                i = n.length,
                /\s+$/.test(n) || (n = "")
            }
            var o = s.stringReverse(n)
              , r = this.$shortWordEndIndex(o);
            return this.moveCursorTo(t, i - r)
        }
        ,
        this.moveCursorWordRight = function() {
            this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight()
        }
        ,
        this.moveCursorWordLeft = function() {
            this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft()
        }
        ,
        this.moveCursorBy = function(e, t) {
            var i, n = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
            0 === t && (0 !== e && (this.session.$bidiHandler.isBidiRow(n.row, this.lead.row) ? (i = this.session.$bidiHandler.getPosLeft(n.column),
            n.column = Math.round(i / this.session.$bidiHandler.charWidths[0])) : i = n.column * this.session.$bidiHandler.charWidths[0]),
            this.$desiredColumn ? n.column = this.$desiredColumn : this.$desiredColumn = n.column);
            var s = this.session.screenToDocumentPosition(n.row + e, n.column, i);
            0 !== e && 0 === t && s.row === this.lead.row && s.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[s.row] && (s.row > 0 || e > 0) && s.row++,
            this.moveCursorTo(s.row, s.column + t, 0 === t)
        }
        ,
        this.moveCursorToPosition = function(e) {
            this.moveCursorTo(e.row, e.column)
        }
        ,
        this.moveCursorTo = function(e, t, i) {
            var n = this.session.getFoldAt(e, t, 1);
            n && (e = n.start.row,
            t = n.start.column),
            this.$keepDesiredColumnOnChange = !0;
            var s = this.session.getLine(e);
            /[\uDC00-\uDFFF]/.test(s.charAt(t)) && s.charAt(t - 1) && (this.lead.row == e && this.lead.column == t + 1 ? t -= 1 : t += 1),
            this.lead.setPosition(e, t),
            this.$keepDesiredColumnOnChange = !1,
            i || (this.$desiredColumn = null)
        }
        ,
        this.moveCursorToScreen = function(e, t, i) {
            var n = this.session.screenToDocumentPosition(e, t);
            this.moveCursorTo(n.row, n.column, i)
        }
        ,
        this.detach = function() {
            this.lead.detach(),
            this.anchor.detach(),
            this.session = this.doc = null
        }
        ,
        this.fromOrientedRange = function(e) {
            this.setSelectionRange(e, e.cursor == e.start),
            this.$desiredColumn = e.desiredColumn || this.$desiredColumn
        }
        ,
        this.toOrientedRange = function(e) {
            var t = this.getRange();
            return e ? (e.start.column = t.start.column,
            e.start.row = t.start.row,
            e.end.column = t.end.column,
            e.end.row = t.end.row) : e = t,
            e.cursor = this.isBackwards() ? e.start : e.end,
            e.desiredColumn = this.$desiredColumn,
            e
        }
        ,
        this.getRangeOfMovements = function(e) {
            var t = this.getCursor();
            try {
                e(this);
                var i = this.getCursor();
                return r.fromPoints(t, i)
            } catch (e) {
                return r.fromPoints(t, t)
            } finally {
                this.moveCursorToPosition(t)
            }
        }
        ,
        this.toJSON = function() {
            if (this.rangeCount)
                var e = this.ranges.map(function(e) {
                    var t = e.clone();
                    return t.isBackwards = e.cursor == e.start,
                    t
                });
            else
                (e = this.getRange()).isBackwards = this.isBackwards();
            return e
        }
        ,
        this.fromJSON = function(e) {
            if (void 0 == e.start) {
                if (this.rangeList) {
                    this.toSingleRange(e[0]);
                    for (var t = e.length; t--; ) {
                        var i = r.fromPoints(e[t].start, e[t].end);
                        e[t].isBackwards && (i.cursor = i.start),
                        this.addRange(i, !0)
                    }
                    return
                }
                e = e[0]
            }
            this.rangeList && this.toSingleRange(e),
            this.setSelectionRange(e, e.isBackwards)
        }
        ,
        this.isEqual = function(e) {
            if ((e.length || this.rangeCount) && e.length != this.rangeCount)
                return !1;
            if (!e.length || !this.ranges)
                return this.getRange().isEqual(e);
            for (var t = this.ranges.length; t--; )
                if (!this.ranges[t].isEqual(e[t]))
                    return !1;
            return !0
        }
    }
    ).call(a.prototype),
    t.Selection = a
}),
ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function(e, t, i) {
    "use strict";
    var n = e("./config")
      , s = 2e3
      , o = function(e) {
        this.states = e,
        this.regExps = {},
        this.matchMappings = {};
        for (var t in this.states) {
            for (var i = this.states[t], n = [], s = 0, o = this.matchMappings[t] = {
                defaultToken: "text"
            }, r = "g", a = [], l = 0; l < i.length; l++) {
                var h = i[l];
                if (h.defaultToken && (o.defaultToken = h.defaultToken),
                h.caseInsensitive && (r = "gi"),
                null != h.regex) {
                    h.regex instanceof RegExp && (h.regex = h.regex.toString().slice(1, -1));
                    var c = h.regex
                      , u = new RegExp("(?:(" + c + ")|(.))").exec("a").length - 2;
                    Array.isArray(h.token) ? 1 == h.token.length || 1 == u ? h.token = h.token[0] : u - 1 != h.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
                        rule: h,
                        groupCount: u - 1
                    }),
                    h.token = h.token[0]) : (h.tokenArray = h.token,
                    h.token = null,
                    h.onMatch = this.$arrayTokens) : "function" == typeof h.token && !h.onMatch && (h.onMatch = u > 1 ? this.$applyToken : h.token),
                    u > 1 && (/\\\d/.test(h.regex) ? c = h.regex.replace(/\\([0-9]+)/g, function(e, t) {
                        return "\\" + (parseInt(t, 10) + s + 1)
                    }) : (u = 1,
                    c = this.removeCapturingGroups(h.regex)),
                    !h.splitRegex && "string" != typeof h.token && a.push(h)),
                    o[s] = l,
                    s += u,
                    n.push(c),
                    h.onMatch || (h.onMatch = null)
                }
            }
            n.length || (o[0] = 0,
            n.push("$")),
            a.forEach(function(e) {
                e.splitRegex = this.createSplitterRegexp(e.regex, r)
            }, this),
            this.regExps[t] = new RegExp("(" + n.join(")|(") + ")|($)",r)
        }
    };
    (function() {
        this.$setMaxTokenCount = function(e) {
            s = 0 | e
        }
        ,
        this.$applyToken = function(e) {
            var t = this.splitRegex.exec(e).slice(1)
              , i = this.token.apply(this, t);
            if ("string" == typeof i)
                return [{
                    type: i,
                    value: e
                }];
            for (var n = [], s = 0, o = i.length; s < o; s++)
                t[s] && (n[n.length] = {
                    type: i[s],
                    value: t[s]
                });
            return n
        }
        ,
        this.$arrayTokens = function(e) {
            if (!e)
                return [];
            var t = this.splitRegex.exec(e);
            if (!t)
                return "text";
            for (var i = [], n = this.tokenArray, s = 0, o = n.length; s < o; s++)
                t[s + 1] && (i[i.length] = {
                    type: n[s],
                    value: t[s + 1]
                });
            return i
        }
        ,
        this.removeCapturingGroups = function(e) {
            return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g, function(e, t) {
                return t ? "(?:" : e
            })
        }
        ,
        this.createSplitterRegexp = function(e, t) {
            if (-1 != e.indexOf("(?=")) {
                var i = 0
                  , n = !1
                  , s = {};
                e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, o, r, a, l) {
                    return n ? n = "]" != a : a ? n = !0 : r ? (i == s.stack && (s.end = l + 1,
                    s.stack = -1),
                    i--) : o && (i++,
                    1 != o.length && (s.stack = i,
                    s.start = l)),
                    e
                }),
                null != s.end && /^\)*$/.test(e.substr(s.end)) && (e = e.substring(0, s.start) + e.substr(s.end))
            }
            return "^" != e.charAt(0) && (e = "^" + e),
            "$" != e.charAt(e.length - 1) && (e += "$"),
            new RegExp(e,(t || "").replace("g", ""))
        }
        ,
        this.getLineTokens = function(e, t) {
            if (t && "string" != typeof t)
                "#tmp" === (t = (i = t.slice(0))[0]) && (i.shift(),
                t = i.shift());
            else
                var i = [];
            var n = t || "start"
              , o = this.states[n];
            o || (n = "start",
            o = this.states[n]);
            var r = this.matchMappings[n]
              , a = this.regExps[n];
            a.lastIndex = 0;
            for (var l, h = [], c = 0, u = 0, d = {
                type: null,
                value: ""
            }; l = a.exec(e); ) {
                var g = r.defaultToken
                  , f = null
                  , m = l[0]
                  , p = a.lastIndex;
                if (p - m.length > c) {
                    var v = e.substring(c, p - m.length);
                    d.type == g ? d.value += v : (d.type && h.push(d),
                    d = {
                        type: g,
                        value: v
                    })
                }
                for (w = 0; w < l.length - 2; w++)
                    if (void 0 !== l[w + 1]) {
                        g = (f = o[r[w]]).onMatch ? f.onMatch(m, n, i, e) : f.token,
                        f.next && (n = "string" == typeof f.next ? f.next : f.next(n, i),
                        (o = this.states[n]) || (this.reportError("state doesn't exist", n),
                        n = "start",
                        o = this.states[n]),
                        r = this.matchMappings[n],
                        c = p,
                        a = this.regExps[n],
                        a.lastIndex = p),
                        f.consumeLineEnd && (c = p);
                        break
                    }
                if (m)
                    if ("string" == typeof g)
                        f && !1 === f.merge || d.type !== g ? (d.type && h.push(d),
                        d = {
                            type: g,
                            value: m
                        }) : d.value += m;
                    else if (g) {
                        d.type && h.push(d),
                        d = {
                            type: null,
                            value: ""
                        };
                        for (var w = 0; w < g.length; w++)
                            h.push(g[w])
                    }
                if (c == e.length)
                    break;
                if (c = p,
                u++ > s) {
                    for (u > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", {
                        startState: t,
                        line: e
                    }); c < e.length; )
                        d.type && h.push(d),
                        d = {
                            value: e.substring(c, c += 2e3),
                            type: "overflow"
                        };
                    n = "start",
                    i = [];
                    break
                }
            }
            return d.type && h.push(d),
            i.length > 1 && i[0] !== n && i.unshift("#tmp", n),
            {
                tokens: h,
                state: i.length ? i : n
            }
        }
        ,
        this.reportError = n.reportError
    }
    ).call(o.prototype),
    t.Tokenizer = o
}),
ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(e, t, i) {
    "use strict";
    var n = e("../lib/lang")
      , s = function() {
        this.$rules = {
            start: [{
                token: "empty_line",
                regex: "^$"
            }, {
                defaultToken: "text"
            }]
        }
    };
    (function() {
        this.addRules = function(e, t) {
            if (t)
                for (var i in e) {
                    for (var n = e[i], s = 0; s < n.length; s++) {
                        var o = n[s];
                        (o.next || o.onMatch) && ("string" == typeof o.next && 0 !== o.next.indexOf(t) && (o.next = t + o.next),
                        o.nextState && 0 !== o.nextState.indexOf(t) && (o.nextState = t + o.nextState))
                    }
                    this.$rules[t + i] = n
                }
            else
                for (var i in e)
                    this.$rules[i] = e[i]
        }
        ,
        this.getRules = function() {
            return this.$rules
        }
        ,
        this.embedRules = function(e, t, i, s, o) {
            var r = "function" == typeof e ? (new e).getRules() : e;
            if (s)
                for (h = 0; h < s.length; h++)
                    s[h] = t + s[h];
            else {
                s = [];
                for (var a in r)
                    s.push(t + a)
            }
            if (this.addRules(r, t),
            i)
                for (var l = Array.prototype[o ? "push" : "unshift"], h = 0; h < s.length; h++)
                    l.apply(this.$rules[s[h]], n.deepCopy(i));
            this.$embeds || (this.$embeds = []),
            this.$embeds.push(t)
        }
        ,
        this.getEmbeds = function() {
            return this.$embeds
        }
        ;
        var e = function(e, t) {
            return ("start" != e || t.length) && t.unshift(this.nextState, e),
            this.nextState
        }
          , t = function(e, t) {
            return t.shift(),
            t.shift() || "start"
        };
        this.normalizeRules = function() {
            function i(o) {
                var r = s[o];
                r.processed = !0;
                for (var a = 0; a < r.length; a++) {
                    var l = r[a]
                      , h = null;
                    Array.isArray(l) && (h = l,
                    l = {}),
                    !l.regex && l.start && (l.regex = l.start,
                    l.next || (l.next = []),
                    l.next.push({
                        defaultToken: l.token
                    }, {
                        token: l.token + ".end",
                        regex: l.end || l.start,
                        next: "pop"
                    }),
                    l.token = l.token + ".start",
                    l.push = !0);
                    var c = l.next || l.push;
                    if (c && Array.isArray(c)) {
                        var u = l.stateName;
                        u || ("string" != typeof (u = l.token) && (u = u[0] || ""),
                        s[u] && (u += n++)),
                        s[u] = c,
                        l.next = u,
                        i(u)
                    } else
                        "pop" == c && (l.next = t);
                    if (l.push && (l.nextState = l.next || l.push,
                    l.next = e,
                    delete l.push),
                    l.rules)
                        for (var d in l.rules)
                            s[d] ? s[d].push && s[d].push.apply(s[d], l.rules[d]) : s[d] = l.rules[d];
                    var g = "string" == typeof l ? l : l.include;
                    if (g && (h = Array.isArray(g) ? g.map(function(e) {
                        return s[e]
                    }) : s[g]),
                    h) {
                        var f = [a, 1].concat(h);
                        l.noEscape && (f = f.filter(function(e) {
                            return !e.next
                        })),
                        r.splice.apply(r, f),
                        a--
                    }
                    l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive),
                    delete l.defaultToken)
                }
            }
            var n = 0
              , s = this.$rules;
            Object.keys(s).forEach(i, this)
        }
        ,
        this.createKeywordMapper = function(e, t, i, n) {
            var s = Object.create(null);
            return Object.keys(e).forEach(function(t) {
                var o = e[t];
                i && (o = o.toLowerCase());
                for (var r = o.split(n || "|"), a = r.length; a--; )
                    s[r[a]] = t
            }),
            Object.getPrototypeOf(s) && (s.__proto__ = null),
            this.$keywordList = Object.keys(s),
            e = null,
            i ? function(e) {
                return s[e.toLowerCase()] || t
            }
            : function(e) {
                return s[e] || t
            }
        }
        ,
        this.getKeywords = function() {
            return this.$keywords
        }
    }
    ).call(s.prototype),
    t.TextHighlightRules = s
}),
ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    var n = function() {
        this.$behaviours = {}
    };
    (function() {
        this.add = function(e, t, i) {
            switch (void 0) {
            case this.$behaviours:
                this.$behaviours = {};
            case this.$behaviours[e]:
                this.$behaviours[e] = {}
            }
            this.$behaviours[e][t] = i
        }
        ,
        this.addBehaviours = function(e) {
            for (var t in e)
                for (var i in e[t])
                    this.add(t, i, e[t][i])
        }
        ,
        this.remove = function(e) {
            this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e]
        }
        ,
        this.inherit = function(e, t) {
            if ("function" == typeof e)
                i = (new e).getBehaviours(t);
            else
                var i = e.getBehaviours(t);
            this.addBehaviours(i)
        }
        ,
        this.getBehaviours = function(e) {
            if (!e)
                return this.$behaviours;
            for (var t = {}, i = 0; i < e.length; i++)
                this.$behaviours[e[i]] && (t[e[i]] = this.$behaviours[e[i]]);
            return t
        }
    }
    ).call(n.prototype),
    t.Behaviour = n
}),
ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("./range").Range
      , s = function(e, t, i) {
        this.$session = e,
        this.$row = t,
        this.$rowTokens = e.getTokens(t);
        var n = e.getTokenAt(t, i);
        this.$tokenIndex = n ? n.index : -1
    };
    (function() {
        this.stepBackward = function() {
            for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
                if (this.$row -= 1,
                this.$row < 0)
                    return this.$row = 0,
                    null;
                this.$rowTokens = this.$session.getTokens(this.$row),
                this.$tokenIndex = this.$rowTokens.length - 1
            }
            return this.$rowTokens[this.$tokenIndex]
        }
        ,
        this.stepForward = function() {
            this.$tokenIndex += 1;
            for (var e; this.$tokenIndex >= this.$rowTokens.length; ) {
                if (this.$row += 1,
                e || (e = this.$session.getLength()),
                this.$row >= e)
                    return this.$row = e - 1,
                    null;
                this.$rowTokens = this.$session.getTokens(this.$row),
                this.$tokenIndex = 0
            }
            return this.$rowTokens[this.$tokenIndex]
        }
        ,
        this.getCurrentToken = function() {
            return this.$rowTokens[this.$tokenIndex]
        }
        ,
        this.getCurrentTokenRow = function() {
            return this.$row
        }
        ,
        this.getCurrentTokenColumn = function() {
            var e = this.$rowTokens
              , t = this.$tokenIndex
              , i = e[t].start;
            if (void 0 !== i)
                return i;
            for (i = 0; t > 0; )
                t -= 1,
                i += e[t].value.length;
            return i
        }
        ,
        this.getCurrentTokenPosition = function() {
            return {
                row: this.$row,
                column: this.getCurrentTokenColumn()
            }
        }
        ,
        this.getCurrentTokenRange = function() {
            var e = this.$rowTokens[this.$tokenIndex]
              , t = this.getCurrentTokenColumn();
            return new n(this.$row,t,this.$row,t + e.value.length)
        }
    }
    ).call(s.prototype),
    t.TokenIterator = s
}),
ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, i) {
    "use strict";
    var n, s = e("../../lib/oop"), o = e("../behaviour").Behaviour, r = e("../../token_iterator").TokenIterator, a = e("../../lib/lang"), l = ["text", "paren.rparen", "punctuation.operator"], h = ["text", "paren.rparen", "punctuation.operator", "comment"], c = {}, u = {
        '"': '"',
        "'": "'"
    }, d = function(e) {
        var t = -1;
        if (e.multiSelect && (t = e.selection.index,
        c.rangeCount != e.multiSelect.rangeCount && (c = {
            rangeCount: e.multiSelect.rangeCount
        })),
        c[t])
            return n = c[t];
        n = c[t] = {
            autoInsertedBrackets: 0,
            autoInsertedRow: -1,
            autoInsertedLineEnd: "",
            maybeInsertedBrackets: 0,
            maybeInsertedRow: -1,
            maybeInsertedLineStart: "",
            maybeInsertedLineEnd: ""
        }
    }, g = function(e, t, i, n) {
        var s = e.end.row - e.start.row;
        return {
            text: i + t + n,
            selection: [0, e.start.column + 1, s, e.end.column + (s ? 0 : 1)]
        }
    }, f = function(e) {
        this.add("braces", "insertion", function(t, i, s, o, r) {
            var l = s.getCursorPosition()
              , h = o.doc.getLine(l.row);
            if ("{" == r) {
                d(s);
                var c = s.getSelectionRange()
                  , u = o.doc.getTextRange(c);
                if ("" !== u && "{" !== u && s.getWrapBehavioursEnabled())
                    return g(c, u, "{", "}");
                if (f.isSaneInsertion(s, o))
                    return /[\]\}\)]/.test(h[l.column]) || s.inMultiSelectMode || e && e.braces ? (f.recordAutoInsert(s, o, "}"),
                    {
                        text: "{}",
                        selection: [1, 1]
                    }) : (f.recordMaybeInsert(s, o, "{"),
                    {
                        text: "{",
                        selection: [1, 1]
                    })
            } else if ("}" == r) {
                if (d(s),
                "}" == (p = h.substring(l.column, l.column + 1)) && null !== o.$findOpeningBracket("}", {
                    column: l.column + 1,
                    row: l.row
                }) && f.isAutoInsertedClosing(l, h, r))
                    return f.popAutoInsertedClosing(),
                    {
                        text: "",
                        selection: [1, 1]
                    }
            } else {
                if ("\n" == r || "\r\n" == r) {
                    d(s);
                    var m = "";
                    f.isMaybeInsertedClosing(l, h) && (m = a.stringRepeat("}", n.maybeInsertedBrackets),
                    f.clearMaybeInsertedClosing());
                    var p = h.substring(l.column, l.column + 1);
                    if ("}" === p) {
                        var v = o.findMatchingBracket({
                            row: l.row,
                            column: l.column + 1
                        }, "}");
                        if (!v)
                            return null;
                        w = this.$getIndent(o.getLine(v.row))
                    } else {
                        if (!m)
                            return void f.clearMaybeInsertedClosing();
                        var w = this.$getIndent(h)
                    }
                    var $ = w + o.getTabString();
                    return {
                        text: "\n" + $ + "\n" + w + m,
                        selection: [1, $.length, 1, $.length]
                    }
                }
                f.clearMaybeInsertedClosing()
            }
        }),
        this.add("braces", "deletion", function(e, t, i, s, o) {
            var r = s.doc.getTextRange(o);
            if (!o.isMultiLine() && "{" == r) {
                if (d(i),
                "}" == s.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1))
                    return o.end.column++,
                    o;
                n.maybeInsertedBrackets--
            }
        }),
        this.add("parens", "insertion", function(e, t, i, n, s) {
            if ("(" == s) {
                d(i);
                var o = i.getSelectionRange()
                  , r = n.doc.getTextRange(o);
                if ("" !== r && i.getWrapBehavioursEnabled())
                    return g(o, r, "(", ")");
                if (f.isSaneInsertion(i, n))
                    return f.recordAutoInsert(i, n, ")"),
                    {
                        text: "()",
                        selection: [1, 1]
                    }
            } else if (")" == s) {
                d(i);
                var a = i.getCursorPosition()
                  , l = n.doc.getLine(a.row);
                if (")" == l.substring(a.column, a.column + 1) && null !== n.$findOpeningBracket(")", {
                    column: a.column + 1,
                    row: a.row
                }) && f.isAutoInsertedClosing(a, l, s))
                    return f.popAutoInsertedClosing(),
                    {
                        text: "",
                        selection: [1, 1]
                    }
            }
        }),
        this.add("parens", "deletion", function(e, t, i, n, s) {
            var o = n.doc.getTextRange(s);
            if (!s.isMultiLine() && "(" == o && (d(i),
            ")" == n.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2)))
                return s.end.column++,
                s
        }),
        this.add("brackets", "insertion", function(e, t, i, n, s) {
            if ("[" == s) {
                d(i);
                var o = i.getSelectionRange()
                  , r = n.doc.getTextRange(o);
                if ("" !== r && i.getWrapBehavioursEnabled())
                    return g(o, r, "[", "]");
                if (f.isSaneInsertion(i, n))
                    return f.recordAutoInsert(i, n, "]"),
                    {
                        text: "[]",
                        selection: [1, 1]
                    }
            } else if ("]" == s) {
                d(i);
                var a = i.getCursorPosition()
                  , l = n.doc.getLine(a.row);
                if ("]" == l.substring(a.column, a.column + 1) && null !== n.$findOpeningBracket("]", {
                    column: a.column + 1,
                    row: a.row
                }) && f.isAutoInsertedClosing(a, l, s))
                    return f.popAutoInsertedClosing(),
                    {
                        text: "",
                        selection: [1, 1]
                    }
            }
        }),
        this.add("brackets", "deletion", function(e, t, i, n, s) {
            var o = n.doc.getTextRange(s);
            if (!s.isMultiLine() && "[" == o && (d(i),
            "]" == n.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2)))
                return s.end.column++,
                s
        }),
        this.add("string_dquotes", "insertion", function(e, t, i, n, s) {
            var o = n.$mode.$quotes || u;
            if (1 == s.length && o[s]) {
                if (this.lineCommentStart && -1 != this.lineCommentStart.indexOf(s))
                    return;
                d(i);
                var r = s
                  , a = i.getSelectionRange()
                  , l = n.doc.getTextRange(a);
                if ("" !== l && (1 != l.length || !o[l]) && i.getWrapBehavioursEnabled())
                    return g(a, l, r, r);
                if (!l) {
                    var h = i.getCursorPosition()
                      , c = n.doc.getLine(h.row)
                      , f = c.substring(h.column - 1, h.column)
                      , m = c.substring(h.column, h.column + 1)
                      , p = n.getTokenAt(h.row, h.column)
                      , v = n.getTokenAt(h.row, h.column + 1);
                    if ("\\" == f && p && /escape/.test(p.type))
                        return null;
                    var w, $ = p && /string|escape/.test(p.type), b = !v || /string|escape/.test(v.type);
                    if (m == r)
                        (w = $ !== b) && /string\.end/.test(v.type) && (w = !1);
                    else {
                        if ($ && !b)
                            return null;
                        if ($ && b)
                            return null;
                        var y = n.$mode.tokenRe;
                        y.lastIndex = 0;
                        var C = y.test(f);
                        y.lastIndex = 0;
                        var S = y.test(f);
                        if (C || S)
                            return null;
                        if (m && !/[\s;,.})\]\\]/.test(m))
                            return null;
                        w = !0
                    }
                    return {
                        text: w ? r + r : "",
                        selection: [1, 1]
                    }
                }
            }
        }),
        this.add("string_dquotes", "deletion", function(e, t, i, n, s) {
            var o = n.$mode.$quotes || u
              , r = n.doc.getTextRange(s);
            if (!s.isMultiLine() && o.hasOwnProperty(r) && (d(i),
            n.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2) == r))
                return s.end.column++,
                s
        })
    };
    f.isSaneInsertion = function(e, t) {
        var i = e.getCursorPosition()
          , n = new r(t,i.row,i.column);
        if (!this.$matchTokenType(n.getCurrentToken() || "text", l)) {
            var s = new r(t,i.row,i.column + 1);
            if (!this.$matchTokenType(s.getCurrentToken() || "text", l))
                return !1
        }
        return n.stepForward(),
        n.getCurrentTokenRow() !== i.row || this.$matchTokenType(n.getCurrentToken() || "text", h)
    }
    ,
    f.$matchTokenType = function(e, t) {
        return t.indexOf(e.type || e) > -1
    }
    ,
    f.recordAutoInsert = function(e, t, i) {
        var s = e.getCursorPosition()
          , o = t.doc.getLine(s.row);
        this.isAutoInsertedClosing(s, o, n.autoInsertedLineEnd[0]) || (n.autoInsertedBrackets = 0),
        n.autoInsertedRow = s.row,
        n.autoInsertedLineEnd = i + o.substr(s.column),
        n.autoInsertedBrackets++
    }
    ,
    f.recordMaybeInsert = function(e, t, i) {
        var s = e.getCursorPosition()
          , o = t.doc.getLine(s.row);
        this.isMaybeInsertedClosing(s, o) || (n.maybeInsertedBrackets = 0),
        n.maybeInsertedRow = s.row,
        n.maybeInsertedLineStart = o.substr(0, s.column) + i,
        n.maybeInsertedLineEnd = o.substr(s.column),
        n.maybeInsertedBrackets++
    }
    ,
    f.isAutoInsertedClosing = function(e, t, i) {
        return n.autoInsertedBrackets > 0 && e.row === n.autoInsertedRow && i === n.autoInsertedLineEnd[0] && t.substr(e.column) === n.autoInsertedLineEnd
    }
    ,
    f.isMaybeInsertedClosing = function(e, t) {
        return n.maybeInsertedBrackets > 0 && e.row === n.maybeInsertedRow && t.substr(e.column) === n.maybeInsertedLineEnd && t.substr(0, e.column) == n.maybeInsertedLineStart
    }
    ,
    f.popAutoInsertedClosing = function() {
        n.autoInsertedLineEnd = n.autoInsertedLineEnd.substr(1),
        n.autoInsertedBrackets--
    }
    ,
    f.clearMaybeInsertedClosing = function() {
        n && (n.maybeInsertedBrackets = 0,
        n.maybeInsertedRow = -1)
    }
    ,
    s.inherits(f, o),
    t.CstyleBehaviour = f
}),
ace.define("ace/unicode", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    for (var n = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2], s = 0, o = [], r = 0; r < n.length; r += 2)
        o.push(s += n[r]),
        n[r + 1] && o.push(45, s += n[r + 1]);
    t.wordChars = String.fromCharCode.apply(null, o)
}),
ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("../config")
      , s = e("../tokenizer").Tokenizer
      , o = e("./text_highlight_rules").TextHighlightRules
      , r = e("./behaviour/cstyle").CstyleBehaviour
      , a = e("../unicode")
      , l = e("../lib/lang")
      , h = e("../token_iterator").TokenIterator
      , c = e("../range").Range
      , u = function() {
        this.HighlightRules = o
    };
    (function() {
        this.$defaultBehaviour = new r,
        this.tokenRe = new RegExp("^[" + a.wordChars + "\\$_]+","g"),
        this.nonTokenRe = new RegExp("^(?:[^" + a.wordChars + "\\$_]|\\s])+","g"),
        this.getTokenizer = function() {
            return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig),
            this.$tokenizer = new s(this.$highlightRules.getRules())),
            this.$tokenizer
        }
        ,
        this.lineCommentStart = "",
        this.blockComment = "",
        this.toggleCommentLines = function(e, t, i, n) {
            function s(e) {
                for (var t = i; t <= n; t++)
                    e(o.getLine(t), t)
            }
            var o = t.doc
              , r = !0
              , a = !0
              , h = 1 / 0
              , c = t.getTabSize()
              , u = !1;
            if (this.lineCommentStart) {
                if (Array.isArray(this.lineCommentStart))
                    var d = this.lineCommentStart.map(l.escapeRegExp).join("|")
                      , g = this.lineCommentStart[0];
                else
                    var d = l.escapeRegExp(this.lineCommentStart)
                      , g = this.lineCommentStart;
                d = new RegExp("^(\\s*)(?:" + d + ") ?"),
                u = t.getUseSoftTabs();
                var f = function(e, t) {
                    var i = e.match(d);
                    if (i) {
                        var n = i[1].length
                          , s = i[0].length;
                        !w(e, n, s) && " " == i[0][s - 1] && s--,
                        o.removeInLine(t, n, s)
                    }
                }
                  , m = g + " "
                  , p = function(e, t) {
                    r && !/\S/.test(e) || (w(e, h, h) ? o.insertInLine({
                        row: t,
                        column: h
                    }, m) : o.insertInLine({
                        row: t,
                        column: h
                    }, g))
                }
                  , v = function(e, t) {
                    return d.test(e)
                }
                  , w = function(e, t, i) {
                    for (n = 0; t-- && " " == e.charAt(t); )
                        n++;
                    if (n % c != 0)
                        return !1;
                    for (var n = 0; " " == e.charAt(i++); )
                        n++;
                    return c > 2 ? n % c != c - 1 : n % c == 0
                }
            } else {
                if (!this.blockComment)
                    return !1;
                var g = this.blockComment.start
                  , $ = this.blockComment.end
                  , d = new RegExp("^(\\s*)(?:" + l.escapeRegExp(g) + ")")
                  , b = new RegExp("(?:" + l.escapeRegExp($) + ")\\s*$")
                  , p = function(e, t) {
                    v(e, t) || r && !/\S/.test(e) || (o.insertInLine({
                        row: t,
                        column: e.length
                    }, $),
                    o.insertInLine({
                        row: t,
                        column: h
                    }, g))
                }
                  , f = function(e, t) {
                    var i;
                    (i = e.match(b)) && o.removeInLine(t, e.length - i[0].length, e.length),
                    (i = e.match(d)) && o.removeInLine(t, i[1].length, i[0].length)
                }
                  , v = function(e, i) {
                    if (d.test(e))
                        return !0;
                    for (var n = t.getTokens(i), s = 0; s < n.length; s++)
                        if ("comment" === n[s].type)
                            return !0
                }
            }
            var y = 1 / 0;
            s(function(e, t) {
                var i = e.search(/\S/);
                -1 !== i ? (i < h && (h = i),
                a && !v(e, t) && (a = !1)) : y > e.length && (y = e.length)
            }),
            h == 1 / 0 && (h = y,
            r = !1,
            a = !1),
            u && h % c != 0 && (h = Math.floor(h / c) * c),
            s(a ? f : p)
        }
        ,
        this.toggleBlockComment = function(e, t, i, n) {
            var s = this.blockComment;
            if (s) {
                !s.start && s[0] && (s = s[0]);
                var o, r, a = new h(t,n.row,n.column), l = a.getCurrentToken(), u = (t.selection,
                t.selection.toOrientedRange());
                if (l && /comment/.test(l.type)) {
                    for (var d, g; l && /comment/.test(l.type); ) {
                        if (-1 != (p = l.value.indexOf(s.start))) {
                            var f = a.getCurrentTokenRow()
                              , m = a.getCurrentTokenColumn() + p;
                            d = new c(f,m,f,m + s.start.length);
                            break
                        }
                        l = a.stepBackward()
                    }
                    for (l = (a = new h(t,n.row,n.column)).getCurrentToken(); l && /comment/.test(l.type); ) {
                        var p = l.value.indexOf(s.end);
                        if (-1 != p) {
                            var f = a.getCurrentTokenRow()
                              , m = a.getCurrentTokenColumn() + p;
                            g = new c(f,m,f,m + s.end.length);
                            break
                        }
                        l = a.stepForward()
                    }
                    g && t.remove(g),
                    d && (t.remove(d),
                    o = d.start.row,
                    r = -s.start.length)
                } else
                    r = s.start.length,
                    o = i.start.row,
                    t.insert(i.end, s.end),
                    t.insert(i.start, s.start);
                u.start.row == o && (u.start.column += r),
                u.end.row == o && (u.end.column += r),
                t.selection.fromOrientedRange(u)
            }
        }
        ,
        this.getNextLineIndent = function(e, t, i) {
            return this.$getIndent(t)
        }
        ,
        this.checkOutdent = function(e, t, i) {
            return !1
        }
        ,
        this.autoOutdent = function(e, t, i) {}
        ,
        this.$getIndent = function(e) {
            return e.match(/^\s*/)[0]
        }
        ,
        this.createWorker = function(e) {
            return null
        }
        ,
        this.createModeDelegates = function(e) {
            this.$embeds = [],
            this.$modes = {};
            for (var t in e)
                if (e[t]) {
                    var i = e[t]
                      , s = i.prototype.$id
                      , o = n.$modes[s];
                    o || (n.$modes[s] = o = new i),
                    n.$modes[t] || (n.$modes[t] = o),
                    this.$embeds.push(t),
                    this.$modes[t] = o
                }
            for (var r = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"], t = 0; t < r.length; t++)
                !function(e) {
                    var i = r[t]
                      , n = e[i];
                    e[r[t]] = function() {
                        return this.$delegator(i, arguments, n)
                    }
                }(this)
        }
        ,
        this.$delegator = function(e, t, i) {
            var n = t[0];
            if ("string" != typeof n) {
                if (Array.isArray(n[2])) {
                    var s = n[2][n[2].length - 1];
                    if (a = this.$modes[s])
                        return a[e].apply(a, [n[1]].concat([].slice.call(t, 1)))
                }
                n = n[0]
            }
            for (var o = 0; o < this.$embeds.length; o++)
                if (this.$modes[this.$embeds[o]]) {
                    var r = n.split(this.$embeds[o]);
                    if (!r[0] && r[1]) {
                        t[0] = r[1];
                        var a = this.$modes[this.$embeds[o]];
                        return a[e].apply(a, t)
                    }
                }
            var l = i.apply(this, t);
            return i ? l : void 0
        }
        ,
        this.transformAction = function(e, t, i, n, s) {
            if (this.$behaviour) {
                var o = this.$behaviour.getBehaviours();
                for (var r in o)
                    if (o[r][t]) {
                        var a = o[r][t].apply(this, arguments);
                        if (a)
                            return a
                    }
            }
        }
        ,
        this.getKeywords = function(e) {
            if (!this.completionKeywords) {
                var t = this.$tokenizer.rules
                  , i = [];
                for (var n in t)
                    for (var s = t[n], o = 0, r = s.length; o < r; o++)
                        if ("string" == typeof s[o].token)
                            /keyword|support|storage/.test(s[o].token) && i.push(s[o].regex);
                        else if ("object" == typeof s[o].token)
                            for (var a = 0, l = s[o].token.length; a < l; a++)
                                if (/keyword|support|storage/.test(s[o].token[a])) {
                                    n = s[o].regex.match(/\(.+?\)/g)[a];
                                    i.push(n.substr(1, n.length - 2))
                                }
                this.completionKeywords = i
            }
            return e ? i.concat(this.$keywordList || []) : this.$keywordList
        }
        ,
        this.$createKeywordList = function() {
            return this.$highlightRules || this.getTokenizer(),
            this.$keywordList = this.$highlightRules.$keywordList || []
        }
        ,
        this.getCompletions = function(e, t, i, n) {
            return (this.$keywordList || this.$createKeywordList()).map(function(e) {
                return {
                    name: e,
                    value: e,
                    score: 0,
                    meta: "keyword"
                }
            })
        }
        ,
        this.$id = "ace/mode/text"
    }
    ).call(u.prototype),
    t.Mode = u
}),
ace.define("ace/apply_delta", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        throw console.log("Valor inv√°lido", e),
        "Invalid Delta: " + t
    }
    function s(e, t) {
        return t.row >= 0 && t.row < e.length && t.column >= 0 && t.column <= e[t.row].length
    }
    t.applyDelta = function(e, t, i) {
        var n = t.start.row
          , s = t.start.column
          , o = e[n] || "";
        switch (t.action) {
        case "insert":
            if (1 === t.lines.length)
                e[n] = o.substring(0, s) + t.lines[0] + o.substring(s);
            else {
                var r = [n, 1].concat(t.lines);
                e.splice.apply(e, r),
                e[n] = o.substring(0, s) + e[n],
                e[n + t.lines.length - 1] += o.substring(s)
            }
            break;
        case "remove":
            var a = t.end.column
              , l = t.end.row;
            n === l ? e[n] = o.substring(0, s) + o.substring(a) : e.splice(n, l - n + 1, o.substring(0, s) + e[l].substring(a))
        }
    }
}),
ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/event_emitter").EventEmitter
      , o = t.Anchor = function(e, t, i) {
        this.$onChange = this.onChange.bind(this),
        this.attach(e),
        void 0 === i ? this.setPosition(t.row, t.column) : this.setPosition(t, i)
    }
    ;
    (function() {
        function e(e, t, i) {
            var n = i ? e.column <= t.column : e.column < t.column;
            return e.row < t.row || e.row == t.row && n
        }
        function t(t, i, n) {
            var s = "insert" == t.action
              , o = (s ? 1 : -1) * (t.end.row - t.start.row)
              , r = (s ? 1 : -1) * (t.end.column - t.start.column)
              , a = t.start
              , l = s ? a : t.end;
            return e(i, a, n) ? {
                row: i.row,
                column: i.column
            } : e(l, i, !n) ? {
                row: i.row + o,
                column: i.column + (i.row == l.row ? r : 0)
            } : {
                row: a.row,
                column: a.column
            }
        }
        n.implement(this, s),
        this.getPosition = function() {
            return this.$clipPositionToDocument(this.row, this.column)
        }
        ,
        this.getDocument = function() {
            return this.document
        }
        ,
        this.$insertRight = !1,
        this.onChange = function(e) {
            if (!(e.start.row == e.end.row && e.start.row != this.row || e.start.row > this.row)) {
                var i = t(e, {
                    row: this.row,
                    column: this.column
                }, this.$insertRight);
                this.setPosition(i.row, i.column, !0)
            }
        }
        ,
        this.setPosition = function(e, t, i) {
            var n;
            if (n = i ? {
                row: e,
                column: t
            } : this.$clipPositionToDocument(e, t),
            this.row != n.row || this.column != n.column) {
                var s = {
                    row: this.row,
                    column: this.column
                };
                this.row = n.row,
                this.column = n.column,
                this._signal("change", {
                    old: s,
                    value: n
                })
            }
        }
        ,
        this.detach = function() {
            this.document.removeEventListener("change", this.$onChange)
        }
        ,
        this.attach = function(e) {
            this.document = e || this.document,
            this.document.on("change", this.$onChange)
        }
        ,
        this.$clipPositionToDocument = function(e, t) {
            var i = {};
            return e >= this.document.getLength() ? (i.row = Math.max(0, this.document.getLength() - 1),
            i.column = this.document.getLine(i.row).length) : e < 0 ? (i.row = 0,
            i.column = 0) : (i.row = e,
            i.column = Math.min(this.document.getLine(i.row).length, Math.max(0, t))),
            t < 0 && (i.column = 0),
            i
        }
    }
    ).call(o.prototype)
}),
ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./apply_delta").applyDelta
      , o = e("./lib/event_emitter").EventEmitter
      , r = e("./range").Range
      , a = e("./anchor").Anchor
      , l = function(e) {
        this.$lines = [""],
        0 === e.length ? this.$lines = [""] : Array.isArray(e) ? this.insertMergedLines({
            row: 0,
            column: 0
        }, e) : this.insert({
            row: 0,
            column: 0
        }, e)
    };
    (function() {
        n.implement(this, o),
        this.setValue = function(e) {
            var t = this.getLength() - 1;
            this.remove(new r(0,0,t,this.getLine(t).length)),
            this.insert({
                row: 0,
                column: 0
            }, e)
        }
        ,
        this.getValue = function() {
            return this.getAllLines().join(this.getNewLineCharacter())
        }
        ,
        this.createAnchor = function(e, t) {
            return new a(this,e,t)
        }
        ,
        0 === "aaa".split(/a/).length ? this.$split = function(e) {
            return e.replace(/\r\n|\r/g, "\n").split("\n")
        }
        : this.$split = function(e) {
            return e.split(/\r\n|\r|\n/)
        }
        ,
        this.$detectNewLine = function(e) {
            var t = e.match(/^.*?(\r\n|\r|\n)/m);
            this.$autoNewLine = t ? t[1] : "\n",
            this._signal("changeNewLineMode")
        }
        ,
        this.getNewLineCharacter = function() {
            switch (this.$newLineMode) {
            case "windows":
                return "\r\n";
            case "unix":
                return "\n";
            default:
                return this.$autoNewLine || "\n"
            }
        }
        ,
        this.$autoNewLine = "",
        this.$newLineMode = "auto",
        this.setNewLineMode = function(e) {
            this.$newLineMode !== e && (this.$newLineMode = e,
            this._signal("changeNewLineMode"))
        }
        ,
        this.getNewLineMode = function() {
            return this.$newLineMode
        }
        ,
        this.isNewLine = function(e) {
            return "\r\n" == e || "\r" == e || "\n" == e
        }
        ,
        this.getLine = function(e) {
            return this.$lines[e] || ""
        }
        ,
        this.getLines = function(e, t) {
            return this.$lines.slice(e, t + 1)
        }
        ,
        this.getAllLines = function() {
            return this.getLines(0, this.getLength())
        }
        ,
        this.getLength = function() {
            return this.$lines.length
        }
        ,
        this.getTextRange = function(e) {
            return this.getLinesForRange(e).join(this.getNewLineCharacter())
        }
        ,
        this.getLinesForRange = function(e) {
            var t;
            if (e.start.row === e.end.row)
                t = [this.getLine(e.start.row).substring(e.start.column, e.end.column)];
            else {
                (t = this.getLines(e.start.row, e.end.row))[0] = (t[0] || "").substring(e.start.column);
                var i = t.length - 1;
                e.end.row - e.start.row == i && (t[i] = t[i].substring(0, e.end.column))
            }
            return t
        }
        ,
        this.insertLines = function(e, t) {
            return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),
            this.insertFullLines(e, t)
        }
        ,
        this.removeLines = function(e, t) {
            return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),
            this.removeFullLines(e, t)
        }
        ,
        this.insertNewLine = function(e) {
            return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),
            this.insertMergedLines(e, ["", ""])
        }
        ,
        this.insert = function(e, t) {
            return this.getLength() <= 1 && this.$detectNewLine(t),
            this.insertMergedLines(e, this.$split(t))
        }
        ,
        this.insertInLine = function(e, t) {
            var i = this.clippedPos(e.row, e.column)
              , n = this.pos(e.row, e.column + t.length);
            return this.applyDelta({
                start: i,
                end: n,
                action: "insert",
                lines: [t]
            }, !0),
            this.clonePos(n)
        }
        ,
        this.clippedPos = function(e, t) {
            var i = this.getLength();
            void 0 === e ? e = i : e < 0 ? e = 0 : e >= i && (e = i - 1,
            t = void 0);
            var n = this.getLine(e);
            return void 0 == t && (t = n.length),
            t = Math.min(Math.max(t, 0), n.length),
            {
                row: e,
                column: t
            }
        }
        ,
        this.clonePos = function(e) {
            return {
                row: e.row,
                column: e.column
            }
        }
        ,
        this.pos = function(e, t) {
            return {
                row: e,
                column: t
            }
        }
        ,
        this.$clipPosition = function(e) {
            var t = this.getLength();
            return e.row >= t ? (e.row = Math.max(0, t - 1),
            e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row),
            e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)),
            e
        }
        ,
        this.insertFullLines = function(e, t) {
            var i = 0;
            (e = Math.min(Math.max(e, 0), this.getLength())) < this.getLength() ? (t = t.concat([""]),
            i = 0) : (t = [""].concat(t),
            e--,
            i = this.$lines[e].length),
            this.insertMergedLines({
                row: e,
                column: i
            }, t)
        }
        ,
        this.insertMergedLines = function(e, t) {
            var i = this.clippedPos(e.row, e.column)
              , n = {
                row: i.row + t.length - 1,
                column: (1 == t.length ? i.column : 0) + t[t.length - 1].length
            };
            return this.applyDelta({
                start: i,
                end: n,
                action: "insert",
                lines: t
            }),
            this.clonePos(n)
        }
        ,
        this.remove = function(e) {
            var t = this.clippedPos(e.start.row, e.start.column)
              , i = this.clippedPos(e.end.row, e.end.column);
            return this.applyDelta({
                start: t,
                end: i,
                action: "remove",
                lines: this.getLinesForRange({
                    start: t,
                    end: i
                })
            }),
            this.clonePos(t)
        }
        ,
        this.removeInLine = function(e, t, i) {
            var n = this.clippedPos(e, t)
              , s = this.clippedPos(e, i);
            return this.applyDelta({
                start: n,
                end: s,
                action: "remove",
                lines: this.getLinesForRange({
                    start: n,
                    end: s
                })
            }, !0),
            this.clonePos(n)
        }
        ,
        this.removeFullLines = function(e, t) {
            e = Math.min(Math.max(0, e), this.getLength() - 1);
            var i = (t = Math.min(Math.max(0, t), this.getLength() - 1)) == this.getLength() - 1 && e > 0
              , n = t < this.getLength() - 1
              , s = i ? e - 1 : e
              , o = i ? this.getLine(s).length : 0
              , a = n ? t + 1 : t
              , l = n ? 0 : this.getLine(a).length
              , h = new r(s,o,a,l)
              , c = this.$lines.slice(e, t + 1);
            return this.applyDelta({
                start: h.start,
                end: h.end,
                action: "remove",
                lines: this.getLinesForRange(h)
            }),
            c
        }
        ,
        this.removeNewLine = function(e) {
            e < this.getLength() - 1 && e >= 0 && this.applyDelta({
                start: this.pos(e, this.getLine(e).length),
                end: this.pos(e + 1, 0),
                action: "remove",
                lines: ["", ""]
            })
        }
        ,
        this.replace = function(e, t) {
            if (e instanceof r || (e = r.fromPoints(e.start, e.end)),
            0 === t.length && e.isEmpty())
                return e.start;
            if (t == this.getTextRange(e))
                return e.end;
            this.remove(e);
            return t ? this.insert(e.start, t) : e.start
        }
        ,
        this.applyDeltas = function(e) {
            for (var t = 0; t < e.length; t++)
                this.applyDelta(e[t])
        }
        ,
        this.revertDeltas = function(e) {
            for (var t = e.length - 1; t >= 0; t--)
                this.revertDelta(e[t])
        }
        ,
        this.applyDelta = function(e, t) {
            var i = "insert" == e.action;
            (i ? e.lines.length <= 1 && !e.lines[0] : !r.comparePoints(e.start, e.end)) || (i && e.lines.length > 2e4 ? this.$splitAndapplyLargeDelta(e, 2e4) : (s(this.$lines, e, t),
            this._signal("change", e)))
        }
        ,
        this.$splitAndapplyLargeDelta = function(e, t) {
            for (var i = e.lines, n = i.length - t + 1, s = e.start.row, o = e.start.column, r = 0, a = 0; r < n; r = a) {
                a += t - 1;
                var l = i.slice(r, a);
                l.push(""),
                this.applyDelta({
                    start: this.pos(s + r, o),
                    end: this.pos(s + a, o = 0),
                    action: e.action,
                    lines: l
                }, !0)
            }
            e.lines = i.slice(r),
            e.start.row = s + r,
            e.start.column = o,
            this.applyDelta(e, !0)
        }
        ,
        this.revertDelta = function(e) {
            this.applyDelta({
                start: this.clonePos(e.start),
                end: this.clonePos(e.end),
                action: "insert" == e.action ? "remove" : "insert",
                lines: e.lines.slice()
            })
        }
        ,
        this.indexToPosition = function(e, t) {
            for (var i = this.$lines || this.getAllLines(), n = this.getNewLineCharacter().length, s = t || 0, o = i.length; s < o; s++)
                if ((e -= i[s].length + n) < 0)
                    return {
                        row: s,
                        column: e + i[s].length + n
                    };
            return {
                row: o - 1,
                column: e + i[o - 1].length + n
            }
        }
        ,
        this.positionToIndex = function(e, t) {
            for (var i = this.$lines || this.getAllLines(), n = this.getNewLineCharacter().length, s = 0, o = Math.min(e.row, i.length), r = t || 0; r < o; ++r)
                s += i[r].length + n;
            return s + e.column
        }
    }
    ).call(l.prototype),
    t.Document = l
}),
ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/event_emitter").EventEmitter
      , o = function(e, t) {
        this.running = !1,
        this.lines = [],
        this.states = [],
        this.currentLine = 0,
        this.tokenizer = e;
        var i = this;
        this.$worker = function() {
            if (i.running) {
                for (var e = new Date, t = i.currentLine, n = -1, s = i.doc, o = t; i.lines[t]; )
                    t++;
                var r = s.getLength()
                  , a = 0;
                for (i.running = !1; t < r; ) {
                    i.$tokenizeRow(t),
                    n = t;
                    do {
                        t++
                    } while (i.lines[t]);
                    if (++a % 5 == 0 && new Date - e > 20) {
                        i.running = setTimeout(i.$worker, 20);
                        break
                    }
                }
                i.currentLine = t,
                -1 == n && (n = t),
                o <= n && i.fireUpdateEvent(o, n)
            }
        }
    };
    (function() {
        n.implement(this, s),
        this.setTokenizer = function(e) {
            this.tokenizer = e,
            this.lines = [],
            this.states = [],
            this.start(0)
        }
        ,
        this.setDocument = function(e) {
            this.doc = e,
            this.lines = [],
            this.states = [],
            this.stop()
        }
        ,
        this.fireUpdateEvent = function(e, t) {
            var i = {
                first: e,
                last: t
            };
            this._signal("update", {
                data: i
            })
        }
        ,
        this.start = function(e) {
            this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()),
            this.lines.splice(this.currentLine, this.lines.length),
            this.states.splice(this.currentLine, this.states.length),
            this.stop(),
            this.running = setTimeout(this.$worker, 700)
        }
        ,
        this.scheduleStart = function() {
            this.running || (this.running = setTimeout(this.$worker, 700))
        }
        ,
        this.$updateOnChange = function(e) {
            var t = e.start.row
              , i = e.end.row - t;
            if (0 === i)
                this.lines[t] = null;
            else if ("remove" == e.action)
                this.lines.splice(t, i + 1, null),
                this.states.splice(t, i + 1, null);
            else {
                var n = Array(i + 1);
                n.unshift(t, 1),
                this.lines.splice.apply(this.lines, n),
                this.states.splice.apply(this.states, n)
            }
            this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()),
            this.stop()
        }
        ,
        this.stop = function() {
            this.running && clearTimeout(this.running),
            this.running = !1
        }
        ,
        this.getTokens = function(e) {
            return this.lines[e] || this.$tokenizeRow(e)
        }
        ,
        this.getState = function(e) {
            return this.currentLine == e && this.$tokenizeRow(e),
            this.states[e] || "start"
        }
        ,
        this.$tokenizeRow = function(e) {
            var t = this.doc.getLine(e)
              , i = this.states[e - 1]
              , n = this.tokenizer.getLineTokens(t, i, e);
            return this.states[e] + "" != n.state + "" ? (this.states[e] = n.state,
            this.lines[e + 1] = null,
            this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1),
            this.lines[e] = n.tokens
        }
    }
    ).call(o.prototype),
    t.BackgroundTokenizer = o
}),
ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("./lib/lang")
      , s = (e("./lib/oop"),
    e("./range").Range)
      , o = function(e, t, i) {
        this.setRegexp(e),
        this.clazz = t,
        this.type = i || "text"
    };
    (function() {
        this.MAX_RANGES = 500,
        this.setRegexp = function(e) {
            this.regExp + "" != e + "" && (this.regExp = e,
            this.cache = [])
        }
        ,
        this.update = function(e, t, i, o) {
            if (this.regExp)
                for (var r = o.firstRow, a = o.lastRow, l = r; l <= a; l++) {
                    var h = this.cache[l];
                    null == h && ((h = n.getMatchOffsets(i.getLine(l), this.regExp)).length > this.MAX_RANGES && (h = h.slice(0, this.MAX_RANGES)),
                    h = h.map(function(e) {
                        return new s(l,e.offset,l,e.offset + e.length)
                    }),
                    this.cache[l] = h.length ? h : "");
                    for (var c = h.length; c--; )
                        t.drawSingleLineMarker(e, h[c].toScreenRange(i), this.clazz, o)
                }
        }
    }
    ).call(o.prototype),
    t.SearchHighlight = o
}),
ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        this.foldData = e,
        Array.isArray(t) ? this.folds = t : t = this.folds = [t];
        var i = t[t.length - 1];
        this.range = new s(t[0].start.row,t[0].start.column,i.end.row,i.end.column),
        this.start = this.range.start,
        this.end = this.range.end,
        this.folds.forEach(function(e) {
            e.setFoldLine(this)
        }, this)
    }
    var s = e("../range").Range;
    (function() {
        this.shiftRow = function(e) {
            this.start.row += e,
            this.end.row += e,
            this.folds.forEach(function(t) {
                t.start.row += e,
                t.end.row += e
            })
        }
        ,
        this.addFold = function(e) {
            if (e.sameRow) {
                if (e.start.row < this.startRow || e.endRow > this.endRow)
                    throw new Error("Error");
                this.folds.push(e),
                this.folds.sort(function(e, t) {
                    return -e.range.compareEnd(t.start.row, t.start.column)
                }),
                this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row,
                this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row,
                this.start.column = e.start.column)
            } else if (e.start.row == this.end.row)
                this.folds.push(e),
                this.end.row = e.end.row,
                this.end.column = e.end.column;
            else {
                if (e.end.row != this.start.row)
                    throw new Error("Error");
                this.folds.unshift(e),
                this.start.row = e.start.row,
                this.start.column = e.start.column
            }
            e.foldLine = this
        }
        ,
        this.containsRow = function(e) {
            return e >= this.start.row && e <= this.end.row
        }
        ,
        this.walk = function(e, t, i) {
            var n, s, o, r = 0, a = this.folds, l = !0;
            null == t && (t = this.end.row,
            i = this.end.column);
            for (var h = 0; h < a.length; h++) {
                if (n = a[h],
                -1 == (s = n.range.compareStart(t, i)))
                    return void e(null, t, i, r, l);
                if (o = e(null, n.start.row, n.start.column, r, l),
                (o = !o && e(n.placeholder, n.start.row, n.start.column, r)) || 0 === s)
                    return;
                l = !n.sameRow,
                r = n.end.column
            }
            e(null, t, i, r, l)
        }
        ,
        this.getNextFoldTo = function(e, t) {
            for (var i, n, s = 0; s < this.folds.length; s++) {
                if (i = this.folds[s],
                -1 == (n = i.range.compareEnd(e, t)))
                    return {
                        fold: i,
                        kind: "after"
                    };
                if (0 === n)
                    return {
                        fold: i,
                        kind: "inside"
                    }
            }
            return null
        }
        ,
        this.addRemoveChars = function(e, t, i) {
            var n, s, o = this.getNextFoldTo(e, t);
            if (o)
                if (n = o.fold,
                "inside" == o.kind && n.start.column != t && n.start.row != e)
                    window.console && window.console.log(e, t, n);
                else if (n.start.row == e) {
                    var r = (s = this.folds).indexOf(n);
                    for (0 === r && (this.start.column += i),
                    r; r < s.length; r++) {
                        if (n = s[r],
                        n.start.column += i,
                        !n.sameRow)
                            return;
                        n.end.column += i
                    }
                    this.end.column += i
                }
        }
        ,
        this.split = function(e, t) {
            var i = this.getNextFoldTo(e, t);
            if (!i || "inside" == i.kind)
                return null;
            var s = i.fold
              , o = this.folds
              , r = this.foldData
              , a = o.indexOf(s)
              , l = o[a - 1];
            this.end.row = l.end.row,
            this.end.column = l.end.column;
            var h = new n(r,o = o.splice(a, o.length - a));
            return r.splice(r.indexOf(this) + 1, 0, h),
            h
        }
        ,
        this.merge = function(e) {
            for (var t = e.folds, i = 0; i < t.length; i++)
                this.addFold(t[i]);
            var n = this.foldData;
            n.splice(n.indexOf(e), 1)
        }
        ,
        this.toString = function() {
            var e = [this.range.toString() + ": ["];
            return this.folds.forEach(function(t) {
                e.push("  " + t.toString())
            }),
            e.push("]"),
            e.join("\n")
        }
        ,
        this.idxToPosition = function(e) {
            for (var t = 0, i = 0; i < this.folds.length; i++) {
                var n = this.folds[i];
                if ((e -= n.start.column - t) < 0)
                    return {
                        row: n.start.row,
                        column: n.start.column + e
                    };
                if ((e -= n.placeholder.length) < 0)
                    return n.start;
                t = n.end.column
            }
            return {
                row: this.end.row,
                column: this.end.column + e
            }
        }
    }
    ).call(n.prototype),
    t.FoldLine = n
}),
ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("./range").Range.comparePoints
      , s = function() {
        this.ranges = []
    };
    (function() {
        this.comparePoints = n,
        this.pointIndex = function(e, t, i) {
            for (var s = this.ranges, o = i || 0; o < s.length; o++) {
                var r = s[o]
                  , a = n(e, r.end);
                if (!(a > 0)) {
                    var l = n(e, r.start);
                    return 0 === a ? t && 0 !== l ? -o - 2 : o : l > 0 || 0 === l && !t ? o : -o - 1
                }
            }
            return -o - 1
        }
        ,
        this.add = function(e) {
            var t = !e.isEmpty()
              , i = this.pointIndex(e.start, t);
            i < 0 && (i = -i - 1);
            var n = this.pointIndex(e.end, t, i);
            return n < 0 ? n = -n - 1 : n++,
            this.ranges.splice(i, n - i, e)
        }
        ,
        this.addList = function(e) {
            for (var t = [], i = e.length; i--; )
                t.push.apply(t, this.add(e[i]));
            return t
        }
        ,
        this.substractPoint = function(e) {
            var t = this.pointIndex(e);
            if (t >= 0)
                return this.ranges.splice(t, 1)
        }
        ,
        this.merge = function() {
            for (var e, t = [], i = this.ranges, s = (i = i.sort(function(e, t) {
                return n(e.start, t.start)
            }))[0], o = 1; o < i.length; o++) {
                e = s,
                s = i[o];
                var r = n(e.end, s.start);
                r < 0 || (0 != r || e.isEmpty() || s.isEmpty()) && (n(e.end, s.end) < 0 && (e.end.row = s.end.row,
                e.end.column = s.end.column),
                i.splice(o, 1),
                t.push(s),
                s = e,
                o--)
            }
            return this.ranges = i,
            t
        }
        ,
        this.contains = function(e, t) {
            return this.pointIndex({
                row: e,
                column: t
            }) >= 0
        }
        ,
        this.containsPoint = function(e) {
            return this.pointIndex(e) >= 0
        }
        ,
        this.rangeAtPoint = function(e) {
            var t = this.pointIndex(e);
            if (t >= 0)
                return this.ranges[t]
        }
        ,
        this.clipRows = function(e, t) {
            var i = this.ranges;
            if (i[0].start.row > t || i[i.length - 1].start.row < e)
                return [];
            var n = this.pointIndex({
                row: e,
                column: 0
            });
            n < 0 && (n = -n - 1);
            var s = this.pointIndex({
                row: t,
                column: 0
            }, n);
            s < 0 && (s = -s - 1);
            for (var o = [], r = n; r < s; r++)
                o.push(i[r]);
            return o
        }
        ,
        this.removeAll = function() {
            return this.ranges.splice(0, this.ranges.length)
        }
        ,
        this.attach = function(e) {
            this.session && this.detach(),
            this.session = e,
            this.onChange = this.$onChange.bind(this),
            this.session.on("change", this.onChange)
        }
        ,
        this.detach = function() {
            this.session && (this.session.removeListener("change", this.onChange),
            this.session = null)
        }
        ,
        this.$onChange = function(e) {
            for (var t = e.start, i = e.end, n = t.row, s = i.row, o = this.ranges, r = 0, a = o.length; r < a && !((c = o[r]).end.row >= n); r++)
                ;
            if ("insert" == e.action) {
                for (var l = s - n, h = -t.column + i.column; r < a && !((c = o[r]).start.row > n); r++)
                    if (c.start.row == n && c.start.column >= t.column && (c.start.column != t.column || !this.$insertRight) && (c.start.column += h,
                    c.start.row += l),
                    c.end.row == n && c.end.column >= t.column) {
                        if (c.end.column == t.column && this.$insertRight)
                            continue;
                        c.end.column == t.column && h > 0 && r < a - 1 && c.end.column > c.start.column && c.end.column == o[r + 1].start.column && (c.end.column -= h),
                        c.end.column += h,
                        c.end.row += l
                    }
            } else
                for (var l = n - s, h = t.column - i.column; r < a && !((c = o[r]).start.row > s); r++)
                    c.end.row < s && (c.end.row = n,
                    c.end.column = t.column),
                    (c.start.row < s || c.start.row == s && c.start.column <= i.colum) && (c.start.row = n,
                    c.start.column = t.column),
                    c.end.row == s && (c.end.column <= i.column ? (l || c.end.column > t.column) && (c.end.column = t.column,
                    c.end.row = t.row) : (c.end.column += h,
                    c.end.row += l)),
                    c.start.row == s && (c.start.column <= i.column ? (l || c.start.column > t.column) && (c.start.column = t.column,
                    c.start.row = t.row) : (c.start.column += h,
                    c.start.row += l));
            if (0 != l && r < a)
                for (; r < a; r++) {
                    var c = o[r];
                    c.start.row += l,
                    c.end.row += l
                }
        }
    }
    ).call(s.prototype),
    t.RangeList = s
}),
ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        e.row -= t.row,
        0 == e.row && (e.column -= t.column)
    }
    function s(e, t) {
        n(e.start, t),
        n(e.end, t)
    }
    function o(e, t) {
        0 == e.row && (e.column += t.column),
        e.row += t.row
    }
    function r(e, t) {
        o(e.start, t),
        o(e.end, t)
    }
    e("../range").Range;
    var a = e("../range_list").RangeList
      , l = e("../lib/oop")
      , h = t.Fold = function(e, t) {
        this.foldLine = null,
        this.placeholder = t,
        this.range = e,
        this.start = e.start,
        this.end = e.end,
        this.sameRow = e.start.row == e.end.row,
        this.subFolds = this.ranges = []
    }
    ;
    l.inherits(h, a),
    function() {
        this.toString = function() {
            return '"' + this.placeholder + '" ' + this.range.toString()
        }
        ,
        this.setFoldLine = function(e) {
            this.foldLine = e,
            this.subFolds.forEach(function(t) {
                t.setFoldLine(e)
            })
        }
        ,
        this.clone = function() {
            var e = this.range.clone()
              , t = new h(e,this.placeholder);
            return this.subFolds.forEach(function(e) {
                t.subFolds.push(e.clone())
            }),
            t.collapseChildren = this.collapseChildren,
            t
        }
        ,
        this.addSubFold = function(e) {
            if (!this.range.isEqual(e)) {
                if (!this.range.containsRange(e))
                    throw new Error("Error" + e.range + this.range);
                s(e, this.start);
                for (var t = e.start.row, i = e.start.column, n = 0, o = -1; n < this.subFolds.length && 1 == (o = this.subFolds[n].range.compare(t, i)); n++)
                    ;
                var r = this.subFolds[n];
                if (0 == o)
                    return r.addSubFold(e);
                for (var t = e.range.end.row, i = e.range.end.column, a = n, o = -1; a < this.subFolds.length && 1 == (o = this.subFolds[a].range.compare(t, i)); a++)
                    ;
                this.subFolds[a];
                if (0 == o)
                    throw new Error("Error" + e.range + this.range);
                this.subFolds.splice(n, a - n, e);
                return e.setFoldLine(this.foldLine),
                e
            }
        }
        ,
        this.restoreRange = function(e) {
            return r(e, this.start)
        }
    }
    .call(h.prototype)
}),
ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(e, t, i) {
    "use strict";
    var n = e("../range").Range
      , s = e("./fold_line").FoldLine
      , o = e("./fold").Fold
      , r = e("../token_iterator").TokenIterator;
    t.Folding = function() {
        this.getFoldAt = function(e, t, i) {
            var n = this.getFoldLine(e);
            if (!n)
                return null;
            for (var s = n.folds, o = 0; o < s.length; o++) {
                var r = s[o];
                if (r.range.contains(e, t)) {
                    if (1 == i && r.range.isEnd(e, t))
                        continue;
                    if (-1 == i && r.range.isStart(e, t))
                        continue;
                    return r
                }
            }
        }
        ,
        this.getFoldsInRange = function(e) {
            var t = e.start
              , i = e.end
              , n = this.$foldData
              , s = [];
            t.column += 1,
            i.column -= 1;
            for (var o = 0; o < n.length; o++) {
                var r = n[o].range.compareRange(e);
                if (2 != r) {
                    if (-2 == r)
                        break;
                    for (var a = n[o].folds, l = 0; l < a.length; l++) {
                        var h = a[l];
                        if (-2 == (r = h.range.compareRange(e)))
                            break;
                        if (2 != r) {
                            if (42 == r)
                                break;
                            s.push(h)
                        }
                    }
                }
            }
            return t.column -= 1,
            i.column += 1,
            s
        }
        ,
        this.getFoldsInRangeList = function(e) {
            if (Array.isArray(e))
                t = [],
                e.forEach(function(e) {
                    t = t.concat(this.getFoldsInRange(e))
                }, this);
            else
                var t = this.getFoldsInRange(e);
            return t
        }
        ,
        this.getAllFolds = function() {
            for (var e = [], t = this.$foldData, i = 0; i < t.length; i++)
                for (var n = 0; n < t[i].folds.length; n++)
                    e.push(t[i].folds[n]);
            return e
        }
        ,
        this.getFoldStringAt = function(e, t, i, n) {
            if (!(n = n || this.getFoldLine(e)))
                return null;
            for (var s, o, r = {
                end: {
                    column: 0
                }
            }, a = 0; a < n.folds.length; a++) {
                var l = (o = n.folds[a]).range.compareEnd(e, t);
                if (-1 == l) {
                    s = this.getLine(o.start.row).substring(r.end.column, o.start.column);
                    break
                }
                if (0 === l)
                    return null;
                r = o
            }
            return s || (s = this.getLine(o.start.row).substring(r.end.column)),
            -1 == i ? s.substring(0, t - r.end.column) : 1 == i ? s.substring(t - r.end.column) : s
        }
        ,
        this.getFoldLine = function(e, t) {
            var i = this.$foldData
              , n = 0;
            for (t && (n = i.indexOf(t)),
            -1 == n && (n = 0),
            n; n < i.length; n++) {
                var s = i[n];
                if (s.start.row <= e && s.end.row >= e)
                    return s;
                if (s.end.row > e)
                    return null
            }
            return null
        }
        ,
        this.getNextFoldLine = function(e, t) {
            var i = this.$foldData
              , n = 0;
            for (t && (n = i.indexOf(t)),
            -1 == n && (n = 0),
            n; n < i.length; n++) {
                var s = i[n];
                if (s.end.row >= e)
                    return s
            }
            return null
        }
        ,
        this.getFoldedRowCount = function(e, t) {
            for (var i = this.$foldData, n = t - e + 1, s = 0; s < i.length; s++) {
                var o = i[s]
                  , r = o.end.row
                  , a = o.start.row;
                if (r >= t) {
                    a < t && (a >= e ? n -= t - a : n = 0);
                    break
                }
                r >= e && (n -= a >= e ? r - a : r - e + 1)
            }
            return n
        }
        ,
        this.$addFoldLine = function(e) {
            return this.$foldData.push(e),
            this.$foldData.sort(function(e, t) {
                return e.start.row - t.start.row
            }),
            e
        }
        ,
        this.addFold = function(e, t) {
            var i, n = this.$foldData, r = !1;
            e instanceof o ? i = e : (i = new o(t,e),
            i.collapseChildren = t.collapseChildren),
            this.$clipRangeToDocument(i.range);
            var a = i.start.row
              , l = i.start.column
              , h = i.end.row
              , c = i.end.column;
            if (a < h || a == h && l <= c - 2) {
                var u = this.getFoldAt(a, l, 1)
                  , d = this.getFoldAt(h, c, -1);
                if (u && d == u)
                    return u.addSubFold(i);
                u && !u.range.isStart(a, l) && this.removeFold(u),
                d && !d.range.isEnd(h, c) && this.removeFold(d);
                var g = this.getFoldsInRange(i.range);
                g.length > 0 && (this.removeFolds(g),
                g.forEach(function(e) {
                    i.addSubFold(e)
                }));
                for (var f = 0; f < n.length; f++) {
                    var m = n[f];
                    if (h == m.start.row) {
                        m.addFold(i),
                        r = !0;
                        break
                    }
                    if (a == m.end.row) {
                        if (m.addFold(i),
                        r = !0,
                        !i.sameRow) {
                            var p = n[f + 1];
                            if (p && p.start.row == h) {
                                m.merge(p);
                                break
                            }
                        }
                        break
                    }
                    if (h <= m.start.row)
                        break
                }
                return r || (m = this.$addFoldLine(new s(this.$foldData,i))),
                this.$useWrapMode ? this.$updateWrapData(m.start.row, m.start.row) : this.$updateRowLengthCache(m.start.row, m.start.row),
                this.$modified = !0,
                this._signal("changeFold", {
                    data: i,
                    action: "add"
                }),
                i
            }
            throw new Error("Fuera de rango")
        }
        ,
        this.addFolds = function(e) {
            e.forEach(function(e) {
                this.addFold(e)
            }, this)
        }
        ,
        this.removeFold = function(e) {
            var t = e.foldLine
              , i = t.start.row
              , n = t.end.row
              , s = this.$foldData
              , o = t.folds;
            if (1 == o.length)
                s.splice(s.indexOf(t), 1);
            else if (t.range.isEnd(e.end.row, e.end.column))
                o.pop(),
                t.end.row = o[o.length - 1].end.row,
                t.end.column = o[o.length - 1].end.column;
            else if (t.range.isStart(e.start.row, e.start.column))
                o.shift(),
                t.start.row = o[0].start.row,
                t.start.column = o[0].start.column;
            else if (e.sameRow)
                o.splice(o.indexOf(e), 1);
            else {
                var r = t.split(e.start.row, e.start.column);
                (o = r.folds).shift(),
                r.start.row = o[0].start.row,
                r.start.column = o[0].start.column
            }
            this.$updating || (this.$useWrapMode ? this.$updateWrapData(i, n) : this.$updateRowLengthCache(i, n)),
            this.$modified = !0,
            this._signal("changeFold", {
                data: e,
                action: "remove"
            })
        }
        ,
        this.removeFolds = function(e) {
            for (var t = [], i = 0; i < e.length; i++)
                t.push(e[i]);
            t.forEach(function(e) {
                this.removeFold(e)
            }, this),
            this.$modified = !0
        }
        ,
        this.expandFold = function(e) {
            this.removeFold(e),
            e.subFolds.forEach(function(t) {
                e.restoreRange(t),
                this.addFold(t)
            }, this),
            e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1),
            e.subFolds = []
        }
        ,
        this.expandFolds = function(e) {
            e.forEach(function(e) {
                this.expandFold(e)
            }, this)
        }
        ,
        this.unfold = function(e, t) {
            var i, s;
            if (null == e ? (i = new n(0,0,this.getLength(),0),
            t = !0) : i = "number" == typeof e ? new n(e,0,e,this.getLine(e).length) : "row"in e ? n.fromPoints(e, e) : e,
            s = this.getFoldsInRangeList(i),
            t)
                this.removeFolds(s);
            else
                for (var o = s; o.length; )
                    this.expandFolds(o),
                    o = this.getFoldsInRangeList(i);
            if (s.length)
                return s
        }
        ,
        this.isRowFolded = function(e, t) {
            return !!this.getFoldLine(e, t)
        }
        ,
        this.getRowFoldEnd = function(e, t) {
            var i = this.getFoldLine(e, t);
            return i ? i.end.row : e
        }
        ,
        this.getRowFoldStart = function(e, t) {
            var i = this.getFoldLine(e, t);
            return i ? i.start.row : e
        }
        ,
        this.getFoldDisplayLine = function(e, t, i, n, s) {
            null == n && (n = e.start.row),
            null == s && (s = 0),
            null == t && (t = e.end.row),
            null == i && (i = this.getLine(t).length);
            var o = this.doc
              , r = "";
            return e.walk(function(e, t, i, a) {
                if (!(t < n)) {
                    if (t == n) {
                        if (i < s)
                            return;
                        a = Math.max(s, a)
                    }
                    r += null != e ? e : o.getLine(t).substring(a, i)
                }
            }, t, i),
            r
        }
        ,
        this.getDisplayLine = function(e, t, i, n) {
            var s = this.getFoldLine(e);
            if (!s) {
                var o;
                return (o = this.doc.getLine(e)).substring(n || 0, t || o.length)
            }
            return this.getFoldDisplayLine(s, e, t, i, n)
        }
        ,
        this.$cloneFoldData = function() {
            var e = [];
            return e = this.$foldData.map(function(t) {
                var i = t.folds.map(function(e) {
                    return e.clone()
                });
                return new s(e,i)
            })
        }
        ,
        this.toggleFold = function(e) {
            var t, i, n = this.selection.getRange();
            if (n.isEmpty()) {
                var s = n.start;
                if (t = this.getFoldAt(s.row, s.column))
                    return void this.expandFold(t);
                (i = this.findMatchingBracket(s)) ? 1 == n.comparePoint(i) ? n.end = i : (n.start = i,
                n.start.column++,
                n.end.column--) : (i = this.findMatchingBracket({
                    row: s.row,
                    column: s.column + 1
                })) ? (1 == n.comparePoint(i) ? n.end = i : n.start = i,
                n.start.column++) : n = this.getCommentFoldRange(s.row, s.column) || n
            } else {
                var o = this.getFoldsInRange(n);
                if (e && o.length)
                    return void this.expandFolds(o);
                1 == o.length && (t = o[0])
            }
            if (t || (t = this.getFoldAt(n.start.row, n.start.column)),
            t && t.range.toString() == n.toString())
                this.expandFold(t);
            else {
                var r = "...";
                if (!n.isMultiLine()) {
                    if ((r = this.getTextRange(n)).length < 4)
                        return;
                    r = r.trim().substring(0, 2) + ".."
                }
                this.addFold(r, n)
            }
        }
        ,
        this.getCommentFoldRange = function(e, t, i) {
            var s = new r(this,e,t)
              , o = s.getCurrentToken()
              , a = o.type;
            if (o && /^comment|string/.test(a)) {
                "comment" == (a = a.match(/comment|string/)[0]) && (a += "|doc-start");
                var l = new RegExp(a)
                  , h = new n;
                if (1 != i) {
                    do {
                        o = s.stepBackward()
                    } while (o && l.test(o.type));
                    s.stepForward()
                }
                if (h.start.row = s.getCurrentTokenRow(),
                h.start.column = s.getCurrentTokenColumn() + 2,
                s = new r(this,e,t),
                -1 != i) {
                    var c = -1;
                    do {
                        if (o = s.stepForward(),
                        -1 == c) {
                            var u = this.getState(s.$row);
                            l.test(u) || (c = s.$row)
                        } else if (s.$row > c)
                            break
                    } while (o && l.test(o.type));
                    o = s.stepBackward()
                } else
                    o = s.getCurrentToken();
                return h.end.row = s.getCurrentTokenRow(),
                h.end.column = s.getCurrentTokenColumn() + o.value.length - 2,
                h
            }
        }
        ,
        this.foldAll = function(e, t, i) {
            void 0 == i && (i = 1e5);
            var n = this.foldWidgets;
            if (n) {
                t = t || this.getLength();
                for (var s = e = e || 0; s < t; s++)
                    if (null == n[s] && (n[s] = this.getFoldWidget(s)),
                    "start" == n[s]) {
                        var o = this.getFoldWidgetRange(s);
                        if (o && o.isMultiLine() && o.end.row <= t && o.start.row >= e) {
                            s = o.end.row;
                            try {
                                var r = this.addFold("...", o);
                                r && (r.collapseChildren = i)
                            } catch (e) {}
                        }
                    }
            }
        }
        ,
        this.$foldStyles = {
            manual: 1,
            markbegin: 1,
            markbeginend: 1
        },
        this.$foldStyle = "markbegin",
        this.setFoldStyle = function(e) {
            if (!this.$foldStyles[e])
                throw new Error("Inaceptable: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
            if (this.$foldStyle != e) {
                this.$foldStyle = e,
                "manual" == e && this.unfold();
                var t = this.$foldMode;
                this.$setFolding(null),
                this.$setFolding(t)
            }
        }
        ,
        this.$setFolding = function(e) {
            this.$foldMode != e && (this.$foldMode = e,
            this.off("change", this.$updateFoldWidgets),
            this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets),
            this._signal("changeAnnotation"),
            e && "manual" != this.$foldStyle ? (this.foldWidgets = [],
            this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle),
            this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle),
            this.$updateFoldWidgets = this.updateFoldWidgets.bind(this),
            this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this),
            this.on("change", this.$updateFoldWidgets),
            this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)) : this.foldWidgets = null)
        }
        ,
        this.getParentFoldRangeData = function(e, t) {
            var i = this.foldWidgets;
            if (!i || t && i[e])
                return {};
            for (var n, s = e - 1; s >= 0; ) {
                var o = i[s];
                if (null == o && (o = i[s] = this.getFoldWidget(s)),
                "start" == o) {
                    var r = this.getFoldWidgetRange(s);
                    if (n || (n = r),
                    r && r.end.row >= e)
                        break
                }
                s--
            }
            return {
                range: -1 !== s && r,
                firstRange: n
            }
        }
        ,
        this.onFoldWidgetClick = function(e, t) {
            var i = {
                children: (t = t.domEvent).shiftKey,
                all: t.ctrlKey || t.metaKey,
                siblings: t.altKey
            };
            if (!this.$toggleFoldWidget(e, i)) {
                var n = t.target || t.srcElement;
                n && /ace_fold-widget/.test(n.className) && (n.className += " ace_invalid")
            }
        }
        ,
        this.$toggleFoldWidget = function(e, t) {
            if (this.getFoldWidget) {
                var i = this.getFoldWidget(e)
                  , n = this.getLine(e)
                  , s = "end" === i ? -1 : 1
                  , o = this.getFoldAt(e, -1 === s ? 0 : n.length, s);
                if (o)
                    return t.children || t.all ? this.removeFold(o) : this.expandFold(o),
                    o;
                var r = this.getFoldWidgetRange(e, !0);
                if (r && !r.isMultiLine() && (o = this.getFoldAt(r.start.row, r.start.column, 1)) && r.isEqual(o.range))
                    return this.removeFold(o),
                    o;
                if (t.siblings) {
                    var a = this.getParentFoldRangeData(e);
                    if (a.range)
                        var l = a.range.start.row + 1
                          , h = a.range.end.row;
                    this.foldAll(l, h, t.all ? 1e4 : 0)
                } else
                    t.children ? (h = r ? r.end.row : this.getLength(),
                    this.foldAll(e + 1, h, t.all ? 1e4 : 0)) : r && (t.all && (r.collapseChildren = 1e4),
                    this.addFold("...", r));
                return r
            }
        }
        ,
        this.toggleFoldWidget = function(e) {
            var t = this.selection.getCursor().row;
            t = this.getRowFoldStart(t);
            var i = this.$toggleFoldWidget(t, {});
            if (!i) {
                var n = this.getParentFoldRangeData(t, !0);
                if (i = n.range || n.firstRange) {
                    t = i.start.row;
                    var s = this.getFoldAt(t, this.getLine(t).length, 1);
                    s ? this.removeFold(s) : this.addFold("...", i)
                }
            }
        }
        ,
        this.updateFoldWidgets = function(e) {
            var t = e.start.row
              , i = e.end.row - t;
            if (0 === i)
                this.foldWidgets[t] = null;
            else if ("remove" == e.action)
                this.foldWidgets.splice(t, i + 1, null);
            else {
                var n = Array(i + 1);
                n.unshift(t, 1),
                this.foldWidgets.splice.apply(this.foldWidgets, n)
            }
        }
        ,
        this.tokenizerUpdateFoldWidgets = function(e) {
            var t = e.data;
            t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length)
        }
    }
}),
ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("../token_iterator").TokenIterator
      , s = e("../range").Range;
    t.BracketMatch = function() {
        this.findMatchingBracket = function(e, t) {
            if (0 == e.column)
                return null;
            var i = t || this.getLine(e.row).charAt(e.column - 1);
            if ("" == i)
                return null;
            var n = i.match(/([\(\[\{])|([\)\]\}])/);
            return n ? n[1] ? this.$findClosingBracket(n[1], e) : this.$findOpeningBracket(n[2], e) : null
        }
        ,
        this.getBracketRange = function(e) {
            var t, i = this.getLine(e.row), n = !0, o = i.charAt(e.column - 1), r = o && o.match(/([\(\[\{])|([\)\]\}])/);
            if (r || (o = i.charAt(e.column),
            e = {
                row: e.row,
                column: e.column + 1
            },
            r = o && o.match(/([\(\[\{])|([\)\]\}])/),
            n = !1),
            !r)
                return null;
            if (r[1]) {
                if (!(a = this.$findClosingBracket(r[1], e)))
                    return null;
                t = s.fromPoints(e, a),
                n || (t.end.column++,
                t.start.column--),
                t.cursor = t.end
            } else {
                var a = this.$findOpeningBracket(r[2], e);
                if (!a)
                    return null;
                t = s.fromPoints(a, e),
                n || (t.start.column++,
                t.end.column--),
                t.cursor = t.start
            }
            return t
        }
        ,
        this.$brackets = {
            ")": "(",
            "(": ")",
            "]": "[",
            "[": "]",
            "{": "}",
            "}": "{"
        },
        this.$findOpeningBracket = function(e, t, i) {
            var s = this.$brackets[e]
              , o = 1
              , r = new n(this,t.row,t.column)
              , a = r.getCurrentToken();
            if (a || (a = r.stepForward()),
            a) {
                i || (i = new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"));
                for (var l = t.column - r.getCurrentTokenColumn() - 2, h = a.value; ; ) {
                    for (; l >= 0; ) {
                        var c = h.charAt(l);
                        if (c == s) {
                            if (0 == (o -= 1))
                                return {
                                    row: r.getCurrentTokenRow(),
                                    column: l + r.getCurrentTokenColumn()
                                }
                        } else
                            c == e && (o += 1);
                        l -= 1
                    }
                    do {
                        a = r.stepBackward()
                    } while (a && !i.test(a.type));
                    if (null == a)
                        break;
                    l = (h = a.value).length - 1
                }
                return null
            }
        }
        ,
        this.$findClosingBracket = function(e, t, i) {
            var s = this.$brackets[e]
              , o = 1
              , r = new n(this,t.row,t.column)
              , a = r.getCurrentToken();
            if (a || (a = r.stepForward()),
            a) {
                i || (i = new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"));
                for (var l = t.column - r.getCurrentTokenColumn(); ; ) {
                    for (var h = a.value, c = h.length; l < c; ) {
                        var u = h.charAt(l);
                        if (u == s) {
                            if (0 == (o -= 1))
                                return {
                                    row: r.getCurrentTokenRow(),
                                    column: l + r.getCurrentTokenColumn()
                                }
                        } else
                            u == e && (o += 1);
                        l += 1
                    }
                    do {
                        a = r.stepForward()
                    } while (a && !i.test(a.type));
                    if (null == a)
                        break;
                    l = 0
                }
                return null
            }
        }
    }
}),
ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/lang")
      , o = e("./bidihandler").BidiHandler
      , r = e("./config")
      , a = e("./lib/event_emitter").EventEmitter
      , l = e("./selection").Selection
      , h = e("./mode/text").Mode
      , c = e("./range").Range
      , u = e("./document").Document
      , d = e("./background_tokenizer").BackgroundTokenizer
      , g = e("./search_highlight").SearchHighlight
      , f = function(e, t) {
        this.$breakpoints = [],
        this.$decorations = [],
        this.$frontMarkers = {},
        this.$backMarkers = {},
        this.$markerId = 1,
        this.$undoSelect = !0,
        this.$foldData = [],
        this.id = "session" + ++f.$uid,
        this.$foldData.toString = function() {
            return this.join("\n")
        }
        ,
        this.on("changeFold", this.onChangeFold.bind(this)),
        this.$onChange = this.onChange.bind(this),
        "object" == typeof e && e.getLine || (e = new u(e)),
        this.setDocument(e),
        this.selection = new l(this),
        this.$bidiHandler = new o(this),
        r.resetOptions(this),
        this.setMode(t),
        r._signal("session", this)
    };
    f.$uid = 0,
    function() {
        function e(e) {
            return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510)
        }
        n.implement(this, a),
        this.setDocument = function(e) {
            this.doc && this.doc.removeListener("change", this.$onChange),
            this.doc = e,
            e.on("change", this.$onChange),
            this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()),
            this.resetCaches()
        }
        ,
        this.getDocument = function() {
            return this.doc
        }
        ,
        this.$resetRowCache = function(e) {
            if (!e)
                return this.$docRowCache = [],
                void (this.$screenRowCache = []);
            var t = this.$docRowCache.length
              , i = this.$getRowCacheIndex(this.$docRowCache, e) + 1;
            t > i && (this.$docRowCache.splice(i, t),
            this.$screenRowCache.splice(i, t))
        }
        ,
        this.$getRowCacheIndex = function(e, t) {
            for (var i = 0, n = e.length - 1; i <= n; ) {
                var s = i + n >> 1
                  , o = e[s];
                if (t > o)
                    i = s + 1;
                else {
                    if (!(t < o))
                        return s;
                    n = s - 1
                }
            }
            return i - 1
        }
        ,
        this.resetCaches = function() {
            this.$modified = !0,
            this.$wrapData = [],
            this.$rowLengthCache = [],
            this.$resetRowCache(0),
            this.bgTokenizer && this.bgTokenizer.start(0)
        }
        ,
        this.onChangeFold = function(e) {
            var t = e.data;
            this.$resetRowCache(t.start.row)
        }
        ,
        this.onChange = function(e) {
            this.$modified = !0,
            this.$bidiHandler.onChange(e),
            this.$resetRowCache(e.start.row);
            var t = this.$updateInternalDataOnChange(e);
            !this.$fromUndo && this.$undoManager && (t && t.length && (this.$undoManager.add({
                action: "removeFolds",
                folds: t
            }, this.mergeUndoDeltas),
            this.mergeUndoDeltas = !0),
            this.$undoManager.add(e, this.mergeUndoDeltas),
            this.mergeUndoDeltas = !0,
            this.$informUndoManager.schedule()),
            this.bgTokenizer && this.bgTokenizer.$updateOnChange(e),
            this._signal("change", e)
        }
        ,
        this.setValue = function(e) {
            this.doc.setValue(e),
            this.selection.moveTo(0, 0),
            this.$resetRowCache(0),
            this.setUndoManager(this.$undoManager),
            this.getUndoManager().reset()
        }
        ,
        this.getValue = this.toString = function() {
            return this.doc.getValue()
        }
        ,
        this.getSelection = function() {
            return this.selection
        }
        ,
        this.getState = function(e) {
            return this.bgTokenizer.getState(e)
        }
        ,
        this.getTokens = function(e) {
            return this.bgTokenizer.getTokens(e)
        }
        ,
        this.getTokenAt = function(e, t) {
            var i, n = this.bgTokenizer.getTokens(e), s = 0;
            if (null == t) {
                o = n.length - 1;
                s = this.getLine(e).length
            } else
                for (var o = 0; o < n.length && !((s += n[o].value.length) >= t); o++)
                    ;
            return (i = n[o]) ? (i.index = o,
            i.start = s - i.value.length,
            i) : null
        }
        ,
        this.setUndoManager = function(e) {
            if (this.$undoManager = e,
            this.$informUndoManager && this.$informUndoManager.cancel(),
            e) {
                var t = this;
                e.addSession(this),
                this.$syncInformUndoManager = function() {
                    t.$informUndoManager.cancel(),
                    t.mergeUndoDeltas = !1
                }
                ,
                this.$informUndoManager = s.delayedCall(this.$syncInformUndoManager)
            } else
                this.$syncInformUndoManager = function() {}
        }
        ,
        this.markUndoGroup = function() {
            this.$syncInformUndoManager && this.$syncInformUndoManager()
        }
        ,
        this.$defaultUndoManager = {
            undo: function() {},
            redo: function() {},
            reset: function() {},
            add: function() {},
            addSelection: function() {},
            startNewGroup: function() {},
            addSession: function() {}
        },
        this.getUndoManager = function() {
            return this.$undoManager || this.$defaultUndoManager
        }
        ,
        this.getTabString = function() {
            return this.getUseSoftTabs() ? s.stringRepeat(" ", this.getTabSize()) : "\t"
        }
        ,
        this.setUseSoftTabs = function(e) {
            this.setOption("useSoftTabs", e)
        }
        ,
        this.getUseSoftTabs = function() {
            return this.$useSoftTabs && !this.$mode.$indentWithTabs
        }
        ,
        this.setTabSize = function(e) {
            this.setOption("tabSize", e)
        }
        ,
        this.getTabSize = function() {
            return this.$tabSize
        }
        ,
        this.isTabStop = function(e) {
            return this.$useSoftTabs && e.column % this.$tabSize == 0
        }
        ,
        this.setNavigateWithinSoftTabs = function(e) {
            this.setOption("navigateWithinSoftTabs", e)
        }
        ,
        this.getNavigateWithinSoftTabs = function() {
            return this.$navigateWithinSoftTabs
        }
        ,
        this.$overwrite = !1,
        this.setOverwrite = function(e) {
            this.setOption("overwrite", e)
        }
        ,
        this.getOverwrite = function() {
            return this.$overwrite
        }
        ,
        this.toggleOverwrite = function() {
            this.setOverwrite(!this.$overwrite)
        }
        ,
        this.addGutterDecoration = function(e, t) {
            this.$decorations[e] || (this.$decorations[e] = ""),
            this.$decorations[e] += " " + t,
            this._signal("changeBreakpoint", {})
        }
        ,
        this.removeGutterDecoration = function(e, t) {
            this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""),
            this._signal("changeBreakpoint", {})
        }
        ,
        this.getBreakpoints = function() {
            return this.$breakpoints
        }
        ,
        this.setBreakpoints = function(e) {
            this.$breakpoints = [];
            for (var t = 0; t < e.length; t++)
                this.$breakpoints[e[t]] = "ace_breakpoint";
            this._signal("changeBreakpoint", {})
        }
        ,
        this.clearBreakpoints = function() {
            this.$breakpoints = [],
            this._signal("changeBreakpoint", {})
        }
        ,
        this.setBreakpoint = function(e, t) {
            void 0 === t && (t = "ace_breakpoint"),
            t ? this.$breakpoints[e] = t : delete this.$breakpoints[e],
            this._signal("changeBreakpoint", {})
        }
        ,
        this.clearBreakpoint = function(e) {
            delete this.$breakpoints[e],
            this._signal("changeBreakpoint", {})
        }
        ,
        this.addMarker = function(e, t, i, n) {
            var s = this.$markerId++
              , o = {
                range: e,
                type: i || "line",
                renderer: "function" == typeof i ? i : null,
                clazz: t,
                inFront: !!n,
                id: s
            };
            return n ? (this.$frontMarkers[s] = o,
            this._signal("changeFrontMarker")) : (this.$backMarkers[s] = o,
            this._signal("changeBackMarker")),
            s
        }
        ,
        this.addDynamicMarker = function(e, t) {
            if (e.update) {
                var i = this.$markerId++;
                return e.id = i,
                e.inFront = !!t,
                t ? (this.$frontMarkers[i] = e,
                this._signal("changeFrontMarker")) : (this.$backMarkers[i] = e,
                this._signal("changeBackMarker")),
                e
            }
        }
        ,
        this.removeMarker = function(e) {
            var t = this.$frontMarkers[e] || this.$backMarkers[e];
            t && (delete (t.inFront ? this.$frontMarkers : this.$backMarkers)[e],
            this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker"))
        }
        ,
        this.getMarkers = function(e) {
            return e ? this.$frontMarkers : this.$backMarkers
        }
        ,
        this.highlight = function(e) {
            if (!this.$searchHighlight) {
                var t = new g(null,"ace_selected-word","text");
                this.$searchHighlight = this.addDynamicMarker(t)
            }
            this.$searchHighlight.setRegexp(e)
        }
        ,
        this.highlightLines = function(e, t, i, n) {
            "number" != typeof t && (i = t,
            t = e),
            i || (i = "ace_step");
            var s = new c(e,0,t,1 / 0);
            return s.id = this.addMarker(s, i, "fullLine", n),
            s
        }
        ,
        this.setAnnotations = function(e) {
            this.$annotations = e,
            this._signal("changeAnnotation", {})
        }
        ,
        this.getAnnotations = function() {
            return this.$annotations || []
        }
        ,
        this.clearAnnotations = function() {
            this.setAnnotations([])
        }
        ,
        this.$detectNewLine = function(e) {
            var t = e.match(/^.*?(\r?\n)/m);
            this.$autoNewLine = t ? t[1] : "\n"
        }
        ,
        this.getWordRange = function(e, t) {
            var i = this.getLine(e)
              , n = !1;
            if (t > 0 && (n = !!i.charAt(t - 1).match(this.tokenRe)),
            n || (n = !!i.charAt(t).match(this.tokenRe)),
            n)
                s = this.tokenRe;
            else if (/^\s+$/.test(i.slice(t - 1, t + 1)))
                s = /\s/;
            else
                var s = this.nonTokenRe;
            var o = t;
            if (o > 0) {
                do {
                    o--
                } while (o >= 0 && i.charAt(o).match(s));
                o++
            }
            for (var r = t; r < i.length && i.charAt(r).match(s); )
                r++;
            return new c(e,o,e,r)
        }
        ,
        this.getAWordRange = function(e, t) {
            for (var i = this.getWordRange(e, t), n = this.getLine(i.end.row); n.charAt(i.end.column).match(/[ \t]/); )
                i.end.column += 1;
            return i
        }
        ,
        this.setNewLineMode = function(e) {
            this.doc.setNewLineMode(e)
        }
        ,
        this.getNewLineMode = function() {
            return this.doc.getNewLineMode()
        }
        ,
        this.setUseWorker = function(e) {
            this.setOption("useWorker", e)
        }
        ,
        this.getUseWorker = function() {
            return this.$useWorker
        }
        ,
        this.onReloadTokenizer = function(e) {
            var t = e.data;
            this.bgTokenizer.start(t.first),
            this._signal("tokenizerUpdate", e)
        }
        ,
        this.$modes = r.$modes,
        this.$mode = null,
        this.$modeId = null,
        this.setMode = function(e, t) {
            if (e && "object" == typeof e) {
                if (e.getTokenizer)
                    return this.$onChangeMode(e);
                var i = e
                  , n = i.path
            } else
                n = e || "ace/mode/text";
            if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new h),
            this.$modes[n] && !i)
                return this.$onChangeMode(this.$modes[n]),
                void (t && t());
            this.$modeId = n,
            r.loadModule(["mode", n], function(e) {
                if (this.$modeId !== n)
                    return t && t();
                this.$modes[n] && !i ? this.$onChangeMode(this.$modes[n]) : e && e.Mode && (e = new e.Mode(i),
                i || (this.$modes[n] = e,
                e.$id = n),
                this.$onChangeMode(e)),
                t && t()
            }
            .bind(this)),
            this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0)
        }
        ,
        this.$onChangeMode = function(e, t) {
            if (t || (this.$modeId = e.$id),
            this.$mode !== e) {
                this.$mode = e,
                this.$stopWorker(),
                this.$useWorker && this.$startWorker();
                var i = e.getTokenizer();
                if (void 0 !== i.addEventListener) {
                    var n = this.onReloadTokenizer.bind(this);
                    i.addEventListener("update", n)
                }
                if (this.bgTokenizer)
                    this.bgTokenizer.setTokenizer(i);
                else {
                    this.bgTokenizer = new d(i);
                    var s = this;
                    this.bgTokenizer.addEventListener("update", function(e) {
                        s._signal("tokenizerUpdate", e)
                    })
                }
                this.bgTokenizer.setDocument(this.getDocument()),
                this.tokenRe = e.tokenRe,
                this.nonTokenRe = e.nonTokenRe,
                t || (e.attachToSession && e.attachToSession(this),
                this.$options.wrapMethod.set.call(this, this.$wrapMethod),
                this.$setFolding(e.foldingRules),
                this.bgTokenizer.start(0),
                this._emit("changeMode"))
            }
        }
        ,
        this.$stopWorker = function() {
            this.$worker && (this.$worker.terminate(),
            this.$worker = null)
        }
        ,
        this.$startWorker = function() {
            try {
                this.$worker = this.$mode.createWorker(this)
            } catch (e) {
                r.warn("Could not load worker", e),
                this.$worker = null
            }
        }
        ,
        this.getMode = function() {
            return this.$mode
        }
        ,
        this.$scrollTop = 0,
        this.setScrollTop = function(e) {
            this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e,
            this._signal("changeScrollTop", e))
        }
        ,
        this.getScrollTop = function() {
            return this.$scrollTop
        }
        ,
        this.$scrollLeft = 0,
        this.setScrollLeft = function(e) {
            this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e,
            this._signal("changeScrollLeft", e))
        }
        ,
        this.getScrollLeft = function() {
            return this.$scrollLeft
        }
        ,
        this.getScreenWidth = function() {
            return this.$computeWidth(),
            this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth
        }
        ,
        this.getLineWidgetMaxWidth = function() {
            if (null != this.lineWidgetsWidth)
                return this.lineWidgetsWidth;
            var e = 0;
            return this.lineWidgets.forEach(function(t) {
                t && t.screenWidth > e && (e = t.screenWidth)
            }),
            this.lineWidgetWidth = e
        }
        ,
        this.$computeWidth = function(e) {
            if (this.$modified || e) {
                if (this.$modified = !1,
                this.$useWrapMode)
                    return this.screenWidth = this.$wrapLimit;
                for (var t = this.doc.getAllLines(), i = this.$rowLengthCache, n = 0, s = 0, o = this.$foldData[s], r = o ? o.start.row : 1 / 0, a = t.length, l = 0; l < a; l++) {
                    if (l > r) {
                        if ((l = o.end.row + 1) >= a)
                            break;
                        r = (o = this.$foldData[s++]) ? o.start.row : 1 / 0
                    }
                    null == i[l] && (i[l] = this.$getStringScreenWidth(t[l])[0]),
                    i[l] > n && (n = i[l])
                }
                this.screenWidth = n
            }
        }
        ,
        this.getLine = function(e) {
            return this.doc.getLine(e)
        }
        ,
        this.getLines = function(e, t) {
            return this.doc.getLines(e, t)
        }
        ,
        this.getLength = function() {
            return this.doc.getLength()
        }
        ,
        this.getTextRange = function(e) {
            return this.doc.getTextRange(e || this.selection.getRange())
        }
        ,
        this.insert = function(e, t) {
            return this.doc.insert(e, t)
        }
        ,
        this.remove = function(e) {
            return this.doc.remove(e)
        }
        ,
        this.removeFullLines = function(e, t) {
            return this.doc.removeFullLines(e, t)
        }
        ,
        this.undoChanges = function(e, t) {
            if (e.length) {
                this.$fromUndo = !0;
                for (var i = e.length - 1; -1 != i; i--) {
                    var n = e[i];
                    "insert" == n.action || "remove" == n.action ? this.doc.revertDelta(n) : n.folds && this.addFolds(n.folds)
                }
                !t && this.$undoSelect && (e.selectionBefore ? this.selection.fromJSON(e.selectionBefore) : this.selection.setRange(this.$getUndoSelection(e, !0))),
                this.$fromUndo = !1
            }
        }
        ,
        this.redoChanges = function(e, t) {
            if (e.length) {
                this.$fromUndo = !0;
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    ("insert" == n.action || "remove" == n.action) && this.doc.applyDelta(n)
                }
                !t && this.$undoSelect && (e.selectionAfter ? this.selection.fromJSON(e.selectionAfter) : this.selection.setRange(this.$getUndoSelection(e, !1))),
                this.$fromUndo = !1
            }
        }
        ,
        this.setUndoSelect = function(e) {
            this.$undoSelect = e
        }
        ,
        this.$getUndoSelection = function(e, t) {
            function i(e) {
                return t ? "insert" !== e.action : "insert" === e.action
            }
            for (var n, s, o = 0; o < e.length; o++) {
                var r = e[o];
                r.start && (n ? i(r) ? (s = r.start,
                -1 == n.compare(s.row, s.column) && n.setStart(s),
                s = r.end,
                1 == n.compare(s.row, s.column) && n.setEnd(s),
                !0) : (s = r.start,
                -1 == n.compare(s.row, s.column) && (n = c.fromPoints(r.start, r.start)),
                !1) : i(r) ? (n = c.fromPoints(r.start, r.end),
                !0) : (n = c.fromPoints(r.start, r.start),
                !1))
            }
            return n
        }
        ,
        this.replace = function(e, t) {
            return this.doc.replace(e, t)
        }
        ,
        this.moveText = function(e, t, i) {
            var n = this.getTextRange(e)
              , s = this.getFoldsInRange(e)
              , o = c.fromPoints(t, t);
            if (!i) {
                this.remove(e);
                l = e.start.row - e.end.row;
                (h = l ? -e.end.column : e.start.column - e.end.column) && (o.start.row == e.end.row && o.start.column > e.end.column && (o.start.column += h),
                o.end.row == e.end.row && o.end.column > e.end.column && (o.end.column += h)),
                l && o.start.row >= e.end.row && (o.start.row += l,
                o.end.row += l)
            }
            if (o.end = this.insert(o.start, n),
            s.length) {
                var r = e.start
                  , a = o.start
                  , l = a.row - r.row
                  , h = a.column - r.column;
                this.addFolds(s.map(function(e) {
                    return (e = e.clone()).start.row == r.row && (e.start.column += h),
                    e.end.row == r.row && (e.end.column += h),
                    e.start.row += l,
                    e.end.row += l,
                    e
                }))
            }
            return o
        }
        ,
        this.indentRows = function(e, t, i) {
            i = i.replace(/\t/g, this.getTabString());
            for (var n = e; n <= t; n++)
                this.doc.insertInLine({
                    row: n,
                    column: 0
                }, i)
        }
        ,
        this.outdentRows = function(e) {
            for (var t = e.collapseRows(), i = new c(0,0,0,0), n = this.getTabSize(), s = t.start.row; s <= t.end.row; ++s) {
                var o = this.getLine(s);
                i.start.row = s,
                i.end.row = s;
                for (var r = 0; r < n && " " == o.charAt(r); ++r)
                    ;
                r < n && "\t" == o.charAt(r) ? (i.start.column = r,
                i.end.column = r + 1) : (i.start.column = 0,
                i.end.column = r),
                this.remove(i)
            }
        }
        ,
        this.$moveLines = function(e, t, i) {
            if (e = this.getRowFoldStart(e),
            t = this.getRowFoldEnd(t),
            i < 0) {
                if ((n = this.getRowFoldStart(e + i)) < 0)
                    return 0;
                s = n - e
            } else if (i > 0) {
                var n = this.getRowFoldEnd(t + i);
                if (n > this.doc.getLength() - 1)
                    return 0;
                s = n - t
            } else {
                e = this.$clipRowToDocument(e);
                var s = (t = this.$clipRowToDocument(t)) - e + 1
            }
            var o = new c(e,0,t,Number.MAX_VALUE)
              , r = this.getFoldsInRange(o).map(function(e) {
                return e = e.clone(),
                e.start.row += s,
                e.end.row += s,
                e
            })
              , a = 0 == i ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t);
            return this.doc.insertFullLines(e + s, a),
            r.length && this.addFolds(r),
            s
        }
        ,
        this.moveLinesUp = function(e, t) {
            return this.$moveLines(e, t, -1)
        }
        ,
        this.moveLinesDown = function(e, t) {
            return this.$moveLines(e, t, 1)
        }
        ,
        this.duplicateLines = function(e, t) {
            return this.$moveLines(e, t, 0)
        }
        ,
        this.$clipRowToDocument = function(e) {
            return Math.max(0, Math.min(e, this.doc.getLength() - 1))
        }
        ,
        this.$clipColumnToRow = function(e, t) {
            return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t)
        }
        ,
        this.$clipPositionToDocument = function(e, t) {
            if (t = Math.max(0, t),
            e < 0)
                e = 0,
                t = 0;
            else {
                var i = this.doc.getLength();
                e >= i ? (e = i - 1,
                t = this.doc.getLine(i - 1).length) : t = Math.min(this.doc.getLine(e).length, t)
            }
            return {
                row: e,
                column: t
            }
        }
        ,
        this.$clipRangeToDocument = function(e) {
            e.start.row < 0 ? (e.start.row = 0,
            e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
            var t = this.doc.getLength() - 1;
            return e.end.row > t ? (e.end.row = t,
            e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column),
            e
        }
        ,
        this.$wrapLimit = 80,
        this.$useWrapMode = !1,
        this.$wrapLimitRange = {
            min: null,
            max: null
        },
        this.setUseWrapMode = function(e) {
            if (e != this.$useWrapMode) {
                if (this.$useWrapMode = e,
                this.$modified = !0,
                this.$resetRowCache(0),
                e) {
                    var t = this.getLength();
                    this.$wrapData = Array(t),
                    this.$updateWrapData(0, t - 1)
                }
                this._signal("changeWrapMode")
            }
        }
        ,
        this.getUseWrapMode = function() {
            return this.$useWrapMode
        }
        ,
        this.setWrapLimitRange = function(e, t) {
            this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
                min: e,
                max: t
            },
            this.$modified = !0,
            this.$bidiHandler.markAsDirty(),
            this.$useWrapMode && this._signal("changeWrapMode"))
        }
        ,
        this.adjustWrapLimit = function(e, t) {
            var i = this.$wrapLimitRange;
            i.max < 0 && (i = {
                min: t,
                max: t
            });
            var n = this.$constrainWrapLimit(e, i.min, i.max);
            return n != this.$wrapLimit && n > 1 && (this.$wrapLimit = n,
            this.$modified = !0,
            this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1),
            this.$resetRowCache(0),
            this._signal("changeWrapLimit")),
            !0)
        }
        ,
        this.$constrainWrapLimit = function(e, t, i) {
            return t && (e = Math.max(t, e)),
            i && (e = Math.min(i, e)),
            e
        }
        ,
        this.getWrapLimit = function() {
            return this.$wrapLimit
        }
        ,
        this.setWrapLimit = function(e) {
            this.setWrapLimitRange(e, e)
        }
        ,
        this.getWrapLimitRange = function() {
            return {
                min: this.$wrapLimitRange.min,
                max: this.$wrapLimitRange.max
            }
        }
        ,
        this.$updateInternalDataOnChange = function(e) {
            var t = this.$useWrapMode
              , i = e.action
              , n = e.start
              , s = e.end
              , o = n.row
              , r = s.row
              , a = r - o
              , l = null;
            if (this.$updating = !0,
            0 != a)
                if ("remove" === i) {
                    this[t ? "$wrapData" : "$rowLengthCache"].splice(o, a);
                    d = this.$foldData;
                    l = this.getFoldsInRange(e),
                    this.removeFolds(l);
                    g = 0;
                    if (m = this.getFoldLine(s.row)) {
                        m.addRemoveChars(s.row, s.column, n.column - s.column),
                        m.shiftRow(-a);
                        var h = this.getFoldLine(o);
                        h && h !== m && (h.merge(m),
                        m = h),
                        g = d.indexOf(m) + 1
                    }
                    for (g; g < d.length; g++)
                        (m = d[g]).start.row >= s.row && m.shiftRow(-a);
                    r = o
                } else {
                    var c = Array(a);
                    c.unshift(o, 0);
                    var u = t ? this.$wrapData : this.$rowLengthCache;
                    u.splice.apply(u, c);
                    var d = this.$foldData
                      , g = 0;
                    if (m = this.getFoldLine(o)) {
                        var f = m.range.compareInside(n.row, n.column);
                        0 == f ? (m = m.split(n.row, n.column)) && (m.shiftRow(a),
                        m.addRemoveChars(r, 0, s.column - n.column)) : -1 == f && (m.addRemoveChars(o, 0, s.column - n.column),
                        m.shiftRow(a)),
                        g = d.indexOf(m) + 1
                    }
                    for (g; g < d.length; g++)
                        (m = d[g]).start.row >= o && m.shiftRow(a)
                }
            else {
                a = Math.abs(e.start.column - e.end.column),
                "remove" === i && (l = this.getFoldsInRange(e),
                this.removeFolds(l),
                a = -a);
                var m = this.getFoldLine(o);
                m && m.addRemoveChars(o, n.column, a)
            }
            return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"),
            this.$updating = !1,
            t ? this.$updateWrapData(o, r) : this.$updateRowLengthCache(o, r),
            l
        }
        ,
        this.$updateRowLengthCache = function(e, t, i) {
            this.$rowLengthCache[e] = null,
            this.$rowLengthCache[t] = null
        }
        ,
        this.$updateWrapData = function(e, n) {
            var s, o, r = this.doc.getAllLines(), a = this.getTabSize(), l = this.$wrapData, h = this.$wrapLimit, c = e;
            for (n = Math.min(n, r.length - 1); c <= n; )
                (o = this.getFoldLine(c, o)) ? (s = [],
                o.walk(function(e, n, o, a) {
                    var l;
                    if (null != e) {
                        (l = this.$getDisplayTokens(e, s.length))[0] = t;
                        for (var h = 1; h < l.length; h++)
                            l[h] = i
                    } else
                        l = this.$getDisplayTokens(r[n].substring(a, o), s.length);
                    s = s.concat(l)
                }
                .bind(this), o.end.row, r[o.end.row].length + 1),
                l[o.start.row] = this.$computeWrapSplits(s, h, a),
                c = o.end.row + 1) : (s = this.$getDisplayTokens(r[c]),
                l[c] = this.$computeWrapSplits(s, h, a),
                c++)
        }
        ;
        var t = 3
          , i = 4
          , o = 10
          , l = 11
          , u = 12;
        this.$computeWrapSplits = function(e, n, s) {
            function r() {
                var t = 0;
                if (0 === p)
                    return t;
                if (m)
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        if (n == o)
                            t += 1;
                        else {
                            if (n != l) {
                                if (n == u)
                                    continue;
                                break
                            }
                            t += s
                        }
                    }
                return f && !1 !== m && (t += s),
                Math.min(t, p)
            }
            function a(t) {
                for (var i = t - d, n = d; n < t; n++) {
                    var s = e[n];
                    12 !== s && 2 !== s || (i -= 1)
                }
                h.length || (v = r(),
                h.indent = v),
                g += i,
                h.push(g),
                d = t
            }
            if (0 == e.length)
                return [];
            for (var h = [], c = e.length, d = 0, g = 0, f = this.$wrapAsCode, m = this.$indentedSoftWrap, p = n <= Math.max(2 * s, 8) || !1 === m ? 0 : Math.floor(n / 2), v = 0; c - d > n - v; ) {
                var w = d + n - v;
                if (e[w - 1] >= o && e[w] >= o)
                    a(w);
                else if (e[w] != t && e[w] != i) {
                    for (var $ = Math.max(w - (n - (n >> 2)), d - 1); w > $ && e[w] < t; )
                        w--;
                    if (f) {
                        for (; w > $ && e[w] < t; )
                            w--;
                        for (; w > $ && 9 == e[w]; )
                            w--
                    } else
                        for (; w > $ && e[w] < o; )
                            w--;
                    w > $ ? a(++w) : (2 == e[w = d + n] && w--,
                    a(w - v))
                } else {
                    for (w; w != d - 1 && e[w] != t; w--)
                        ;
                    if (w > d) {
                        a(w);
                        continue
                    }
                    for (w = d + n; w < e.length && e[w] == i; w++)
                        ;
                    if (w == e.length)
                        break;
                    a(w)
                }
            }
            return h
        }
        ,
        this.$getDisplayTokens = function(t, i) {
            var n, s = [];
            i = i || 0;
            for (var r = 0; r < t.length; r++) {
                var a = t.charCodeAt(r);
                if (9 == a) {
                    n = this.getScreenTabSize(s.length + i),
                    s.push(l);
                    for (var h = 1; h < n; h++)
                        s.push(u)
                } else
                    32 == a ? s.push(o) : a > 39 && a < 48 || a > 57 && a < 64 ? s.push(9) : a >= 4352 && e(a) ? s.push(1, 2) : s.push(1)
            }
            return s
        }
        ,
        this.$getStringScreenWidth = function(t, i, n) {
            if (0 == i)
                return [0, 0];
            null == i && (i = 1 / 0),
            n = n || 0;
            var s, o;
            for (o = 0; o < t.length && (9 == (s = t.charCodeAt(o)) ? n += this.getScreenTabSize(n) : s >= 4352 && e(s) ? n += 2 : n += 1,
            !(n > i)); o++)
                ;
            return [n, o]
        }
        ,
        this.lineWidgets = null,
        this.getRowLength = function(e) {
            if (this.lineWidgets)
                var t = this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0;
            else
                t = 0;
            return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
        }
        ,
        this.getRowLineCount = function(e) {
            return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1
        }
        ,
        this.getRowWrapIndent = function(e) {
            if (this.$useWrapMode) {
                var t = this.screenToDocumentPosition(e, Number.MAX_VALUE)
                  , i = this.$wrapData[t.row];
                return i.length && i[0] < t.column ? i.indent : 0
            }
            return 0
        }
        ,
        this.getScreenLastRowColumn = function(e) {
            var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
            return this.documentToScreenColumn(t.row, t.column)
        }
        ,
        this.getDocumentLastRowColumn = function(e, t) {
            var i = this.documentToScreenRow(e, t);
            return this.getScreenLastRowColumn(i)
        }
        ,
        this.getDocumentLastRowColumnPosition = function(e, t) {
            var i = this.documentToScreenRow(e, t);
            return this.screenToDocumentPosition(i, Number.MAX_VALUE / 10)
        }
        ,
        this.getRowSplitData = function(e) {
            return this.$useWrapMode ? this.$wrapData[e] : void 0
        }
        ,
        this.getScreenTabSize = function(e) {
            return this.$tabSize - e % this.$tabSize
        }
        ,
        this.screenToDocumentRow = function(e, t) {
            return this.screenToDocumentPosition(e, t).row
        }
        ,
        this.screenToDocumentColumn = function(e, t) {
            return this.screenToDocumentPosition(e, t).column
        }
        ,
        this.screenToDocumentPosition = function(e, t, i) {
            if (e < 0)
                return {
                    row: 0,
                    column: 0
                };
            var n, s, o = 0, r = 0, a = 0, l = 0, h = this.$screenRowCache, c = this.$getRowCacheIndex(h, e), u = h.length;
            if (u && c >= 0)
                var a = h[c]
                  , o = this.$docRowCache[c]
                  , d = e > h[u - 1];
            else
                d = !u;
            for (var g = this.getLength() - 1, f = this.getNextFoldLine(o), m = f ? f.start.row : 1 / 0; a <= e && (l = this.getRowLength(o),
            !(a + l > e || o >= g)); )
                a += l,
                ++o > m && (o = f.end.row + 1,
                f = this.getNextFoldLine(o, f),
                m = f ? f.start.row : 1 / 0),
                d && (this.$docRowCache.push(o),
                this.$screenRowCache.push(a));
            if (f && f.start.row <= o)
                n = this.getFoldDisplayLine(f),
                o = f.start.row;
            else {
                if (a + l <= e || o > g)
                    return {
                        row: g,
                        column: this.getLine(g).length
                    };
                n = this.getLine(o),
                f = null
            }
            var p = 0
              , v = Math.floor(e - a);
            if (this.$useWrapMode) {
                var w = this.$wrapData[o];
                w && (s = w[v],
                v > 0 && w.length && (p = w.indent,
                r = w[v - 1] || w[w.length - 1],
                n = n.substring(r)))
            }
            return void 0 !== i && this.$bidiHandler.isBidiRow(a + v, o, v) && (t = this.$bidiHandler.offsetToCol(i)),
            r += this.$getStringScreenWidth(n, t - p)[1],
            this.$useWrapMode && r >= s && (r = s - 1),
            f ? f.idxToPosition(r) : {
                row: o,
                column: r
            }
        }
        ,
        this.documentToScreenPosition = function(e, t) {
            if (void 0 === t)
                var i = this.$clipPositionToDocument(e.row, e.column);
            else
                i = this.$clipPositionToDocument(e, t);
            e = i.row,
            t = i.column;
            var n = 0
              , s = null
              , o = null;
            (o = this.getFoldAt(e, t, 1)) && (e = o.start.row,
            t = o.start.column);
            var r, a = 0, l = this.$docRowCache, h = this.$getRowCacheIndex(l, e), c = l.length;
            if (c && h >= 0)
                var a = l[h]
                  , n = this.$screenRowCache[h]
                  , u = e > l[c - 1];
            else
                u = !c;
            for (var d = this.getNextFoldLine(a), g = d ? d.start.row : 1 / 0; a < e; ) {
                if (a >= g) {
                    if ((r = d.end.row + 1) > e)
                        break;
                    g = (d = this.getNextFoldLine(r, d)) ? d.start.row : 1 / 0
                } else
                    r = a + 1;
                n += this.getRowLength(a),
                a = r,
                u && (this.$docRowCache.push(a),
                this.$screenRowCache.push(n))
            }
            var f = "";
            d && a >= g ? (f = this.getFoldDisplayLine(d, e, t),
            s = d.start.row) : (f = this.getLine(e).substring(0, t),
            s = e);
            var m = 0;
            if (this.$useWrapMode) {
                var p = this.$wrapData[s];
                if (p) {
                    for (var v = 0; f.length >= p[v]; )
                        n++,
                        v++;
                    f = f.substring(p[v - 1] || 0, f.length),
                    m = v > 0 ? p.indent : 0
                }
            }
            return {
                row: n,
                column: m + this.$getStringScreenWidth(f)[0]
            }
        }
        ,
        this.documentToScreenColumn = function(e, t) {
            return this.documentToScreenPosition(e, t).column
        }
        ,
        this.documentToScreenRow = function(e, t) {
            return this.documentToScreenPosition(e, t).row
        }
        ,
        this.getScreenLength = function() {
            var e = 0
              , t = null;
            if (this.$useWrapMode)
                for (var i = this.$wrapData.length, n = 0, s = 0, o = (t = this.$foldData[s++]) ? t.start.row : 1 / 0; n < i; ) {
                    var r = this.$wrapData[n];
                    e += r ? r.length + 1 : 1,
                    ++n > o && (n = t.end.row + 1,
                    t = this.$foldData[s++],
                    o = t ? t.start.row : 1 / 0)
                }
            else {
                e = this.getLength();
                for (var a = this.$foldData, s = 0; s < a.length; s++)
                    t = a[s],
                    e -= t.end.row - t.start.row
            }
            return this.lineWidgets && (e += this.$getWidgetScreenLength()),
            e
        }
        ,
        this.$setFontMetrics = function(e) {
            this.$enableVarChar && (this.$getStringScreenWidth = function(t, i, n) {
                if (0 === i)
                    return [0, 0];
                i || (i = 1 / 0),
                n = n || 0;
                var s, o;
                for (o = 0; o < t.length && (s = t.charAt(o),
                !((n += "\t" === s ? this.getScreenTabSize(n) : e.getCharacterWidth(s)) > i)); o++)
                    ;
                return [n, o]
            }
            )
        }
        ,
        this.destroy = function() {
            this.bgTokenizer && (this.bgTokenizer.setDocument(null),
            this.bgTokenizer = null),
            this.$stopWorker()
        }
        ,
        this.isFullWidth = e
    }
    .call(f.prototype),
    e("./edit_session/folding").Folding.call(f.prototype),
    e("./edit_session/bracket_match").BracketMatch.call(f.prototype),
    r.defineOptions(f.prototype, "session", {
        wrap: {
            set: function(e) {
                if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1,
                this.$wrap != e)
                    if (this.$wrap = e,
                    e) {
                        var t = "number" == typeof e ? e : null;
                        this.setWrapLimitRange(t, t),
                        this.setUseWrapMode(!0)
                    } else
                        this.setUseWrapMode(!1)
            },
            get: function() {
                return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off"
            },
            handlesSet: !0
        },
        wrapMethod: {
            set: function(e) {
                (e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e,
                this.$useWrapMode && (this.$useWrapMode = !1,
                this.setUseWrapMode(!0)))
            },
            initialValue: "auto"
        },
        indentedSoftWrap: {
            set: function() {
                this.$useWrapMode && (this.$useWrapMode = !1,
                this.setUseWrapMode(!0))
            },
            initialValue: !0
        },
        firstLineNumber: {
            set: function() {
                this._signal("changeBreakpoint")
            },
            initialValue: 1
        },
        useWorker: {
            set: function(e) {
                this.$useWorker = e,
                this.$stopWorker(),
                e && this.$startWorker()
            },
            initialValue: !0
        },
        useSoftTabs: {
            initialValue: !0
        },
        tabSize: {
            set: function(e) {
                isNaN(e) || this.$tabSize === e || (this.$modified = !0,
                this.$rowLengthCache = [],
                this.$tabSize = e,
                this._signal("changeTabSize"))
            },
            initialValue: 4,
            handlesSet: !0
        },
        navigateWithinSoftTabs: {
            initialValue: !1
        },
        foldStyle: {
            set: function(e) {
                this.setFoldStyle(e)
            },
            handlesSet: !0
        },
        overwrite: {
            set: function(e) {
                this._signal("changeOverwrite")
            },
            initialValue: !1
        },
        newLineMode: {
            set: function(e) {
                this.doc.setNewLineMode(e)
            },
            get: function() {
                return this.doc.getNewLineMode()
            },
            handlesSet: !0
        },
        mode: {
            set: function(e) {
                this.setMode(e)
            },
            get: function() {
                return this.$modeId
            },
            handlesSet: !0
        }
    }),
    t.EditSession = f
}),
ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        function i(e) {
            return /\w/.test(e) || t.regExp ? "\\b" : ""
        }
        return i(e[0]) + e + i(e[e.length - 1])
    }
    var s = e("./lib/lang")
      , o = e("./lib/oop")
      , r = e("./range").Range
      , a = function() {
        this.$options = {}
    };
    (function() {
        this.set = function(e) {
            return o.mixin(this.$options, e),
            this
        }
        ,
        this.getOptions = function() {
            return s.copyObject(this.$options)
        }
        ,
        this.setOptions = function(e) {
            this.$options = e
        }
        ,
        this.find = function(e) {
            var t = this.$options
              , i = this.$matchIterator(e, t);
            if (!i)
                return !1;
            var n = null;
            return i.forEach(function(e, i, s, o) {
                return n = new r(e,i,s,o),
                !(i == o && t.start && t.start.start && 0 != t.skipCurrent && n.isEqual(t.start)) || (n = null,
                !1)
            }),
            n
        }
        ,
        this.findAll = function(e) {
            var t = this.$options;
            if (!t.needle)
                return [];
            this.$assembleRegExp(t);
            var i = t.range
              , n = i ? e.getLines(i.start.row, i.end.row) : e.doc.getAllLines()
              , o = []
              , a = t.re;
            if (t.$isMultiLine) {
                var l, h = a.length, c = n.length - h;
                e: for (var u = a.offset || 0; u <= c; u++) {
                    for (v = 0; v < h; v++)
                        if (-1 == n[u + v].search(a[v]))
                            continue e;
                    var d = n[u]
                      , g = n[u + h - 1]
                      , f = d.length - d.match(a[0])[0].length
                      , m = g.match(a[h - 1])[0].length;
                    l && l.end.row === u && l.end.column > f || (o.push(l = new r(u,f,u + h - 1,m)),
                    h > 2 && (u = u + h - 2))
                }
            } else
                for (y = 0; y < n.length; y++)
                    for (var p = s.getMatchOffsets(n[y], a), v = 0; v < p.length; v++) {
                        var w = p[v];
                        o.push(new r(y,w.offset,y,w.offset + w.length))
                    }
            if (i) {
                for (var $ = i.start.column, b = i.start.column, y = 0, v = o.length - 1; y < v && o[y].start.column < $ && o[y].start.row == i.start.row; )
                    y++;
                for (; y < v && o[v].end.column > b && o[v].end.row == i.end.row; )
                    v--;
                for (o = o.slice(y, v + 1),
                y = 0,
                v = o.length; y < v; y++)
                    o[y].start.row += i.start.row,
                    o[y].end.row += i.start.row
            }
            return o
        }
        ,
        this.replace = function(e, t) {
            var i = this.$options
              , n = this.$assembleRegExp(i);
            if (i.$isMultiLine)
                return t;
            if (n) {
                var s = n.exec(e);
                if (!s || s[0].length != e.length)
                    return null;
                if (t = e.replace(n, t),
                i.preserveCase) {
                    t = t.split("");
                    for (var o = Math.min(e.length, e.length); o--; ) {
                        var r = e[o];
                        r && r.toLowerCase() != r ? t[o] = t[o].toUpperCase() : t[o] = t[o].toLowerCase()
                    }
                    t = t.join("")
                }
                return t
            }
        }
        ,
        this.$assembleRegExp = function(e, t) {
            if (e.needle instanceof RegExp)
                return e.re = e.needle;
            var i = e.needle;
            if (!e.needle)
                return e.re = !1;
            e.regExp || (i = s.escapeRegExp(i)),
            e.wholeWord && (i = n(i, e));
            var o = e.caseSensitive ? "gm" : "gmi";
            if (e.$isMultiLine = !t && /[\n\r]/.test(i),
            e.$isMultiLine)
                return e.re = this.$assembleMultilineRegExp(i, o);
            try {
                var r = new RegExp(i,o)
            } catch (e) {
                r = !1
            }
            return e.re = r
        }
        ,
        this.$assembleMultilineRegExp = function(e, t) {
            for (var i = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), n = [], s = 0; s < i.length; s++)
                try {
                    n.push(new RegExp(i[s],t))
                } catch (e) {
                    return !1
                }
            return n
        }
        ,
        this.$matchIterator = function(e, t) {
            var i = this.$assembleRegExp(t);
            if (!i)
                return !1;
            var n = 1 == t.backwards
              , s = 0 != t.skipCurrent
              , o = t.range
              , r = t.start;
            r || (r = o ? o[n ? "end" : "start"] : e.selection.getRange()),
            r.start && (r = r[s != n ? "end" : "start"]);
            var a = o ? o.start.row : 0
              , l = o ? o.end.row : e.getLength() - 1;
            if (n)
                h = function(e) {
                    var i = r.row;
                    if (!u(i, r.column, e)) {
                        for (i--; i >= a; i--)
                            if (u(i, Number.MAX_VALUE, e))
                                return;
                        if (0 != t.wrap)
                            for (i = l,
                            a = r.row; i >= a; i--)
                                if (u(i, Number.MAX_VALUE, e))
                                    return
                    }
                }
                ;
            else
                var h = function(e) {
                    var i = r.row;
                    if (!u(i, r.column, e)) {
                        for (i += 1; i <= l; i++)
                            if (u(i, 0, e))
                                return;
                        if (0 != t.wrap)
                            for (i = a,
                            l = r.row; i <= l; i++)
                                if (u(i, 0, e))
                                    return
                    }
                };
            if (t.$isMultiLine)
                var c = i.length
                  , u = function(t, s, o) {
                    var r = n ? t - c + 1 : t;
                    if (!(r < 0)) {
                        var a = e.getLine(r)
                          , l = a.search(i[0]);
                        if (!(!n && l < s || -1 === l)) {
                            for (var h = 1; h < c; h++)
                                if (-1 == (a = e.getLine(r + h)).search(i[h]))
                                    return;
                            var u = a.match(i[c - 1])[0].length;
                            if (!(n && u > s))
                                return !!o(r, l, r + c - 1, u) || void 0
                        }
                    }
                };
            else if (n)
                u = function(t, n, s) {
                    var o, r = e.getLine(t), a = [], l = 0;
                    for (i.lastIndex = 0; o = i.exec(r); ) {
                        var h = o[0].length;
                        if (l = o.index,
                        !h) {
                            if (l >= r.length)
                                break;
                            i.lastIndex = l += 1
                        }
                        if (o.index + h > n)
                            break;
                        a.push(o.index, h)
                    }
                    for (var c = a.length - 1; c >= 0; c -= 2) {
                        var u = a[c - 1];
                        if (s(t, u, t, u + (h = a[c])))
                            return !0
                    }
                }
                ;
            else
                u = function(t, n, s) {
                    var o, r, a = e.getLine(t);
                    for (i.lastIndex = n; r = i.exec(a); ) {
                        var l = r[0].length;
                        if (o = r.index,
                        s(t, o, t, o + l))
                            return !0;
                        if (!l && (i.lastIndex = o += 1,
                        o >= a.length))
                            return !1
                    }
                }
                ;
            return {
                forEach: h
            }
        }
    }
    ).call(a.prototype),
    t.Search = a
}),
ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        this.platform = t || (r.isMac ? "mac" : "win"),
        this.commands = {},
        this.commandKeyBinding = {},
        this.addCommands(e),
        this.$singleCommand = !0
    }
    function s(e, t) {
        n.call(this, e, t),
        this.$singleCommand = !1
    }
    var o = e("../lib/keys")
      , r = e("../lib/useragent")
      , a = o.KEY_MODS;
    s.prototype = n.prototype,
    function() {
        function e(e) {
            return "object" == typeof e && e.bindKey && e.bindKey.position || (e.isDefault ? -100 : 0)
        }
        this.addCommand = function(e) {
            this.commands[e.name] && this.removeCommand(e),
            this.commands[e.name] = e,
            e.bindKey && this._buildKeyHash(e)
        }
        ,
        this.removeCommand = function(e, t) {
            var i = e && ("string" == typeof e ? e : e.name);
            e = this.commands[i],
            t || delete this.commands[i];
            var n = this.commandKeyBinding;
            for (var s in n) {
                var o = n[s];
                if (o == e)
                    delete n[s];
                else if (Array.isArray(o)) {
                    var r = o.indexOf(e);
                    -1 != r && (o.splice(r, 1),
                    1 == o.length && (n[s] = o[0]))
                }
            }
        }
        ,
        this.bindKey = function(e, t, i) {
            if ("object" == typeof e && e && (void 0 == i && (i = e.position),
            e = e[this.platform]),
            e)
                return "function" == typeof t ? this.addCommand({
                    exec: t,
                    bindKey: e,
                    name: t.name || e
                }) : void e.split("|").forEach(function(e) {
                    var n = "";
                    if (-1 != e.indexOf(" ")) {
                        var s = e.split(/\s+/);
                        e = s.pop(),
                        s.forEach(function(e) {
                            var t = this.parseKeys(e)
                              , i = a[t.hashId] + t.key;
                            n += (n ? " " : "") + i,
                            this._addCommandToBinding(n, "chainKeys")
                        }, this),
                        n += " "
                    }
                    var o = this.parseKeys(e)
                      , r = a[o.hashId] + o.key;
                    this._addCommandToBinding(n + r, t, i)
                }, this)
        }
        ,
        this._addCommandToBinding = function(t, i, n) {
            var s, o = this.commandKeyBinding;
            if (i)
                if (!o[t] || this.$singleCommand)
                    o[t] = i;
                else {
                    Array.isArray(o[t]) ? -1 != (s = o[t].indexOf(i)) && o[t].splice(s, 1) : o[t] = [o[t]],
                    "number" != typeof n && (n = e(i));
                    var r = o[t];
                    for (s = 0; s < r.length && !(e(r[s]) > n); s++)
                        ;
                    r.splice(s, 0, i)
                }
            else
                delete o[t]
        }
        ,
        this.addCommands = function(e) {
            e && Object.keys(e).forEach(function(t) {
                var i = e[t];
                if (i) {
                    if ("string" == typeof i)
                        return this.bindKey(i, t);
                    "function" == typeof i && (i = {
                        exec: i
                    }),
                    "object" == typeof i && (i.name || (i.name = t),
                    this.addCommand(i))
                }
            }, this)
        }
        ,
        this.removeCommands = function(e) {
            Object.keys(e).forEach(function(t) {
                this.removeCommand(e[t])
            }, this)
        }
        ,
        this.bindKeys = function(e) {
            Object.keys(e).forEach(function(t) {
                this.bindKey(t, e[t])
            }, this)
        }
        ,
        this._buildKeyHash = function(e) {
            this.bindKey(e.bindKey, e)
        }
        ,
        this.parseKeys = function(e) {
            var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
                return e
            })
              , i = t.pop()
              , n = o[i];
            if (o.FUNCTION_KEYS[n])
                i = o.FUNCTION_KEYS[n].toLowerCase();
            else {
                if (!t.length)
                    return {
                        key: i,
                        hashId: -1
                    };
                if (1 == t.length && "shift" == t[0])
                    return {
                        key: i.toUpperCase(),
                        hashId: -1
                    }
            }
            for (var s = 0, r = t.length; r--; ) {
                var a = o.KEY_MODS[t[r]];
                if (null == a)
                    return "undefined" != typeof console && console.error("invalid modifier " + t[r] + " in " + e),
                    !1;
                s |= a
            }
            return {
                key: i,
                hashId: s
            }
        }
        ,
        this.findKeyCommand = function(e, t) {
            var i = a[e] + t;
            return this.commandKeyBinding[i]
        }
        ,
        this.handleKeyboard = function(e, t, i, n) {
            if (!(n < 0)) {
                var s = a[t] + i
                  , o = this.commandKeyBinding[s];
                return e.$keyChain && (e.$keyChain += " " + s,
                o = this.commandKeyBinding[e.$keyChain] || o),
                !o || "chainKeys" != o && "chainKeys" != o[o.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != i.length ? (-1 == t || n > 0) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -s.length - 1)),
                {
                    command: o
                }) : (e.$keyChain = e.$keyChain || s,
                {
                    command: "null"
                })
            }
        }
        ,
        this.getStatusText = function(e, t) {
            return t.$keyChain || ""
        }
    }
    .call(n.prototype),
    t.HashHandler = n,
    t.MultiHashHandler = s
}),
ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(e, t, i) {
    "use strict";
    var n = e("../lib/oop")
      , s = e("../keyboard/hash_handler").MultiHashHandler
      , o = e("../lib/event_emitter").EventEmitter
      , r = function(e, t) {
        s.call(this, t, e),
        this.byName = this.commands,
        this.setDefaultHandler("exec", function(e) {
            return e.command.exec(e.editor, e.args || {})
        })
    };
    n.inherits(r, s),
    function() {
        n.implement(this, o),
        this.exec = function(e, t, i) {
            if (Array.isArray(e)) {
                for (var n = e.length; n--; )
                    if (this.exec(e[n], t, i))
                        return !0;
                return !1
            }
            if ("string" == typeof e && (e = this.commands[e]),
            !e)
                return !1;
            if (t && t.$readOnly && !e.readOnly)
                return !1;
            if (0 != this.$checkCommandState && e.isAvailable && !e.isAvailable(t))
                return !1;
            var s = {
                editor: t,
                command: e,
                args: i
            };
            return s.returnValue = this._emit("exec", s),
            this._signal("afterExec", s),
            !1 !== s.returnValue
        }
        ,
        this.toggleRecording = function(e) {
            if (!this.$inReplay)
                return e && e._emit("changeStatus"),
                this.recording ? (this.macro.pop(),
                this.removeEventListener("exec", this.$addCommandToMacro),
                this.macro.length || (this.macro = this.oldMacro),
                this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function(e) {
                    this.macro.push([e.command, e.args])
                }
                .bind(this)),
                this.oldMacro = this.macro,
                this.macro = [],
                this.on("exec", this.$addCommandToMacro),
                this.recording = !0)
        }
        ,
        this.replay = function(e) {
            if (!this.$inReplay && this.macro) {
                if (this.recording)
                    return this.toggleRecording(e);
                try {
                    this.$inReplay = !0,
                    this.macro.forEach(function(t) {
                        "string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1])
                    }, this)
                } finally {
                    this.$inReplay = !1
                }
            }
        }
        ,
        this.trimMacro = function(e) {
            return e.map(function(e) {
                return "string" != typeof e[0] && (e[0] = e[0].name),
                e[1] || (e = e[0]),
                e
            })
        }
    }
    .call(r.prototype),
    t.CommandManager = r
}),
ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        return {
            win: e,
            mac: t
        }
    }
    var s = e("../lib/lang")
      , o = e("../config")
      , r = e("../range").Range;
    t.commands = [{
        name: "showSettingsMenu",
        bindKey: n("Ctrl-,", "Command-,"),
        exec: function(e) {
            o.loadModule("ace/ext/settings_menu", function(t) {
                t.init(e),
                e.showSettingsMenu()
            })
        },
        readOnly: !0
    }, {
        name: "goToNextError",
        bindKey: n("Alt-E", "F4"),
        exec: function(e) {
            o.loadModule("./ext/error_marker", function(t) {
                t.showErrorMarker(e, 1)
            })
        },
        scrollIntoView: "animate",
        readOnly: !0
    }, {
        name: "goToPreviousError",
        bindKey: n("Alt-Shift-E", "Shift-F4"),
        exec: function(e) {
            o.loadModule("./ext/error_marker", function(t) {
                t.showErrorMarker(e, -1)
            })
        },
        scrollIntoView: "animate",
        readOnly: !0
    }, {
        name: "selectall",
        bindKey: n("Ctrl-A", "Command-A"),
        exec: function(e) {
            e.selectAll()
        },
        readOnly: !0
    }, {
        name: "centerselection",
        bindKey: n(null, "Ctrl-L"),
        exec: function(e) {
            e.centerSelection()
        },
        readOnly: !0
    }, {
        name: "gotoline",
        bindKey: n("Ctrl-L", "Command-L"),
        exec: function(e, t) {
            "number" != typeof t && (t = parseInt(prompt("Enter line number:"), 10)),
            isNaN(t) || e.gotoLine(t)
        },
        readOnly: !0
    }, {
        name: "fold",
        bindKey: n("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
        exec: function(e) {
            e.session.toggleFold(!1)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "unfold",
        bindKey: n("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
        exec: function(e) {
            e.session.toggleFold(!0)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "toggleFoldWidget",
        bindKey: n("F2", "F2"),
        exec: function(e) {
            e.session.toggleFoldWidget()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "toggleParentFoldWidget",
        bindKey: n("Alt-F2", "Alt-F2"),
        exec: function(e) {
            e.session.toggleFoldWidget(!0)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "foldall",
        bindKey: n(null, "Ctrl-Command-Option-0"),
        exec: function(e) {
            e.session.foldAll()
        },
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "foldOther",
        bindKey: n("Alt-0", "Command-Option-0"),
        exec: function(e) {
            e.session.foldAll(),
            e.session.unfold(e.selection.getAllRanges())
        },
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "unfoldall",
        bindKey: n("Alt-Shift-0", "Command-Option-Shift-0"),
        exec: function(e) {
            e.session.unfold()
        },
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "findnext",
        bindKey: n("Ctrl-K", "Command-G"),
        exec: function(e) {
            e.findNext()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "findprevious",
        bindKey: n("Ctrl-Shift-K", "Command-Shift-G"),
        exec: function(e) {
            e.findPrevious()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: !0
    }, {
        name: "selectOrFindNext",
        bindKey: n("Alt-K", "Ctrl-G"),
        exec: function(e) {
            e.selection.isEmpty() ? e.selection.selectWord() : e.findNext()
        },
        readOnly: !0
    }, {
        name: "selectOrFindPrevious",
        bindKey: n("Alt-Shift-K", "Ctrl-Shift-G"),
        exec: function(e) {
            e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious()
        },
        readOnly: !0
    }, {
        name: "find",
        bindKey: n("Ctrl-F", "Command-F"),
        exec: function(e) {
            o.loadModule("ace/ext/searchbox", function(t) {
                t.Search(e)
            })
        },
        readOnly: !0
    }, {
        name: "overwrite",
        bindKey: "Insert",
        exec: function(e) {
            e.toggleOverwrite()
        },
        readOnly: !0
    }, {
        name: "selecttostart",
        bindKey: n("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
        exec: function(e) {
            e.getSelection().selectFileStart()
        },
        multiSelectAction: "forEach",
        readOnly: !0,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
    }, {
        name: "gotostart",
        bindKey: n("Ctrl-Home", "Command-Home|Command-Up"),
        exec: function(e) {
            e.navigateFileStart()
        },
        multiSelectAction: "forEach",
        readOnly: !0,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
    }, {
        name: "selectup",
        bindKey: n("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
        exec: function(e) {
            e.getSelection().selectUp()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "golineup",
        bindKey: n("Up", "Up|Ctrl-P"),
        exec: function(e, t) {
            e.navigateUp(t.times)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selecttoend",
        bindKey: n("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
        exec: function(e) {
            e.getSelection().selectFileEnd()
        },
        multiSelectAction: "forEach",
        readOnly: !0,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
    }, {
        name: "gotoend",
        bindKey: n("Ctrl-End", "Command-End|Command-Down"),
        exec: function(e) {
            e.navigateFileEnd()
        },
        multiSelectAction: "forEach",
        readOnly: !0,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
    }, {
        name: "selectdown",
        bindKey: n("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
        exec: function(e) {
            e.getSelection().selectDown()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "golinedown",
        bindKey: n("Down", "Down|Ctrl-N"),
        exec: function(e, t) {
            e.navigateDown(t.times)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectwordleft",
        bindKey: n("Ctrl-Shift-Left", "Option-Shift-Left"),
        exec: function(e) {
            e.getSelection().selectWordLeft()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotowordleft",
        bindKey: n("Ctrl-Left", "Option-Left"),
        exec: function(e) {
            e.navigateWordLeft()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selecttolinestart",
        bindKey: n("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
        exec: function(e) {
            e.getSelection().selectLineStart()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotolinestart",
        bindKey: n("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
        exec: function(e) {
            e.navigateLineStart()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectleft",
        bindKey: n("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
        exec: function(e) {
            e.getSelection().selectLeft()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotoleft",
        bindKey: n("Left", "Left|Ctrl-B"),
        exec: function(e, t) {
            e.navigateLeft(t.times)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectwordright",
        bindKey: n("Ctrl-Shift-Right", "Option-Shift-Right"),
        exec: function(e) {
            e.getSelection().selectWordRight()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotowordright",
        bindKey: n("Ctrl-Right", "Option-Right"),
        exec: function(e) {
            e.navigateWordRight()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selecttolineend",
        bindKey: n("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
        exec: function(e) {
            e.getSelection().selectLineEnd()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotolineend",
        bindKey: n("Alt-Right|End", "Command-Right|End|Ctrl-E"),
        exec: function(e) {
            e.navigateLineEnd()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectright",
        bindKey: n("Shift-Right", "Shift-Right"),
        exec: function(e) {
            e.getSelection().selectRight()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "gotoright",
        bindKey: n("Right", "Right|Ctrl-F"),
        exec: function(e, t) {
            e.navigateRight(t.times)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectpagedown",
        bindKey: "Shift-PageDown",
        exec: function(e) {
            e.selectPageDown()
        },
        readOnly: !0
    }, {
        name: "pagedown",
        bindKey: n(null, "Option-PageDown"),
        exec: function(e) {
            e.scrollPageDown()
        },
        readOnly: !0
    }, {
        name: "gotopagedown",
        bindKey: n("PageDown", "PageDown|Ctrl-V"),
        exec: function(e) {
            e.gotoPageDown()
        },
        readOnly: !0
    }, {
        name: "selectpageup",
        bindKey: "Shift-PageUp",
        exec: function(e) {
            e.selectPageUp()
        },
        readOnly: !0
    }, {
        name: "pageup",
        bindKey: n(null, "Option-PageUp"),
        exec: function(e) {
            e.scrollPageUp()
        },
        readOnly: !0
    }, {
        name: "gotopageup",
        bindKey: "PageUp",
        exec: function(e) {
            e.gotoPageUp()
        },
        readOnly: !0
    }, {
        name: "scrollup",
        bindKey: n("Ctrl-Up", null),
        exec: function(e) {
            e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight)
        },
        readOnly: !0
    }, {
        name: "scrolldown",
        bindKey: n("Ctrl-Down", null),
        exec: function(e) {
            e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight)
        },
        readOnly: !0
    }, {
        name: "selectlinestart",
        bindKey: "Shift-Home",
        exec: function(e) {
            e.getSelection().selectLineStart()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectlineend",
        bindKey: "Shift-End",
        exec: function(e) {
            e.getSelection().selectLineEnd()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "togglerecording",
        bindKey: n("Ctrl-Alt-E", "Command-Option-E"),
        exec: function(e) {
            e.commands.toggleRecording(e)
        },
        readOnly: !0
    }, {
        name: "replaymacro",
        bindKey: n("Ctrl-Shift-E", "Command-Shift-E"),
        exec: function(e) {
            e.commands.replay(e)
        },
        readOnly: !0
    }, {
        name: "jumptomatching",
        bindKey: n("Ctrl-P", "Ctrl-P"),
        exec: function(e) {
            e.jumpToMatching()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: !0
    }, {
        name: "selecttomatching",
        bindKey: n("Ctrl-Shift-P", "Ctrl-Shift-P"),
        exec: function(e) {
            e.jumpToMatching(!0)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: !0
    }, {
        name: "expandToMatching",
        bindKey: n("Ctrl-Shift-M", "Ctrl-Shift-M"),
        exec: function(e) {
            e.jumpToMatching(!0, !0)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: !0
    }, {
        name: "passKeysToBrowser",
        bindKey: n(null, null),
        exec: function() {},
        passEvent: !0,
        readOnly: !0
    }, {
        name: "copy",
        exec: function(e) {},
        readOnly: !0
    }, {
        name: "cut",
        exec: function(e) {
            var t = e.$copyWithEmptySelection && e.selection.isEmpty() ? e.selection.getLineRange() : e.selection.getRange();
            e._emit("cut", t),
            t.isEmpty() || e.session.remove(t),
            e.clearSelection()
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
    }, {
        name: "paste",
        exec: function(e, t) {
            e.$handlePaste(t)
        },
        scrollIntoView: "cursor"
    }, {
        name: "removeline",
        bindKey: n("Ctrl-D", "Command-D"),
        exec: function(e) {
            e.removeLines()
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEachLine"
    }, {
        name: "duplicateSelection",
        bindKey: n("Ctrl-Shift-D", "Command-Shift-D"),
        exec: function(e) {
            e.duplicateSelection()
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
    }, {
        name: "sortlines",
        bindKey: n("Ctrl-Alt-S", "Command-Alt-S"),
        exec: function(e) {
            e.sortLines()
        },
        scrollIntoView: "selection",
        multiSelectAction: "forEachLine"
    }, {
        name: "togglecomment",
        bindKey: n("Ctrl-/", "Command-/"),
        exec: function(e) {
            e.toggleCommentLines()
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
    }, {
        name: "toggleBlockComment",
        bindKey: n("Ctrl-Shift-/", "Command-Shift-/"),
        exec: function(e) {
            e.toggleBlockComment()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
    }, {
        name: "modifyNumberUp",
        bindKey: n("Ctrl-Shift-Up", "Alt-Shift-Up"),
        exec: function(e) {
            e.modifyNumber(1)
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
    }, {
        name: "modifyNumberDown",
        bindKey: n("Ctrl-Shift-Down", "Alt-Shift-Down"),
        exec: function(e) {
            e.modifyNumber(-1)
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
    }, {
        name: "replace",
        bindKey: n("Ctrl-H", "Command-Option-F"),
        exec: function(e) {
            o.loadModule("ace/ext/searchbox", function(t) {
                t.Search(e, !0)
            })
        }
    }, {
        name: "undo",
        bindKey: n("Ctrl-Z", "Command-Z"),
        exec: function(e) {
            e.undo()
        }
    }, {
        name: "redo",
        bindKey: n("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
        exec: function(e) {
            e.redo()
        }
    }, {
        name: "copylinesup",
        bindKey: n("Alt-Shift-Up", "Command-Option-Up"),
        exec: function(e) {
            e.copyLinesUp()
        },
        scrollIntoView: "cursor"
    }, {
        name: "movelinesup",
        bindKey: n("Alt-Up", "Option-Up"),
        exec: function(e) {
            e.moveLinesUp()
        },
        scrollIntoView: "cursor"
    }, {
        name: "copylinesdown",
        bindKey: n("Alt-Shift-Down", "Command-Option-Down"),
        exec: function(e) {
            e.copyLinesDown()
        },
        scrollIntoView: "cursor"
    }, {
        name: "movelinesdown",
        bindKey: n("Alt-Down", "Option-Down"),
        exec: function(e) {
            e.moveLinesDown()
        },
        scrollIntoView: "cursor"
    }, {
        name: "del",
        bindKey: n("Delete", "Delete|Ctrl-D|Shift-Delete"),
        exec: function(e) {
            e.remove("right")
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "backspace",
        bindKey: n("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
        exec: function(e) {
            e.remove("left")
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "cut_or_delete",
        bindKey: n("Shift-Delete", null),
        exec: function(e) {
            if (!e.selection.isEmpty())
                return !1;
            e.remove("left")
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removetolinestart",
        bindKey: n("Alt-Backspace", "Command-Backspace"),
        exec: function(e) {
            e.removeToLineStart()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removetolineend",
        bindKey: n("Alt-Delete", "Ctrl-K|Command-Delete"),
        exec: function(e) {
            e.removeToLineEnd()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removetolinestarthard",
        bindKey: n("Ctrl-Shift-Backspace", null),
        exec: function(e) {
            var t = e.selection.getRange();
            t.start.column = 0,
            e.session.remove(t)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removetolineendhard",
        bindKey: n("Ctrl-Shift-Delete", null),
        exec: function(e) {
            var t = e.selection.getRange();
            t.end.column = Number.MAX_VALUE,
            e.session.remove(t)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removewordleft",
        bindKey: n("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
        exec: function(e) {
            e.removeWordLeft()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "removewordright",
        bindKey: n("Ctrl-Delete", "Alt-Delete"),
        exec: function(e) {
            e.removeWordRight()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "outdent",
        bindKey: n("Shift-Tab", "Shift-Tab"),
        exec: function(e) {
            e.blockOutdent()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
    }, {
        name: "indent",
        bindKey: n("Tab", "Tab"),
        exec: function(e) {
            e.indent()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
    }, {
        name: "blockoutdent",
        bindKey: n("Ctrl-[", "Ctrl-["),
        exec: function(e) {
            e.blockOutdent()
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
    }, {
        name: "blockindent",
        bindKey: n("Ctrl-]", "Ctrl-]"),
        exec: function(e) {
            e.blockIndent()
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
    }, {
        name: "insertstring",
        exec: function(e, t) {
            e.insert(t)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "inserttext",
        exec: function(e, t) {
            e.insert(s.stringRepeat(t.text || "", t.times || 1))
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "splitline",
        bindKey: n(null, "Ctrl-O"),
        exec: function(e) {
            e.splitLine()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "transposeletters",
        bindKey: n("Alt-Shift-X", "Ctrl-T"),
        exec: function(e) {
            e.transposeLetters()
        },
        multiSelectAction: function(e) {
            e.transposeSelections(1)
        },
        scrollIntoView: "cursor"
    }, {
        name: "touppercase",
        bindKey: n("Ctrl-U", "Ctrl-U"),
        exec: function(e) {
            e.toUpperCase()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "tolowercase",
        bindKey: n("Ctrl-Shift-U", "Ctrl-Shift-U"),
        exec: function(e) {
            e.toLowerCase()
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
    }, {
        name: "expandtoline",
        bindKey: n("Ctrl-Shift-L", "Command-Shift-L"),
        exec: function(e) {
            var t = e.selection.getRange();
            t.start.column = t.end.column = 0,
            t.end.row++,
            e.selection.setRange(t, !1)
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "joinlines",
        bindKey: n(null, null),
        exec: function(e) {
            for (var t = e.selection.isBackwards(), i = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), n = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), o = e.session.doc.getLine(i.row).length, a = e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/, " ").length, l = e.session.doc.getLine(i.row), h = i.row + 1; h <= n.row + 1; h++) {
                var c = s.stringTrimLeft(s.stringTrimRight(e.session.doc.getLine(h)));
                0 !== c.length && (c = " " + c),
                l += c
            }
            n.row + 1 < e.session.doc.getLength() - 1 && (l += e.session.doc.getNewLineCharacter()),
            e.clearSelection(),
            e.session.doc.replace(new r(i.row,0,n.row + 2,0), l),
            a > 0 ? (e.selection.moveCursorTo(i.row, i.column),
            e.selection.selectTo(i.row, i.column + a)) : (o = e.session.doc.getLine(i.row).length > o ? o + 1 : o,
            e.selection.moveCursorTo(i.row, o))
        },
        multiSelectAction: "forEach",
        readOnly: !0
    }, {
        name: "invertSelection",
        bindKey: n(null, null),
        exec: function(e) {
            var t = e.session.doc.getLength() - 1
              , i = e.session.doc.getLine(t).length
              , n = e.selection.rangeList.ranges
              , s = [];
            n.length < 1 && (n = [e.selection.getRange()]);
            for (o = 0; o < n.length; o++)
                o == n.length - 1 && (n[o].end.row !== t || n[o].end.column !== i) && s.push(new r(n[o].end.row,n[o].end.column,t,i)),
                0 === o ? (0 !== n[o].start.row || 0 !== n[o].start.column) && s.push(new r(0,0,n[o].start.row,n[o].start.column)) : s.push(new r(n[o - 1].end.row,n[o - 1].end.column,n[o].start.row,n[o].start.column));
            e.exitMultiSelectMode(),
            e.clearSelection();
            for (var o = 0; o < s.length; o++)
                e.selection.addRange(s[o], !1)
        },
        readOnly: !0,
        scrollIntoView: "none"
    }]
}),
ace.define("ace/clipboard", ["require", "exports", "module"], function(e, t, i) {
    "use strict";
    i.exports = {
        lineMode: !1
    }
}),
ace.define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/clipboard"], function(e, t, i) {
    "use strict";
    e("./lib/fixoldbrowsers");
    var n = e("./lib/oop")
      , s = e("./lib/dom")
      , o = e("./lib/lang")
      , r = e("./lib/useragent")
      , a = e("./keyboard/textinput").TextInput
      , l = e("./mouse/mouse_handler").MouseHandler
      , h = e("./mouse/fold_handler").FoldHandler
      , c = e("./keyboard/keybinding").KeyBinding
      , u = e("./edit_session").EditSession
      , d = e("./search").Search
      , g = e("./range").Range
      , f = e("./lib/event_emitter").EventEmitter
      , m = e("./commands/command_manager").CommandManager
      , p = e("./commands/default_commands").commands
      , v = e("./config")
      , w = e("./token_iterator").TokenIterator
      , $ = e("./clipboard")
      , b = function(e, t, i) {
        var n = e.getContainerElement();
        this.container = n,
        this.renderer = e,
        this.id = "editor" + ++b.$uid,
        this.commands = new m(r.isMac ? "mac" : "win",p),
        "object" == typeof document && (this.textInput = new a(e.getTextAreaContainer(),this),
        this.renderer.textarea = this.textInput.getElement(),
        this.$mouseHandler = new l(this),
        new h(this)),
        this.keyBinding = new c(this),
        this.$search = (new d).set({
            wrap: !0
        }),
        this.$historyTracker = this.$historyTracker.bind(this),
        this.commands.on("exec", this.$historyTracker),
        this.$initOperationListeners(),
        this._$emitInputEvent = o.delayedCall(function() {
            this._signal("input", {}),
            this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart()
        }
        .bind(this)),
        this.on("change", function(e, t) {
            t._$emitInputEvent.schedule(31)
        }),
        this.setSession(t || i && i.session || new u("")),
        v.resetOptions(this),
        i && this.setOptions(i),
        v._signal("editor", this)
    };
    b.$uid = 0,
    function() {
        n.implement(this, f),
        this.$initOperationListeners = function() {
            this.commands.on("exec", this.startOperation.bind(this), !0),
            this.commands.on("afterExec", this.endOperation.bind(this), !0),
            this.$opResetTimer = o.delayedCall(this.endOperation.bind(this, !0)),
            this.on("change", function() {
                this.curOp || (this.startOperation(),
                this.curOp.selectionBefore = this.$lastSel),
                this.curOp.docChanged = !0
            }
            .bind(this), !0),
            this.on("changeSelection", function() {
                this.curOp || (this.startOperation(),
                this.curOp.selectionBefore = this.$lastSel),
                this.curOp.selectionChanged = !0
            }
            .bind(this), !0)
        }
        ,
        this.curOp = null,
        this.prevOp = {},
        this.startOperation = function(e) {
            if (this.curOp) {
                if (!e || this.curOp.command)
                    return;
                this.prevOp = this.curOp
            }
            e || (this.previousCommand = null,
            e = {}),
            this.$opResetTimer.schedule(),
            this.curOp = this.session.curOp = {
                command: e.command || {},
                args: e.args,
                scrollTop: this.renderer.scrollTop
            },
            this.curOp.selectionBefore = this.selection.toJSON()
        }
        ,
        this.endOperation = function(e) {
            if (this.curOp) {
                if (e && !1 === e.returnValue)
                    return this.curOp = null;
                if (1 == e && this.curOp.command && "mouse" == this.curOp.command.name)
                    return;
                if (this._signal("beforeEndOperation"),
                !this.curOp)
                    return;
                var t = this.curOp.command
                  , i = t && t.scrollIntoView;
                if (i) {
                    switch (i) {
                    case "center-animate":
                        i = "animate";
                    case "center":
                        this.renderer.scrollCursorIntoView(null, .5);
                        break;
                    case "animate":
                    case "cursor":
                        this.renderer.scrollCursorIntoView();
                        break;
                    case "selectionPart":
                        var n = this.selection.getRange()
                          , s = this.renderer.layerConfig;
                        (n.start.row >= s.lastRow || n.end.row <= s.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead)
                    }
                    "animate" == i && this.renderer.animateScrolling(this.curOp.scrollTop)
                }
                var o = this.selection.toJSON();
                this.curOp.selectionAfter = o,
                this.$lastSel = this.selection.toJSON(),
                this.session.getUndoManager().addSelection(o),
                this.prevOp = this.curOp,
                this.curOp = null
            }
        }
        ,
        this.$mergeableCommands = ["backspace", "del", "insertstring"],
        this.$historyTracker = function(e) {
            if (this.$mergeUndoDeltas) {
                var t = this.prevOp
                  , i = this.$mergeableCommands
                  , n = t.command && e.command.name == t.command.name;
                if ("insertstring" == e.command.name) {
                    var s = e.args;
                    void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0),
                    n = n && this.mergeNextCommand && (!/\s/.test(s) || /\s/.test(t.args)),
                    this.mergeNextCommand = !0
                } else
                    n = n && -1 !== i.indexOf(e.command.name);
                "always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (n = !1),
                n ? this.session.mergeUndoDeltas = !0 : -1 !== i.indexOf(e.command.name) && (this.sequenceStartTime = Date.now())
            }
        }
        ,
        this.setKeyboardHandler = function(e, t) {
            if (e && "string" == typeof e && "ace" != e) {
                this.$keybindingId = e;
                var i = this;
                v.loadModule(["keybinding", e], function(n) {
                    i.$keybindingId == e && i.keyBinding.setKeyboardHandler(n && n.handler),
                    t && t()
                })
            } else
                this.$keybindingId = null,
                this.keyBinding.setKeyboardHandler(e),
                t && t()
        }
        ,
        this.getKeyboardHandler = function() {
            return this.keyBinding.getKeyboardHandler()
        }
        ,
        this.setSession = function(e) {
            if (this.session != e) {
                this.curOp && this.endOperation(),
                this.curOp = {};
                var t = this.session;
                if (t) {
                    this.session.off("change", this.$onDocumentChange),
                    this.session.off("changeMode", this.$onChangeMode),
                    this.session.off("tokenizerUpdate", this.$onTokenizerUpdate),
                    this.session.off("changeTabSize", this.$onChangeTabSize),
                    this.session.off("changeWrapLimit", this.$onChangeWrapLimit),
                    this.session.off("changeWrapMode", this.$onChangeWrapMode),
                    this.session.off("changeFold", this.$onChangeFold),
                    this.session.off("changeFrontMarker", this.$onChangeFrontMarker),
                    this.session.off("changeBackMarker", this.$onChangeBackMarker),
                    this.session.off("changeBreakpoint", this.$onChangeBreakpoint),
                    this.session.off("changeAnnotation", this.$onChangeAnnotation),
                    this.session.off("changeOverwrite", this.$onCursorChange),
                    this.session.off("changeScrollTop", this.$onScrollTopChange),
                    this.session.off("changeScrollLeft", this.$onScrollLeftChange);
                    var i = this.session.getSelection();
                    i.off("changeCursor", this.$onCursorChange),
                    i.off("changeSelection", this.$onSelectionChange)
                }
                this.session = e,
                e ? (this.$onDocumentChange = this.onDocumentChange.bind(this),
                e.on("change", this.$onDocumentChange),
                this.renderer.setSession(e),
                this.$onChangeMode = this.onChangeMode.bind(this),
                e.on("changeMode", this.$onChangeMode),
                this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this),
                e.on("tokenizerUpdate", this.$onTokenizerUpdate),
                this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer),
                e.on("changeTabSize", this.$onChangeTabSize),
                this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this),
                e.on("changeWrapLimit", this.$onChangeWrapLimit),
                this.$onChangeWrapMode = this.onChangeWrapMode.bind(this),
                e.on("changeWrapMode", this.$onChangeWrapMode),
                this.$onChangeFold = this.onChangeFold.bind(this),
                e.on("changeFold", this.$onChangeFold),
                this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this),
                this.session.on("changeFrontMarker", this.$onChangeFrontMarker),
                this.$onChangeBackMarker = this.onChangeBackMarker.bind(this),
                this.session.on("changeBackMarker", this.$onChangeBackMarker),
                this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this),
                this.session.on("changeBreakpoint", this.$onChangeBreakpoint),
                this.$onChangeAnnotation = this.onChangeAnnotation.bind(this),
                this.session.on("changeAnnotation", this.$onChangeAnnotation),
                this.$onCursorChange = this.onCursorChange.bind(this),
                this.session.on("changeOverwrite", this.$onCursorChange),
                this.$onScrollTopChange = this.onScrollTopChange.bind(this),
                this.session.on("changeScrollTop", this.$onScrollTopChange),
                this.$onScrollLeftChange = this.onScrollLeftChange.bind(this),
                this.session.on("changeScrollLeft", this.$onScrollLeftChange),
                this.selection = e.getSelection(),
                this.selection.on("changeCursor", this.$onCursorChange),
                this.$onSelectionChange = this.onSelectionChange.bind(this),
                this.selection.on("changeSelection", this.$onSelectionChange),
                this.onChangeMode(),
                this.onCursorChange(),
                this.onScrollTopChange(),
                this.onScrollLeftChange(),
                this.onSelectionChange(),
                this.onChangeFrontMarker(),
                this.onChangeBackMarker(),
                this.onChangeBreakpoint(),
                this.onChangeAnnotation(),
                this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(),
                this.renderer.updateFull()) : (this.selection = null,
                this.renderer.setSession(e)),
                this._signal("changeSession", {
                    session: e,
                    oldSession: t
                }),
                this.curOp = null,
                t && t._signal("changeEditor", {
                    oldEditor: this
                }),
                e && e._signal("changeEditor", {
                    editor: this
                }),
                e && e.bgTokenizer && e.bgTokenizer.scheduleStart()
            }
        }
        ,
        this.getSession = function() {
            return this.session
        }
        ,
        this.setValue = function(e, t) {
            return this.session.doc.setValue(e),
            t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(),
            e
        }
        ,
        this.getValue = function() {
            return this.session.getValue()
        }
        ,
        this.getSelection = function() {
            return this.selection
        }
        ,
        this.resize = function(e) {
            this.renderer.onResize(e)
        }
        ,
        this.setTheme = function(e, t) {
            this.renderer.setTheme(e, t)
        }
        ,
        this.getTheme = function() {
            return this.renderer.getTheme()
        }
        ,
        this.setStyle = function(e) {
            this.renderer.setStyle(e)
        }
        ,
        this.unsetStyle = function(e) {
            this.renderer.unsetStyle(e)
        }
        ,
        this.getFontSize = function() {
            return this.getOption("fontSize") || s.computedStyle(this.container).fontSize
        }
        ,
        this.setFontSize = function(e) {
            this.setOption("fontSize", e)
        }
        ,
        this.$highlightBrackets = function() {
            if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight),
            this.session.$bracketHighlight = null),
            !this.$highlightPending) {
                var e = this;
                this.$highlightPending = !0,
                setTimeout(function() {
                    e.$highlightPending = !1;
                    var t = e.session;
                    if (t && t.bgTokenizer) {
                        var i = t.findMatchingBracket(e.getCursorPosition());
                        if (i)
                            n = new g(i.row,i.column,i.row,i.column + 1);
                        else if (t.$mode.getMatching)
                            var n = t.$mode.getMatching(e.session);
                        n && (t.$bracketHighlight = t.addMarker(n, "ace_bracket", "text"))
                    }
                }, 50)
            }
        }
        ,
        this.$highlightTags = function() {
            if (!this.$highlightTagPending) {
                var e = this;
                this.$highlightTagPending = !0,
                setTimeout(function() {
                    e.$highlightTagPending = !1;
                    var t = e.session;
                    if (t && t.bgTokenizer) {
                        var i = e.getCursorPosition()
                          , n = new w(e.session,i.row,i.column)
                          , s = n.getCurrentToken();
                        if (!s || !/\b(?:tag-open|tag-name)/.test(s.type))
                            return t.removeMarker(t.$tagHighlight),
                            void (t.$tagHighlight = null);
                        if (-1 == s.type.indexOf("tag-open") || (s = n.stepForward())) {
                            var o = s.value
                              , r = 0
                              , a = n.stepBackward();
                            if ("<" == a.value)
                                do {
                                    a = s,
                                    (s = n.stepForward()) && s.value === o && -1 !== s.type.indexOf("tag-name") && ("<" === a.value ? r++ : "</" === a.value && r--)
                                } while (s && r >= 0);
                            else {
                                do {
                                    s = a,
                                    a = n.stepBackward(),
                                    s && s.value === o && -1 !== s.type.indexOf("tag-name") && ("<" === a.value ? r++ : "</" === a.value && r--)
                                } while (a && r <= 0);
                                n.stepForward()
                            }
                            if (!s)
                                return t.removeMarker(t.$tagHighlight),
                                void (t.$tagHighlight = null);
                            var l = n.getCurrentTokenRow()
                              , h = n.getCurrentTokenColumn()
                              , c = new g(l,h,l,h + s.value.length)
                              , u = t.$backMarkers[t.$tagHighlight];
                            t.$tagHighlight && void 0 != u && 0 !== c.compareRange(u.range) && (t.removeMarker(t.$tagHighlight),
                            t.$tagHighlight = null),
                            t.$tagHighlight || (t.$tagHighlight = t.addMarker(c, "ace_bracket", "text"))
                        }
                    }
                }, 50)
            }
        }
        ,
        this.focus = function() {
            var e = this;
            setTimeout(function() {
                e.isFocused() || e.textInput.focus()
            }),
            this.textInput.focus()
        }
        ,
        this.isFocused = function() {
            return this.textInput.isFocused()
        }
        ,
        this.blur = function() {
            this.textInput.blur()
        }
        ,
        this.onFocus = function(e) {
            this.$isFocused || (this.$isFocused = !0,
            this.renderer.showCursor(),
            this.renderer.visualizeFocus(),
            this._emit("focus", e))
        }
        ,
        this.onBlur = function(e) {
            this.$isFocused && (this.$isFocused = !1,
            this.renderer.hideCursor(),
            this.renderer.visualizeBlur(),
            this._emit("blur", e))
        }
        ,
        this.$cursorChange = function() {
            this.renderer.updateCursor()
        }
        ,
        this.onDocumentChange = function(e) {
            var t = this.session.$useWrapMode
              , i = e.start.row == e.end.row ? e.end.row : 1 / 0;
            this.renderer.updateLines(e.start.row, i, t),
            this._signal("change", e),
            this.$cursorChange(),
            this.$updateHighlightActiveLine()
        }
        ,
        this.onTokenizerUpdate = function(e) {
            var t = e.data;
            this.renderer.updateLines(t.first, t.last)
        }
        ,
        this.onScrollTopChange = function() {
            this.renderer.scrollToY(this.session.getScrollTop())
        }
        ,
        this.onScrollLeftChange = function() {
            this.renderer.scrollToX(this.session.getScrollLeft())
        }
        ,
        this.onCursorChange = function() {
            this.$cursorChange(),
            this.$highlightBrackets(),
            this.$highlightTags(),
            this.$updateHighlightActiveLine(),
            this._signal("changeSelection")
        }
        ,
        this.$updateHighlightActiveLine = function() {
            var e, t = this.getSession();
            if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()),
            this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty() && (e = !1),
            this.renderer.$maxLines && 1 === this.session.getLength() && !(this.renderer.$minLines > 1) && (e = !1)),
            t.$highlightLineMarker && !e)
                t.removeMarker(t.$highlightLineMarker.id),
                t.$highlightLineMarker = null;
            else if (!t.$highlightLineMarker && e) {
                var i = new g(e.row,e.column,e.row,1 / 0);
                i.id = t.addMarker(i, "ace_active-line", "screenLine"),
                t.$highlightLineMarker = i
            } else
                e && (t.$highlightLineMarker.start.row = e.row,
                t.$highlightLineMarker.end.row = e.row,
                t.$highlightLineMarker.start.column = e.column,
                t._signal("changeBackMarker"))
        }
        ,
        this.onSelectionChange = function(e) {
            var t = this.session;
            if (t.$selectionMarker && t.removeMarker(t.$selectionMarker),
            t.$selectionMarker = null,
            this.selection.isEmpty())
                this.$updateHighlightActiveLine();
            else {
                var i = this.selection.getRange()
                  , n = this.getSelectionStyle();
                t.$selectionMarker = t.addMarker(i, "ace_selection", n)
            }
            var s = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
            this.session.highlight(s),
            this._signal("changeSelection")
        }
        ,
        this.$getSelectionHighLightRegexp = function() {
            var e = this.session
              , t = this.getSelectionRange();
            if (!t.isEmpty() && !t.isMultiLine()) {
                var i = t.start.column
                  , n = t.end.column
                  , s = e.getLine(t.start.row)
                  , o = s.substring(i, n);
                if (!(o.length > 5e3) && /[\w\d]/.test(o)) {
                    var r = this.$search.$assembleRegExp({
                        wholeWord: !0,
                        caseSensitive: !0,
                        needle: o
                    })
                      , a = s.substring(i - 1, n + 1);
                    if (r.test(a))
                        return r
                }
            }
        }
        ,
        this.onChangeFrontMarker = function() {
            this.renderer.updateFrontMarkers()
        }
        ,
        this.onChangeBackMarker = function() {
            this.renderer.updateBackMarkers()
        }
        ,
        this.onChangeBreakpoint = function() {
            this.renderer.updateBreakpoints()
        }
        ,
        this.onChangeAnnotation = function() {
            this.renderer.setAnnotations(this.session.getAnnotations())
        }
        ,
        this.onChangeMode = function(e) {
            this.renderer.updateText(),
            this._emit("changeMode", e)
        }
        ,
        this.onChangeWrapLimit = function() {
            this.renderer.updateFull()
        }
        ,
        this.onChangeWrapMode = function() {
            this.renderer.onResize(!0)
        }
        ,
        this.onChangeFold = function() {
            this.$updateHighlightActiveLine(),
            this.renderer.updateFull()
        }
        ,
        this.getSelectedText = function() {
            return this.session.getTextRange(this.getSelectionRange())
        }
        ,
        this.getCopyText = function() {
            var e = this.getSelectedText()
              , t = this.session.doc.getNewLineCharacter()
              , i = !1;
            if (!e && this.$copyWithEmptySelection) {
                i = !0;
                for (var n = this.selection.getAllRanges(), s = 0; s < n.length; s++) {
                    var o = n[s];
                    s && n[s - 1].start.row == o.start.row || (e += this.session.getLine(o.start.row) + t)
                }
            }
            var r = {
                text: e
            };
            return this._signal("copy", r),
            $.lineMode = i ? r.text : "",
            r.text
        }
        ,
        this.onCopy = function() {
            this.commands.exec("copy", this)
        }
        ,
        this.onCut = function() {
            this.commands.exec("cut", this)
        }
        ,
        this.onPaste = function(e, t) {
            var i = {
                text: e,
                event: t
            };
            this.commands.exec("paste", this, i)
        }
        ,
        this.$handlePaste = function(e) {
            "string" == typeof e && (e = {
                text: e
            }),
            this._signal("paste", e);
            var t = e.text
              , i = t == $.lineMode
              , n = this.session;
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
                i ? n.insert({
                    row: this.selection.lead.row,
                    column: 0
                }, t) : this.insert(t);
            else if (i)
                this.selection.rangeList.ranges.forEach(function(e) {
                    n.insert({
                        row: e.start.row,
                        column: 0
                    }, t)
                });
            else {
                var s = t.split(/\r\n|\r|\n/)
                  , o = this.selection.rangeList.ranges;
                if (s.length > o.length || s.length < 2 || !s[1])
                    return this.commands.exec("insertstring", this, t);
                for (var r = o.length; r--; ) {
                    var a = o[r];
                    a.isEmpty() || n.remove(a),
                    n.insert(a.start, s[r])
                }
            }
        }
        ,
        this.execCommand = function(e, t) {
            return this.commands.exec(e, this, t)
        }
        ,
        this.insert = function(e, t) {
            var i = this.session
              , n = i.getMode()
              , s = this.getCursorPosition();
            if (this.getBehavioursEnabled() && !t) {
                var o = n.transformAction(i.getState(s.row), "insertion", this, i, e);
                o && (e !== o.text && (this.inVirtualSelectionMode || (this.session.mergeUndoDeltas = !1,
                this.mergeNextCommand = !1)),
                e = o.text)
            }
            if ("\t" == e && (e = this.session.getTabString()),
            this.selection.isEmpty())
                this.session.getOverwrite() && -1 == e.indexOf("\n") && ((r = new g.fromPoints(s,s)).end.column += e.length,
                this.session.remove(r));
            else {
                var r = this.getSelectionRange();
                s = this.session.remove(r),
                this.clearSelection()
            }
            if ("\n" == e || "\r\n" == e) {
                c = i.getLine(s.row);
                if (s.column > c.search(/\S|$/)) {
                    var a = c.substr(s.column).search(/\S|$/);
                    i.doc.removeInLine(s.row, s.column, s.column + a)
                }
            }
            this.clearSelection();
            var l = s.column
              , h = i.getState(s.row)
              , c = i.getLine(s.row)
              , u = n.checkOutdent(h, c, e);
            i.insert(s, e);
            if (o && o.selection && (2 == o.selection.length ? this.selection.setSelectionRange(new g(s.row,l + o.selection[0],s.row,l + o.selection[1])) : this.selection.setSelectionRange(new g(s.row + o.selection[0],o.selection[1],s.row + o.selection[2],o.selection[3]))),
            i.getDocument().isNewLine(e)) {
                var d = n.getNextLineIndent(h, c.slice(0, s.column), i.getTabString());
                i.insert({
                    row: s.row + 1,
                    column: 0
                }, d)
            }
            u && n.autoOutdent(h, i, s.row)
        }
        ,
        this.onTextInput = function(e, t) {
            if (!t)
                return this.keyBinding.onTextInput(e);
            this.startOperation({
                command: {
                    name: "insertstring"
                }
            });
            var i = this.applyComposition.bind(this, e, t);
            this.selection.rangeCount ? this.forEachSelection(i) : i(),
            this.endOperation()
        }
        ,
        this.applyComposition = function(e, t) {
            if ((t.extendLeft || t.extendRight) && ((i = this.selection.getRange()).start.column -= t.extendLeft,
            i.end.column += t.extendRight,
            this.selection.setRange(i),
            !e && !i.isEmpty() && this.remove()),
            (e || !this.selection.isEmpty()) && this.insert(e, !0),
            t.restoreStart || t.restoreEnd) {
                var i = this.selection.getRange();
                i.start.column -= t.restoreStart,
                i.end.column -= t.restoreEnd,
                this.selection.setRange(i)
            }
        }
        ,
        this.onCommandKey = function(e, t, i) {
            this.keyBinding.onCommandKey(e, t, i)
        }
        ,
        this.setOverwrite = function(e) {
            this.session.setOverwrite(e)
        }
        ,
        this.getOverwrite = function() {
            return this.session.getOverwrite()
        }
        ,
        this.toggleOverwrite = function() {
            this.session.toggleOverwrite()
        }
        ,
        this.setScrollSpeed = function(e) {
            this.setOption("scrollSpeed", e)
        }
        ,
        this.getScrollSpeed = function() {
            return this.getOption("scrollSpeed")
        }
        ,
        this.setDragDelay = function(e) {
            this.setOption("dragDelay", e)
        }
        ,
        this.getDragDelay = function() {
            return this.getOption("dragDelay")
        }
        ,
        this.setSelectionStyle = function(e) {
            this.setOption("selectionStyle", e)
        }
        ,
        this.getSelectionStyle = function() {
            return this.getOption("selectionStyle")
        }
        ,
        this.setHighlightActiveLine = function(e) {
            this.setOption("highlightActiveLine", e)
        }
        ,
        this.getHighlightActiveLine = function() {
            return this.getOption("highlightActiveLine")
        }
        ,
        this.setHighlightGutterLine = function(e) {
            this.setOption("highlightGutterLine", e)
        }
        ,
        this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine")
        }
        ,
        this.setHighlightSelectedWord = function(e) {
            this.setOption("highlightSelectedWord", e)
        }
        ,
        this.getHighlightSelectedWord = function() {
            return this.$highlightSelectedWord
        }
        ,
        this.setAnimatedScroll = function(e) {
            this.renderer.setAnimatedScroll(e)
        }
        ,
        this.getAnimatedScroll = function() {
            return this.renderer.getAnimatedScroll()
        }
        ,
        this.setShowInvisibles = function(e) {
            this.renderer.setShowInvisibles(e)
        }
        ,
        this.getShowInvisibles = function() {
            return this.renderer.getShowInvisibles()
        }
        ,
        this.setDisplayIndentGuides = function(e) {
            this.renderer.setDisplayIndentGuides(e)
        }
        ,
        this.getDisplayIndentGuides = function() {
            return this.renderer.getDisplayIndentGuides()
        }
        ,
        this.setShowPrintMargin = function(e) {
            this.renderer.setShowPrintMargin(e)
        }
        ,
        this.getShowPrintMargin = function() {
            return this.renderer.getShowPrintMargin()
        }
        ,
        this.setPrintMarginColumn = function(e) {
            this.renderer.setPrintMarginColumn(e)
        }
        ,
        this.getPrintMarginColumn = function() {
            return this.renderer.getPrintMarginColumn()
        }
        ,
        this.setReadOnly = function(e) {
            this.setOption("readOnly", e)
        }
        ,
        this.getReadOnly = function() {
            return this.getOption("readOnly")
        }
        ,
        this.setBehavioursEnabled = function(e) {
            this.setOption("behavioursEnabled", e)
        }
        ,
        this.getBehavioursEnabled = function() {
            return this.getOption("behavioursEnabled")
        }
        ,
        this.setWrapBehavioursEnabled = function(e) {
            this.setOption("wrapBehavioursEnabled", e)
        }
        ,
        this.getWrapBehavioursEnabled = function() {
            return this.getOption("wrapBehavioursEnabled")
        }
        ,
        this.setShowFoldWidgets = function(e) {
            this.setOption("showFoldWidgets", e)
        }
        ,
        this.getShowFoldWidgets = function() {
            return this.getOption("showFoldWidgets")
        }
        ,
        this.setFadeFoldWidgets = function(e) {
            this.setOption("fadeFoldWidgets", e)
        }
        ,
        this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets")
        }
        ,
        this.remove = function(e) {
            this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight());
            var t = this.getSelectionRange();
            if (this.getBehavioursEnabled()) {
                var i = this.session
                  , n = i.getState(t.start.row)
                  , s = i.getMode().transformAction(n, "deletion", this, i, t);
                if (0 === t.end.column) {
                    var o = i.getTextRange(t);
                    if ("\n" == o[o.length - 1]) {
                        var r = i.getLine(t.end.row);
                        /^\s+$/.test(r) && (t.end.column = r.length)
                    }
                }
                s && (t = s)
            }
            this.session.remove(t),
            this.clearSelection()
        }
        ,
        this.removeWordRight = function() {
            this.selection.isEmpty() && this.selection.selectWordRight(),
            this.session.remove(this.getSelectionRange()),
            this.clearSelection()
        }
        ,
        this.removeWordLeft = function() {
            this.selection.isEmpty() && this.selection.selectWordLeft(),
            this.session.remove(this.getSelectionRange()),
            this.clearSelection()
        }
        ,
        this.removeToLineStart = function() {
            this.selection.isEmpty() && this.selection.selectLineStart(),
            this.session.remove(this.getSelectionRange()),
            this.clearSelection()
        }
        ,
        this.removeToLineEnd = function() {
            this.selection.isEmpty() && this.selection.selectLineEnd();
            var e = this.getSelectionRange();
            e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0,
            e.end.row++),
            this.session.remove(e),
            this.clearSelection()
        }
        ,
        this.splitLine = function() {
            this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()),
            this.clearSelection());
            var e = this.getCursorPosition();
            this.insert("\n"),
            this.moveCursorToPosition(e)
        }
        ,
        this.transposeLetters = function() {
            if (this.selection.isEmpty()) {
                var e = this.getCursorPosition()
                  , t = e.column;
                if (0 !== t) {
                    var i, n, s = this.session.getLine(e.row);
                    t < s.length ? (i = s.charAt(t) + s.charAt(t - 1),
                    n = new g(e.row,t - 1,e.row,t + 1)) : (i = s.charAt(t - 1) + s.charAt(t - 2),
                    n = new g(e.row,t - 2,e.row,t)),
                    this.session.replace(n, i),
                    this.session.selection.moveToPosition(n.end)
                }
            }
        }
        ,
        this.toLowerCase = function() {
            var e = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var t = this.getSelectionRange()
              , i = this.session.getTextRange(t);
            this.session.replace(t, i.toLowerCase()),
            this.selection.setSelectionRange(e)
        }
        ,
        this.toUpperCase = function() {
            var e = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var t = this.getSelectionRange()
              , i = this.session.getTextRange(t);
            this.session.replace(t, i.toUpperCase()),
            this.selection.setSelectionRange(e)
        }
        ,
        this.indent = function() {
            var e = this.session
              , t = this.getSelectionRange();
            {
                if (!(t.start.row < t.end.row)) {
                    if (t.start.column < t.end.column) {
                        var i = e.getTextRange(t);
                        if (!/^\s+$/.test(i)) {
                            c = this.$getSelectedRows();
                            return void e.indentRows(c.first, c.last, "\t")
                        }
                    }
                    var n = e.getLine(t.start.row)
                      , s = t.start
                      , r = e.getTabSize()
                      , a = e.documentToScreenColumn(s.row, s.column);
                    if (this.session.getUseSoftTabs())
                        var l = r - a % r
                          , h = o.stringRepeat(" ", l);
                    else {
                        for (l = a % r; " " == n[t.start.column - 1] && l; )
                            t.start.column--,
                            l--;
                        this.selection.setSelectionRange(t),
                        h = "\t"
                    }
                    return this.insert(h)
                }
                var c = this.$getSelectedRows();
                e.indentRows(c.first, c.last, "\t")
            }
        }
        ,
        this.blockIndent = function() {
            var e = this.$getSelectedRows();
            this.session.indentRows(e.first, e.last, "\t")
        }
        ,
        this.blockOutdent = function() {
            var e = this.session.getSelection();
            this.session.outdentRows(e.getRange())
        }
        ,
        this.sortLines = function() {
            for (var e = this.$getSelectedRows(), t = this.session, i = [], n = e.first; n <= e.last; n++)
                i.push(t.getLine(n));
            i.sort(function(e, t) {
                return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0
            });
            for (var s = new g(0,0,0,0), n = e.first; n <= e.last; n++) {
                var o = t.getLine(n);
                s.start.row = n,
                s.end.row = n,
                s.end.column = o.length,
                t.replace(s, i[n - e.first])
            }
        }
        ,
        this.toggleCommentLines = function() {
            var e = this.session.getState(this.getCursorPosition().row)
              , t = this.$getSelectedRows();
            this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last)
        }
        ,
        this.toggleBlockComment = function() {
            var e = this.getCursorPosition()
              , t = this.session.getState(e.row)
              , i = this.getSelectionRange();
            this.session.getMode().toggleBlockComment(t, this.session, i, e)
        }
        ,
        this.getNumberAt = function(e, t) {
            var i = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
            i.lastIndex = 0;
            for (var n = this.session.getLine(e); i.lastIndex < t; ) {
                var s = i.exec(n);
                if (s.index <= t && s.index + s[0].length >= t)
                    return {
                        value: s[0],
                        start: s.index,
                        end: s.index + s[0].length
                    }
            }
            return null
        }
        ,
        this.modifyNumber = function(e) {
            var t = this.selection.getCursor().row
              , i = this.selection.getCursor().column
              , n = new g(t,i - 1,t,i)
              , s = this.session.getTextRange(n);
            if (!isNaN(parseFloat(s)) && isFinite(s)) {
                var o = this.getNumberAt(t, i);
                if (o) {
                    var r = o.value.indexOf(".") >= 0 ? o.start + o.value.indexOf(".") + 1 : o.end
                      , a = o.start + o.value.length - r
                      , l = parseFloat(o.value);
                    l *= Math.pow(10, a),
                    r !== o.end && i < r ? e *= Math.pow(10, o.end - i - 1) : e *= Math.pow(10, o.end - i),
                    l += e;
                    var h = (l /= Math.pow(10, a)).toFixed(a)
                      , c = new g(t,o.start,t,o.end);
                    this.session.replace(c, h),
                    this.moveCursorTo(t, Math.max(o.start + 1, i + h.length - o.value.length))
                }
            } else
                this.toggleWord()
        }
        ,
        this.$toggleWordPairs = [["first", "last"], ["true", "false"], ["yes", "no"], ["width", "height"], ["top", "bottom"], ["right", "left"], ["on", "off"], ["x", "y"], ["get", "set"], ["max", "min"], ["horizontal", "vertical"], ["show", "hide"], ["add", "remove"], ["up", "down"], ["before", "after"], ["even", "odd"], ["inside", "outside"], ["next", "previous"], ["increase", "decrease"], ["attach", "detach"], ["&&", "||"], ["==", "!="]],
        this.toggleWord = function() {
            var e = this.selection.getCursor().row
              , t = this.selection.getCursor().column;
            this.selection.selectWord();
            var i = this.getSelectedText()
              , n = this.selection.getWordRange().start.column
              , s = i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/)
              , r = t - n - 1;
            r < 0 && (r = 0);
            var a = 0
              , l = 0
              , h = this;
            i.match(/[A-Za-z0-9_]+/) && s.forEach(function(t, s) {
                l = a + t.length,
                r >= a && r <= l && (i = t,
                h.selection.clearSelection(),
                h.moveCursorTo(e, a + n),
                h.selection.selectTo(e, l + n)),
                a = l
            });
            for (var c, u = this.$toggleWordPairs, d = 0; d < u.length; d++)
                for (var g = u[d], f = 0; f <= 1; f++) {
                    var m = +!f
                      , p = i.match(new RegExp("^\\s?_?(" + o.escapeRegExp(g[f]) + ")\\s?$","i"));
                    p && i.match(new RegExp("([_]|^|\\s)(" + o.escapeRegExp(p[1]) + ")($|\\s)","g")) && (c = i.replace(new RegExp(o.escapeRegExp(g[f]),"i"), function(e) {
                        var t = g[m];
                        return e.toUpperCase() == e ? t = t.toUpperCase() : e.charAt(0).toUpperCase() == e.charAt(0) && (t = t.substr(0, 0) + g[m].charAt(0).toUpperCase() + t.substr(1)),
                        t
                    }),
                    this.insert(c),
                    c = "")
                }
        }
        ,
        this.removeLines = function() {
            var e = this.$getSelectedRows();
            this.session.removeFullLines(e.first, e.last),
            this.clearSelection()
        }
        ,
        this.duplicateSelection = function() {
            var e = this.selection
              , t = this.session
              , i = e.getRange()
              , n = e.isBackwards();
            if (i.isEmpty()) {
                var s = i.start.row;
                t.duplicateLines(s, s)
            } else {
                var o = n ? i.start : i.end
                  , r = t.insert(o, t.getTextRange(i), !1);
                i.start = o,
                i.end = r,
                e.setSelectionRange(i, n)
            }
        }
        ,
        this.moveLinesDown = function() {
            this.$moveLines(1, !1)
        }
        ,
        this.moveLinesUp = function() {
            this.$moveLines(-1, !1)
        }
        ,
        this.moveText = function(e, t, i) {
            return this.session.moveText(e, t, i)
        }
        ,
        this.copyLinesUp = function() {
            this.$moveLines(-1, !0)
        }
        ,
        this.copyLinesDown = function() {
            this.$moveLines(1, !0)
        }
        ,
        this.$moveLines = function(e, t) {
            var i, n, s = this.selection;
            if (!s.inMultiSelectMode || this.inVirtualSelectionMode) {
                var o = s.toOrientedRange();
                i = this.$getSelectedRows(o),
                n = this.session.$moveLines(i.first, i.last, t ? 0 : e),
                t && -1 == e && (n = 0),
                o.moveBy(n, 0),
                s.fromOrientedRange(o)
            } else {
                var r = s.rangeList.ranges;
                s.rangeList.detach(this.session),
                this.inVirtualSelectionMode = !0;
                for (var a = 0, l = 0, h = r.length, c = 0; c < h; c++) {
                    var u = c;
                    r[c].moveBy(a, 0);
                    for (var d = (i = this.$getSelectedRows(r[c])).first, g = i.last; ++c < h; ) {
                        l && r[c].moveBy(l, 0);
                        var f = this.$getSelectedRows(r[c]);
                        if (t && f.first != g)
                            break;
                        if (!t && f.first > g + 1)
                            break;
                        g = f.last
                    }
                    for (c--,
                    a = this.session.$moveLines(d, g, t ? 0 : e),
                    t && -1 == e && (u = c + 1); u <= c; )
                        r[u].moveBy(a, 0),
                        u++;
                    t || (a = 0),
                    l += a
                }
                s.fromOrientedRange(s.ranges[0]),
                s.rangeList.attach(this.session),
                this.inVirtualSelectionMode = !1
            }
        }
        ,
        this.$getSelectedRows = function(e) {
            return e = (e || this.getSelectionRange()).collapseRows(),
            {
                first: this.session.getRowFoldStart(e.start.row),
                last: this.session.getRowFoldEnd(e.end.row)
            }
        }
        ,
        this.onCompositionStart = function(e) {
            this.renderer.showComposition(e)
        }
        ,
        this.onCompositionUpdate = function(e) {
            this.renderer.setCompositionText(e)
        }
        ,
        this.onCompositionEnd = function() {
            this.renderer.hideComposition()
        }
        ,
        this.getFirstVisibleRow = function() {
            return this.renderer.getFirstVisibleRow()
        }
        ,
        this.getLastVisibleRow = function() {
            return this.renderer.getLastVisibleRow()
        }
        ,
        this.isRowVisible = function(e) {
            return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow()
        }
        ,
        this.isRowFullyVisible = function(e) {
            return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow()
        }
        ,
        this.$getVisibleRowCount = function() {
            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1
        }
        ,
        this.$moveByPage = function(e, t) {
            var i = this.renderer
              , n = this.renderer.layerConfig
              , s = e * Math.floor(n.height / n.lineHeight);
            !0 === t ? this.selection.$moveSelection(function() {
                this.moveCursorBy(s, 0)
            }) : !1 === t && (this.selection.moveCursorBy(s, 0),
            this.selection.clearSelection());
            var o = i.scrollTop;
            i.scrollBy(0, s * n.lineHeight),
            null != t && i.scrollCursorIntoView(null, .5),
            i.animateScrolling(o)
        }
        ,
        this.selectPageDown = function() {
            this.$moveByPage(1, !0)
        }
        ,
        this.selectPageUp = function() {
            this.$moveByPage(-1, !0)
        }
        ,
        this.gotoPageDown = function() {
            this.$moveByPage(1, !1)
        }
        ,
        this.gotoPageUp = function() {
            this.$moveByPage(-1, !1)
        }
        ,
        this.scrollPageDown = function() {
            this.$moveByPage(1)
        }
        ,
        this.scrollPageUp = function() {
            this.$moveByPage(-1)
        }
        ,
        this.scrollToRow = function(e) {
            this.renderer.scrollToRow(e)
        }
        ,
        this.scrollToLine = function(e, t, i, n) {
            this.renderer.scrollToLine(e, t, i, n)
        }
        ,
        this.centerSelection = function() {
            var e = this.getSelectionRange()
              , t = {
                row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
                column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
            };
            this.renderer.alignCursor(t, .5)
        }
        ,
        this.getCursorPosition = function() {
            return this.selection.getCursor()
        }
        ,
        this.getCursorPositionScreen = function() {
            return this.session.documentToScreenPosition(this.getCursorPosition())
        }
        ,
        this.getSelectionRange = function() {
            return this.selection.getRange()
        }
        ,
        this.selectAll = function() {
            this.selection.selectAll()
        }
        ,
        this.clearSelection = function() {
            this.selection.clearSelection()
        }
        ,
        this.moveCursorTo = function(e, t) {
            this.selection.moveCursorTo(e, t)
        }
        ,
        this.moveCursorToPosition = function(e) {
            this.selection.moveCursorToPosition(e)
        }
        ,
        this.jumpToMatching = function(e, t) {
            var i = this.getCursorPosition()
              , n = new w(this.session,i.row,i.column)
              , s = n.getCurrentToken()
              , o = s || n.stepForward();
            if (o) {
                var r, a, l = !1, h = {}, c = i.column - o.start, u = {
                    ")": "(",
                    "(": "(",
                    "]": "[",
                    "[": "[",
                    "{": "{",
                    "}": "{"
                };
                do {
                    if (o.value.match(/[{}()\[\]]/g)) {
                        for (; c < o.value.length && !l; c++)
                            if (u[o.value[c]])
                                switch (a = u[o.value[c]] + "." + o.type.replace("rparen", "lparen"),
                                isNaN(h[a]) && (h[a] = 0),
                                o.value[c]) {
                                case "(":
                                case "[":
                                case "{":
                                    h[a]++;
                                    break;
                                case ")":
                                case "]":
                                case "}":
                                    h[a]--,
                                    -1 === h[a] && (r = "bracket",
                                    l = !0)
                                }
                    } else
                        -1 !== o.type.indexOf("tag-name") && (isNaN(h[o.value]) && (h[o.value] = 0),
                        "<" === s.value ? h[o.value]++ : "</" === s.value && h[o.value]--,
                        -1 === h[o.value] && (r = "tag",
                        l = !0));
                    l || (s = o,
                    o = n.stepForward(),
                    c = 0)
                } while (o && !l);
                if (r) {
                    var d, f;
                    if ("bracket" === r)
                        (d = this.session.getBracketRange(i)) || (f = (d = new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn() + c - 1,n.getCurrentTokenRow(),n.getCurrentTokenColumn() + c - 1)).start,
                        (t || f.row === i.row && Math.abs(f.column - i.column) < 2) && (d = this.session.getBracketRange(f)));
                    else if ("tag" === r) {
                        if (!o || -1 === o.type.indexOf("tag-name"))
                            return;
                        var m = o.value;
                        if (0 === (d = new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn() - 2,n.getCurrentTokenRow(),n.getCurrentTokenColumn() - 2)).compare(i.row, i.column)) {
                            l = !1;
                            do {
                                o = s,
                                (s = n.stepBackward()) && (-1 !== s.type.indexOf("tag-close") && d.setEnd(n.getCurrentTokenRow(), n.getCurrentTokenColumn() + 1),
                                o.value === m && -1 !== o.type.indexOf("tag-name") && ("<" === s.value ? h[m]++ : "</" === s.value && h[m]--,
                                0 === h[m] && (l = !0)))
                            } while (s && !l)
                        }
                        o && o.type.indexOf("tag-name") && (f = d.start).row == i.row && Math.abs(f.column - i.column) < 2 && (f = d.end)
                    }
                    (f = d && d.cursor || f) && (e ? d && t ? this.selection.setRange(d) : d && d.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(f.row, f.column) : this.selection.moveTo(f.row, f.column))
                }
            }
        }
        ,
        this.gotoLine = function(e, t, i) {
            this.selection.clearSelection(),
            this.session.unfold({
                row: e - 1,
                column: t || 0
            }),
            this.exitMultiSelectMode && this.exitMultiSelectMode(),
            this.moveCursorTo(e - 1, t || 0),
            this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, i)
        }
        ,
        this.navigateTo = function(e, t) {
            this.selection.moveTo(e, t)
        }
        ,
        this.navigateUp = function(e) {
            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
                var t = this.selection.anchor.getPosition();
                return this.moveCursorToPosition(t)
            }
            this.selection.clearSelection(),
            this.selection.moveCursorBy(-e || -1, 0)
        }
        ,
        this.navigateDown = function(e) {
            if (this.selection.isMultiLine() && this.selection.isBackwards()) {
                var t = this.selection.anchor.getPosition();
                return this.moveCursorToPosition(t)
            }
            this.selection.clearSelection(),
            this.selection.moveCursorBy(e || 1, 0)
        }
        ,
        this.navigateLeft = function(e) {
            if (this.selection.isEmpty())
                for (e = e || 1; e--; )
                    this.selection.moveCursorLeft();
            else {
                var t = this.getSelectionRange().start;
                this.moveCursorToPosition(t)
            }
            this.clearSelection()
        }
        ,
        this.navigateRight = function(e) {
            if (this.selection.isEmpty())
                for (e = e || 1; e--; )
                    this.selection.moveCursorRight();
            else {
                var t = this.getSelectionRange().end;
                this.moveCursorToPosition(t)
            }
            this.clearSelection()
        }
        ,
        this.navigateLineStart = function() {
            this.selection.moveCursorLineStart(),
            this.clearSelection()
        }
        ,
        this.navigateLineEnd = function() {
            this.selection.moveCursorLineEnd(),
            this.clearSelection()
        }
        ,
        this.navigateFileEnd = function() {
            this.selection.moveCursorFileEnd(),
            this.clearSelection()
        }
        ,
        this.navigateFileStart = function() {
            this.selection.moveCursorFileStart(),
            this.clearSelection()
        }
        ,
        this.navigateWordRight = function() {
            this.selection.moveCursorWordRight(),
            this.clearSelection()
        }
        ,
        this.navigateWordLeft = function() {
            this.selection.moveCursorWordLeft(),
            this.clearSelection()
        }
        ,
        this.replace = function(e, t) {
            t && this.$search.set(t);
            var i = this.$search.find(this.session)
              , n = 0;
            return i ? (this.$tryReplace(i, e) && (n = 1),
            this.selection.setSelectionRange(i),
            this.renderer.scrollSelectionIntoView(i.start, i.end),
            n) : n
        }
        ,
        this.replaceAll = function(e, t) {
            t && this.$search.set(t);
            var i = this.$search.findAll(this.session)
              , n = 0;
            if (!i.length)
                return n;
            var s = this.getSelectionRange();
            this.selection.moveTo(0, 0);
            for (var o = i.length - 1; o >= 0; --o)
                this.$tryReplace(i[o], e) && n++;
            return this.selection.setSelectionRange(s),
            n
        }
        ,
        this.$tryReplace = function(e, t) {
            var i = this.session.getTextRange(e);
            return null !== (t = this.$search.replace(i, t)) ? (e.end = this.session.replace(e, t),
            e) : null
        }
        ,
        this.getLastSearchOptions = function() {
            return this.$search.getOptions()
        }
        ,
        this.find = function(e, t, i) {
            t || (t = {}),
            "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && n.mixin(t, e);
            var s = this.selection.getRange();
            null == t.needle && ((e = this.session.getTextRange(s) || this.$search.$options.needle) || (s = this.session.getWordRange(s.start.row, s.start.column),
            e = this.session.getTextRange(s)),
            this.$search.set({
                needle: e
            })),
            this.$search.set(t),
            t.start || this.$search.set({
                start: s
            });
            var o = this.$search.find(this.session);
            return t.preventScroll ? o : o ? (this.revealRange(o, i),
            o) : (t.backwards ? s.start = s.end : s.end = s.start,
            void this.selection.setRange(s))
        }
        ,
        this.findNext = function(e, t) {
            this.find({
                skipCurrent: !0,
                backwards: !1
            }, e, t)
        }
        ,
        this.findPrevious = function(e, t) {
            this.find(e, {
                skipCurrent: !0,
                backwards: !0
            }, t)
        }
        ,
        this.revealRange = function(e, t) {
            this.session.unfold(e),
            this.selection.setSelectionRange(e);
            var i = this.renderer.scrollTop;
            this.renderer.scrollSelectionIntoView(e.start, e.end, .5),
            !1 !== t && this.renderer.animateScrolling(i)
        }
        ,
        this.undo = function() {
            this.session.getUndoManager().undo(this.session),
            this.renderer.scrollCursorIntoView(null, .5)
        }
        ,
        this.redo = function() {
            this.session.getUndoManager().redo(this.session),
            this.renderer.scrollCursorIntoView(null, .5)
        }
        ,
        this.destroy = function() {
            this.renderer.destroy(),
            this._signal("destroy", this),
            this.session && this.session.destroy()
        }
        ,
        this.setAutoScrollEditorIntoView = function(e) {
            if (e) {
                var t, i = this, n = !1;
                this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
                var s = this.$scrollAnchor;
                s.style.cssText = "position:absolute",
                this.container.insertBefore(s, this.container.firstChild);
                var o = this.on("changeSelection", function() {
                    n = !0
                })
                  , r = this.renderer.on("beforeRender", function() {
                    n && (t = i.renderer.container.getBoundingClientRect())
                })
                  , a = this.renderer.on("afterRender", function() {
                    if (n && t && (i.isFocused() || i.searchBox && i.searchBox.isFocused())) {
                        var e = i.renderer
                          , o = e.$cursorLayer.$pixelPos
                          , r = e.layerConfig
                          , a = o.top - r.offset;
                        null != (n = o.top >= 0 && a + t.top < 0 || !(o.top < r.height && o.top + t.top + r.lineHeight > window.innerHeight) && null) && (s.style.top = a + "px",
                        s.style.left = o.left + "px",
                        s.style.height = r.lineHeight + "px",
                        s.scrollIntoView(n)),
                        n = t = null
                    }
                });
                this.setAutoScrollEditorIntoView = function(e) {
                    e || (delete this.setAutoScrollEditorIntoView,
                    this.off("changeSelection", o),
                    this.renderer.off("afterRender", a),
                    this.renderer.off("beforeRender", r))
                }
            }
        }
        ,
        this.$resetCursorStyle = function() {
            var e = this.$cursorStyle || "ace"
              , t = this.renderer.$cursorLayer;
            t && (t.setSmoothBlinking(/smooth/.test(e)),
            t.isBlinking = !this.$readOnly && "wide" != e,
            s.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e)))
        }
    }
    .call(b.prototype),
    v.defineOptions(b.prototype, "editor", {
        selectionStyle: {
            set: function(e) {
                this.onSelectionChange(),
                this._signal("changeSelectionStyle", {
                    data: e
                })
            },
            initialValue: "line"
        },
        highlightActiveLine: {
            set: function() {
                this.$updateHighlightActiveLine()
            },
            initialValue: !0
        },
        highlightSelectedWord: {
            set: function(e) {
                this.$onSelectionChange()
            },
            initialValue: !0
        },
        readOnly: {
            set: function(e) {
                this.textInput.setReadOnly(e),
                this.$resetCursorStyle()
            },
            initialValue: !1
        },
        copyWithEmptySelection: {
            set: function(e) {
                this.textInput.setCopyWithEmptySelection(e)
            },
            initialValue: !1
        },
        cursorStyle: {
            set: function(e) {
                this.$resetCursorStyle()
            },
            values: ["ace", "slim", "smooth", "wide"],
            initialValue: "ace"
        },
        mergeUndoDeltas: {
            values: [!1, !0, "always"],
            initialValue: !0
        },
        behavioursEnabled: {
            initialValue: !0
        },
        wrapBehavioursEnabled: {
            initialValue: !0
        },
        autoScrollEditorIntoView: {
            set: function(e) {
                this.setAutoScrollEditorIntoView(e)
            }
        },
        keyboardHandler: {
            set: function(e) {
                this.setKeyboardHandler(e)
            },
            get: function() {
                return this.$keybindingId
            },
            handlesSet: !0
        },
        value: {
            set: function(e) {
                this.session.setValue(e)
            },
            get: function() {
                return this.getValue()
            },
            handlesSet: !0,
            hidden: !0
        },
        session: {
            set: function(e) {
                this.setSession(e)
            },
            get: function() {
                return this.session
            },
            handlesSet: !0,
            hidden: !0
        },
        showLineNumbers: {
            set: function(e) {
                this.renderer.$gutterLayer.setShowLineNumbers(e),
                this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),
                e && this.$relativeLineNumbers ? y.attach(this) : y.detach(this)
            },
            initialValue: !0
        },
        relativeLineNumbers: {
            set: function(e) {
                this.$showLineNumbers && e ? y.attach(this) : y.detach(this)
            }
        },
        hScrollBarAlwaysVisible: "renderer",
        vScrollBarAlwaysVisible: "renderer",
        highlightGutterLine: "renderer",
        animatedScroll: "renderer",
        showInvisibles: "renderer",
        showPrintMargin: "renderer",
        printMarginColumn: "renderer",
        printMargin: "renderer",
        fadeFoldWidgets: "renderer",
        showFoldWidgets: "renderer",
        displayIndentGuides: "renderer",
        showGutter: "renderer",
        fontSize: "renderer",
        fontFamily: "renderer",
        maxLines: "renderer",
        minLines: "renderer",
        scrollPastEnd: "renderer",
        fixedWidthGutter: "renderer",
        theme: "renderer",
        hasCssTransforms: "renderer",
        maxPixelHeight: "renderer",
        useTextareaForIME: "renderer",
        scrollSpeed: "$mouseHandler",
        dragDelay: "$mouseHandler",
        dragEnabled: "$mouseHandler",
        focusTimeout: "$mouseHandler",
        tooltipFollowsMouse: "$mouseHandler",
        firstLineNumber: "session",
        overwrite: "session",
        newLineMode: "session",
        useWorker: "session",
        useSoftTabs: "session",
        navigateWithinSoftTabs: "session",
        tabSize: "session",
        wrap: "session",
        indentedSoftWrap: "session",
        foldStyle: "session",
        mode: "session"
    });
    var y = {
        getText: function(e, t) {
            return (Math.abs(e.selection.lead.row - t) || t + 1 + (t < 9 ? "¬∑" : "")) + ""
        },
        getWidth: function(e, t, i) {
            return Math.max(t.toString().length, (i.lastRow + 1).toString().length, 2) * i.characterWidth
        },
        update: function(e, t) {
            t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)
        },
        attach: function(e) {
            e.renderer.$gutterLayer.$renderer = this,
            e.on("changeSelection", this.update),
            this.update(null, e)
        },
        detach: function(e) {
            e.renderer.$gutterLayer.$renderer == this && (e.renderer.$gutterLayer.$renderer = null),
            e.off("changeSelection", this.update),
            this.update(null, e)
        }
    };
    t.Editor = b
}),
ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e, t) {
        for (var i = t; i--; ) {
            var n = e[i];
            if (n && !n[0].ignore) {
                for (; i < t - 1; ) {
                    var s = h(e[i], e[i + 1]);
                    e[i] = s[0],
                    e[i + 1] = s[1],
                    i++
                }
                return !0
            }
        }
    }
    function s(e) {
        return {
            row: e.row,
            column: e.column
        }
    }
    function o(e) {
        return {
            start: s(e.start),
            end: s(e.end),
            action: e.action,
            lines: e.lines.slice()
        }
    }
    function r(e) {
        if (e = e || this,
        Array.isArray(e))
            return e.map(r).join("\n");
        var t = "";
        return e.action ? (t = "insert" == e.action ? "+" : "-",
        t += "[" + e.lines + "]") : e.value && (t = Array.isArray(e.value) ? e.value.map(a).join("\n") : a(e.value)),
        e.start && (t += a(e)),
        (e.id || e.rev) && (t += "\t(" + (e.id || e.rev) + ")"),
        t
    }
    function a(e) {
        return e.start.row + ":" + e.start.column + "=>" + e.end.row + ":" + e.end.column
    }
    function l(e, t) {
        var i = "insert" == e.action
          , n = "insert" == t.action;
        if (i && n)
            if (w(t.start, e.end) >= 0)
                u(t, e, -1);
            else {
                if (!(w(t.start, e.start) <= 0))
                    return null;
                u(e, t, 1)
            }
        else if (i && !n)
            if (w(t.start, e.end) >= 0)
                u(t, e, -1);
            else {
                if (!(w(t.end, e.start) <= 0))
                    return null;
                u(e, t, -1)
            }
        else if (!i && n)
            if (w(t.start, e.start) >= 0)
                u(t, e, 1);
            else {
                if (!(w(t.start, e.start) <= 0))
                    return null;
                u(e, t, 1)
            }
        else if (!i && !n)
            if (w(t.start, e.start) >= 0)
                u(t, e, 1);
            else {
                if (!(w(t.end, e.start) <= 0))
                    return null;
                u(e, t, -1)
            }
        return [t, e]
    }
    function h(e, t) {
        for (var i = e.length; i--; )
            for (var n = 0; n < t.length; n++)
                if (!l(e[i], t[n])) {
                    for (; i < e.length; ) {
                        for (; n--; )
                            l(t[n], e[i]);
                        n = t.length,
                        i++
                    }
                    return [e, t]
                }
        return e.selectionBefore = t.selectionBefore = e.selectionAfter = t.selectionAfter = null,
        [t, e]
    }
    function c(e, t) {
        var i = "insert" == e.action
          , n = "insert" == t.action;
        if (i && n)
            w(e.start, t.start) < 0 ? u(t, e, 1) : u(e, t, 1);
        else if (i && !n)
            w(e.start, t.end) >= 0 ? u(e, t, -1) : w(e.start, t.start) <= 0 ? u(t, e, 1) : (u(e, v.fromPoints(t.start, e.start), -1),
            u(t, e, 1));
        else if (!i && n)
            w(t.start, e.end) >= 0 ? u(t, e, -1) : w(t.start, e.start) <= 0 ? u(e, t, 1) : (u(t, v.fromPoints(e.start, t.start), -1),
            u(e, t, 1));
        else if (!i && !n)
            if (w(t.start, e.end) >= 0)
                u(t, e, -1);
            else {
                if (!(w(t.end, e.start) <= 0)) {
                    var s, o;
                    return w(e.start, t.start) < 0 && (s = e,
                    e = g(e, t.start)),
                    w(e.end, t.end) > 0 && (o = g(e, t.end)),
                    d(t.end, e.start, e.end, -1),
                    o && !s && (e.lines = o.lines,
                    e.start = o.start,
                    e.end = o.end,
                    o = e),
                    [t, s, o].filter(Boolean)
                }
                u(e, t, -1)
            }
        return [t, e]
    }
    function u(e, t, i) {
        d(e.start, t.start, t.end, i),
        d(e.end, t.start, t.end, i)
    }
    function d(e, t, i, n) {
        e.row == (1 == n ? t : i).row && (e.column += n * (i.column - t.column)),
        e.row += n * (i.row - t.row)
    }
    function g(e, t) {
        var i = e.lines
          , n = e.end;
        e.end = s(t);
        var o = e.end.row - e.start.row
          , r = i.splice(o, i.length)
          , a = o ? t.column : t.column - e.start.column;
        return i.push(r[0].substring(0, a)),
        r[0] = r[0].substr(a),
        {
            start: s(t),
            end: n,
            lines: r,
            action: e.action
        }
    }
    function f(e, t) {
        t = o(t);
        for (var i = e.length; i--; ) {
            for (var n = e[i], s = 0; s < n.length; s++) {
                var r = c(n[s], t);
                t = r[0],
                2 != r.length && (r[2] ? (n.splice(s + 1, 1, r[1], r[2]),
                s++) : r[1] || (n.splice(s, 1),
                s--))
            }
            n.length || e.splice(i, 1)
        }
        return e
    }
    function m(e, t) {
        for (var i = 0; i < t.length; i++)
            for (var n = t[i], s = 0; s < n.length; s++)
                f(e, n[s])
    }
    var p = function() {
        this.$maxRev = 0,
        this.$fromUndo = !1,
        this.reset()
    };
    (function() {
        this.addSession = function(e) {
            this.$session = e
        }
        ,
        this.add = function(e, t, i) {
            this.$fromUndo || e != this.$lastDelta && (!1 !== t && this.lastDeltas || (this.lastDeltas = [],
            this.$undoStack.push(this.lastDeltas),
            e.id = this.$rev = ++this.$maxRev),
            "remove" != e.action && "insert" != e.action || (this.$lastDelta = e),
            this.lastDeltas.push(e))
        }
        ,
        this.addSelection = function(e, t) {
            this.selections.push({
                value: e,
                rev: t || this.$rev
            })
        }
        ,
        this.startNewGroup = function() {
            return this.lastDeltas = null,
            this.$rev
        }
        ,
        this.markIgnored = function(e, t) {
            null == t && (t = this.$rev + 1);
            for (var i = this.$undoStack, n = i.length; n--; ) {
                var s = i[n][0];
                if (s.id <= e)
                    break;
                s.id < t && (s.ignore = !0)
            }
            this.lastDeltas = null
        }
        ,
        this.getSelection = function(e, t) {
            for (var i = this.selections, n = i.length; n--; ) {
                var s = i[n];
                if (s.rev < e)
                    return t && (s = i[n + 1]),
                    s
            }
        }
        ,
        this.getRevision = function() {
            return this.$rev
        }
        ,
        this.getDeltas = function(e, t) {
            null == t && (t = this.$rev + 1);
            for (var i = this.$undoStack, n = null, s = 0, o = i.length; o--; ) {
                var r = i[o][0];
                if (r.id < t && !n && (n = o + 1),
                r.id <= e) {
                    s = o + 1;
                    break
                }
            }
            return i.slice(s, n)
        }
        ,
        this.getChangedRanges = function(e, t) {
            null == t && (t = this.$rev + 1)
        }
        ,
        this.getChangedLines = function(e, t) {
            null == t && (t = this.$rev + 1)
        }
        ,
        this.undo = function(e, t) {
            this.lastDeltas = null;
            var i = this.$undoStack;
            if (n(i, i.length)) {
                e || (e = this.$session),
                this.$redoStackBaseRev !== this.$rev && this.$redoStack.length && (this.$redoStack = []),
                this.$fromUndo = !0;
                var s = i.pop()
                  , o = null;
                return s && s.length && (o = e.undoChanges(s, t),
                this.$redoStack.push(s),
                this.$syncRev()),
                this.$fromUndo = !1,
                o
            }
        }
        ,
        this.redo = function(e, t) {
            if (this.lastDeltas = null,
            e || (e = this.$session),
            this.$fromUndo = !0,
            this.$redoStackBaseRev != this.$rev) {
                var i = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);
                m(this.$redoStack, i),
                this.$redoStackBaseRev = this.$rev,
                this.$redoStack.forEach(function(e) {
                    e[0].id = ++this.$maxRev
                }, this)
            }
            var n = this.$redoStack.pop()
              , s = null;
            return n && (s = e.redoChanges(n, t),
            this.$undoStack.push(n),
            this.$syncRev()),
            this.$fromUndo = !1,
            s
        }
        ,
        this.$syncRev = function() {
            var e = this.$undoStack
              , t = e[e.length - 1]
              , i = t && t[0].id || 0;
            this.$redoStackBaseRev = i,
            this.$rev = i
        }
        ,
        this.reset = function() {
            this.lastDeltas = null,
            this.$lastDelta = null,
            this.$undoStack = [],
            this.$redoStack = [],
            this.$rev = 0,
            this.mark = 0,
            this.$redoStackBaseRev = this.$rev,
            this.selections = []
        }
        ,
        this.canUndo = function() {
            return this.$undoStack.length > 0
        }
        ,
        this.canRedo = function() {
            return this.$redoStack.length > 0
        }
        ,
        this.bookmark = function(e) {
            void 0 == e && (e = this.$rev),
            this.mark = e
        }
        ,
        this.isAtBookmark = function() {
            return this.$rev === this.mark
        }
        ,
        this.toJSON = function() {}
        ,
        this.fromJSON = function() {}
        ,
        this.hasUndo = this.canUndo,
        this.hasRedo = this.canRedo,
        this.isClean = this.isAtBookmark,
        this.markClean = this.bookmark,
        this.$prettyPrint = function(e) {
            return e ? r(e) : r(this.$undoStack) + "\n---\n" + r(this.$redoStack)
        }
    }
    ).call(p.prototype);
    var v = e("./range").Range
      , w = v.comparePoints;
    v.comparePoints;
    t.UndoManager = p
}),
ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    var n = e("../lib/dom")
      , s = function(e, t) {
        this.element = e,
        this.canvasHeight = t || 5e5,
        this.element.style.height = 2 * this.canvasHeight + "px",
        this.cells = [],
        this.cellCache = [],
        this.$offsetCoefficient = 0
    };
    (function() {
        this.moveContainer = function(e) {
            n.translate(this.element, 0, -e.firstRowScreen * e.lineHeight % this.canvasHeight - e.offset * this.$offsetCoefficient)
        }
        ,
        this.pageChanged = function(e, t) {
            return Math.floor(e.firstRowScreen * e.lineHeight / this.canvasHeight) !== Math.floor(t.firstRowScreen * t.lineHeight / this.canvasHeight)
        }
        ,
        this.computeLineTop = function(e, t, i) {
            var n = t.firstRowScreen * t.lineHeight
              , s = Math.floor(n / this.canvasHeight);
            return i.documentToScreenRow(e, 0) * t.lineHeight - s * this.canvasHeight
        }
        ,
        this.computeLineHeight = function(e, t, i) {
            return t.lineHeight * i.getRowLength(e)
        }
        ,
        this.getLength = function() {
            return this.cells.length
        }
        ,
        this.get = function(e) {
            return this.cells[e]
        }
        ,
        this.shift = function() {
            this.$cacheCell(this.cells.shift())
        }
        ,
        this.pop = function() {
            this.$cacheCell(this.cells.pop())
        }
        ,
        this.push = function(e) {
            if (Array.isArray(e)) {
                this.cells.push.apply(this.cells, e);
                for (var t = n.createFragment(this.element), i = 0; i < e.length; i++)
                    t.appendChild(e[i].element);
                this.element.appendChild(t)
            } else
                this.cells.push(e),
                this.element.appendChild(e.element)
        }
        ,
        this.unshift = function(e) {
            if (Array.isArray(e)) {
                this.cells.unshift.apply(this.cells, e);
                for (var t = n.createFragment(this.element), i = 0; i < e.length; i++)
                    t.appendChild(e[i].element);
                this.element.firstChild ? this.element.insertBefore(t, this.element.firstChild) : this.element.appendChild(t)
            } else
                this.cells.unshift(e),
                this.element.insertAdjacentElement("afterbegin", e.element)
        }
        ,
        this.last = function() {
            return this.cells.length ? this.cells[this.cells.length - 1] : null
        }
        ,
        this.$cacheCell = function(e) {
            e && (e.element.remove(),
            this.cellCache.push(e))
        }
        ,
        this.createCell = function(e, t, i, s) {
            var o = this.cellCache.pop();
            if (!o) {
                var r = n.createElement("div");
                s && s(r),
                this.element.appendChild(r),
                o = {
                    element: r,
                    text: "",
                    row: e
                }
            }
            return o.row = e,
            o
        }
    }
    ).call(s.prototype),
    t.Lines = s
}),
ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines"], function(e, t, i) {
    "use strict";
    function n(e) {
        var t = document.createTextNode("");
        e.appendChild(t);
        var i = s.createElement("span");
        return e.appendChild(i),
        e
    }
    var s = e("../lib/dom")
      , o = e("../lib/oop")
      , r = e("../lib/lang")
      , a = e("../lib/event_emitter").EventEmitter
      , l = e("./lines").Lines
      , h = function(e) {
        this.element = s.createElement("div"),
        this.element.className = "ace_layer ace_gutter-layer",
        e.appendChild(this.element),
        this.setShowFoldWidgets(this.$showFoldWidgets),
        this.gutterWidth = 0,
        this.$annotations = [],
        this.$updateAnnotations = this.$updateAnnotations.bind(this),
        this.$lines = new l(this.element),
        this.$lines.$offsetCoefficient = 1
    };
    (function() {
        o.implement(this, a),
        this.setSession = function(e) {
            this.session && this.session.removeEventListener("change", this.$updateAnnotations),
            this.session = e,
            e && e.on("change", this.$updateAnnotations)
        }
        ,
        this.addGutterDecoration = function(e, t) {
            window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"),
            this.session.addGutterDecoration(e, t)
        }
        ,
        this.removeGutterDecoration = function(e, t) {
            window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"),
            this.session.removeGutterDecoration(e, t)
        }
        ,
        this.setAnnotations = function(e) {
            this.$annotations = [];
            for (var t = 0; t < e.length; t++) {
                var i = e[t]
                  , n = i.row
                  , s = this.$annotations[n];
                s || (s = this.$annotations[n] = {
                    text: []
                });
                var o = i.text;
                o = o ? r.escapeHTML(o) : i.html || "",
                -1 === s.text.indexOf(o) && s.text.push(o);
                var a = i.type;
                "error" == a ? s.className = " ace_error" : "warning" == a && " ace_error" != s.className ? s.className = " ace_warning" : "info" == a && !s.className && (s.className = " ace_info")
            }
        }
        ,
        this.$updateAnnotations = function(e) {
            if (this.$annotations.length) {
                var t = e.start.row
                  , i = e.end.row - t;
                if (0 !== i)
                    if ("remove" == e.action)
                        this.$annotations.splice(t, i + 1, null);
                    else {
                        var n = new Array(i + 1);
                        n.unshift(t, 1),
                        this.$annotations.splice.apply(this.$annotations, n)
                    }
            }
        }
        ,
        this.update = function(e) {
            this.config = e;
            var t = this.session
              , i = e.firstRow
              , s = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1);
            this.oldLastRow = s,
            this.config = e,
            this.$lines.moveContainer(e),
            this.$updateCursorRow();
            for (var o = t.getNextFoldLine(i), r = o ? o.start.row : 1 / 0, a = null, l = -1, h = i; ; ) {
                if (h > r && (h = o.end.row + 1,
                o = t.getNextFoldLine(h, o),
                r = o ? o.start.row : 1 / 0),
                h > s) {
                    for (; this.$lines.getLength() > l + 1; )
                        this.$lines.pop();
                    break
                }
                (a = this.$lines.get(++l)) ? a.row = h : (a = this.$lines.createCell(h, e, this.session, n),
                this.$lines.push(a)),
                this.$renderCell(a, e, o, h),
                h++
            }
            this._signal("afterRender"),
            this.$updateGutterWidth(e)
        }
        ,
        this.$updateGutterWidth = function(e) {
            var t = this.session
              , i = t.gutterRenderer || this.$renderer
              , n = t.$firstLineNumber
              , s = this.$lines.last() ? this.$lines.last().text : "";
            (this.$fixedWidth || t.$useWrapMode) && (s = t.getLength() + n);
            var o = i ? i.getWidth(t, s, e) : s.toString().length * e.characterWidth
              , r = this.$padding || this.$computePadding();
            (o += r.left + r.right) !== this.gutterWidth && !isNaN(o) && (this.gutterWidth = o,
            this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px",
            this._signal("changeGutterWidth", o))
        }
        ,
        this.$updateCursorRow = function() {
            if (this.$highlightGutterLine) {
                var e = this.session.selection.getCursor();
                this.$cursorRow !== e.row && (this.$cursorRow = e.row)
            }
        }
        ,
        this.updateLineHighlight = function() {
            if (this.$highlightGutterLine) {
                var e = this.session.selection.cursor.row;
                if (this.$cursorRow = e,
                !this.$cursorCell || this.$cursorCell.row != e) {
                    this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", ""));
                    var t = this.$lines.cells;
                    this.$cursorCell = null;
                    for (var i = 0; i < t.length; i++) {
                        var n = t[i];
                        if (n.row >= this.$cursorRow) {
                            if (n.row > this.$cursorRow) {
                                var s = this.session.getFoldLine(this.$cursorRow);
                                if (!(i > 0 && s && s.start.row == t[i - 1].row))
                                    break;
                                n = t[i - 1]
                            }
                            n.element.className = "ace_gutter-active-line " + n.element.className,
                            this.$cursorCell = n;
                            break
                        }
                    }
                }
            }
        }
        ,
        this.scrollLines = function(e) {
            var t = this.config;
            if (this.config = e,
            this.$updateCursorRow(),
            this.$lines.pageChanged(t, e))
                return this.update(e);
            this.$lines.moveContainer(e);
            var i = Math.min(e.lastRow + e.gutterOffset, this.session.getLength() - 1)
              , n = this.oldLastRow;
            if (this.oldLastRow = i,
            !t || n < e.firstRow)
                return this.update(e);
            if (i < t.firstRow)
                return this.update(e);
            if (t.firstRow < e.firstRow)
                for (s = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); s > 0; s--)
                    this.$lines.shift();
            if (n > i)
                for (var s = this.session.getFoldedRowCount(i + 1, n); s > 0; s--)
                    this.$lines.pop();
            e.firstRow < t.firstRow && this.$lines.unshift(this.$renderLines(e, e.firstRow, t.firstRow - 1)),
            i > n && this.$lines.push(this.$renderLines(e, n + 1, i)),
            this.updateLineHighlight(),
            this._signal("afterRender"),
            this.$updateGutterWidth(e)
        }
        ,
        this.$renderLines = function(e, t, i) {
            for (var s = [], o = t, r = this.session.getNextFoldLine(o), a = r ? r.start.row : 1 / 0; o > a && (o = r.end.row + 1,
            r = this.session.getNextFoldLine(o, r),
            a = r ? r.start.row : 1 / 0),
            !(o > i); ) {
                var l = this.$lines.createCell(o, e, this.session, n);
                this.$renderCell(l, e, r, o),
                s.push(l),
                o++
            }
            return s
        }
        ,
        this.$renderCell = function(e, t, i, n) {
            var o = e.element
              , r = this.session
              , a = o.childNodes[0]
              , l = o.childNodes[1]
              , h = r.$firstLineNumber
              , c = r.$breakpoints
              , u = r.$decorations
              , d = r.gutterRenderer || this.$renderer
              , g = this.$showFoldWidgets && r.foldWidgets
              , f = i ? i.start.row : Number.MAX_VALUE
              , m = "ace_gutter-cell ";
            if (this.$highlightGutterLine && (n == this.$cursorRow || i && n < this.$cursorRow && n >= f && this.$cursorRow <= i.end.row) && (m += "ace_gutter-active-line ",
            this.$cursorCell != e && (this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "")),
            this.$cursorCell = e)),
            c[n] && (m += c[n]),
            u[n] && (m += u[n]),
            this.$annotations[n] && (m += this.$annotations[n].className),
            o.className != m && (o.className = m),
            g) {
                var p = g[n];
                null == p && (p = g[n] = r.getFoldWidget(n))
            }
            if (p) {
                m = "ace_fold-widget ace_" + p;
                "start" == p && n == f && n < i.end.row ? m += " ace_closed" : m += " ace_open",
                l.className != m && (l.className = m);
                var v = t.lineHeight + "px";
                s.setStyle(l.style, "height", v),
                s.setStyle(l.style, "display", "inline-block")
            } else
                l && s.setStyle(l.style, "display", "none");
            var w = (d ? d.getText(r, n) : n + h).toString();
            return w !== a.data && (a.data = w),
            s.setStyle(e.element.style, "height", this.$lines.computeLineHeight(n, t, r) + "px"),
            s.setStyle(e.element.style, "top", this.$lines.computeLineTop(n, t, r) + "px"),
            e.text = w,
            e
        }
        ,
        this.$fixedWidth = !1,
        this.$highlightGutterLine = !0,
        this.$renderer = "",
        this.setHighlightGutterLine = function(e) {
            this.$highlightGutterLine = e
        }
        ,
        this.$showLineNumbers = !0,
        this.$renderer = "",
        this.setShowLineNumbers = function(e) {
            this.$renderer = !e && {
                getWidth: function() {
                    return ""
                },
                getText: function() {
                    return ""
                }
            }
        }
        ,
        this.getShowLineNumbers = function() {
            return this.$showLineNumbers
        }
        ,
        this.$showFoldWidgets = !0,
        this.setShowFoldWidgets = function(e) {
            e ? s.addCssClass(this.element, "ace_folding-enabled") : s.removeCssClass(this.element, "ace_folding-enabled"),
            this.$showFoldWidgets = e,
            this.$padding = null
        }
        ,
        this.getShowFoldWidgets = function() {
            return this.$showFoldWidgets
        }
        ,
        this.$computePadding = function() {
            if (!this.element.firstChild)
                return {
                    left: 0,
                    right: 0
                };
            var e = s.computedStyle(this.element.firstChild);
            return this.$padding = {},
            this.$padding.left = (parseInt(e.borderLeftWidth) || 0) + (parseInt(e.paddingLeft) || 0) + 1,
            this.$padding.right = (parseInt(e.borderRightWidth) || 0) + (parseInt(e.paddingRight) || 0),
            this.$padding
        }
        ,
        this.getRegion = function(e) {
            var t = this.$padding || this.$computePadding()
              , i = this.element.getBoundingClientRect();
            return e.x < t.left + i.left ? "markers" : this.$showFoldWidgets && e.x > i.right - t.right ? "foldWidgets" : void 0
        }
    }
    ).call(h.prototype),
    t.Gutter = h
}),
ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    var n = e("../range").Range
      , s = e("../lib/dom")
      , o = function(e) {
        this.element = s.createElement("div"),
        this.element.className = "ace_layer ace_marker-layer",
        e.appendChild(this.element)
    };
    (function() {
        function e(e, t, i, n) {
            return (e ? 1 : 0) | (t ? 2 : 0) | (i ? 4 : 0) | (n ? 8 : 0)
        }
        this.$padding = 0,
        this.setPadding = function(e) {
            this.$padding = e
        }
        ,
        this.setSession = function(e) {
            this.session = e
        }
        ,
        this.setMarkers = function(e) {
            this.markers = e
        }
        ,
        this.elt = function(e, t) {
            var i = -1 != this.i && this.element.childNodes[this.i];
            i ? this.i++ : (i = document.createElement("div"),
            this.element.appendChild(i),
            this.i = -1),
            i.style.cssText = t,
            i.className = e
        }
        ,
        this.update = function(e) {
            if (e) {
                this.config = e,
                this.i = 0;
                var t;
                for (var i in this.markers) {
                    var n = this.markers[i];
                    if (n.range) {
                        var s = n.range.clipRows(e.firstRow, e.lastRow);
                        if (!s.isEmpty())
                            if (s = s.toScreenRange(this.session),
                            n.renderer) {
                                var o = this.$getTop(s.start.row, e)
                                  , r = this.$padding + s.start.column * e.characterWidth;
                                n.renderer(t, s, r, o, e)
                            } else
                                "fullLine" == n.type ? this.drawFullLineMarker(t, s, n.clazz, e) : "screenLine" == n.type ? this.drawScreenLineMarker(t, s, n.clazz, e) : s.isMultiLine() ? "text" == n.type ? this.drawTextMarker(t, s, n.clazz, e) : this.drawMultiLineMarker(t, s, n.clazz, e) : this.drawSingleLineMarker(t, s, n.clazz + " ace_start ace_br15", e)
                    } else
                        n.update(t, this, this.session, e)
                }
                if (-1 != this.i)
                    for (; this.i < this.element.childElementCount; )
                        this.element.removeChild(this.element.lastChild)
            }
        }
        ,
        this.$getTop = function(e, t) {
            return (e - t.firstRowScreen) * t.lineHeight
        }
        ,
        this.drawTextMarker = function(t, i, s, o, r) {
            for (var a = this.session, l = i.start.row, h = i.end.row, c = l, u = 0, d = 0, g = a.getScreenLastRowColumn(c), f = new n(c,i.start.column,c,d); c <= h; c++)
                f.start.row = f.end.row = c,
                f.start.column = c == l ? i.start.column : a.getRowWrapIndent(c),
                f.end.column = g,
                u = d,
                d = g,
                g = c + 1 < h ? a.getScreenLastRowColumn(c + 1) : c == h ? 0 : i.end.column,
                this.drawSingleLineMarker(t, f, s + (c == l ? " ace_start" : "") + " ace_br" + e(c == l || c == l + 1 && i.start.column, u < d, d > g, c == h), o, c == h ? 0 : 1, r)
        }
        ,
        this.drawMultiLineMarker = function(e, t, i, n, s) {
            var o = this.$padding
              , r = n.lineHeight
              , a = this.$getTop(t.start.row, n)
              , l = o + t.start.column * n.characterWidth;
            if (s = s || "",
            this.session.$bidiHandler.isBidiRow(t.start.row) ? ((h = t.clone()).end.row = h.start.row,
            h.end.column = this.session.getLine(h.start.row).length,
            this.drawBidiSingleLineMarker(e, h, i + " ace_br1 ace_start", n, null, s)) : this.elt(i + " ace_br1 ace_start", "height:" + r + "px;right:0;top:" + a + "px;left:" + l + "px;" + (s || "")),
            this.session.$bidiHandler.isBidiRow(t.end.row)) {
                var h = t.clone();
                h.start.row = h.end.row,
                h.start.column = 0,
                this.drawBidiSingleLineMarker(e, h, i + " ace_br12", n, null, s)
            } else {
                a = this.$getTop(t.end.row, n);
                var c = t.end.column * n.characterWidth;
                this.elt(i + " ace_br12", "height:" + r + "px;width:" + c + "px;top:" + a + "px;left:" + o + "px;" + (s || ""))
            }
            if (!((r = (t.end.row - t.start.row - 1) * n.lineHeight) <= 0)) {
                a = this.$getTop(t.start.row + 1, n);
                var u = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8);
                this.elt(i + (u ? " ace_br" + u : ""), "height:" + r + "px;right:0;top:" + a + "px;left:" + o + "px;" + (s || ""))
            }
        }
        ,
        this.drawSingleLineMarker = function(e, t, i, n, s, o) {
            if (this.session.$bidiHandler.isBidiRow(t.start.row))
                return this.drawBidiSingleLineMarker(e, t, i, n, s, o);
            var r = n.lineHeight
              , a = (t.end.column + (s || 0) - t.start.column) * n.characterWidth
              , l = this.$getTop(t.start.row, n)
              , h = this.$padding + t.start.column * n.characterWidth;
            this.elt(i, "height:" + r + "px;width:" + a + "px;top:" + l + "px;left:" + h + "px;" + (o || ""))
        }
        ,
        this.drawBidiSingleLineMarker = function(e, t, i, n, s, o) {
            var r = n.lineHeight
              , a = this.$getTop(t.start.row, n)
              , l = this.$padding;
            this.session.$bidiHandler.getSelections(t.start.column, t.end.column).forEach(function(e) {
                this.elt(i, "height:" + r + "px;width:" + e.width + (s || 0) + "px;top:" + a + "px;left:" + (l + e.left) + "px;" + (o || ""))
            }, this)
        }
        ,
        this.drawFullLineMarker = function(e, t, i, n, s) {
            var o = this.$getTop(t.start.row, n)
              , r = n.lineHeight;
            t.start.row != t.end.row && (r += this.$getTop(t.end.row, n) - o),
            this.elt(i, "height:" + r + "px;top:" + o + "px;left:0;right:0;" + (s || ""))
        }
        ,
        this.drawScreenLineMarker = function(e, t, i, n, s) {
            var o = this.$getTop(t.start.row, n)
              , r = n.lineHeight;
            this.elt(i, "height:" + r + "px;top:" + o + "px;left:0;right:0;" + (s || ""))
        }
    }
    ).call(o.prototype),
    t.Marker = o
}),
ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter"], function(e, t, i) {
    "use strict";
    var n = e("../lib/oop")
      , s = e("../lib/dom")
      , o = e("../lib/lang")
      , r = e("./lines").Lines
      , a = e("../lib/event_emitter").EventEmitter
      , l = function(e) {
        this.dom = s,
        this.element = this.dom.createElement("div"),
        this.element.className = "ace_layer ace_text-layer",
        e.appendChild(this.element),
        this.$updateEolChar = this.$updateEolChar.bind(this),
        this.$lines = new r(this.element)
    };
    (function() {
        n.implement(this, a),
        this.EOF_CHAR = "¬∂",
        this.EOL_CHAR_LF = "¬¨",
        this.EOL_CHAR_CRLF = "¬§",
        this.EOL_CHAR = this.EOL_CHAR_LF,
        this.TAB_CHAR = "‚Äî",
        this.SPACE_CHAR = "¬∑",
        this.$padding = 0,
        this.MAX_LINE_LENGTH = 1e4,
        this.$updateEolChar = function() {
            var e = this.session.doc
              , t = "\n" == e.getNewLineCharacter() && "windows" != e.getNewLineMode() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
            if (this.EOL_CHAR != t)
                return this.EOL_CHAR = t,
                !0
        }
        ,
        this.setPadding = function(e) {
            this.$padding = e,
            this.element.style.margin = "0 " + e + "px"
        }
        ,
        this.getLineHeight = function() {
            return this.$fontMetrics.$characterSize.height || 0
        }
        ,
        this.getCharacterWidth = function() {
            return this.$fontMetrics.$characterSize.width || 0
        }
        ,
        this.$setFontMetrics = function(e) {
            this.$fontMetrics = e,
            this.$fontMetrics.on("changeCharacterSize", function(e) {
                this._signal("changeCharacterSize", e)
            }
            .bind(this)),
            this.$pollSizeChanges()
        }
        ,
        this.checkForSizeChanges = function() {
            this.$fontMetrics.checkForSizeChanges()
        }
        ,
        this.$pollSizeChanges = function() {
            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges()
        }
        ,
        this.setSession = function(e) {
            this.session = e,
            e && this.$computeTabString()
        }
        ,
        this.showInvisibles = !1,
        this.setShowInvisibles = function(e) {
            return this.showInvisibles != e && (this.showInvisibles = e,
            this.$computeTabString(),
            !0)
        }
        ,
        this.displayIndentGuides = !0,
        this.setDisplayIndentGuides = function(e) {
            return this.displayIndentGuides != e && (this.displayIndentGuides = e,
            this.$computeTabString(),
            !0)
        }
        ,
        this.$tabStrings = [],
        this.onChangeTabSize = this.$computeTabString = function() {
            var e = this.session.getTabSize();
            this.tabSize = e;
            for (var t = this.$tabStrings = [0], i = 1; i < e + 1; i++)
                this.showInvisibles ? ((h = this.dom.createElement("span")).className = "ace_invisible ace_invisible_tab",
                h.textContent = o.stringRepeat(this.TAB_CHAR, i),
                t.push(h)) : t.push(this.dom.createTextNode(o.stringRepeat(" ", i), this.element));
            if (this.displayIndentGuides) {
                this.$indentGuideRe = /\s\S| \t|\t |\s$/;
                var n = "ace_indent-guide"
                  , s = ""
                  , r = "";
                if (this.showInvisibles) {
                    n += " ace_invisible",
                    s = " ace_invisible_space",
                    r = " ace_invisible_tab";
                    var a = o.stringRepeat(this.SPACE_CHAR, this.tabSize)
                      , l = o.stringRepeat(this.TAB_CHAR, this.tabSize)
                } else
                    var a = o.stringRepeat(" ", this.tabSize)
                      , l = a;
                var h = this.dom.createElement("span");
                h.className = n + s,
                h.textContent = a,
                this.$tabStrings[" "] = h,
                (h = this.dom.createElement("span")).className = n + r,
                h.textContent = l,
                this.$tabStrings["\t"] = h
            }
        }
        ,
        this.updateLines = function(e, t, i) {
            if (this.config.lastRow != e.lastRow || this.config.firstRow != e.firstRow)
                return this.update(e);
            this.config = e;
            for (var n = Math.max(t, e.firstRow), s = Math.min(i, e.lastRow), o = this.element.childNodes, r = 0, a = e.firstRow; a < n; a++) {
                if (h = this.session.getFoldLine(a)) {
                    if (h.containsRow(n)) {
                        n = h.start.row;
                        break
                    }
                    a = h.end.row
                }
                r++
            }
            for (var l = !1, a = n, h = this.session.getNextFoldLine(a), c = h ? h.start.row : 1 / 0; a > c && (a = h.end.row + 1,
            h = this.session.getNextFoldLine(a, h),
            c = h ? h.start.row : 1 / 0),
            !(a > s); ) {
                var u = o[r++];
                if (u) {
                    this.dom.removeChildren(u),
                    this.$renderLine(u, a, a == c && h);
                    var d = e.lineHeight * this.session.getRowLength(a) + "px";
                    u.style.height != d && (l = !0,
                    u.style.height = d)
                }
                a++
            }
            if (l)
                for (; r < this.$lines.cells.length; ) {
                    var g = this.$lines.cells[r++];
                    g.element.style.top = this.$lines.computeLineTop(g.row, e, this.session) + "px"
                }
        }
        ,
        this.scrollLines = function(e) {
            var t = this.config;
            if (this.config = e,
            this.$lines.pageChanged(t, e))
                return this.update(e);
            this.$lines.moveContainer(e);
            var i = e.lastRow
              , n = t ? t.lastRow : -1;
            if (!t || n < e.firstRow)
                return this.update(e);
            if (i < t.firstRow)
                return this.update(e);
            if (!t || t.lastRow < e.firstRow)
                return this.update(e);
            if (e.lastRow < t.firstRow)
                return this.update(e);
            if (t.firstRow < e.firstRow)
                for (s = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); s > 0; s--)
                    this.$lines.shift();
            if (t.lastRow > e.lastRow)
                for (var s = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); s > 0; s--)
                    this.$lines.pop();
            e.firstRow < t.firstRow && this.$lines.unshift(this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1)),
            e.lastRow > t.lastRow && this.$lines.push(this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow))
        }
        ,
        this.$renderLinesFragment = function(e, t, i) {
            for (var n = [], o = t, r = this.session.getNextFoldLine(o), a = r ? r.start.row : 1 / 0; o > a && (o = r.end.row + 1,
            r = this.session.getNextFoldLine(o, r),
            a = r ? r.start.row : 1 / 0),
            !(o > i); ) {
                var l = this.$lines.createCell(o, e, this.session)
                  , h = l.element;
                this.dom.removeChildren(h),
                s.setStyle(h.style, "height", this.$lines.computeLineHeight(o, e, this.session) + "px"),
                s.setStyle(h.style, "top", this.$lines.computeLineTop(o, e, this.session) + "px"),
                this.$renderLine(h, o, o == a && r),
                this.$useLineGroups() ? h.className = "ace_line_group" : h.className = "ace_line",
                n.push(l),
                o++
            }
            return n
        }
        ,
        this.update = function(e) {
            this.$lines.moveContainer(e),
            this.config = e;
            for (var t = e.firstRow, i = e.lastRow, n = this.$lines; n.getLength(); )
                n.pop();
            n.push(this.$renderLinesFragment(e, t, i))
        }
        ,
        this.$textToken = {
            text: !0,
            rparen: !0,
            lparen: !0
        },
        this.$renderToken = function(e, t, i, n) {
            for (var r, a = this, l = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g, h = this.dom.createFragment(this.element), c = 0; r = l.exec(n); ) {
                var u = r[1]
                  , d = r[2]
                  , g = r[3]
                  , f = r[4]
                  , m = r[5];
                if (a.showInvisibles || !d) {
                    var p = c != r.index ? n.slice(c, r.index) : "";
                    if (c = r.index + r[0].length,
                    p && h.appendChild(this.dom.createTextNode(p, this.element)),
                    u) {
                        var v = a.session.getScreenTabSize(t + r.index);
                        h.appendChild(a.$tabStrings[v].cloneNode(!0)),
                        t += v - 1
                    } else if (d)
                        a.showInvisibles ? (($ = this.dom.createElement("span")).className = "ace_invisible ace_invisible_space",
                        $.textContent = o.stringRepeat(a.SPACE_CHAR, d.length),
                        h.appendChild($)) : h.appendChild(this.com.createTextNode(d, this.element));
                    else if (g)
                        ($ = this.dom.createElement("span")).className = "ace_invisible ace_invisible_space ace_invalid",
                        $.textContent = o.stringRepeat(a.SPACE_CHAR, g.length),
                        h.appendChild($);
                    else if (f) {
                        a.showInvisibles && a.SPACE_CHAR;
                        t += 1,
                        ($ = this.dom.createElement("span")).style.width = 2 * a.config.characterWidth + "px",
                        $.className = a.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk",
                        $.textContent = a.showInvisibles ? a.SPACE_CHAR : "",
                        h.appendChild($)
                    } else
                        m && (t += 1,
                        ($ = s.createElement("span")).style.width = 2 * a.config.characterWidth + "px",
                        $.className = "ace_cjk",
                        $.textContent = m,
                        h.appendChild($))
                }
            }
            if (h.appendChild(this.dom.createTextNode(c ? n.slice(c) : n, this.element)),
            this.$textToken[i.type])
                e.appendChild(h);
            else {
                var w = "ace_" + i.type.replace(/\./g, " ace_")
                  , $ = this.dom.createElement("span");
                "fold" == i.type && ($.style.width = i.value.length * this.config.characterWidth + "px"),
                $.className = w,
                $.appendChild(h),
                e.appendChild($)
            }
            return t + n.length
        }
        ,
        this.renderIndentGuide = function(e, t, i) {
            var n = t.search(this.$indentGuideRe);
            if (n <= 0 || n >= i)
                return t;
            if (" " == t[0]) {
                for (var s = (n -= n % this.tabSize) / this.tabSize, o = 0; o < s; o++)
                    e.appendChild(this.$tabStrings[" "].cloneNode(!0));
                return t.substr(n)
            }
            if ("\t" == t[0]) {
                for (o = 0; o < n; o++)
                    e.appendChild(this.$tabStrings["\t"].cloneNode(!0));
                return t.substr(n)
            }
            return t
        }
        ,
        this.$createLineElement = function(e) {
            var t = this.dom.createElement("div");
            return t.className = "ace_line",
            t.style.height = this.config.lineHeight + "px",
            t
        }
        ,
        this.$renderWrappedLine = function(e, t, i) {
            var n = 0
              , s = 0
              , r = i[0]
              , a = 0
              , l = this.$createLineElement();
            e.appendChild(l);
            for (var h = 0; h < t.length; h++) {
                var c = t[h]
                  , u = c.value;
                if (0 == h && this.displayIndentGuides) {
                    if (n = u.length,
                    !(u = this.renderIndentGuide(l, u, r)))
                        continue;
                    n -= u.length
                }
                if (n + u.length < r)
                    a = this.$renderToken(l, a, c, u),
                    n += u.length;
                else {
                    for (; n + u.length >= r; )
                        a = this.$renderToken(l, a, c, u.substring(0, r - n)),
                        u = u.substring(r - n),
                        n = r,
                        l = this.$createLineElement(),
                        e.appendChild(l),
                        l.appendChild(this.dom.createTextNode(o.stringRepeat("¬†", i.indent), this.element)),
                        s++,
                        a = 0,
                        r = i[s] || Number.MAX_VALUE;
                    0 != u.length && (n += u.length,
                    a = this.$renderToken(l, a, c, u))
                }
            }
        }
        ,
        this.$renderSimpleLine = function(e, t) {
            var i = 0
              , n = t[0]
              , s = n.value;
            this.displayIndentGuides && (s = this.renderIndentGuide(e, s)),
            s && (i = this.$renderToken(e, i, n, s));
            for (var o = 1; o < t.length; o++) {
                if (n = t[o],
                s = n.value,
                i + s.length > this.MAX_LINE_LENGTH)
                    return this.$renderOverflowMessage(e, i, n, s);
                i = this.$renderToken(e, i, n, s)
            }
        }
        ,
        this.$renderOverflowMessage = function(e, t, i, n) {
            this.$renderToken(e, t, i, n.slice(0, this.MAX_LINE_LENGTH - t));
            var s = this.dom.createElement("span");
            s.className = "ace_inline_button ace_keyword ace_toggle_wrap",
            s.style.position = "absolute",
            s.style.right = "0",
            s.textContent = "<click to see more...>",
            e.appendChild(s)
        }
        ,
        this.$renderLine = function(e, t, i) {
            if (!i && 0 != i && (i = this.session.getFoldLine(t)),
            i)
                n = this.$getFoldLineTokens(t, i);
            else
                var n = this.session.getTokens(t);
            o = e;
            if (n.length) {
                var s = this.session.getRowSplitData(t);
                if (s && s.length) {
                    this.$renderWrappedLine(e, n, s);
                    o = e.lastChild
                } else {
                    var o = e;
                    this.$useLineGroups() && (o = this.$createLineElement(),
                    e.appendChild(o)),
                    this.$renderSimpleLine(o, n)
                }
            } else
                this.$useLineGroups() && (o = this.$createLineElement(),
                e.appendChild(o));
            if (this.showInvisibles && o) {
                i && (t = i.end.row);
                var r = this.dom.createElement("span");
                r.className = "ace_invisible ace_invisible_eol",
                r.textContent = t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,
                o.appendChild(r)
            }
        }
        ,
        this.$getFoldLineTokens = function(e, t) {
            function i(e, t, i) {
                for (var n = 0, o = 0; o + e[n].value.length < t; )
                    if (o += e[n].value.length,
                    ++n == e.length)
                        return;
                for (o != t && ((r = e[n].value.substring(t - o)).length > i - t && (r = r.substring(0, i - t)),
                s.push({
                    type: e[n].type,
                    value: r
                }),
                o = t + r.length,
                n += 1); o < i && n < e.length; ) {
                    var r = e[n].value;
                    r.length + o > i ? s.push({
                        type: e[n].type,
                        value: r.substring(0, i - o)
                    }) : s.push(e[n]),
                    o += r.length,
                    n += 1
                }
            }
            var n = this.session
              , s = []
              , o = n.getTokens(e);
            return t.walk(function(e, t, r, a, l) {
                null != e ? s.push({
                    type: "fold",
                    value: e
                }) : (l && (o = n.getTokens(t)),
                o.length && i(o, a, r))
            }, t.end.row, this.session.getLine(t.end.row).length),
            s
        }
        ,
        this.$useLineGroups = function() {
            return this.session.getUseWrapMode()
        }
        ,
        this.destroy = function() {}
    }
    ).call(l.prototype),
    t.Text = l
}),
ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    var n = e("../lib/dom")
      , s = function(e) {
        this.element = n.createElement("div"),
        this.element.className = "ace_layer ace_cursor-layer",
        e.appendChild(this.element),
        this.isVisible = !1,
        this.isBlinking = !0,
        this.blinkInterval = 1e3,
        this.smoothBlinking = !1,
        this.cursors = [],
        this.cursor = this.addCursor(),
        n.addCssClass(this.element, "ace_hidden-cursors"),
        this.$updateCursors = this.$updateOpacity.bind(this)
    };
    (function() {
        this.$updateOpacity = function(e) {
            for (var t = this.cursors, i = t.length; i--; )
                n.setStyle(t[i].style, "opacity", e ? "" : "0")
        }
        ,
        this.$startCssAnimation = function() {
            for (var e = this.cursors, t = e.length; t--; )
                e[t].style.animationDuration = this.blinkInterval + "ms";
            setTimeout(function() {
                n.addCssClass(this.element, "ace_animate-blinking")
            }
            .bind(this))
        }
        ,
        this.$stopCssAnimation = function() {
            n.removeCssClass(this.element, "ace_animate-blinking")
        }
        ,
        this.$padding = 0,
        this.setPadding = function(e) {
            this.$padding = e
        }
        ,
        this.setSession = function(e) {
            this.session = e
        }
        ,
        this.setBlinking = function(e) {
            e != this.isBlinking && (this.isBlinking = e,
            this.restartTimer())
        }
        ,
        this.setBlinkInterval = function(e) {
            e != this.blinkInterval && (this.blinkInterval = e,
            this.restartTimer())
        }
        ,
        this.setSmoothBlinking = function(e) {
            e != this.smoothBlinking && (this.smoothBlinking = e,
            n.setCssClass(this.element, "ace_smooth-blinking", e),
            this.$updateCursors(!0),
            this.restartTimer())
        }
        ,
        this.addCursor = function() {
            var e = n.createElement("div");
            return e.className = "ace_cursor",
            this.element.appendChild(e),
            this.cursors.push(e),
            e
        }
        ,
        this.removeCursor = function() {
            if (this.cursors.length > 1) {
                var e = this.cursors.pop();
                return e.parentNode.removeChild(e),
                e
            }
        }
        ,
        this.hideCursor = function() {
            this.isVisible = !1,
            n.addCssClass(this.element, "ace_hidden-cursors"),
            this.restartTimer()
        }
        ,
        this.showCursor = function() {
            this.isVisible = !0,
            n.removeCssClass(this.element, "ace_hidden-cursors"),
            this.restartTimer()
        }
        ,
        this.restartTimer = function() {
            var e = this.$updateCursors;
            if (clearInterval(this.intervalId),
            clearTimeout(this.timeoutId),
            this.$stopCssAnimation(),
            this.smoothBlinking && n.removeCssClass(this.element, "ace_smooth-blinking"),
            e(!0),
            this.isBlinking && this.blinkInterval && this.isVisible)
                if (this.smoothBlinking && setTimeout(function() {
                    n.addCssClass(this.element, "ace_smooth-blinking")
                }
                .bind(this)),
                n.HAS_CSS_ANIMATION)
                    this.$startCssAnimation();
                else {
                    var t = function() {
                        this.timeoutId = setTimeout(function() {
                            e(!1)
                        }, .6 * this.blinkInterval)
                    }
                    .bind(this);
                    this.intervalId = setInterval(function() {
                        e(!0),
                        t()
                    }, this.blinkInterval),
                    t()
                }
            else
                this.$stopCssAnimation()
        }
        ,
        this.getPixelPosition = function(e, t) {
            if (!this.config || !this.session)
                return {
                    left: 0,
                    top: 0
                };
            e || (e = this.session.selection.getCursor());
            var i = this.session.documentToScreenPosition(e);
            return {
                left: this.$padding + (this.session.$bidiHandler.isBidiRow(i.row, e.row) ? this.session.$bidiHandler.getPosLeft(i.column) : i.column * this.config.characterWidth),
                top: (i.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight
            }
        }
        ,
        this.isCursorInView = function(e, t) {
            return e.top >= 0 && e.top < t.maxHeight
        }
        ,
        this.update = function(e) {
            this.config = e;
            var t = this.session.$selectionMarkers
              , i = 0
              , s = 0;
            void 0 !== t && 0 !== t.length || (t = [{
                cursor: null
            }]);
            for (var i = 0, o = t.length; i < o; i++) {
                var r = this.getPixelPosition(t[i].cursor, !0);
                if (!((r.top > e.height + e.offset || r.top < 0) && i > 1)) {
                    var a = this.cursors[s++] || this.addCursor()
                      , l = a.style;
                    this.drawCursor ? this.drawCursor(a, r, e, t[i], this.session) : this.isCursorInView(r, e) ? (n.setStyle(l, "display", "block"),
                    n.translate(a, r.left, r.top),
                    n.setStyle(l, "width", Math.round(e.characterWidth) + "px"),
                    n.setStyle(l, "height", e.lineHeight + "px")) : n.setStyle(l, "display", "none")
                }
            }
            for (; this.cursors.length > s; )
                this.removeCursor();
            var h = this.session.getOverwrite();
            this.$setOverwrite(h),
            this.$pixelPos = r,
            this.restartTimer()
        }
        ,
        this.drawCursor = null,
        this.$setOverwrite = function(e) {
            e != this.overwrite && (this.overwrite = e,
            e ? n.addCssClass(this.element, "ace_overwrite-cursors") : n.removeCssClass(this.element, "ace_overwrite-cursors"))
        }
        ,
        this.destroy = function() {
            clearInterval(this.intervalId),
            clearTimeout(this.timeoutId)
        }
    }
    ).call(s.prototype),
    t.Cursor = s
}),
ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/dom")
      , o = e("./lib/event")
      , r = e("./lib/event_emitter").EventEmitter
      , a = 32768
      , l = function(e) {
        this.element = s.createElement("div"),
        this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix,
        this.inner = s.createElement("div"),
        this.inner.className = "ace_scrollbar-inner",
        this.element.appendChild(this.inner),
        e.appendChild(this.element),
        this.setVisible(!1),
        this.skipEvent = !1,
        o.addListener(this.element, "scroll", this.onScroll.bind(this)),
        o.addListener(this.element, "mousedown", o.preventDefault)
    };
    (function() {
        n.implement(this, r),
        this.setVisible = function(e) {
            this.element.style.display = e ? "" : "none",
            this.isVisible = e,
            this.coeff = 1
        }
    }
    ).call(l.prototype);
    var h = function(e, t) {
        l.call(this, e),
        this.scrollTop = 0,
        this.scrollHeight = 0,
        t.$scrollbarWidth = this.width = s.scrollbarWidth(e.ownerDocument),
        this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px",
        this.$minWidth = 0
    };
    n.inherits(h, l),
    function() {
        this.classSuffix = "-v",
        this.onScroll = function() {
            if (!this.skipEvent) {
                if (this.scrollTop = this.element.scrollTop,
                1 != this.coeff) {
                    var e = this.element.clientHeight / this.scrollHeight;
                    this.scrollTop = this.scrollTop * (1 - e) / (this.coeff - e)
                }
                this._emit("scroll", {
                    data: this.scrollTop
                })
            }
            this.skipEvent = !1
        }
        ,
        this.getWidth = function() {
            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0)
        }
        ,
        this.setHeight = function(e) {
            this.element.style.height = e + "px"
        }
        ,
        this.setInnerHeight = this.setScrollHeight = function(e) {
            this.scrollHeight = e,
            e > a ? (this.coeff = a / e,
            e = a) : 1 != this.coeff && (this.coeff = 1),
            this.inner.style.height = e + "px"
        }
        ,
        this.setScrollTop = function(e) {
            this.scrollTop != e && (this.skipEvent = !0,
            this.scrollTop = e,
            this.element.scrollTop = e * this.coeff)
        }
    }
    .call(h.prototype);
    var c = function(e, t) {
        l.call(this, e),
        this.scrollLeft = 0,
        this.height = t.$scrollbarWidth,
        this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px"
    };
    n.inherits(c, l),
    function() {
        this.classSuffix = "-h",
        this.onScroll = function() {
            this.skipEvent || (this.scrollLeft = this.element.scrollLeft,
            this._emit("scroll", {
                data: this.scrollLeft
            })),
            this.skipEvent = !1
        }
        ,
        this.getHeight = function() {
            return this.isVisible ? this.height : 0
        }
        ,
        this.setWidth = function(e) {
            this.element.style.width = e + "px"
        }
        ,
        this.setInnerWidth = function(e) {
            this.inner.style.width = e + "px"
        }
        ,
        this.setScrollWidth = function(e) {
            this.inner.style.width = e + "px"
        }
        ,
        this.setScrollLeft = function(e) {
            this.scrollLeft != e && (this.skipEvent = !0,
            this.scrollLeft = this.element.scrollLeft = e)
        }
    }
    .call(c.prototype),
    t.ScrollBar = h,
    t.ScrollBarV = h,
    t.ScrollBarH = c,
    t.VScrollBar = h,
    t.HScrollBar = c
}),
ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(e, t, i) {
    "use strict";
    var n = e("./lib/event")
      , s = function(e, t) {
        this.onRender = e,
        this.pending = !1,
        this.changes = 0,
        this.window = t || window;
        var i = this;
        this._flush = function(e) {
            var t = i.changes;
            t && (n.blockIdle(100),
            i.changes = 0,
            i.onRender(t)),
            i.changes && i.schedule()
        }
    };
    (function() {
        this.schedule = function(e) {
            this.changes = this.changes | e,
            this.changes && n.nextFrame(this._flush)
        }
    }
    ).call(s.prototype),
    t.RenderLoop = s
}),
ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, i) {
    var n = e("../lib/oop")
      , s = e("../lib/dom")
      , o = e("../lib/lang")
      , r = e("../lib/event")
      , a = e("../lib/useragent")
      , l = e("../lib/event_emitter").EventEmitter
      , h = 256
      , c = "function" == typeof ResizeObserver
      , u = 200
      , d = t.FontMetrics = function(e) {
        this.el = s.createElement("div"),
        this.$setMeasureNodeStyles(this.el.style, !0),
        this.$main = s.createElement("div"),
        this.$setMeasureNodeStyles(this.$main.style),
        this.$measureNode = s.createElement("div"),
        this.$setMeasureNodeStyles(this.$measureNode.style),
        this.el.appendChild(this.$main),
        this.el.appendChild(this.$measureNode),
        e.appendChild(this.el),
        this.$measureNode.innerHTML = o.stringRepeat("X", h),
        this.$characterSize = {
            width: 0,
            height: 0
        },
        c ? this.$addObserver() : this.checkForSizeChanges()
    }
    ;
    (function() {
        n.implement(this, l),
        this.$characterSize = {
            width: 0,
            height: 0
        },
        this.$setMeasureNodeStyles = function(e, t) {
            e.width = e.height = "auto",
            e.left = e.top = "0px",
            e.visibility = "hidden",
            e.position = "absolute",
            e.whiteSpace = "pre",
            a.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit",
            e.overflow = t ? "hidden" : "visible"
        }
        ,
        this.checkForSizeChanges = function(e) {
            if (void 0 === e && (e = this.$measureSizes()),
            e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) {
                this.$measureNode.style.fontWeight = "bold";
                var t = this.$measureSizes();
                this.$measureNode.style.fontWeight = "",
                this.$characterSize = e,
                this.charSizes = Object.create(null),
                this.allowBoldFonts = t && t.width === e.width && t.height === e.height,
                this._emit("changeCharacterSize", {
                    data: e
                })
            }
        }
        ,
        this.$addObserver = function() {
            var e = this;
            this.$observer = new window.ResizeObserver(function(t) {
                var i = t[0].contentRect;
                e.checkForSizeChanges({
                    height: i.height,
                    width: i.width / h
                })
            }
            ),
            this.$observer.observe(this.$measureNode)
        }
        ,
        this.$pollSizeChanges = function() {
            if (this.$pollSizeChangesTimer || this.$observer)
                return this.$pollSizeChangesTimer;
            var e = this;
            return this.$pollSizeChangesTimer = r.onIdle(function t() {
                e.checkForSizeChanges(),
                r.onIdle(t, 500)
            }, 500)
        }
        ,
        this.setPolling = function(e) {
            e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer),
            this.$pollSizeChangesTimer = 0)
        }
        ,
        this.$measureSizes = function(e) {
            var t = {
                height: (e || this.$measureNode).clientHeight,
                width: (e || this.$measureNode).clientWidth / h
            };
            return 0 === t.width || 0 === t.height ? null : t
        }
        ,
        this.$measureCharWidth = function(e) {
            return this.$main.innerHTML = o.stringRepeat(e, h),
            this.$main.getBoundingClientRect().width / h
        }
        ,
        this.getCharacterWidth = function(e) {
            var t = this.charSizes[e];
            return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width),
            t
        }
        ,
        this.destroy = function() {
            clearInterval(this.$pollSizeChangesTimer),
            this.$observer && this.$observer.disconnect(),
            this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el)
        }
        ,
        this.$getZoom = function e(t) {
            return t ? (window.getComputedStyle(t).zoom || 1) * e(t.parentElement) : 1
        }
        ,
        this.$initTransformMeasureNodes = function() {
            var e = function(e, t) {
                return ["div", {
                    style: "position: absolute;top:" + e + "px;left:" + t + "px;"
                }]
            };
            this.els = s.buildDom([e(0, 0), e(u, 0), e(0, u), e(u, u)], this.el)
        }
        ,
        this.transformCoordinates = function(e, t) {
            function i(e, t, i) {
                var n = e[1] * t[0] - e[0] * t[1];
                return [(-t[1] * i[0] + t[0] * i[1]) / n, (+e[1] * i[0] - e[0] * i[1]) / n]
            }
            function n(e, t) {
                return [e[0] - t[0], e[1] - t[1]]
            }
            function s(e, t) {
                return [e[0] + t[0], e[1] + t[1]]
            }
            function o(e, t) {
                return [e * t[0], e * t[1]]
            }
            function r(e) {
                var t = e.getBoundingClientRect();
                return [t.left, t.top]
            }
            e && (e = o(1 / this.$getZoom(this.el), e)),
            this.els || this.$initTransformMeasureNodes();
            var a = r(this.els[0])
              , l = r(this.els[1])
              , h = r(this.els[2])
              , c = r(this.els[3])
              , d = i(n(c, l), n(c, h), n(s(l, h), s(c, a)))
              , g = o(1 + d[0], n(l, a))
              , f = o(1 + d[1], n(h, a));
            if (t) {
                var m = t
                  , p = d[0] * m[0] / u + d[1] * m[1] / u + 1
                  , v = s(o(m[0], g), o(m[1], f));
                return s(o(1 / p / u, v), a)
            }
            var w = n(e, a)
              , $ = i(n(g, o(d[0], w)), n(f, o(d[1], w)), w);
            return o(u, $)
        }
    }
    ).call(d.prototype)
}),
ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/lib/useragent"], function(e, t, i) {
    "use strict";
    var n = e("./lib/oop")
      , s = e("./lib/dom")
      , o = e("./config")
      , r = e("./layer/gutter").Gutter
      , a = e("./layer/marker").Marker
      , l = e("./layer/text").Text
      , h = e("./layer/cursor").Cursor
      , c = e("./scrollbar").HScrollBar
      , u = e("./scrollbar").VScrollBar
      , d = e("./renderloop").RenderLoop
      , g = e("./layer/font_metrics").FontMetrics
      , f = e("./lib/event_emitter").EventEmitter
      , m = '.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}'
      , p = e("./lib/useragent")
      , v = p.isIE;
    s.importCssString(m, "ace_editor.css");
    var w = function(e, t) {
        var i = this;
        this.container = e || s.createElement("div"),
        s.addCssClass(this.container, "ace_editor"),
        s.HI_DPI && s.addCssClass(this.container, "ace_hidpi"),
        this.setTheme(t),
        this.$gutter = s.createElement("div"),
        this.$gutter.className = "ace_gutter",
        this.container.appendChild(this.$gutter),
        this.$gutter.setAttribute("aria-hidden", !0),
        this.scroller = s.createElement("div"),
        this.scroller.className = "ace_scroller",
        this.container.appendChild(this.scroller),
        this.content = s.createElement("div"),
        this.content.className = "ace_content",
        this.scroller.appendChild(this.content),
        this.$gutterLayer = new r(this.$gutter),
        this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)),
        this.$markerBack = new a(this.content);
        var n = this.$textLayer = new l(this.content);
        this.canvas = n.element,
        this.$markerFront = new a(this.content),
        this.$cursorLayer = new h(this.content),
        this.$horizScroll = !1,
        this.$vScroll = !1,
        this.scrollBar = this.scrollBarV = new u(this.container,this),
        this.scrollBarH = new c(this.container,this),
        this.scrollBarV.addEventListener("scroll", function(e) {
            i.$scrollAnimation || i.session.setScrollTop(e.data - i.scrollMargin.top)
        }),
        this.scrollBarH.addEventListener("scroll", function(e) {
            i.$scrollAnimation || i.session.setScrollLeft(e.data - i.scrollMargin.left)
        }),
        this.scrollTop = 0,
        this.scrollLeft = 0,
        this.cursorPos = {
            row: 0,
            column: 0
        },
        this.$fontMetrics = new g(this.container),
        this.$textLayer.$setFontMetrics(this.$fontMetrics),
        this.$textLayer.addEventListener("changeCharacterSize", function(e) {
            i.updateCharacterSize(),
            i.onResize(!0, i.gutterWidth, i.$size.width, i.$size.height),
            i._signal("changeCharacterSize", e)
        }),
        this.$size = {
            width: 0,
            height: 0,
            scrollerHeight: 0,
            scrollerWidth: 0,
            $dirty: !0
        },
        this.layerConfig = {
            width: 1,
            padding: 0,
            firstRow: 0,
            firstRowScreen: 0,
            lastRow: 0,
            lineHeight: 0,
            characterWidth: 0,
            minHeight: 1,
            maxHeight: 1,
            offset: 0,
            height: 1,
            gutterOffset: 1
        },
        this.scrollMargin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
        },
        this.margin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
        },
        this.$keepTextAreaAtCursor = !0,
        this.$loop = new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),
        this.$loop.schedule(this.CHANGE_FULL),
        this.updateCharacterSize(),
        this.setPadding(4),
        o.resetOptions(this),
        o._emit("renderer", this)
    };
    (function() {
        this.CHANGE_CURSOR = 1,
        this.CHANGE_MARKER = 2,
        this.CHANGE_GUTTER = 4,
        this.CHANGE_SCROLL = 8,
        this.CHANGE_LINES = 16,
        this.CHANGE_TEXT = 32,
        this.CHANGE_SIZE = 64,
        this.CHANGE_MARKER_BACK = 128,
        this.CHANGE_MARKER_FRONT = 256,
        this.CHANGE_FULL = 512,
        this.CHANGE_H_SCROLL = 1024,
        n.implement(this, f),
        this.updateCharacterSize = function() {
            this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts,
            this.setStyle("ace_nobold", !this.$allowBoldFonts)),
            this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(),
            this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(),
            this.$updatePrintMargin()
        }
        ,
        this.setSession = function(e) {
            this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode),
            this.session = e,
            e && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top),
            this.$cursorLayer.setSession(e),
            this.$markerBack.setSession(e),
            this.$markerFront.setSession(e),
            this.$gutterLayer.setSession(e),
            this.$textLayer.setSession(e),
            e && (this.$loop.schedule(this.CHANGE_FULL),
            this.session.$setFontMetrics(this.$fontMetrics),
            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null,
            this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this),
            this.onChangeNewLineMode(),
            this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode))
        }
        ,
        this.updateLines = function(e, t, i) {
            if (void 0 === t && (t = 1 / 0),
            this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e),
            this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
                firstRow: e,
                lastRow: t
            },
            this.$changedLines.lastRow < this.layerConfig.firstRow) {
                if (!i)
                    return;
                this.$changedLines.lastRow = this.layerConfig.lastRow
            }
            this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES)
        }
        ,
        this.onChangeNewLineMode = function() {
            this.$loop.schedule(this.CHANGE_TEXT),
            this.$textLayer.$updateEolChar(),
            this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)
        }
        ,
        this.onChangeTabSize = function() {
            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER),
            this.$textLayer.onChangeTabSize()
        }
        ,
        this.updateText = function() {
            this.$loop.schedule(this.CHANGE_TEXT)
        }
        ,
        this.updateFull = function(e) {
            e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL)
        }
        ,
        this.updateFontSize = function() {
            this.$textLayer.checkForSizeChanges()
        }
        ,
        this.$changes = 0,
        this.$updateSizeAsync = function() {
            this.$loop.pending ? this.$size.$dirty = !0 : this.onResize()
        }
        ,
        this.onResize = function(e, t, i, n) {
            if (!(this.resizing > 2)) {
                this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0;
                var s = this.container;
                n || (n = s.clientHeight || s.scrollHeight),
                i || (i = s.clientWidth || s.scrollWidth);
                var o = this.$updateCachedSize(e, t, i, n);
                if (!this.$size.scrollerHeight || !i && !n)
                    return this.resizing = 0;
                e && (this.$gutterLayer.$padding = null),
                e ? this.$renderChanges(o | this.$changes, !0) : this.$loop.schedule(o | this.$changes),
                this.resizing && (this.resizing = 0),
                this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null
            }
        }
        ,
        this.$updateCachedSize = function(e, t, i, n) {
            n -= this.$extraHeight || 0;
            var o = 0
              , r = this.$size
              , a = {
                width: r.width,
                height: r.height,
                scrollerHeight: r.scrollerHeight,
                scrollerWidth: r.scrollerWidth
            };
            if (n && (e || r.height != n) && (r.height = n,
            o |= this.CHANGE_SIZE,
            r.scrollerHeight = r.height,
            this.$horizScroll && (r.scrollerHeight -= this.scrollBarH.getHeight()),
            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px",
            o |= this.CHANGE_SCROLL),
            i && (e || r.width != i)) {
                o |= this.CHANGE_SIZE,
                r.width = i,
                null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0),
                this.gutterWidth = t,
                s.setStyle(this.scrollBarH.element.style, "left", t + "px"),
                s.setStyle(this.scroller.style, "left", t + this.margin.left + "px"),
                r.scrollerWidth = Math.max(0, i - t - this.scrollBarV.getWidth() - this.margin.h),
                s.setStyle(this.$gutter.style, "left", this.margin.left + "px");
                var l = this.scrollBarV.getWidth() + "px";
                s.setStyle(this.scrollBarH.element.style, "right", l),
                s.setStyle(this.scroller.style, "right", l),
                s.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight()),
                (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (o |= this.CHANGE_FULL)
            }
            return r.$dirty = !i || !n,
            o && this._signal("resize", a),
            o
        }
        ,
        this.onGutterResize = function(e) {
            var t = this.$showGutter ? e : 0;
            t != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, t, this.$size.width, this.$size.height)),
            this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : this.$computeLayerConfig()
        }
        ,
        this.adjustWrapLimit = function() {
            var e = this.$size.scrollerWidth - 2 * this.$padding
              , t = Math.floor(e / this.characterWidth);
            return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn)
        }
        ,
        this.setAnimatedScroll = function(e) {
            this.setOption("animatedScroll", e)
        }
        ,
        this.getAnimatedScroll = function() {
            return this.$animatedScroll
        }
        ,
        this.setShowInvisibles = function(e) {
            this.setOption("showInvisibles", e),
            this.session.$bidiHandler.setShowInvisibles(e)
        }
        ,
        this.getShowInvisibles = function() {
            return this.getOption("showInvisibles")
        }
        ,
        this.getDisplayIndentGuides = function() {
            return this.getOption("displayIndentGuides")
        }
        ,
        this.setDisplayIndentGuides = function(e) {
            this.setOption("displayIndentGuides", e)
        }
        ,
        this.setShowPrintMargin = function(e) {
            this.setOption("showPrintMargin", e)
        }
        ,
        this.getShowPrintMargin = function() {
            return this.getOption("showPrintMargin")
        }
        ,
        this.setPrintMarginColumn = function(e) {
            this.setOption("printMarginColumn", e)
        }
        ,
        this.getPrintMarginColumn = function() {
            return this.getOption("printMarginColumn")
        }
        ,
        this.getShowGutter = function() {
            return this.getOption("showGutter")
        }
        ,
        this.setShowGutter = function(e) {
            return this.setOption("showGutter", e)
        }
        ,
        this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets")
        }
        ,
        this.setFadeFoldWidgets = function(e) {
            this.setOption("fadeFoldWidgets", e)
        }
        ,
        this.setHighlightGutterLine = function(e) {
            this.setOption("highlightGutterLine", e)
        }
        ,
        this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine")
        }
        ,
        this.$updatePrintMargin = function() {
            if (this.$showPrintMargin || this.$printMarginEl) {
                if (!this.$printMarginEl) {
                    var e = s.createElement("div");
                    e.className = "ace_layer ace_print-margin-layer",
                    this.$printMarginEl = s.createElement("div"),
                    this.$printMarginEl.className = "ace_print-margin",
                    e.appendChild(this.$printMarginEl),
                    this.content.insertBefore(e, this.content.firstChild)
                }
                var t = this.$printMarginEl.style;
                t.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px",
                t.visibility = this.$showPrintMargin ? "visible" : "hidden",
                this.session && -1 == this.session.$wrap && this.adjustWrapLimit()
            }
        }
        ,
        this.getContainerElement = function() {
            return this.container
        }
        ,
        this.getMouseEventTarget = function() {
            return this.scroller
        }
        ,
        this.getTextAreaContainer = function() {
            return this.container
        }
        ,
        this.$moveTextAreaToCursor = function() {
            var e = this.textarea.style;
            if (this.$keepTextAreaAtCursor) {
                var t = this.$cursorLayer.$pixelPos;
                if (t) {
                    var i = this.$composition;
                    i && i.markerRange && (t = this.$cursorLayer.getPixelPosition(i.markerRange.start, !0));
                    var n = this.layerConfig
                      , o = t.top
                      , r = t.left;
                    o -= n.offset;
                    var a = i && i.useTextareaForIME ? this.lineHeight : v ? 0 : 1;
                    if (o < 0 || o > n.height - a)
                        s.translate(this.textarea, 0, 0);
                    else {
                        var l = 1;
                        if (i)
                            if (i.useTextareaForIME) {
                                var h = this.textarea.value;
                                l = this.characterWidth * this.session.$getStringScreenWidth(h)[0],
                                a += 2
                            } else
                                o += this.lineHeight + 2;
                        else
                            o += this.lineHeight;
                        (r -= this.scrollLeft) > this.$size.scrollerWidth - l && (r = this.$size.scrollerWidth - l),
                        r += this.gutterWidth + this.margin.left,
                        s.setStyle(e, "height", a + "px"),
                        s.setStyle(e, "width", l + "px"),
                        s.translate(this.textarea, Math.min(r, this.$size.scrollerWidth - l), Math.min(o, this.$size.height - a))
                    }
                }
            } else
                s.translate(this.textarea, -100, 0)
        }
        ,
        this.getFirstVisibleRow = function() {
            return this.layerConfig.firstRow
        }
        ,
        this.getFirstFullyVisibleRow = function() {
            return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1)
        }
        ,
        this.getLastFullyVisibleRow = function() {
            var e = this.layerConfig
              , t = e.lastRow;
            return this.session.documentToScreenRow(t, 0) * e.lineHeight - this.session.getScrollTop() > e.height - e.lineHeight ? t - 1 : t
        }
        ,
        this.getLastVisibleRow = function() {
            return this.layerConfig.lastRow
        }
        ,
        this.$padding = null,
        this.setPadding = function(e) {
            this.$padding = e,
            this.$textLayer.setPadding(e),
            this.$cursorLayer.setPadding(e),
            this.$markerFront.setPadding(e),
            this.$markerBack.setPadding(e),
            this.$loop.schedule(this.CHANGE_FULL),
            this.$updatePrintMargin()
        }
        ,
        this.setScrollMargin = function(e, t, i, n) {
            var s = this.scrollMargin;
            s.top = 0 | e,
            s.bottom = 0 | t,
            s.right = 0 | n,
            s.left = 0 | i,
            s.v = s.top + s.bottom,
            s.h = s.left + s.right,
            s.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-s.top),
            this.updateFull()
        }
        ,
        this.setMargin = function(e, t, i, n) {
            var s = this.margin;
            s.top = 0 | e,
            s.bottom = 0 | t,
            s.right = 0 | n,
            s.left = 0 | i,
            s.v = s.top + s.bottom,
            s.h = s.left + s.right,
            this.$updateCachedSize(!0, this.gutterWidth, this.$size.width, this.$size.height),
            this.updateFull()
        }
        ,
        this.getHScrollBarAlwaysVisible = function() {
            return this.$hScrollBarAlwaysVisible
        }
        ,
        this.setHScrollBarAlwaysVisible = function(e) {
            this.setOption("hScrollBarAlwaysVisible", e)
        }
        ,
        this.getVScrollBarAlwaysVisible = function() {
            return this.$vScrollBarAlwaysVisible
        }
        ,
        this.setVScrollBarAlwaysVisible = function(e) {
            this.setOption("vScrollBarAlwaysVisible", e)
        }
        ,
        this.$updateScrollBarV = function() {
            var e = this.layerConfig.maxHeight
              , t = this.$size.scrollerHeight;
            !this.$maxLines && this.$scrollPastEnd && (e -= (t - this.lineHeight) * this.$scrollPastEnd,
            this.scrollTop > e - t && (e = this.scrollTop + t,
            this.scrollBarV.scrollTop = null)),
            this.scrollBarV.setScrollHeight(e + this.scrollMargin.v),
            this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top)
        }
        ,
        this.$updateScrollBarH = function() {
            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h),
            this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left)
        }
        ,
        this.$frozen = !1,
        this.freeze = function() {
            this.$frozen = !0
        }
        ,
        this.unfreeze = function() {
            this.$frozen = !1
        }
        ,
        this.$renderChanges = function(e, t) {
            this.$changes && (e |= this.$changes,
            this.$changes = 0);
            {
                if (this.session && this.container.offsetWidth && !this.$frozen && (e || t)) {
                    if (this.$size.$dirty)
                        return this.$changes |= e,
                        this.onResize(!0);
                    this.lineHeight || this.$textLayer.checkForSizeChanges(),
                    this._signal("beforeRender"),
                    this.session && this.session.$bidiHandler && this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
                    var i = this.layerConfig;
                    if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) {
                        if (e |= this.$computeLayerConfig(),
                        i.firstRow != this.layerConfig.firstRow && i.firstRowScreen == this.layerConfig.firstRowScreen) {
                            var n = this.scrollTop + (i.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                            n > 0 && (this.scrollTop = n,
                            e |= this.CHANGE_SCROLL,
                            e |= this.$computeLayerConfig())
                        }
                        i = this.layerConfig,
                        this.$updateScrollBarV(),
                        e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(),
                        s.translate(this.content, -this.scrollLeft, -i.offset);
                        var o = i.width + 2 * this.$padding + "px"
                          , r = i.minHeight + "px";
                        s.setStyle(this.content.style, "width", o),
                        s.setStyle(this.content.style, "height", r)
                    }
                    return e & this.CHANGE_H_SCROLL && (s.translate(this.content, -this.scrollLeft, -i.offset),
                    this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"),
                    e & this.CHANGE_FULL ? (this.$textLayer.update(i),
                    this.$showGutter && this.$gutterLayer.update(i),
                    this.$markerBack.update(i),
                    this.$markerFront.update(i),
                    this.$cursorLayer.update(i),
                    this.$moveTextAreaToCursor(),
                    void this._signal("afterRender")) : e & this.CHANGE_SCROLL ? (e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(i) : this.$textLayer.scrollLines(i),
                    this.$showGutter && (e & this.CHANGE_GUTTER || e & this.CHANGE_LINES ? this.$gutterLayer.update(i) : this.$gutterLayer.scrollLines(i)),
                    this.$markerBack.update(i),
                    this.$markerFront.update(i),
                    this.$cursorLayer.update(i),
                    this.$moveTextAreaToCursor(),
                    void this._signal("afterRender")) : (e & this.CHANGE_TEXT ? (this.$textLayer.update(i),
                    this.$showGutter && this.$gutterLayer.update(i)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(i) : e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER ? this.$showGutter && this.$gutterLayer.update(i) : e & this.CHANGE_CURSOR && this.$highlightGutterLine && this.$gutterLayer.updateLineHighlight(i),
                    e & this.CHANGE_CURSOR && (this.$cursorLayer.update(i),
                    this.$moveTextAreaToCursor()),
                    e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(i),
                    e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(i),
                    void this._signal("afterRender"))
                }
                this.$changes |= e
            }
        }
        ,
        this.$autosize = function() {
            var e = this.session.getScreenLength() * this.lineHeight
              , t = this.$maxLines * this.lineHeight
              , i = Math.min(t, Math.max((this.$minLines || 1) * this.lineHeight, e)) + this.scrollMargin.v + (this.$extraHeight || 0);
            this.$horizScroll && (i += this.scrollBarH.getHeight()),
            this.$maxPixelHeight && i > this.$maxPixelHeight && (i = this.$maxPixelHeight);
            var n = !(i <= 2 * this.lineHeight) && e > t;
            if (i != this.desiredHeight || this.$size.height != this.desiredHeight || n != this.$vScroll) {
                n != this.$vScroll && (this.$vScroll = n,
                this.scrollBarV.setVisible(n));
                var s = this.container.clientWidth;
                this.container.style.height = i + "px",
                this.$updateCachedSize(!0, this.$gutterWidth, s, i),
                this.desiredHeight = i,
                this._signal("autosize")
            }
        }
        ,
        this.$computeLayerConfig = function() {
            var e = this.session
              , t = this.$size
              , i = t.height <= 2 * this.lineHeight
              , n = this.session.getScreenLength() * this.lineHeight
              , s = this.$getLongestLine()
              , o = !i && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - s - 2 * this.$padding < 0)
              , r = this.$horizScroll !== o;
            r && (this.$horizScroll = o,
            this.scrollBarH.setVisible(o));
            var a = this.$vScroll;
            this.$maxLines && this.lineHeight > 1 && this.$autosize();
            var l = this.scrollTop % this.lineHeight
              , h = t.scrollerHeight + this.lineHeight
              , c = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
            n += c;
            var u = this.scrollMargin;
            this.session.setScrollTop(Math.max(-u.top, Math.min(this.scrollTop, n - t.scrollerHeight + u.bottom))),
            this.session.setScrollLeft(Math.max(-u.left, Math.min(this.scrollLeft, s + 2 * this.$padding - t.scrollerWidth + u.right)));
            var d = !i && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - n + c < 0 || this.scrollTop > u.top)
              , g = a !== d;
            g && (this.$vScroll = d,
            this.scrollBarV.setVisible(d));
            var f, m, p = Math.ceil(h / this.lineHeight) - 1, v = Math.max(0, Math.round((this.scrollTop - l) / this.lineHeight)), w = v + p, $ = this.lineHeight;
            v = e.screenToDocumentRow(v, 0);
            var b = e.getFoldLine(v);
            b && (v = b.start.row),
            f = e.documentToScreenRow(v, 0),
            m = e.getRowLength(v) * $,
            w = Math.min(e.screenToDocumentRow(w, 0), e.getLength() - 1),
            h = t.scrollerHeight + e.getRowLength(w) * $ + m,
            l = this.scrollTop - f * $;
            var y = 0;
            return (this.layerConfig.width != s || r) && (y = this.CHANGE_H_SCROLL),
            (r || g) && (y = this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height),
            this._signal("scrollbarVisibilityChanged"),
            g && (s = this.$getLongestLine())),
            this.layerConfig = {
                width: s,
                padding: this.$padding,
                firstRow: v,
                firstRowScreen: f,
                lastRow: w,
                lineHeight: $,
                characterWidth: this.characterWidth,
                minHeight: h,
                maxHeight: n,
                offset: l,
                gutterOffset: $ ? Math.max(0, Math.ceil((l + t.height - t.scrollerHeight) / $)) : 0,
                height: this.$size.scrollerHeight
            },
            this.session.$bidiHandler && this.session.$bidiHandler.setContentWidth(s - this.$padding),
            y
        }
        ,
        this.$updateLines = function() {
            if (this.$changedLines) {
                var e = this.$changedLines.firstRow
                  , t = this.$changedLines.lastRow;
                this.$changedLines = null;
                var i = this.layerConfig;
                if (!(e > i.lastRow + 1 || t < i.firstRow))
                    return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(i),
                    void this.$textLayer.update(i)) : (this.$textLayer.updateLines(i, e, t),
                    !0)
            }
        }
        ,
        this.$getLongestLine = function() {
            var e = this.session.getScreenWidth();
            return this.showInvisibles && !this.session.$useWrapMode && (e += 1),
            this.$textLayer && e > this.$textLayer.MAX_LINE_LENGTH && (e = this.$textLayer.MAX_LINE_LENGTH + 30),
            Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth))
        }
        ,
        this.updateFrontMarkers = function() {
            this.$markerFront.setMarkers(this.session.getMarkers(!0)),
            this.$loop.schedule(this.CHANGE_MARKER_FRONT)
        }
        ,
        this.updateBackMarkers = function() {
            this.$markerBack.setMarkers(this.session.getMarkers()),
            this.$loop.schedule(this.CHANGE_MARKER_BACK)
        }
        ,
        this.addGutterDecoration = function(e, t) {
            this.$gutterLayer.addGutterDecoration(e, t)
        }
        ,
        this.removeGutterDecoration = function(e, t) {
            this.$gutterLayer.removeGutterDecoration(e, t)
        }
        ,
        this.updateBreakpoints = function(e) {
            this.$loop.schedule(this.CHANGE_GUTTER)
        }
        ,
        this.setAnnotations = function(e) {
            this.$gutterLayer.setAnnotations(e),
            this.$loop.schedule(this.CHANGE_GUTTER)
        }
        ,
        this.updateCursor = function() {
            this.$loop.schedule(this.CHANGE_CURSOR)
        }
        ,
        this.hideCursor = function() {
            this.$cursorLayer.hideCursor()
        }
        ,
        this.showCursor = function() {
            this.$cursorLayer.showCursor()
        }
        ,
        this.scrollSelectionIntoView = function(e, t, i) {
            this.scrollCursorIntoView(e, i),
            this.scrollCursorIntoView(t, i)
        }
        ,
        this.scrollCursorIntoView = function(e, t, i) {
            if (0 !== this.$size.scrollerHeight) {
                var n = this.$cursorLayer.getPixelPosition(e)
                  , s = n.left
                  , o = n.top
                  , r = i && i.top || 0
                  , a = i && i.bottom || 0
                  , l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
                l + r > o ? (t && l + r > o + this.lineHeight && (o -= t * this.$size.scrollerHeight),
                0 === o && (o = -this.scrollMargin.top),
                this.session.setScrollTop(o)) : l + this.$size.scrollerHeight - a < o + this.lineHeight && (t && l + this.$size.scrollerHeight - a < o - this.lineHeight && (o += t * this.$size.scrollerHeight),
                this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight));
                var h = this.scrollLeft;
                h > s ? (s < this.$padding + 2 * this.layerConfig.characterWidth && (s = -this.scrollMargin.left),
                this.session.setScrollLeft(s)) : h + this.$size.scrollerWidth < s + this.characterWidth ? this.session.setScrollLeft(Math.round(s + this.characterWidth - this.$size.scrollerWidth)) : h <= this.$padding && s - h < this.characterWidth && this.session.setScrollLeft(0)
            }
        }
        ,
        this.getScrollTop = function() {
            return this.session.getScrollTop()
        }
        ,
        this.getScrollLeft = function() {
            return this.session.getScrollLeft()
        }
        ,
        this.getScrollTopRow = function() {
            return this.scrollTop / this.lineHeight
        }
        ,
        this.getScrollBottomRow = function() {
            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1)
        }
        ,
        this.scrollToRow = function(e) {
            this.session.setScrollTop(e * this.lineHeight)
        }
        ,
        this.alignCursor = function(e, t) {
            "number" == typeof e && (e = {
                row: e,
                column: 0
            });
            var i = this.$cursorLayer.getPixelPosition(e)
              , n = this.$size.scrollerHeight - this.lineHeight
              , s = i.top - n * (t || 0);
            return this.session.setScrollTop(s),
            s
        }
        ,
        this.STEPS = 8,
        this.$calcSteps = function(e, t) {
            var i = 0
              , n = this.STEPS
              , s = [];
            for (i = 0; i < n; ++i)
                s.push(function(e, t, i) {
                    return i * (Math.pow(e - 1, 3) + 1) + t
                }(i / this.STEPS, e, t - e));
            return s
        }
        ,
        this.scrollToLine = function(e, t, i, n) {
            var s = this.$cursorLayer.getPixelPosition({
                row: e,
                column: 0
            }).top;
            t && (s -= this.$size.scrollerHeight / 2);
            var o = this.scrollTop;
            this.session.setScrollTop(s),
            !1 !== i && this.animateScrolling(o, n)
        }
        ,
        this.animateScrolling = function(e, t) {
            var i = this.scrollTop;
            if (this.$animatedScroll) {
                var n = this;
                if (e != i) {
                    if (this.$scrollAnimation) {
                        var s = this.$scrollAnimation.steps;
                        if (s.length && (e = s[0]) == i)
                            return
                    }
                    var o = n.$calcSteps(e, i);
                    this.$scrollAnimation = {
                        from: e,
                        to: i,
                        steps: o
                    },
                    clearInterval(this.$timer),
                    n.session.setScrollTop(o.shift()),
                    n.session.$scrollTop = i,
                    this.$timer = setInterval(function() {
                        o.length ? (n.session.setScrollTop(o.shift()),
                        n.session.$scrollTop = i) : null != i ? (n.session.$scrollTop = -1,
                        n.session.setScrollTop(i),
                        i = null) : (n.$timer = clearInterval(n.$timer),
                        n.$scrollAnimation = null,
                        t && t())
                    }, 10)
                }
            }
        }
        ,
        this.scrollToY = function(e) {
            this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL),
            this.scrollTop = e)
        }
        ,
        this.scrollToX = function(e) {
            this.scrollLeft !== e && (this.scrollLeft = e),
            this.$loop.schedule(this.CHANGE_H_SCROLL)
        }
        ,
        this.scrollTo = function(e, t) {
            this.session.setScrollTop(t),
            this.session.setScrollLeft(t)
        }
        ,
        this.scrollBy = function(e, t) {
            t && this.session.setScrollTop(this.session.getScrollTop() + t),
            e && this.session.setScrollLeft(this.session.getScrollLeft() + e)
        }
        ,
        this.isScrollableBy = function(e, t) {
            return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || (t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || (e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || (e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0)))
        }
        ,
        this.pixelToScreenCoordinates = function(e, t) {
            var i;
            if (this.$hasCssTransforms) {
                i = {
                    top: 0,
                    left: 0
                };
                var n = this.$fontMetrics.transformCoordinates([e, t]);
                e = n[1] - this.gutterWidth - this.margin.left,
                t = n[0]
            } else
                i = this.scroller.getBoundingClientRect();
            var s = e + this.scrollLeft - i.left - this.$padding
              , o = s / this.characterWidth
              , r = Math.floor((t + this.scrollTop - i.top) / this.lineHeight)
              , a = this.$blockCursor ? Math.floor(o) : Math.round(o);
            return {
                row: r,
                column: a,
                side: o - a > 0 ? 1 : -1,
                offsetX: s
            }
        }
        ,
        this.screenToTextCoordinates = function(e, t) {
            var i;
            if (this.$hasCssTransforms) {
                i = {
                    top: 0,
                    left: 0
                };
                var n = this.$fontMetrics.transformCoordinates([e, t]);
                e = n[1] - this.gutterWidth - this.margin.left,
                t = n[0]
            } else
                i = this.scroller.getBoundingClientRect();
            var s = e + this.scrollLeft - i.left - this.$padding
              , o = s / this.characterWidth
              , r = this.$blockCursor ? Math.floor(o) : Math.round(o)
              , a = Math.floor((t + this.scrollTop - i.top) / this.lineHeight);
            return this.session.screenToDocumentPosition(a, Math.max(r, 0), s)
        }
        ,
        this.textToScreenCoordinates = function(e, t) {
            var i = this.scroller.getBoundingClientRect()
              , n = this.session.documentToScreenPosition(e, t)
              , s = this.$padding + (this.session.$bidiHandler.isBidiRow(n.row, e) ? this.session.$bidiHandler.getPosLeft(n.column) : Math.round(n.column * this.characterWidth))
              , o = n.row * this.lineHeight;
            return {
                pageX: i.left + s - this.scrollLeft,
                pageY: i.top + o - this.scrollTop
            }
        }
        ,
        this.visualizeFocus = function() {
            s.addCssClass(this.container, "ace_focus")
        }
        ,
        this.visualizeBlur = function() {
            s.removeCssClass(this.container, "ace_focus")
        }
        ,
        this.showComposition = function(e) {
            this.$composition = e,
            e.cssText || (e.cssText = this.textarea.style.cssText,
            e.keepTextAreaAtCursor = this.$keepTextAreaAtCursor),
            e.useTextareaForIME = this.$useTextareaForIME,
            this.$useTextareaForIME ? (this.$keepTextAreaAtCursor = !0,
            s.addCssClass(this.textarea, "ace_composition"),
            this.textarea.style.cssText = "",
            this.$moveTextAreaToCursor(),
            this.$cursorLayer.element.style.display = "none") : e.markerId = this.session.addMarker(e.markerRange, "ace_composition_marker", "text")
        }
        ,
        this.setCompositionText = function(e) {
            var t = this.session.selection.cursor;
            this.addToken(e, "composition_placeholder", t.row, t.column),
            this.$moveTextAreaToCursor()
        }
        ,
        this.hideComposition = function() {
            this.$composition && (this.$composition.markerId && this.session.removeMarker(this.$composition.markerId),
            s.removeCssClass(this.textarea, "ace_composition"),
            this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor,
            this.textarea.style.cssText = this.$composition.cssText,
            this.$composition = null,
            this.$cursorLayer.element.style.display = "")
        }
        ,
        this.addToken = function(e, t, i, n) {
            var s = this.session;
            s.bgTokenizer.lines[i] = null;
            var o = {
                type: t,
                value: e
            }
              , r = s.getTokens(i);
            if (null == n)
                r.push(o);
            else
                for (var a = 0, l = 0; l < r.length; l++) {
                    var h = r[l];
                    if (a += h.value.length,
                    n <= a) {
                        var c = h.value.length - (a - n)
                          , u = h.value.slice(0, c)
                          , d = h.value.slice(c);
                        r.splice(l, 1, {
                            type: h.type,
                            value: u
                        }, o, {
                            type: h.type,
                            value: d
                        });
                        break
                    }
                }
            this.updateLines(i, i)
        }
        ,
        this.setTheme = function(e, t) {
            function i(i) {
                if (n.$themeId != e)
                    return t && t();
                if (!i || !i.cssClass)
                    throw new Error("No se pudo cargar " + e + " o no esta definido");
                i.$id && (n.$themeId = i.$id),
                s.importCssString(i.cssText, i.cssClass, n.container),
                n.theme && s.removeCssClass(n.container, n.theme.cssClass);
                var o = "padding"in i ? i.padding : "padding"in (n.theme || {}) ? 4 : n.$padding;
                n.$padding && o != n.$padding && n.setPadding(o),
                n.$theme = i.cssClass,
                n.theme = i,
                s.addCssClass(n.container, i.cssClass),
                s.setCssClass(n.container, "ace_dark", i.isDark),
                n.$size && (n.$size.width = 0,
                n.$updateSizeAsync()),
                n._dispatchEvent("themeLoaded", {
                    theme: i
                }),
                t && t()
            }
            var n = this;
            if (this.$themeId = e,
            n._dispatchEvent("themeChange", {
                theme: e
            }),
            e && "string" != typeof e)
                i(e);
            else {
                var r = e || this.$options.theme.initialValue;
                o.loadModule(["theme", r], i)
            }
        }
        ,
        this.getTheme = function() {
            return this.$themeId
        }
        ,
        this.setStyle = function(e, t) {
            s.setCssClass(this.container, e, !1 !== t)
        }
        ,
        this.unsetStyle = function(e) {
            s.removeCssClass(this.container, e)
        }
        ,
        this.setCursorStyle = function(e) {
            s.setStyle(this.scroller.style, "cursor", e)
        }
        ,
        this.setMouseCursor = function(e) {
            s.setStyle(this.scroller.style, "cursor", e)
        }
        ,
        this.attachToShadowRoot = function() {
            s.importCssString(m, "ace_editor.css", this.container)
        }
        ,
        this.destroy = function() {
            this.$fontMetrics.destroy(),
            this.$cursorLayer.destroy()
        }
    }
    ).call(w.prototype),
    o.defineOptions(w.prototype, "renderer", {
        animatedScroll: {
            initialValue: !1
        },
        showInvisibles: {
            set: function(e) {
                this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT)
            },
            initialValue: !1
        },
        showPrintMargin: {
            set: function() {
                this.$updatePrintMargin()
            },
            initialValue: !0
        },
        printMarginColumn: {
            set: function() {
                this.$updatePrintMargin()
            },
            initialValue: 80
        },
        printMargin: {
            set: function(e) {
                "number" == typeof e && (this.$printMarginColumn = e),
                this.$showPrintMargin = !!e,
                this.$updatePrintMargin()
            },
            get: function() {
                return this.$showPrintMargin && this.$printMarginColumn
            }
        },
        showGutter: {
            set: function(e) {
                this.$gutter.style.display = e ? "block" : "none",
                this.$loop.schedule(this.CHANGE_FULL),
                this.onGutterResize()
            },
            initialValue: !0
        },
        fadeFoldWidgets: {
            set: function(e) {
                s.setCssClass(this.$gutter, "ace_fade-fold-widgets", e)
            },
            initialValue: !1
        },
        showFoldWidgets: {
            set: function(e) {
                this.$gutterLayer.setShowFoldWidgets(e),
                this.$loop.schedule(this.CHANGE_GUTTER)
            },
            initialValue: !0
        },
        displayIndentGuides: {
            set: function(e) {
                this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT)
            },
            initialValue: !0
        },
        highlightGutterLine: {
            set: function(e) {
                this.$gutterLayer.setHighlightGutterLine(e),
                this.$loop.schedule(this.CHANGE_GUTTER)
            },
            initialValue: !0
        },
        hScrollBarAlwaysVisible: {
            set: function(e) {
                (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) && this.$loop.schedule(this.CHANGE_SCROLL)
            },
            initialValue: !1
        },
        vScrollBarAlwaysVisible: {
            set: function(e) {
                (!this.$vScrollBarAlwaysVisible || !this.$vScroll) && this.$loop.schedule(this.CHANGE_SCROLL)
            },
            initialValue: !1
        },
        fontSize: {
            set: function(e) {
                "number" == typeof e && (e += "px"),
                this.container.style.fontSize = e,
                this.updateFontSize()
            },
            initialValue: 12
        },
        fontFamily: {
            set: function(e) {
                this.container.style.fontFamily = e,
                this.updateFontSize()
            }
        },
        maxLines: {
            set: function(e) {
                this.updateFull()
            }
        },
        minLines: {
            set: function(e) {
                this.$minLines < 562949953421311 || (this.$minLines = 0),
                this.updateFull()
            }
        },
        maxPixelHeight: {
            set: function(e) {
                this.updateFull()
            },
            initialValue: 0
        },
        scrollPastEnd: {
            set: function(e) {
                e = +e || 0,
                this.$scrollPastEnd != e && (this.$scrollPastEnd = e,
                this.$loop.schedule(this.CHANGE_SCROLL))
            },
            initialValue: 0,
            handlesSet: !0
        },
        fixedWidthGutter: {
            set: function(e) {
                this.$gutterLayer.$fixedWidth = !!e,
                this.$loop.schedule(this.CHANGE_GUTTER)
            }
        },
        theme: {
            set: function(e) {
                this.setTheme(e)
            },
            get: function() {
                return this.$themeId || this.theme
            },
            initialValue: "./theme/textmate",
            handlesSet: !0
        },
        hasCssTransforms: {},
        useTextareaForIME: {
            initialValue: !p.isMobile && !p.isIE
        }
    }),
    t.VirtualRenderer = w
}),
ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(e, t, i) {
    "use strict";
    function n(e) {
        var t = "importScripts('" + r.qualifyURL(e) + "');";
        try {
            return new Blob([t],{
                type: "application/javascript"
            })
        } catch (e) {
            var i = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder);
            return i.append(t),
            i.getBlob("application/javascript")
        }
    }
    function s(e) {
        if ("undefined" == typeof Worker)
            return {
                postMessage: function() {},
                terminate: function() {}
            };
        var t = n(e)
          , i = (window.URL || window.webkitURL).createObjectURL(t);
        return new Worker(i)
    }
    var o = e("../lib/oop")
      , r = e("../lib/net")
      , a = e("../lib/event_emitter").EventEmitter
      , l = e("../config")
      , h = function(t, i, n, o, r) {
        if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
        this.changeListener = this.changeListener.bind(this),
        this.onMessage = this.onMessage.bind(this),
        e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl),
        l.get("packaged") || !e.toUrl)
            o = o || l.moduleUrl(i, "worker");
        else {
            var a = this.$normalizePath;
            o = o || a(e.toUrl("ace/worker/worker.js", null, "_"));
            var h = {};
            t.forEach(function(t) {
                h[t] = a(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""))
            })
        }
        this.$worker = s(o),
        r && this.send("importScripts", r),
        this.$worker.postMessage({
            init: !0,
            tlns: h,
            module: i,
            classname: n
        }),
        this.callbackId = 1,
        this.callbacks = {},
        this.$worker.onmessage = this.onMessage
    };
    (function() {
        o.implement(this, a),
        this.onMessage = function(e) {
            var t = e.data;
            switch (t.type) {
            case "event":
                this._signal(t.name, {
                    data: t.data
                });
                break;
            case "call":
                var i = this.callbacks[t.id];
                i && (i(t.data),
                delete this.callbacks[t.id]);
                break;
            case "error":
                this.reportError(t.data);
                break;
            case "log":
                window.console && console.log && console.log.apply(console, t.data)
            }
        }
        ,
        this.reportError = function(e) {
            window.console && console.error && console.error(e)
        }
        ,
        this.$normalizePath = function(e) {
            return r.qualifyURL(e)
        }
        ,
        this.terminate = function() {
            this._signal("terminate", {}),
            this.deltaQueue = null,
            this.$worker.terminate(),
            this.$worker = null,
            this.$doc && this.$doc.off("change", this.changeListener),
            this.$doc = null
        }
        ,
        this.send = function(e, t) {
            this.$worker.postMessage({
                command: e,
                args: t
            })
        }
        ,
        this.call = function(e, t, i) {
            if (i) {
                var n = this.callbackId++;
                this.callbacks[n] = i,
                t.push(n)
            }
            this.send(e, t)
        }
        ,
        this.emit = function(e, t) {
            try {
                t.data && t.data.err && (t.data.err = {
                    message: t.data.err.message,
                    stack: t.data.err.stack,
                    code: t.data.err.code
                }),
                this.$worker.postMessage({
                    event: e,
                    data: {
                        data: t.data
                    }
                })
            } catch (e) {
                console.error(e.stack)
            }
        }
        ,
        this.attachToDocument = function(e) {
            this.$doc && this.terminate(),
            this.$doc = e,
            this.call("setValue", [e.getValue()]),
            e.on("change", this.changeListener)
        }
        ,
        this.changeListener = function(e) {
            this.deltaQueue || (this.deltaQueue = [],
            setTimeout(this.$sendDeltaQueue, 0)),
            "insert" == e.action ? this.deltaQueue.push(e.start, e.lines) : this.deltaQueue.push(e.start, e.end)
        }
        ,
        this.$sendDeltaQueue = function() {
            var e = this.deltaQueue;
            e && (this.deltaQueue = null,
            e.length > 50 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", {
                data: e
            }))
        }
    }
    ).call(h.prototype);
    var c = function(e, t, i) {
        this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this),
        this.changeListener = this.changeListener.bind(this),
        this.callbackId = 1,
        this.callbacks = {},
        this.messageBuffer = [];
        var n = null
          , s = !1
          , o = Object.create(a)
          , r = this;
        this.$worker = {},
        this.$worker.terminate = function() {}
        ,
        this.$worker.postMessage = function(e) {
            r.messageBuffer.push(e),
            n && (s ? setTimeout(h) : h())
        }
        ,
        this.setEmitSync = function(e) {
            s = e
        }
        ;
        var h = function() {
            var e = r.messageBuffer.shift();
            e.command ? n[e.command].apply(n, e.args) : e.event && o._signal(e.event, e.data)
        };
        o.postMessage = function(e) {
            r.onMessage({
                data: e
            })
        }
        ,
        o.callback = function(e, t) {
            this.postMessage({
                type: "call",
                id: t,
                data: e
            })
        }
        ,
        o.emit = function(e, t) {
            this.postMessage({
                type: "event",
                name: e,
                data: t
            })
        }
        ,
        l.loadModule(["worker", t], function(e) {
            for (n = new e[i](o); r.messageBuffer.length; )
                h()
        })
    };
    c.prototype = h.prototype,
    t.UIWorkerClient = c,
    t.WorkerClient = h,
    t.createWorker = s
}),
ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(e, t, i) {
    "use strict";
    var n = e("./range").Range
      , s = e("./lib/event_emitter").EventEmitter
      , o = e("./lib/oop")
      , r = function(e, t, i, n, s, o) {
        var r = this;
        this.length = t,
        this.session = e,
        this.doc = e.getDocument(),
        this.mainClass = s,
        this.othersClass = o,
        this.$onUpdate = this.onUpdate.bind(this),
        this.doc.on("change", this.$onUpdate),
        this.$others = n,
        this.$onCursorChange = function() {
            setTimeout(function() {
                r.onCursorChange()
            })
        }
        ,
        this.$pos = i;
        var a = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
            length: -1
        };
        this.$undoStackDepth = a.length,
        this.setup(),
        e.selection.on("changeCursor", this.$onCursorChange)
    };
    (function() {
        o.implement(this, s),
        this.setup = function() {
            var e = this
              , t = this.doc
              , i = this.session;
            this.selectionBefore = i.selection.toJSON(),
            i.selection.inMultiSelectMode && i.selection.toSingleRange(),
            this.pos = t.createAnchor(this.$pos.row, this.$pos.column);
            var s = this.pos;
            s.$insertRight = !0,
            s.detach(),
            s.markerId = i.addMarker(new n(s.row,s.column,s.row,s.column + this.length), this.mainClass, null, !1),
            this.others = [],
            this.$others.forEach(function(i) {
                var n = t.createAnchor(i.row, i.column);
                n.$insertRight = !0,
                n.detach(),
                e.others.push(n)
            }),
            i.setUndoSelect(!1)
        }
        ,
        this.showOtherMarkers = function() {
            if (!this.othersActive) {
                var e = this.session
                  , t = this;
                this.othersActive = !0,
                this.others.forEach(function(i) {
                    i.markerId = e.addMarker(new n(i.row,i.column,i.row,i.column + t.length), t.othersClass, null, !1)
                })
            }
        }
        ,
        this.hideOtherMarkers = function() {
            if (this.othersActive) {
                this.othersActive = !1;
                for (var e = 0; e < this.others.length; e++)
                    this.session.removeMarker(this.others[e].markerId)
            }
        }
        ,
        this.onUpdate = function(e) {
            if (this.$updating)
                return this.updateAnchors(e);
            var t = e;
            if (t.start.row === t.end.row && t.start.row === this.pos.row) {
                this.$updating = !0;
                var i = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column
                  , s = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1
                  , o = t.start.column - this.pos.column;
                if (this.updateAnchors(e),
                s && (this.length += i),
                s && !this.session.$fromUndo)
                    if ("insert" === e.action)
                        for (r = this.others.length - 1; r >= 0; r--) {
                            l = {
                                row: (a = this.others[r]).row,
                                column: a.column + o
                            };
                            this.doc.insertMergedLines(l, e.lines)
                        }
                    else if ("remove" === e.action)
                        for (var r = this.others.length - 1; r >= 0; r--) {
                            var a = this.others[r]
                              , l = {
                                row: a.row,
                                column: a.column + o
                            };
                            this.doc.remove(new n(l.row,l.column,l.row,l.column - i))
                        }
                this.$updating = !1,
                this.updateMarkers()
            }
        }
        ,
        this.updateAnchors = function(e) {
            this.pos.onChange(e);
            for (var t = this.others.length; t--; )
                this.others[t].onChange(e);
            this.updateMarkers()
        }
        ,
        this.updateMarkers = function() {
            if (!this.$updating) {
                var e = this
                  , t = this.session
                  , i = function(i, s) {
                    t.removeMarker(i.markerId),
                    i.markerId = t.addMarker(new n(i.row,i.column,i.row,i.column + e.length), s, null, !1)
                };
                i(this.pos, this.mainClass);
                for (var s = this.others.length; s--; )
                    i(this.others[s], this.othersClass)
            }
        }
        ,
        this.onCursorChange = function(e) {
            if (!this.$updating && this.session) {
                var t = this.session.selection.getCursor();
                t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(),
                this._emit("cursorEnter", e)) : (this.hideOtherMarkers(),
                this._emit("cursorLeave", e))
            }
        }
        ,
        this.detach = function() {
            this.session.removeMarker(this.pos && this.pos.markerId),
            this.hideOtherMarkers(),
            this.doc.removeEventListener("change", this.$onUpdate),
            this.session.selection.removeEventListener("changeCursor", this.$onCursorChange),
            this.session.setUndoSelect(!0),
            this.session = null
        }
        ,
        this.cancel = function() {
            if (-1 !== this.$undoStackDepth) {
                for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, i = 0; i < t; i++)
                    e.undo(this.session, !0);
                this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore)
            }
        }
    }
    ).call(r.prototype),
    t.PlaceHolder = r
}),
ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, i) {
    function n(e, t) {
        return e.row == t.row && e.column == t.column
    }
    var s = e("../lib/event")
      , o = e("../lib/useragent");
    t.onMouseDown = function(e) {
        var t = e.domEvent
          , i = t.altKey
          , r = t.shiftKey
          , a = t.ctrlKey
          , l = e.getAccelKey()
          , h = e.getButton();
        if (a && o.isMac && (h = t.button),
        e.editor.inMultiSelectMode && 2 == h)
            e.editor.textInput.onContextMenu(e.domEvent);
        else if (a || i || l) {
            if (0 === h) {
                var c, u = e.editor, d = u.selection, g = u.inMultiSelectMode, f = e.getDocumentPosition(), m = d.getCursor(), p = e.inSelection() || d.isEmpty() && n(f, m), v = e.x, w = e.y, $ = u.session, b = u.renderer.pixelToScreenCoordinates(v, w), y = b;
                if (u.$mouseHandler.$enableJumpToDef)
                    a && i || l && i ? c = r ? "block" : "add" : i && u.$blockSelectEnabled && (c = "block");
                else if (l && !i) {
                    if (c = "add",
                    !g && r)
                        return
                } else
                    i && u.$blockSelectEnabled && (c = "block");
                if (c && o.isMac && t.ctrlKey && u.$mouseHandler.cancelContextMenu(),
                "add" == c) {
                    if (!g && p)
                        return;
                    if (!g) {
                        var C = d.toOrientedRange();
                        u.addSelectionMarker(C)
                    }
                    var S = d.rangeList.rangeAtPoint(f);
                    u.inVirtualSelectionMode = !0,
                    r && (S = null,
                    C = d.ranges[0] || C,
                    u.removeSelectionMarker(C)),
                    u.once("mouseup", function() {
                        var e = d.toOrientedRange();
                        S && e.isEmpty() && n(S.cursor, e.cursor) ? d.substractPoint(e.cursor) : (r ? d.substractPoint(C.cursor) : C && (u.removeSelectionMarker(C),
                        d.addRange(C)),
                        d.addRange(e)),
                        u.inVirtualSelectionMode = !1
                    })
                } else if ("block" == c) {
                    e.stop(),
                    u.inVirtualSelectionMode = !0;
                    var x, A = [], k = function() {
                        var e = u.renderer.pixelToScreenCoordinates(v, w)
                          , t = $.screenToDocumentPosition(e.row, e.column, e.offsetX);
                        n(y, e) && n(t, d.lead) || (y = e,
                        u.selection.moveToPosition(t),
                        u.renderer.scrollCursorIntoView(),
                        u.removeSelectionMarkers(A),
                        A = d.rectangularRangeBlock(y, b),
                        u.$mouseHandler.$clickSelection && 1 == A.length && A[0].isEmpty() && (A[0] = u.$mouseHandler.$clickSelection.clone()),
                        A.forEach(u.addSelectionMarker, u),
                        u.updateSelectionMarkers())
                    };
                    g && !l ? d.toSingleRange() : !g && l && (x = d.toOrientedRange(),
                    u.addSelectionMarker(x)),
                    r ? b = $.documentToScreenPosition(d.lead) : d.moveToPosition(f),
                    y = {
                        row: -1,
                        column: -1
                    };
                    var L = k;
                    s.capture(u.container, function(e) {
                        v = e.clientX,
                        w = e.clientY
                    }, function(e) {
                        k(),
                        clearInterval(R),
                        u.removeSelectionMarkers(A),
                        A.length || (A = [d.toOrientedRange()]),
                        x && (u.removeSelectionMarker(x),
                        d.toSingleRange(x));
                        for (var t = 0; t < A.length; t++)
                            d.addRange(A[t]);
                        u.inVirtualSelectionMode = !1,
                        u.$mouseHandler.$clickSelection = null
                    });
                    var R = setInterval(function() {
                        L()
                    }, 20);
                    return e.preventDefault()
                }
            }
        } else
            0 === h && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode()
    }
}),
ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(e, t, i) {
    t.defaultCommands = [{
        name: "addCursorAbove",
        exec: function(e) {
            e.selectMoreLines(-1)
        },
        bindKey: {
            win: "Ctrl-Alt-Up",
            mac: "Ctrl-Alt-Up"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "addCursorBelow",
        exec: function(e) {
            e.selectMoreLines(1)
        },
        bindKey: {
            win: "Ctrl-Alt-Down",
            mac: "Ctrl-Alt-Down"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "addCursorAboveSkipCurrent",
        exec: function(e) {
            e.selectMoreLines(-1, !0)
        },
        bindKey: {
            win: "Ctrl-Alt-Shift-Up",
            mac: "Ctrl-Alt-Shift-Up"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "addCursorBelowSkipCurrent",
        exec: function(e) {
            e.selectMoreLines(1, !0)
        },
        bindKey: {
            win: "Ctrl-Alt-Shift-Down",
            mac: "Ctrl-Alt-Shift-Down"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectMoreBefore",
        exec: function(e) {
            e.selectMore(-1)
        },
        bindKey: {
            win: "Ctrl-Alt-Left",
            mac: "Ctrl-Alt-Left"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectMoreAfter",
        exec: function(e) {
            e.selectMore(1)
        },
        bindKey: {
            win: "Ctrl-Alt-Right",
            mac: "Ctrl-Alt-Right"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectNextBefore",
        exec: function(e) {
            e.selectMore(-1, !0)
        },
        bindKey: {
            win: "Ctrl-Alt-Shift-Left",
            mac: "Ctrl-Alt-Shift-Left"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "selectNextAfter",
        exec: function(e) {
            e.selectMore(1, !0)
        },
        bindKey: {
            win: "Ctrl-Alt-Shift-Right",
            mac: "Ctrl-Alt-Shift-Right"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }, {
        name: "splitIntoLines",
        exec: function(e) {
            e.multiSelect.splitIntoLines()
        },
        bindKey: {
            win: "Ctrl-Alt-L",
            mac: "Ctrl-Alt-L"
        },
        readOnly: !0
    }, {
        name: "alignCursors",
        exec: function(e) {
            e.alignCursors()
        },
        bindKey: {
            win: "Ctrl-Alt-A",
            mac: "Ctrl-Alt-A"
        },
        scrollIntoView: "cursor"
    }, {
        name: "findAll",
        exec: function(e) {
            e.findAll()
        },
        bindKey: {
            win: "Ctrl-Alt-K",
            mac: "Ctrl-Alt-G"
        },
        scrollIntoView: "cursor",
        readOnly: !0
    }],
    t.multiSelectCommands = [{
        name: "singleSelection",
        bindKey: "esc",
        exec: function(e) {
            e.exitMultiSelectMode()
        },
        scrollIntoView: "cursor",
        readOnly: !0,
        isAvailable: function(e) {
            return e && e.inMultiSelectMode
        }
    }];
    var n = e("../keyboard/hash_handler").HashHandler;
    t.keyboardHandler = new n(t.multiSelectCommands)
}),
ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(e, t, i) {
    function n(e, t, i) {
        return f.$options.wrap = !0,
        f.$options.needle = t,
        f.$options.backwards = -1 == i,
        f.find(e)
    }
    function s(e, t) {
        return e.row == t.row && e.column == t.column
    }
    function o(e) {
        e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e),
        e.$onRemoveRange = e.$onRemoveRange.bind(e),
        e.$onMultiSelect = e.$onMultiSelect.bind(e),
        e.$onSingleSelect = e.$onSingleSelect.bind(e),
        e.$multiselectOnSessionChange = t.onSessionChange.bind(e),
        e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e),
        e.$multiselectOnSessionChange(e),
        e.on("changeSession", e.$multiselectOnSessionChange),
        e.on("mousedown", c),
        e.commands.addCommands(g.defaultCommands),
        r(e))
    }
    function r(e) {
        function t(t) {
            n && (e.renderer.setMouseCursor(""),
            n = !1)
        }
        var i = e.textInput.getElement()
          , n = !1;
        u.addListener(i, "keydown", function(i) {
            var s = 18 == i.keyCode && !(i.ctrlKey || i.shiftKey || i.metaKey);
            e.$blockSelectEnabled && s ? n || (e.renderer.setMouseCursor("crosshair"),
            n = !0) : n && t()
        }),
        u.addListener(i, "keyup", t),
        u.addListener(i, "blur", t)
    }
    var a = e("./range_list").RangeList
      , l = e("./range").Range
      , h = e("./selection").Selection
      , c = e("./mouse/multi_select_handler").onMouseDown
      , u = e("./lib/event")
      , d = e("./lib/lang")
      , g = e("./commands/multi_select_commands");
    t.commands = g.defaultCommands.concat(g.multiSelectCommands);
    var f = new (0,
    e("./search").Search)
      , m = e("./edit_session").EditSession;
    (function() {
        this.getSelectionMarkers = function() {
            return this.$selectionMarkers
        }
    }
    ).call(m.prototype),
    function() {
        this.ranges = null,
        this.rangeList = null,
        this.addRange = function(e, t) {
            if (e) {
                if (!this.inMultiSelectMode && 0 === this.rangeCount) {
                    var i = this.toOrientedRange();
                    if (this.rangeList.add(i),
                    this.rangeList.add(e),
                    2 != this.rangeList.ranges.length)
                        return this.rangeList.removeAll(),
                        t || this.fromOrientedRange(e);
                    this.rangeList.removeAll(),
                    this.rangeList.add(i),
                    this.$onAddRange(i)
                }
                e.cursor || (e.cursor = e.end);
                var n = this.rangeList.add(e);
                return this.$onAddRange(e),
                n.length && this.$onRemoveRange(n),
                this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"),
                this.inMultiSelectMode = !0,
                this.session.$undoSelect = !1,
                this.rangeList.attach(this.session)),
                t || this.fromOrientedRange(e)
            }
        }
        ,
        this.toSingleRange = function(e) {
            e = e || this.ranges[0];
            var t = this.rangeList.removeAll();
            t.length && this.$onRemoveRange(t),
            e && this.fromOrientedRange(e)
        }
        ,
        this.substractPoint = function(e) {
            var t = this.rangeList.substractPoint(e);
            if (t)
                return this.$onRemoveRange(t),
                t[0]
        }
        ,
        this.mergeOverlappingRanges = function() {
            var e = this.rangeList.merge();
            e.length && this.$onRemoveRange(e)
        }
        ,
        this.$onAddRange = function(e) {
            this.rangeCount = this.rangeList.ranges.length,
            this.ranges.unshift(e),
            this._signal("addRange", {
                range: e
            })
        }
        ,
        this.$onRemoveRange = function(e) {
            if (this.rangeCount = this.rangeList.ranges.length,
            1 == this.rangeCount && this.inMultiSelectMode) {
                var t = this.rangeList.ranges.pop();
                e.push(t),
                this.rangeCount = 0
            }
            for (var i = e.length; i--; ) {
                var n = this.ranges.indexOf(e[i]);
                this.ranges.splice(n, 1)
            }
            this._signal("removeRange", {
                ranges: e
            }),
            0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1,
            this._signal("singleSelect"),
            this.session.$undoSelect = !0,
            this.rangeList.detach(this.session)),
            (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t)
        }
        ,
        this.$initRangeList = function() {
            this.rangeList || (this.rangeList = new a,
            this.ranges = [],
            this.rangeCount = 0)
        }
        ,
        this.getAllRanges = function() {
            return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()]
        }
        ,
        this.splitIntoLines = function() {
            if (this.rangeCount > 1) {
                var e = this.rangeList.ranges
                  , t = e[e.length - 1]
                  , i = l.fromPoints(e[0].start, t.end);
                this.toSingleRange(),
                this.setSelectionRange(i, t.cursor == t.start)
            } else {
                var i = this.getRange()
                  , n = this.isBackwards()
                  , s = i.start.row
                  , o = i.end.row;
                if (s == o) {
                    if (n)
                        var r = i.end
                          , a = i.start;
                    else
                        var r = i.start
                          , a = i.end;
                    return this.addRange(l.fromPoints(a, a)),
                    void this.addRange(l.fromPoints(r, r))
                }
                var h = []
                  , c = this.getLineRange(s, !0);
                c.start.column = i.start.column,
                h.push(c);
                for (var u = s + 1; u < o; u++)
                    h.push(this.getLineRange(u, !0));
                (c = this.getLineRange(o, !0)).end.column = i.end.column,
                h.push(c),
                h.forEach(this.addRange, this)
            }
        }
        ,
        this.toggleBlockSelection = function() {
            if (this.rangeCount > 1) {
                var e = this.rangeList.ranges
                  , t = e[e.length - 1]
                  , i = l.fromPoints(e[0].start, t.end);
                this.toSingleRange(),
                this.setSelectionRange(i, t.cursor == t.start)
            } else {
                var n = this.session.documentToScreenPosition(this.cursor)
                  , s = this.session.documentToScreenPosition(this.anchor);
                this.rectangularRangeBlock(n, s).forEach(this.addRange, this)
            }
        }
        ,
        this.rectangularRangeBlock = function(e, t, i) {
            var n = []
              , o = e.column < t.column;
            if (o)
                var r = e.column
                  , a = t.column
                  , h = e.offsetX
                  , c = t.offsetX;
            else
                var r = t.column
                  , a = e.column
                  , h = t.offsetX
                  , c = e.offsetX;
            var u = e.row < t.row;
            if (u)
                var d = e.row
                  , g = t.row;
            else
                var d = t.row
                  , g = e.row;
            r < 0 && (r = 0),
            d < 0 && (d = 0),
            d == g && (i = !0);
            for (var f, m = d; m <= g; m++) {
                var p = l.fromPoints(this.session.screenToDocumentPosition(m, r, h), this.session.screenToDocumentPosition(m, a, c));
                if (p.isEmpty()) {
                    if (f && s(p.end, f))
                        break;
                    f = p.end
                }
                p.cursor = o ? p.start : p.end,
                n.push(p)
            }
            if (u && n.reverse(),
            !i) {
                for (var v = n.length - 1; n[v].isEmpty() && v > 0; )
                    v--;
                if (v > 0)
                    for (var w = 0; n[w].isEmpty(); )
                        w++;
                for (var $ = v; $ >= w; $--)
                    n[$].isEmpty() && n.splice($, 1)
            }
            return n
        }
    }
    .call(h.prototype);
    var p = e("./editor").Editor;
    (function() {
        this.updateSelectionMarkers = function() {
            this.renderer.updateCursor(),
            this.renderer.updateBackMarkers()
        }
        ,
        this.addSelectionMarker = function(e) {
            e.cursor || (e.cursor = e.end);
            var t = this.getSelectionStyle();
            return e.marker = this.session.addMarker(e, "ace_selection", t),
            this.session.$selectionMarkers.push(e),
            this.session.selectionMarkerCount = this.session.$selectionMarkers.length,
            e
        }
        ,
        this.removeSelectionMarker = function(e) {
            if (e.marker) {
                this.session.removeMarker(e.marker);
                var t = this.session.$selectionMarkers.indexOf(e);
                -1 != t && this.session.$selectionMarkers.splice(t, 1),
                this.session.selectionMarkerCount = this.session.$selectionMarkers.length
            }
        }
        ,
        this.removeSelectionMarkers = function(e) {
            for (var t = this.session.$selectionMarkers, i = e.length; i--; ) {
                var n = e[i];
                if (n.marker) {
                    this.session.removeMarker(n.marker);
                    var s = t.indexOf(n);
                    -1 != s && t.splice(s, 1)
                }
            }
            this.session.selectionMarkerCount = t.length
        }
        ,
        this.$onAddRange = function(e) {
            this.addSelectionMarker(e.range),
            this.renderer.updateCursor(),
            this.renderer.updateBackMarkers()
        }
        ,
        this.$onRemoveRange = function(e) {
            this.removeSelectionMarkers(e.ranges),
            this.renderer.updateCursor(),
            this.renderer.updateBackMarkers()
        }
        ,
        this.$onMultiSelect = function(e) {
            this.inMultiSelectMode || (this.inMultiSelectMode = !0,
            this.setStyle("ace_multiselect"),
            this.keyBinding.addKeyboardHandler(g.keyboardHandler),
            this.commands.setDefaultHandler("exec", this.$onMultiSelectExec),
            this.renderer.updateCursor(),
            this.renderer.updateBackMarkers())
        }
        ,
        this.$onSingleSelect = function(e) {
            this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1,
            this.unsetStyle("ace_multiselect"),
            this.keyBinding.removeKeyboardHandler(g.keyboardHandler),
            this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec),
            this.renderer.updateCursor(),
            this.renderer.updateBackMarkers(),
            this._emit("changeSelection"))
        }
        ,
        this.$onMultiSelectExec = function(e) {
            var t = e.command
              , i = e.editor;
            if (i.multiSelect) {
                if (t.multiSelectAction)
                    "forEach" == t.multiSelectAction ? n = i.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? n = i.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (i.exitMultiSelectMode(),
                    n = t.exec(i, e.args || {})) : n = t.multiSelectAction(i, e.args || {});
                else {
                    var n = t.exec(i, e.args || {});
                    i.multiSelect.addRange(i.multiSelect.toOrientedRange()),
                    i.multiSelect.mergeOverlappingRanges()
                }
                return n
            }
        }
        ,
        this.forEachSelection = function(e, t, i) {
            if (!this.inVirtualSelectionMode) {
                var n, s = i && i.keepOrder, o = 1 == i || i && i.$byLines, r = this.session, a = this.selection, l = a.rangeList, c = (s ? a : l).ranges;
                if (!c.length)
                    return e.exec ? e.exec(this, t || {}) : e(this, t || {});
                var u = a._eventRegistry;
                a._eventRegistry = {};
                var d = new h(r);
                this.inVirtualSelectionMode = !0;
                for (var g = c.length; g--; ) {
                    if (o)
                        for (; g > 0 && c[g].start.row == c[g - 1].end.row; )
                            g--;
                    d.fromOrientedRange(c[g]),
                    d.index = g,
                    this.selection = r.selection = d;
                    var f = e.exec ? e.exec(this, t || {}) : e(this, t || {});
                    !n && void 0 !== f && (n = f),
                    d.toOrientedRange(c[g])
                }
                d.detach(),
                this.selection = r.selection = a,
                this.inVirtualSelectionMode = !1,
                a._eventRegistry = u,
                a.mergeOverlappingRanges(),
                a.ranges[0] && a.fromOrientedRange(a.ranges[0]);
                var m = this.renderer.$scrollAnimation;
                return this.onCursorChange(),
                this.onSelectionChange(),
                m && m.from == m.to && this.renderer.animateScrolling(m.from),
                n
            }
        }
        ,
        this.exitMultiSelectMode = function() {
            this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange()
        }
        ,
        this.getSelectedText = function() {
            var e = "";
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                for (var t = this.multiSelect.rangeList.ranges, i = [], n = 0; n < t.length; n++)
                    i.push(this.session.getTextRange(t[n]));
                var s = this.session.getDocument().getNewLineCharacter();
                (e = i.join(s)).length == (i.length - 1) * s.length && (e = "")
            } else
                this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange()));
            return e
        }
        ,
        this.$checkMultiselectChange = function(e, t) {
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                var i = this.multiSelect.ranges[0];
                if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor)
                    return;
                var n = t == this.multiSelect.anchor ? i.cursor == i.start ? i.end : i.start : i.cursor;
                n.row != t.row || this.session.$clipPositionToDocument(n.row, n.column).column != t.column ? this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()) : this.multiSelect.mergeOverlappingRanges()
            }
        }
        ,
        this.findAll = function(e, t, i) {
            if (t = t || {},
            t.needle = e || t.needle,
            void 0 == t.needle) {
                var n = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
                t.needle = this.session.getTextRange(n)
            }
            this.$search.set(t);
            var s = this.$search.findAll(this.session);
            if (!s.length)
                return 0;
            var o = this.multiSelect;
            i || o.toSingleRange(s[0]);
            for (var r = s.length; r--; )
                o.addRange(s[r], !0);
            return n && o.rangeList.rangeAtPoint(n.start) && o.addRange(n, !0),
            s.length
        }
        ,
        this.selectMoreLines = function(e, t) {
            var i = this.selection.toOrientedRange()
              , n = i.cursor == i.end
              , s = this.session.documentToScreenPosition(i.cursor);
            this.selection.$desiredColumn && (s.column = this.selection.$desiredColumn);
            var o = this.session.screenToDocumentPosition(s.row + e, s.column);
            if (i.isEmpty())
                a = o;
            else
                var r = this.session.documentToScreenPosition(n ? i.end : i.start)
                  , a = this.session.screenToDocumentPosition(r.row + e, r.column);
            if (n)
                (h = l.fromPoints(o, a)).cursor = h.start;
            else {
                var h = l.fromPoints(a, o);
                h.cursor = h.end
            }
            if (h.desiredColumn = s.column,
            this.selection.inMultiSelectMode) {
                if (t)
                    var c = i.cursor
            } else
                this.selection.addRange(i);
            this.selection.addRange(h),
            c && this.selection.substractPoint(c)
        }
        ,
        this.transposeSelections = function(e) {
            for (var t = this.session, i = t.multiSelect, n = i.ranges, s = n.length; s--; )
                if ((r = n[s]).isEmpty()) {
                    a = t.getWordRange(r.start.row, r.start.column);
                    r.start.row = a.start.row,
                    r.start.column = a.start.column,
                    r.end.row = a.end.row,
                    r.end.column = a.end.column
                }
            i.mergeOverlappingRanges();
            for (var o = [], s = n.length; s--; ) {
                var r = n[s];
                o.unshift(t.getTextRange(r))
            }
            e < 0 ? o.unshift(o.pop()) : o.push(o.shift());
            for (s = n.length; s--; ) {
                var a = (r = n[s]).clone();
                t.replace(r, o[s]),
                r.start.row = a.start.row,
                r.start.column = a.start.column
            }
            i.fromOrientedRange(i.ranges[0])
        }
        ,
        this.selectMore = function(e, t, i) {
            var s = this.session
              , o = s.multiSelect.toOrientedRange();
            if (!o.isEmpty() || (o = s.getWordRange(o.start.row, o.start.column),
            o.cursor = -1 == e ? o.start : o.end,
            this.multiSelect.addRange(o),
            !i)) {
                var r = n(s, s.getTextRange(o), e);
                r && (r.cursor = -1 == e ? r.start : r.end,
                this.session.unfold(r),
                this.multiSelect.addRange(r),
                this.renderer.scrollCursorIntoView(null, .5)),
                t && this.multiSelect.substractPoint(o.cursor)
            }
        }
        ,
        this.alignCursors = function() {
            var e = this.session
              , t = e.multiSelect
              , i = t.ranges
              , n = -1
              , s = i.filter(function(e) {
                if (e.cursor.row == n)
                    return !0;
                n = e.cursor.row
            });
            if (i.length && s.length != i.length - 1) {
                s.forEach(function(e) {
                    t.substractPoint(e.cursor)
                });
                var o = 0
                  , r = 1 / 0
                  , a = i.map(function(t) {
                    var i = t.cursor
                      , n = e.getLine(i.row).substr(i.column).search(/\S/g);
                    return -1 == n && (n = 0),
                    i.column > o && (o = i.column),
                    n < r && (r = n),
                    n
                });
                i.forEach(function(t, i) {
                    var n = t.cursor
                      , s = o - n.column
                      , h = a[i] - r;
                    s > h ? e.insert(n, d.stringRepeat(" ", s - h)) : e.remove(new l(n.row,n.column,n.row,n.column - s + h)),
                    t.start.column = t.end.column = o,
                    t.start.row = t.end.row = n.row,
                    t.cursor = t.end
                }),
                t.fromOrientedRange(i[0]),
                this.renderer.updateCursor(),
                this.renderer.updateBackMarkers()
            } else {
                var h = this.selection.getRange()
                  , c = h.start.row
                  , u = h.end.row
                  , g = c == u;
                if (g) {
                    var f, m = this.session.getLength();
                    do {
                        f = this.session.getLine(u)
                    } while (/[=:]/.test(f) && ++u < m);
                    do {
                        f = this.session.getLine(c)
                    } while (/[=:]/.test(f) && --c > 0);
                    c < 0 && (c = 0),
                    u >= m && (u = m - 1)
                }
                var p = this.session.removeFullLines(c, u);
                p = this.$reAlignText(p, g),
                this.session.insert({
                    row: c,
                    column: 0
                }, p.join("\n") + "\n"),
                g || (h.start.column = 0,
                h.end.column = p[p.length - 1].length),
                this.selection.setRange(h)
            }
        }
        ,
        this.$reAlignText = function(e, t) {
            function i(e) {
                return d.stringRepeat(" ", e)
            }
            function n(e) {
                return e[2] ? i(s) + e[2] + i(o - e[2].length + r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
            }
            var s, o, r, a = !0, l = !0;
            return e.map(function(e) {
                var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
                return t ? null == s ? (s = t[1].length,
                o = t[2].length,
                r = t[3].length,
                t) : (s + o + r != t[1].length + t[2].length + t[3].length && (l = !1),
                s != t[1].length && (a = !1),
                s > t[1].length && (s = t[1].length),
                o < t[2].length && (o = t[2].length),
                r > t[3].length && (r = t[3].length),
                t) : [e]
            }).map(t ? n : a ? l ? function(e) {
                return e[2] ? i(s + o - e[2].length) + e[2] + i(r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
            }
            : n : function(e) {
                return e[2] ? i(s) + e[2] + i(r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
            }
            )
        }
    }
    ).call(p.prototype),
    t.onSessionChange = function(e) {
        var t = e.session;
        t && !t.multiSelect && (t.$selectionMarkers = [],
        t.selection.$initRangeList(),
        t.multiSelect = t.selection),
        this.multiSelect = t && t.multiSelect;
        var i = e.oldSession;
        i && (i.multiSelect.off("addRange", this.$onAddRange),
        i.multiSelect.off("removeRange", this.$onRemoveRange),
        i.multiSelect.off("multiSelect", this.$onMultiSelect),
        i.multiSelect.off("singleSelect", this.$onSingleSelect),
        i.multiSelect.lead.off("change", this.$checkMultiselectChange),
        i.multiSelect.anchor.off("change", this.$checkMultiselectChange)),
        t && (t.multiSelect.on("addRange", this.$onAddRange),
        t.multiSelect.on("removeRange", this.$onRemoveRange),
        t.multiSelect.on("multiSelect", this.$onMultiSelect),
        t.multiSelect.on("singleSelect", this.$onSingleSelect),
        t.multiSelect.lead.on("change", this.$checkMultiselectChange),
        t.multiSelect.anchor.on("change", this.$checkMultiselectChange)),
        t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect())
    }
    ,
    t.MultiSelect = o,
    e("./config").defineOptions(p.prototype, "editor", {
        enableMultiselect: {
            set: function(e) {
                o(this),
                e ? (this.on("changeSession", this.$multiselectOnSessionChange),
                this.on("mousedown", c)) : (this.off("changeSession", this.$multiselectOnSessionChange),
                this.off("mousedown", c))
            },
            value: !0
        },
        enableBlockSelect: {
            set: function(e) {
                this.$blockSelectEnabled = e
            },
            value: !0
        }
    })
}),
ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(e, t, i) {
    "use strict";
    var n = e("../../range").Range
      , s = t.FoldMode = function() {}
    ;
    (function() {
        this.foldingStartMarker = null,
        this.foldingStopMarker = null,
        this.getFoldWidget = function(e, t, i) {
            var n = e.getLine(i);
            return this.foldingStartMarker.test(n) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(n) ? "end" : ""
        }
        ,
        this.getFoldWidgetRange = function(e, t, i) {
            return null
        }
        ,
        this.indentationBlock = function(e, t, i) {
            var s = /\S/
              , o = e.getLine(t)
              , r = o.search(s);
            if (-1 != r) {
                for (var a = i || o.length, l = e.getLength(), h = t, c = t; ++t < l; ) {
                    var u = e.getLine(t).search(s);
                    if (-1 != u) {
                        if (u <= r)
                            break;
                        c = t
                    }
                }
                if (c > h) {
                    var d = e.getLine(c).length;
                    return new n(h,a,c,d)
                }
            }
        }
        ,
        this.openingBracketBlock = function(e, t, i, s, o) {
            var r = {
                row: i,
                column: s + 1
            }
              , a = e.$findClosingBracket(t, r, o);
            if (a) {
                var l = e.foldWidgets[a.row];
                return null == l && (l = e.getFoldWidget(a.row)),
                "start" == l && a.row > r.row && (a.row--,
                a.column = e.getLine(a.row).length),
                n.fromPoints(r, a)
            }
        }
        ,
        this.closingBracketBlock = function(e, t, i, s, o) {
            var r = {
                row: i,
                column: s
            }
              , a = e.$findOpeningBracket(t, r);
            if (a)
                return a.column++,
                r.column--,
                n.fromPoints(a, r)
        }
    }
    ).call(s.prototype)
}),
ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function(e, t, i) {
    "use strict";
    t.isDark = !1,
    t.cssClass = "ace-tm",
    t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',
    t.$id = "ace/theme/textmate",
    e("../lib/dom").importCssString(t.cssText, t.cssClass)
}),
ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e) {
        this.session = e,
        this.session.widgetManager = this,
        this.session.getRowLength = this.getRowLength,
        this.session.$getWidgetScreenLength = this.$getWidgetScreenLength,
        this.updateOnChange = this.updateOnChange.bind(this),
        this.renderWidgets = this.renderWidgets.bind(this),
        this.measureWidgets = this.measureWidgets.bind(this),
        this.session._changedWidgets = [],
        this.$onChangeEditor = this.$onChangeEditor.bind(this),
        this.session.on("change", this.updateOnChange),
        this.session.on("changeFold", this.updateOnFold),
        this.session.on("changeEditor", this.$onChangeEditor)
    }
    e("./lib/oop");
    var s = e("./lib/dom");
    e("./range").Range;
    (function() {
        this.getRowLength = function(e) {
            var t;
            return t = this.lineWidgets ? this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0 : 0,
            this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
        }
        ,
        this.$getWidgetScreenLength = function() {
            var e = 0;
            return this.lineWidgets.forEach(function(t) {
                t && t.rowCount && !t.hidden && (e += t.rowCount)
            }),
            e
        }
        ,
        this.$onChangeEditor = function(e) {
            this.attach(e.editor)
        }
        ,
        this.attach = function(e) {
            e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(),
            this.editor != e && (this.detach(),
            this.editor = e,
            e && (e.widgetManager = this,
            e.renderer.on("beforeRender", this.measureWidgets),
            e.renderer.on("afterRender", this.renderWidgets)))
        }
        ,
        this.detach = function(e) {
            var t = this.editor;
            if (t) {
                this.editor = null,
                t.widgetManager = null,
                t.renderer.off("beforeRender", this.measureWidgets),
                t.renderer.off("afterRender", this.renderWidgets);
                var i = this.session.lineWidgets;
                i && i.forEach(function(e) {
                    e && e.el && e.el.parentNode && (e._inDocument = !1,
                    e.el.parentNode.removeChild(e.el))
                })
            }
        }
        ,
        this.updateOnFold = function(e, t) {
            var i = t.lineWidgets;
            if (i && e.action) {
                for (var n = e.data, s = n.start.row, o = n.end.row, r = "add" == e.action, a = s + 1; a < o; a++)
                    i[a] && (i[a].hidden = r);
                i[o] && (r ? i[s] ? i[o].hidden = r : i[s] = i[o] : (i[s] == i[o] && (i[s] = void 0),
                i[o].hidden = r))
            }
        }
        ,
        this.updateOnChange = function(e) {
            var t = this.session.lineWidgets;
            if (t) {
                var i = e.start.row
                  , n = e.end.row - i;
                if (0 !== n)
                    if ("remove" == e.action)
                        t.splice(i + 1, n).forEach(function(e) {
                            e && this.removeLineWidget(e)
                        }, this),
                        this.$updateRows();
                    else {
                        var s = new Array(n);
                        s.unshift(i, 0),
                        t.splice.apply(t, s),
                        this.$updateRows()
                    }
            }
        }
        ,
        this.$updateRows = function() {
            var e = this.session.lineWidgets;
            if (e) {
                var t = !0;
                e.forEach(function(e, i) {
                    if (e)
                        for (t = !1,
                        e.row = i; e.$oldWidget; )
                            e.$oldWidget.row = i,
                            e = e.$oldWidget
                }),
                t && (this.session.lineWidgets = null)
            }
        }
        ,
        this.addLineWidget = function(e) {
            this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
            var t = this.session.lineWidgets[e.row];
            t && (e.$oldWidget = t,
            t.el && t.el.parentNode && (t.el.parentNode.removeChild(t.el),
            t._inDocument = !1)),
            this.session.lineWidgets[e.row] = e,
            e.session = this.session;
            var i = this.editor.renderer;
            e.html && !e.el && (e.el = s.createElement("div"),
            e.el.innerHTML = e.html),
            e.el && (s.addCssClass(e.el, "ace_lineWidgetContainer"),
            e.el.style.position = "absolute",
            e.el.style.zIndex = 5,
            i.container.appendChild(e.el),
            e._inDocument = !0),
            e.coverGutter || (e.el.style.zIndex = 3),
            null == e.pixelHeight && (e.pixelHeight = e.el.offsetHeight),
            null == e.rowCount && (e.rowCount = e.pixelHeight / i.layerConfig.lineHeight);
            var n = this.session.getFoldAt(e.row, 0);
            if (e.$fold = n,
            n) {
                var o = this.session.lineWidgets;
                e.row != n.end.row || o[n.start.row] ? e.hidden = !0 : o[n.start.row] = e
            }
            return this.session._emit("changeFold", {
                data: {
                    start: {
                        row: e.row
                    }
                }
            }),
            this.$updateRows(),
            this.renderWidgets(null, i),
            this.onWidgetChanged(e),
            e
        }
        ,
        this.removeLineWidget = function(e) {
            if (e._inDocument = !1,
            e.session = null,
            e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el),
            e.editor && e.editor.destroy)
                try {
                    e.editor.destroy()
                } catch (e) {}
            if (this.session.lineWidgets) {
                var t = this.session.lineWidgets[e.row];
                if (t == e)
                    this.session.lineWidgets[e.row] = e.$oldWidget,
                    e.$oldWidget && this.onWidgetChanged(e.$oldWidget);
                else
                    for (; t; ) {
                        if (t.$oldWidget == e) {
                            t.$oldWidget = e.$oldWidget;
                            break
                        }
                        t = t.$oldWidget
                    }
            }
            this.session._emit("changeFold", {
                data: {
                    start: {
                        row: e.row
                    }
                }
            }),
            this.$updateRows()
        }
        ,
        this.getWidgetsAtRow = function(e) {
            for (var t = this.session.lineWidgets, i = t && t[e], n = []; i; )
                n.push(i),
                i = i.$oldWidget;
            return n
        }
        ,
        this.onWidgetChanged = function(e) {
            this.session._changedWidgets.push(e),
            this.editor && this.editor.renderer.updateFull()
        }
        ,
        this.measureWidgets = function(e, t) {
            var i = this.session._changedWidgets
              , n = t.layerConfig;
            if (i && i.length) {
                for (var s = 1 / 0, o = 0; o < i.length; o++) {
                    var r = i[o];
                    if (r && r.el && r.session == this.session) {
                        if (!r._inDocument) {
                            if (this.session.lineWidgets[r.row] != r)
                                continue;
                            r._inDocument = !0,
                            t.container.appendChild(r.el)
                        }
                        r.h = r.el.offsetHeight,
                        r.fixedWidth || (r.w = r.el.offsetWidth,
                        r.screenWidth = Math.ceil(r.w / n.characterWidth));
                        var a = r.h / n.lineHeight;
                        r.coverLine && (a -= this.session.getRowLineCount(r.row)) < 0 && (a = 0),
                        r.rowCount != a && (r.rowCount = a,
                        r.row < s && (s = r.row))
                    }
                }
                s != 1 / 0 && (this.session._emit("changeFold", {
                    data: {
                        start: {
                            row: s
                        }
                    }
                }),
                this.session.lineWidgetWidth = null),
                this.session._changedWidgets = []
            }
        }
        ,
        this.renderWidgets = function(e, t) {
            var i = t.layerConfig
              , n = this.session.lineWidgets;
            if (n) {
                for (var s = Math.min(this.firstRow, i.firstRow), o = Math.max(this.lastRow, i.lastRow, n.length); s > 0 && !n[s]; )
                    s--;
                this.firstRow = i.firstRow,
                this.lastRow = i.lastRow,
                t.$cursorLayer.config = i;
                for (var r = s; r <= o; r++) {
                    var a = n[r];
                    if (a && a.el)
                        if (a.hidden)
                            a.el.style.top = -100 - (a.pixelHeight || 0) + "px";
                        else {
                            a._inDocument || (a._inDocument = !0,
                            t.container.appendChild(a.el));
                            var l = t.$cursorLayer.getPixelPosition({
                                row: r,
                                column: 0
                            }, !0).top;
                            a.coverLine || (l += i.lineHeight * this.session.getRowLineCount(a.row)),
                            a.el.style.top = l - i.offset + "px";
                            var h = a.coverGutter ? 0 : t.gutterWidth;
                            a.fixedWidth || (h -= t.scrollLeft),
                            a.el.style.left = h + "px",
                            a.fullWidth && a.screenWidth && (a.el.style.minWidth = i.width + 2 * i.padding + "px"),
                            a.fixedWidth ? a.el.style.right = t.scrollBar.getWidth() + "px" : a.el.style.right = ""
                        }
                }
            }
        }
    }
    ).call(n.prototype),
    t.LineWidgets = n
}),
ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function(e, t, i) {
    "use strict";
    function n(e, t, i) {
        for (var n = 0, s = e.length - 1; n <= s; ) {
            var o = n + s >> 1
              , r = i(t, e[o]);
            if (r > 0)
                n = o + 1;
            else {
                if (!(r < 0))
                    return o;
                s = o - 1
            }
        }
        return -(n + 1)
    }
    function s(e, t, i) {
        var s = e.getAnnotations().sort(a.comparePoints);
        if (s.length) {
            var o = n(s, {
                row: t,
                column: -1
            }, a.comparePoints);
            o < 0 && (o = -o - 1),
            o >= s.length ? o = i > 0 ? 0 : s.length - 1 : 0 === o && i < 0 && (o = s.length - 1);
            var r = s[o];
            if (r && i) {
                if (r.row === t) {
                    do {
                        r = s[o += i]
                    } while (r && r.row === t);
                    if (!r)
                        return s.slice()
                }
                var l = [];
                t = r.row;
                do {
                    l[i < 0 ? "unshift" : "push"](r),
                    r = s[o += i]
                } while (r && r.row == t);
                return l.length && l
            }
        }
    }
    var o = e("../line_widgets").LineWidgets
      , r = e("../lib/dom")
      , a = e("../range").Range;
    t.showErrorMarker = function(e, t) {
        var i = e.session;
        i.widgetManager || (i.widgetManager = new o(i),
        i.widgetManager.attach(e));
        var n = e.getCursorPosition()
          , a = n.row
          , l = i.widgetManager.getWidgetsAtRow(a).filter(function(e) {
            return "errorMarker" == e.type
        })[0];
        l ? l.destroy() : a -= t;
        var h, c = s(i, a, t);
        if (c) {
            var u = c[0];
            n.column = (u.pos && "number" != typeof u.column ? u.pos.sc : u.column) || 0,
            n.row = u.row,
            h = e.renderer.$gutterLayer.$annotations[n.row]
        } else {
            if (l)
                return;
            h = {
                text: ["Looks good!"],
                className: "ace_ok"
            }
        }
        e.session.unfold(n.row),
        e.selection.moveToPosition(n);
        var d = {
            row: n.row,
            fixedWidth: !0,
            coverGutter: !0,
            el: r.createElement("div"),
            type: "errorMarker"
        }
          , g = d.el.appendChild(r.createElement("div"))
          , f = d.el.appendChild(r.createElement("div"));
        f.className = "error_widget_arrow " + h.className;
        var m = e.renderer.$cursorLayer.getPixelPosition(n).left;
        f.style.left = m + e.renderer.gutterWidth - 5 + "px",
        d.el.className = "error_widget_wrapper",
        g.className = "error_widget " + h.className,
        g.innerHTML = h.text.join("<br>"),
        g.appendChild(r.createElement("div"));
        var p = function(e, t, i) {
            if (0 === t && ("esc" === i || "return" === i))
                return d.destroy(),
                {
                    command: "null"
                }
        };
        d.destroy = function() {
            e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(p),
            i.widgetManager.removeLineWidget(d),
            e.off("changeSelection", d.destroy),
            e.off("changeSession", d.destroy),
            e.off("mouseup", d.destroy),
            e.off("change", d.destroy))
        }
        ,
        e.keyBinding.addKeyboardHandler(p),
        e.on("changeSelection", d.destroy),
        e.on("changeSession", d.destroy),
        e.on("mouseup", d.destroy),
        e.on("change", d.destroy),
        e.session.widgetManager.addLineWidget(d),
        d.el.onmousedown = e.focus.bind(e),
        e.renderer.scrollCursorIntoView(null, .5, {
            bottom: d.el.offsetHeight
        })
    }
    ,
    r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "")
}),
ace.define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], function(e, t, i) {
    "use strict";
    e("./lib/fixoldbrowsers");
    var n = e("./lib/dom")
      , s = e("./lib/event")
      , o = e("./range").Range
      , r = e("./editor").Editor
      , a = e("./edit_session").EditSession
      , l = e("./undomanager").UndoManager
      , h = e("./virtual_renderer").VirtualRenderer;
    e("./worker/worker_client"),
    e("./keyboard/hash_handler"),
    e("./placeholder"),
    e("./multi_select"),
    e("./mode/folding/fold_mode"),
    e("./theme/textmate"),
    e("./ext/error_marker"),
    t.config = e("./config"),
    t.require = e,
    "function" == typeof define && (t.define = define),
    t.edit = function(e, i) {
        if ("string" == typeof e) {
            var o = e;
            if (!(e = document.getElementById(o)))
                throw new Error("error" + o)
        }
        if (e && e.env && e.env.editor instanceof r)
            return e.env.editor;
        var a = "";
        if (e && /input|textarea/i.test(e.tagName)) {
            var l = e;
            a = l.value,
            e = n.createElement("pre"),
            l.parentNode.replaceChild(e, l)
        } else
            e && (a = e.textContent,
            e.innerHTML = "");
        var c = t.createEditSession(a)
          , u = new r(new h(e),c,i)
          , d = {
            document: c,
            editor: u,
            onResize: u.resize.bind(u, null)
        };
        return l && (d.textarea = l),
        s.addListener(window, "resize", d.onResize),
        u.on("destroy", function() {
            s.removeListener(window, "resize", d.onResize),
            d.editor.container.env = null
        }),
        u.container.env = u.env = d,
        u
    }
    ,
    t.createEditSession = function(e, t) {
        var i = new a(e,t);
        return i.setUndoManager(new l),
        i
    }
    ,
    t.Range = o,
    t.EditSession = a,
    t.UndoManager = l,
    t.VirtualRenderer = h,
    t.version = "1.4.1"
}),
ace.require(["ace/ace"], function(e) {
    e && (e.config.init(!0),
    e.define = ace.define),
    window.ace || (window.ace = e);
    for (var t in e)
        e.hasOwnProperty(t) && (window.ace[t] = e[t]);
    window.ace.default = window.ace,
    "object" == typeof module && "object" == typeof exports && module && (module.exports = window.ace)
});
ace.define("ace/mode/assembler_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e, t, s) {
    "use strict";
    var i = e("../lib/oop")
      , n = e("./text_highlight_rules").TextHighlightRules
      , r = function() {
        this.$rules = {
            start: [{
                token: "keyword.control.assembly",
                regex: "\\b(exx?|(ld|cp|in)([di]r?)?|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|rst|[de]i|halt|im|ot[di]r|out[di]?)\\b",
                caseInsensitive: !0
            }, {
                token: "keyword.control.assembly",
                regex: "\\b(call|j[pr]|ret[in]?|b_?(call|jump))\\b",
                caseInsensitive: !0
            }, {
                token: "variable.parameter.register.assembly",
                regex: "\\b(BC|DE|HL|AF|PC|DP|IX|IY)\\b",
                caseInsensitive: !0
            }, {
                token: "variable.parameter.register.assembly",
                regex: "\\b(A|B|C|D|E|H|L|X|Y)\\b",
                caseInsensitive: !0
            }, {
                token: "variable.parameter.register.assembly",
                regex: "\\[.*?\\]|\\(.*?\\)",
                caseInsensitive: !0
            }, {
                token: "constant.character.hexadecimal.assembly",
                regex: "\\W*\\$[A-F0-9]+",
                caseInsensitive: !0
            }, {
                token: "constant.character.hexadecimal.assembly",
                regex: "\\b0x[A-Fa-f0-9]+\\b",
                caseInsensitive: !0
            }, {
                token: "constant.character.hexadecimal.assembly",
                regex: "\\b[A-Fa-f0-9]+h\\b",
                caseInsensitive: !0
            }, {
                token: "constant.character.decimal.assembly",
                regex: "\\b[0-9]+\\b"
            }, {
                token: "string.assembly",
                regex: /'([^\\']|\\.)*'/
            }, {
                token: "string.assembly",
                regex: /"([^\\"]|\\.)*"/
            }, {
                token: ["text", "support.function.directive.assembly", "text", "entity.name.function.assembly"],
                regex: "(\\s*)(ds|db|dd|dw)\\b( ?)((?:[_a-zA-Z][_a-zA-Z0-9]*)?)",
                caseInsensitive: !0
            }, {
                token: "support.function.directive.assembly",
                regex: "\\w*(equ|org|.org|.ent|.engine|.pragma|.cseg|.dseg|.eseg|.bsseg|.cstr|.pstr|.istr|times|align|alignb|sectalign|section|ptr|byte|word|dword|qword|incbin)\\b",
                caseInsensitive: !0
            }, {
                token: "entity.name.function.assembly",
                regex: "^\\s*%%[\\w.]+?:$"
            }, {
                token: "entity.name.function.assembly",
                regex: "^\\s*%\\$[\\w.]+?:$"
            }, {
                token: "entity.name.function.assembly",
                regex: "^[\\w.]+?:"
            }, {
                token: "entity.name.function.assembly",
                regex: "^[\\w.]+?\\b"
            }, {
                token: "comment.assembly",
                regex: ";.*$"
            }]
        },
        this.normalizeRules()
    };
    r.metaData = {
        fileTypes: ["asm"],
        name: "Assembly x86",
        scopeName: "source.assembly"
    },
    i.inherits(r, n),
    t.AssemblyX86HighlightRules = r
}),
ace.define("ace/mode/folding/coffee", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode", "ace/range"], function(e, t, s) {
    "use strict";
    var i = e("../../lib/oop")
      , n = e("./fold_mode").FoldMode
      , r = e("../../range").Range
      , a = t.FoldMode = function() {}
    ;
    i.inherits(a, n),
    function() {
        this.getFoldWidgetRange = function(e, t, s) {
            var i = this.indentationBlock(e, s);
            if (i)
                return i;
            var n = /\S/
              , a = e.getLine(s)
              , o = a.search(n);
            if (-1 != o && "#" == a[o]) {
                for (var l = a.length, c = e.getLength(), d = s, g = s; ++s < c; ) {
                    var m = (a = e.getLine(s)).search(n);
                    if (-1 != m) {
                        if ("#" != a[m])
                            break;
                        g = s
                    }
                }
                if (g > d) {
                    var b = e.getLine(g).length;
                    return new r(d,l,g,b)
                }
            }
        }
        ,
        this.getFoldWidget = function(e, t, s) {
            var i = e.getLine(s)
              , n = i.search(/\S/)
              , r = e.getLine(s + 1)
              , a = e.getLine(s - 1)
              , o = a.search(/\S/)
              , l = r.search(/\S/);
            if (-1 == n)
                return e.foldWidgets[s - 1] = -1 != o && o < l ? "start" : "",
                "";
            if (-1 == o) {
                if (n == l && "#" == i[n] && "#" == r[n])
                    return e.foldWidgets[s - 1] = "",
                    e.foldWidgets[s + 1] = "",
                    "start"
            } else if (o == n && "#" == i[n] && "#" == a[n] && -1 == e.getLine(s - 2).search(/\S/))
                return e.foldWidgets[s - 1] = "start",
                e.foldWidgets[s + 1] = "",
                "";
            return e.foldWidgets[s - 1] = -1 != o && o < n ? "start" : "",
            n < l ? "start" : ""
        }
    }
    .call(a.prototype)
}),
ace.define("ace/mode/assembler", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/assembler_highlight_rules", "ace/mode/folding/coffee"], function(e, t, s) {
    "use strict";
    var i = e("../lib/oop")
      , n = e("./text").Mode
      , r = e("./assembler_highlight_rules").AssemblyX86HighlightRules
      , a = e("./folding/coffee").FoldMode
      , o = function() {
        this.HighlightRules = r,
        this.foldingRules = new a,
        this.$behaviour = this.$defaultBehaviour
    };
    i.inherits(o, n),
    function() {
        this.lineCommentStart = [";"],
        this.$id = "ace/mode/assembler"
    }
    .call(o.prototype),
    t.Mode = o
}),
ace.require(["ace/mode/assembler"], function(e) {
    "object" == typeof module && "object" == typeof exports && module && (module.exports = e)
});
ace.define("ace/ext/searchbox", ["require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys"], function(e, t, i) {
    "use strict";
    var n = e("../lib/dom")
      , s = e("../lib/lang")
      , c = e("../lib/event")
      , a = '.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}'
      , o = e("../keyboard/hash_handler").HashHandler
      , r = e("../lib/keys");
    n.importCssString(a, "ace_searchbox");
    var h = '<div class="ace_search right">    <span action="hide" class="ace_searchbtn_close"></span>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <span action="findPrev" class="ace_searchbtn prev"></span>        <span action="findNext" class="ace_searchbtn next"></span>        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>        <span action="replaceAll" class="ace_searchbtn">All</span>    </div>    <div class="ace_search_options">        <span action="toggleReplace" class="ace_button" title="Toggle Replace mode"            style="float:left;margin-top:-2px;padding:0 5px;">+</span>        <span class="ace_search_counter"></span>        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>    </div></div>'.replace(/> +/g, ">")
      , l = function(e, t, i) {
        var s = n.createElement("div");
        s.innerHTML = h,
        this.element = s.firstChild,
        this.setSession = this.setSession.bind(this),
        this.$init(),
        this.setEditor(e),
        n.importCssString(a, "ace_searchbox", e.container)
    };
    (function() {
        this.setEditor = function(e) {
            e.searchBox = this,
            e.renderer.scroller.appendChild(this.element),
            this.editor = e
        }
        ,
        this.setSession = function(e) {
            this.searchRange = null,
            this.$syncOptions(!0)
        }
        ,
        this.$initElements = function(e) {
            this.searchBox = e.querySelector(".ace_search_form"),
            this.replaceBox = e.querySelector(".ace_replace_form"),
            this.searchOption = e.querySelector("[action=searchInSelection]"),
            this.replaceOption = e.querySelector("[action=toggleReplace]"),
            this.regExpOption = e.querySelector("[action=toggleRegexpMode]"),
            this.caseSensitiveOption = e.querySelector("[action=toggleCaseSensitive]"),
            this.wholeWordOption = e.querySelector("[action=toggleWholeWords]"),
            this.searchInput = this.searchBox.querySelector(".ace_search_field"),
            this.replaceInput = this.replaceBox.querySelector(".ace_search_field"),
            this.searchCounter = e.querySelector(".ace_search_counter")
        }
        ,
        this.$init = function() {
            var e = this.element;
            this.$initElements(e);
            var t = this;
            c.addListener(e, "mousedown", function(e) {
                setTimeout(function() {
                    t.activeInput.focus()
                }, 0),
                c.stopPropagation(e)
            }),
            c.addListener(e, "click", function(e) {
                var i = (e.target || e.srcElement).getAttribute("action");
                i && t[i] ? t[i]() : t.$searchBarKb.commands[i] && t.$searchBarKb.commands[i].exec(t),
                c.stopPropagation(e)
            }),
            c.addCommandKeyListener(e, function(e, i, n) {
                var s = r.keyCodeToString(n)
                  , a = t.$searchBarKb.findKeyCommand(i, s);
                a && a.exec && (a.exec(t),
                c.stopEvent(e))
            }),
            this.$onChange = s.delayedCall(function() {
                t.find(!1, !1)
            }),
            c.addListener(this.searchInput, "input", function() {
                t.$onChange.schedule(20)
            }),
            c.addListener(this.searchInput, "focus", function() {
                t.activeInput = t.searchInput,
                t.searchInput.value && t.highlight()
            }),
            c.addListener(this.replaceInput, "focus", function() {
                t.activeInput = t.replaceInput,
                t.searchInput.value && t.highlight()
            })
        }
        ,
        this.$closeSearchBarKb = new o([{
            bindKey: "Esc",
            name: "closeSearchBar",
            exec: function(e) {
                e.searchBox.hide()
            }
        }]),
        this.$searchBarKb = new o,
        this.$searchBarKb.bindKeys({
            "Ctrl-f|Command-f": function(e) {
                var t = e.isReplace = !e.isReplace;
                e.replaceBox.style.display = t ? "" : "none",
                e.replaceOption.checked = !1,
                e.$syncOptions(),
                e.searchInput.focus()
            },
            "Ctrl-H|Command-Option-F": function(e) {
                e.replaceOption.checked = !0,
                e.$syncOptions(),
                e.replaceInput.focus()
            },
            "Ctrl-G|Command-G": function(e) {
                e.findNext()
            },
            "Ctrl-Shift-G|Command-Shift-G": function(e) {
                e.findPrev()
            },
            esc: function(e) {
                setTimeout(function() {
                    e.hide()
                })
            },
            Return: function(e) {
                e.activeInput == e.replaceInput && e.replace(),
                e.findNext()
            },
            "Shift-Return": function(e) {
                e.activeInput == e.replaceInput && e.replace(),
                e.findPrev()
            },
            "Alt-Return": function(e) {
                e.activeInput == e.replaceInput && e.replaceAll(),
                e.findAll()
            },
            Tab: function(e) {
                (e.activeInput == e.replaceInput ? e.searchInput : e.replaceInput).focus()
            }
        }),
        this.$searchBarKb.addCommands([{
            name: "toggleRegexpMode",
            bindKey: {
                win: "Alt-R|Alt-/",
                mac: "Ctrl-Alt-R|Ctrl-Alt-/"
            },
            exec: function(e) {
                e.regExpOption.checked = !e.regExpOption.checked,
                e.$syncOptions()
            }
        }, {
            name: "toggleCaseSensitive",
            bindKey: {
                win: "Alt-C|Alt-I",
                mac: "Ctrl-Alt-R|Ctrl-Alt-I"
            },
            exec: function(e) {
                e.caseSensitiveOption.checked = !e.caseSensitiveOption.checked,
                e.$syncOptions()
            }
        }, {
            name: "toggleWholeWords",
            bindKey: {
                win: "Alt-B|Alt-W",
                mac: "Ctrl-Alt-B|Ctrl-Alt-W"
            },
            exec: function(e) {
                e.wholeWordOption.checked = !e.wholeWordOption.checked,
                e.$syncOptions()
            }
        }, {
            name: "toggleReplace",
            exec: function(e) {
                e.replaceOption.checked = !e.replaceOption.checked,
                e.$syncOptions()
            }
        }, {
            name: "searchInSelection",
            exec: function(e) {
                e.searchOption.checked = !e.searchRange,
                e.setSearchRange(e.searchOption.checked && e.editor.getSelectionRange()),
                e.$syncOptions()
            }
        }]),
        this.setSearchRange = function(e) {
            this.searchRange = e,
            e ? this.searchRangeMarker = this.editor.session.addMarker(e, "ace_active-line") : this.searchRangeMarker && (this.editor.session.removeMarker(this.searchRangeMarker),
            this.searchRangeMarker = null)
        }
        ,
        this.$syncOptions = function(e) {
            n.setCssClass(this.replaceOption, "checked", this.searchRange),
            n.setCssClass(this.searchOption, "checked", this.searchOption.checked),
            this.replaceOption.textContent = this.replaceOption.checked ? "-" : "+",
            n.setCssClass(this.regExpOption, "checked", this.regExpOption.checked),
            n.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked),
            n.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked),
            this.replaceBox.style.display = this.replaceOption.checked ? "" : "none",
            this.find(!1, !1, e)
        }
        ,
        this.highlight = function(e) {
            this.editor.session.highlight(e || this.editor.$search.$options.re),
            this.editor.renderer.updateBackMarkers()
        }
        ,
        this.find = function(e, t, i) {
            var s = !this.editor.find(this.searchInput.value, {
                skipCurrent: e,
                backwards: t,
                wrap: !0,
                regExp: this.regExpOption.checked,
                caseSensitive: this.caseSensitiveOption.checked,
                wholeWord: this.wholeWordOption.checked,
                preventScroll: i,
                range: this.searchRange
            }) && this.searchInput.value;
            n.setCssClass(this.searchBox, "ace_nomatch", s),
            this.editor._emit("findSearchBox", {
                match: !s
            }),
            this.highlight(),
            this.updateCounter()
        }
        ,
        this.updateCounter = function() {
            var e = this.editor
              , t = e.$search.$options.re
              , i = 0
              , n = 0;
            if (t) {
                var s = this.searchRange ? e.session.getTextRange(this.searchRange) : e.getValue()
                  , c = e.session.doc.positionToIndex(e.selection.anchor);
                this.searchRange && (c -= e.session.doc.positionToIndex(this.searchRange.start));
                for (var a, o = t.lastIndex = 0; (a = t.exec(s)) && (i++,
                (o = a.index) <= c && n++,
                !(i > 999)) && (a[0] || (t.lastIndex = o += 1,
                !(o >= s.length))); )
                    ;
            }
            this.searchCounter.textContent = n + " of " + (i > 999 ? "999+" : i)
        }
        ,
        this.findNext = function() {
            this.find(!0, !1)
        }
        ,
        this.findPrev = function() {
            this.find(!0, !0)
        }
        ,
        this.findAll = function() {
            var e = !this.editor.findAll(this.searchInput.value, {
                regExp: this.regExpOption.checked,
                caseSensitive: this.caseSensitiveOption.checked,
                wholeWord: this.wholeWordOption.checked
            }) && this.searchInput.value;
            n.setCssClass(this.searchBox, "ace_nomatch", e),
            this.editor._emit("findSearchBox", {
                match: !e
            }),
            this.highlight(),
            this.hide()
        }
        ,
        this.replace = function() {
            this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value)
        }
        ,
        this.replaceAndFindNext = function() {
            this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value),
            this.findNext())
        }
        ,
        this.replaceAll = function() {
            this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value)
        }
        ,
        this.hide = function() {
            this.active = !1,
            this.setSearchRange(null),
            this.editor.off("changeSession", this.setSession),
            this.element.style.display = "none",
            this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),
            this.editor.focus()
        }
        ,
        this.show = function(e, t) {
            this.active = !0,
            this.editor.on("changeSession", this.setSession),
            this.element.style.display = "",
            this.replaceOption.checked = t,
            e && (this.searchInput.value = e),
            this.searchInput.focus(),
            this.searchInput.select(),
            this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),
            this.$syncOptions(!0)
        }
        ,
        this.isFocused = function() {
            var e = document.activeElement;
            return e == this.searchInput || e == this.replaceInput
        }
    }
    ).call(l.prototype),
    t.SearchBox = l,
    t.Search = function(e, t) {
        (e.searchBox || new l(e)).show(e.session.getTextRange(), t)
    }
}),
ace.require(["ace/ext/searchbox"], function(e) {
    "object" == typeof module && "object" == typeof exports && module && (module.exports = e)
});
ace.define("ace/theme/vibrant_ink", ["require", "exports", "module", "ace/lib/dom"], function(a, e, c) {
    e.isDark = !0,
    e.cssClass = "ace-vibrant-ink",
    e.cssText = ".ace-vibrant-ink .ace_gutter {background: #ffffff;color: #000000}.ace-vibrant-ink .ace_print-margin {width: 1px;background: #1a1a1a}.ace-vibrant-ink {background-color: #ffffff;color: #292424}.ace-vibrant-ink .ace_cursor {color: #FFFFFF}.ace-vibrant-ink .ace_marker-layer .ace_selection {background: #6699CC}.ace-vibrant-ink.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #0F0F0F;}.ace-vibrant-ink .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-vibrant-ink .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #404040}.ace-vibrant-ink .ace_marker-layer .ace_active-line {background: #58c1ff}.ace-vibrant-ink .ace_gutter-active-line {background-color: #58c1ff}.ace-vibrant-ink .ace_marker-layer .ace_selected-word {border: 1px solid #6699CC}.ace-vibrant-ink .ace_invisible {color: #404040}.ace-vibrant-ink .ace_keyword,.ace-vibrant-ink .ace_meta {color: #000000}.ace-vibrant-ink .ace_constant,.ace-vibrant-ink .ace_constant.ace_character,.ace-vibrant-ink .ace_constant.ace_character.ace_escape,.ace-vibrant-ink .ace_constant.ace_other {color: #000000}.ace-vibrant-ink .ace_constant.ace_numeric {color: #99CC99}.ace-vibrant-ink .ace_invalid,.ace-vibrant-ink .ace_invalid.ace_deprecated {color: #CCFF33;background-color: #000000}.ace-vibrant-ink .ace_fold {background-color: #FFCC00;border-color: #FFFFFF}.ace-vibrant-ink .ace_entity.ace_name.ace_function,.ace-vibrant-ink .ace_support.ace_function,.ace-vibrant-ink .ace_variable {color: #000000}.ace-vibrant-ink .ace_variable.ace_parameter {font-style: italic}.ace-vibrant-ink .ace_string {color: #66FF00}.ace-vibrant-ink .ace_string.ace_regexp {color: #44B4CC}.ace-vibrant-ink .ace_comment {color: #000000}.ace-vibrant-ink .ace_entity.ace_other.ace_attribute-name {font-style: italic;color: #99CC99}.ace-vibrant-ink .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYNDTc/oPAALPAZ7hxlbYAAAAAElFTkSuQmCC) right repeat-y}",
    a("../lib/dom").importCssString(e.cssText, e.cssClass)
}),
ace.require(["ace/theme/vibrant_ink"], function(a) {
    "object" == typeof module && "object" == typeof exports && module && (module.exports = a)
});
ace.define("ace/theme/xcode", ["require", "exports", "module", "ace/lib/dom"], function(e, c, a) {
    c.isDark = !1,
    c.cssClass = "ace-xcode",
    c.cssText = ".ace-xcode .ace_gutter {background: #e8e8e8;color: #333}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {background-color: #FFFFFF;color: #000000}.ace-xcode .ace_cursor {color: #000000}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_gutter-active-line {background-color: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_fold {background-color: #C800A4;border-color: #000000}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y}",
    e("../lib/dom").importCssString(c.cssText, c.cssClass)
}),
ace.require(["ace/theme/xcode"], function(e) {
    "object" == typeof module && "object" == typeof exports && module && (module.exports = e)
});
window.CodeMirror = function() {
    "use strict";
    function e(r, n) {
        if (!(this instanceof e))
            return new e(r,n);
        this.options = n = n || {};
        for (var i in ri)
            !n.hasOwnProperty(i) && ri.hasOwnProperty(i) && (n[i] = ri[i]);
        f(n);
        var o = "string" == typeof n.value ? 0 : n.value.first
          , s = this.display = t(r, o);
        s.wrapper.CodeMirror = this,
        a(this),
        n.autofocus && !zn && he(this),
        this.state = {
            keyMaps: [],
            overlays: [],
            modeGen: 0,
            overwrite: !1,
            focused: !1,
            suppressEdits: !1,
            pasteIncoming: !1,
            draggingText: !1,
            highlight: new Vr
        },
        l(this),
        n.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap");
        var c = n.value;
        "string" == typeof c && (c = new gi(n.value,n.mode)),
        ie(this, ar)(this, c),
        Ln && setTimeout(Jr(fe, this, !0), 20),
        pe(this);
        var u;
        try {
            u = document.activeElement == s.input
        } catch (e) {}
        u || n.autofocus && !zn ? setTimeout(Jr(He, this), 20) : We(this),
        ie(this, function() {
            for (var e in ti)
                ti.propertyIsEnumerable(e) && ti[e](this, n[e], ni);
            for (var t = 0; t < si.length; ++t)
                si[t](this)
        })()
    }
    function t(e, t) {
        var r = {}
          , n = r.input = tn("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");
        return Sn ? n.style.width = "1000px" : n.setAttribute("wrap", "off"),
        In && (n.style.border = "1px solid black"),
        n.setAttribute("autocorrect", "off"),
        n.setAttribute("autocapitalize", "off"),
        n.setAttribute("spellcheck", "false"),
        r.inputDiv = tn("div", [n], null, "overflow: hidden; position: relative; width: 3px; height: 0px;"),
        r.scrollbarH = tn("div", [tn("div", null, null, "height: 1px")], "CodeMirror-hscrollbar"),
        r.scrollbarV = tn("div", [tn("div", null, null, "width: 1px")], "CodeMirror-vscrollbar"),
        r.scrollbarFiller = tn("div", null, "CodeMirror-scrollbar-filler"),
        r.gutterFiller = tn("div", null, "CodeMirror-gutter-filler"),
        r.lineDiv = tn("div", null, "CodeMirror-code"),
        r.selectionDiv = tn("div", null, null, "position: relative; z-index: 1"),
        r.cursor = tn("div", "¬†", "CodeMirror-cursor"),
        r.otherCursor = tn("div", "¬†", "CodeMirror-cursor CodeMirror-secondarycursor"),
        r.measure = tn("div", null, "CodeMirror-measure"),
        r.lineSpace = tn("div", [r.measure, r.selectionDiv, r.lineDiv, r.cursor, r.otherCursor], null, "position: relative; outline: none"),
        r.mover = tn("div", [tn("div", [r.lineSpace], "CodeMirror-lines")], null, "position: relative"),
        r.sizer = tn("div", [r.mover], "CodeMirror-sizer"),
        r.heightForcer = tn("div", null, null, "position: absolute; height: " + Ci + "px; width: 1px;"),
        r.gutters = tn("div", null, "CodeMirror-gutters"),
        r.lineGutter = null,
        r.scroller = tn("div", [r.sizer, r.heightForcer, r.gutters], "CodeMirror-scroll"),
        r.scroller.setAttribute("tabIndex", "-1"),
        r.wrapper = tn("div", [r.inputDiv, r.scrollbarH, r.scrollbarV, r.scrollbarFiller, r.gutterFiller, r.scroller], "CodeMirror"),
        kn && (r.gutters.style.zIndex = -1,
        r.scroller.style.paddingRight = 0),
        e.appendChild ? e.appendChild(r.wrapper) : e(r.wrapper),
        In && (n.style.width = "0px"),
        Sn || (r.scroller.draggable = !0),
        Wn ? (r.inputDiv.style.height = "1px",
        r.inputDiv.style.position = "absolute") : kn && (r.scrollbarH.style.minWidth = r.scrollbarV.style.minWidth = "18px"),
        r.viewOffset = r.lastSizeC = 0,
        r.showingFrom = r.showingTo = t,
        r.lineNumWidth = r.lineNumInnerWidth = r.lineNumChars = null,
        r.prevInput = "",
        r.alignWidgets = !1,
        r.pollingFast = !1,
        r.poll = new Vr,
        r.cachedCharWidth = r.cachedTextHeight = null,
        r.measureLineCache = [],
        r.measureLineCachePos = 0,
        r.inaccurateSelection = !1,
        r.maxLine = null,
        r.maxLineLength = 0,
        r.maxLineChanged = !1,
        r.wheelDX = r.wheelDY = r.wheelStartX = r.wheelStartY = null,
        r
    }
    function r(t) {
        t.doc.mode = e.getMode(t.options, t.doc.modeOption),
        t.doc.iter(function(e) {
            e.stateAfter && (e.stateAfter = null),
            e.styles && (e.styles = null)
        }),
        t.doc.frontier = t.doc.first,
        W(t, 100),
        t.state.modeGen++,
        t.curOp && se(t)
    }
    function n(e) {
        var t = ee(e.display)
          , r = e.options.lineWrapping
          , n = r && Math.max(5, e.display.scroller.clientWidth / te(e.display) - 3);
        return function(i) {
            return Ft(e.doc, i) ? 0 : r ? (Math.ceil(i.text.length / n) || 1) * t : t
        }
    }
    function i(e) {
        var t = e.doc
          , r = n(e);
        t.iter(function(e) {
            var t = r(e);
            t != e.height && hr(e, t)
        })
    }
    function o(e) {
        var t = ui[e.options.keyMap]
          , r = t.style;
        e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g, "") + (r ? " cm-keymap-" + r : ""),
        e.state.disableInput = t.disableInput
    }
    function l(e) {
        e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"),
        U(e)
    }
    function s(e) {
        a(e),
        se(e),
        setTimeout(function() {
            p(e)
        }, 20)
    }
    function a(e) {
        var t = e.display.gutters
          , r = e.options.gutters;
        rn(t);
        for (var n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = t.appendChild(tn("div", null, "CodeMirror-gutter " + i));
            "CodeMirror-linenumbers" == i && (e.display.lineGutter = o,
            o.style.width = (e.display.lineNumWidth || 1) + "px")
        }
        t.style.display = n ? "" : "none"
    }
    function c(e, t) {
        if (0 == t.height)
            return 0;
        for (var r, n = t.text.length, i = t; r = It(i); )
            i = cr(e, (o = r.find()).from.line),
            n += o.from.ch - o.to.ch;
        for (i = t; r = zt(i); ) {
            var o = r.find();
            n -= i.text.length - o.from.ch,
            n += (i = cr(e, o.to.line)).text.length - o.to.ch
        }
        return n
    }
    function u(e) {
        var t = e.display
          , r = e.doc;
        t.maxLine = cr(r, r.first),
        t.maxLineLength = c(r, t.maxLine),
        t.maxLineChanged = !0,
        r.iter(function(e) {
            var n = c(r, e);
            n > t.maxLineLength && (t.maxLineLength = n,
            t.maxLine = e)
        })
    }
    function f(e) {
        for (var t = !1, r = 0; r < e.gutters.length; ++r)
            "CodeMirror-linenumbers" == e.gutters[r] && (e.lineNumbers ? t = !0 : e.gutters.splice(r--, 1));
        !t && e.lineNumbers && e.gutters.push("CodeMirror-linenumbers")
    }
    function h(e) {
        var t = e.display
          , r = e.doc.height + z(t);
        t.sizer.style.minHeight = t.heightForcer.style.top = r + "px",
        t.gutters.style.height = Math.max(r, t.scroller.clientHeight - Ci) + "px";
        var n = Math.max(r, t.scroller.scrollHeight)
          , i = t.scroller.scrollWidth > t.scroller.clientWidth + 1
          , o = n > t.scroller.clientHeight + 1;
        o ? (t.scrollbarV.style.display = "block",
        t.scrollbarV.style.bottom = i ? an(t.measure) + "px" : "0",
        t.scrollbarV.firstChild.style.height = n - t.scroller.clientHeight + t.scrollbarV.clientHeight + "px") : (t.scrollbarV.style.display = "",
        t.scrollbarV.firstChild.style.height = "0"),
        i ? (t.scrollbarH.style.display = "block",
        t.scrollbarH.style.right = o ? an(t.measure) + "px" : "0",
        t.scrollbarH.firstChild.style.width = t.scroller.scrollWidth - t.scroller.clientWidth + t.scrollbarH.clientWidth + "px") : (t.scrollbarH.style.display = "",
        t.scrollbarH.firstChild.style.width = "0"),
        i && o ? (t.scrollbarFiller.style.display = "block",
        t.scrollbarFiller.style.height = t.scrollbarFiller.style.width = an(t.measure) + "px") : t.scrollbarFiller.style.display = "",
        i && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (t.gutterFiller.style.display = "block",
        t.gutterFiller.style.height = an(t.measure) + "px",
        t.gutterFiller.style.width = t.gutters.offsetWidth + "px") : t.gutterFiller.style.display = "",
        On && 0 === an(t.measure) && (t.scrollbarV.style.minWidth = t.scrollbarH.style.minHeight = En ? "18px" : "12px")
    }
    function d(e, t, r) {
        var n = e.scroller.scrollTop
          , i = e.wrapper.clientHeight;
        "number" == typeof r ? n = r : r && (n = r.top,
        i = r.bottom - r.top),
        n = Math.floor(n - I(e));
        var o = Math.ceil(n + i);
        return {
            from: pr(t, n),
            to: pr(t, o)
        }
    }
    function p(e) {
        var t = e.display;
        if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) {
            for (var r = v(t) - t.scroller.scrollLeft + e.doc.scrollLeft, n = t.gutters.offsetWidth, i = r + "px", o = t.lineDiv.firstChild; o; o = o.nextSibling)
                if (o.alignable)
                    for (var l = 0, s = o.alignable; l < s.length; ++l)
                        s[l].style.left = i;
            e.options.fixedGutter && (t.gutters.style.left = r + n + "px")
        }
    }
    function m(e) {
        if (!e.options.lineNumbers)
            return !1;
        var t = e.doc
          , r = g(e.options, t.first + t.size - 1)
          , n = e.display;
        if (r.length != n.lineNumChars) {
            var i = n.measure.appendChild(tn("div", [tn("div", r)], "CodeMirror-linenumber CodeMirror-gutter-elt"))
              , o = i.firstChild.offsetWidth
              , l = i.offsetWidth - o;
            return n.lineGutter.style.width = "",
            n.lineNumInnerWidth = Math.max(o, n.lineGutter.offsetWidth - l),
            n.lineNumWidth = n.lineNumInnerWidth + l,
            n.lineNumChars = n.lineNumInnerWidth ? r.length : -1,
            n.lineGutter.style.width = n.lineNumWidth + "px",
            !0
        }
        return !1
    }
    function g(e, t) {
        return String(e.lineNumberFormatter(t + e.firstLineNumber))
    }
    function v(e) {
        return ln(e.scroller).left - ln(e.sizer).left
    }
    function y(e, t, r, n) {
        for (var i, o = e.display.showingFrom, l = e.display.showingTo, s = d(e.display, e.doc, r); b(e, t, s, n) && (n = !1,
        i = !0,
        T(e),
        h(e),
        r && (r = Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, "number" == typeof r ? r : r.top)),
        !((s = d(e.display, e.doc, r)).from >= e.display.showingFrom && s.to <= e.display.showingTo)); )
            t = [];
        return i && (Fr(e, "update", e),
        (e.display.showingFrom != o || e.display.showingTo != l) && Fr(e, "viewportChange", e, e.display.showingFrom, e.display.showingTo)),
        i
    }
    function b(e, t, r, n) {
        var i = e.display
          , o = e.doc;
        if (!i.wrapper.clientWidth)
            return i.showingFrom = i.showingTo = o.first,
            void (i.viewOffset = 0);
        if (!(!n && 0 == t.length && r.from > i.showingFrom && r.to < i.showingTo)) {
            m(e) && (t = [{
                from: o.first,
                to: o.first + o.size
            }]);
            var l = i.sizer.style.marginLeft = i.gutters.offsetWidth + "px";
            i.scrollbarH.style.left = e.options.fixedGutter ? l : "0";
            var s = 1 / 0;
            if (e.options.lineNumbers)
                for (v = 0; v < t.length; ++v)
                    t[v].diff && t[v].from < s && (s = t[v].from);
            var a = o.first + o.size
              , c = Math.max(r.from - e.options.viewportMargin, o.first)
              , u = Math.min(a, r.to + e.options.viewportMargin);
            if (i.showingFrom < c && c - i.showingFrom < 20 && (c = Math.max(o.first, i.showingFrom)),
            i.showingTo > u && i.showingTo - u < 20 && (u = Math.min(a, i.showingTo)),
            _n)
                for (c = dr(Pt(o, cr(o, c))); a > u && Ft(o, cr(o, u)); )
                    ++u;
            var f = [{
                from: Math.max(i.showingFrom, o.first),
                to: Math.min(i.showingTo, a)
            }];
            if (f = f[0].from >= f[0].to ? [] : w(f, t),
            _n)
                for (v = 0; v < f.length; ++v)
                    for (var h, d = f[v]; h = zt(cr(o, d.to - 1)); ) {
                        var p = h.find().from.line;
                        if (!(p > d.from)) {
                            f.splice(v--, 1);
                            break
                        }
                        d.to = p
                    }
            for (var g = 0, v = 0; v < f.length; ++v)
                (d = f[v]).from < c && (d.from = c),
                d.to > u && (d.to = u),
                d.from >= d.to ? f.splice(v--, 1) : g += d.to - d.from;
            if (!n && g == u - c && c == i.showingFrom && u == i.showingTo)
                return void C(e);
            f.sort(function(e, t) {
                return e.from - t.from
            });
            try {
                var y = document.activeElement
            } catch (e) {}
            return .7 * (u - c) > g && (i.lineDiv.style.display = "none"),
            k(e, c, u, f, s),
            i.lineDiv.style.display = "",
            y && document.activeElement != y && y.offsetHeight && y.focus(),
            (c != i.showingFrom || u != i.showingTo || i.lastSizeC != i.wrapper.clientHeight) && (i.lastSizeC = i.wrapper.clientHeight,
            W(e, 400)),
            i.showingFrom = c,
            i.showingTo = u,
            x(e),
            C(e),
            !0
        }
    }
    function x(e) {
        for (var t, r = e.display, n = r.lineDiv.offsetTop, i = r.lineDiv.firstChild; i; i = i.nextSibling)
            if (i.lineObj) {
                if (kn) {
                    var o = i.offsetTop + i.offsetHeight;
                    t = o - n,
                    n = o
                } else {
                    var l = ln(i);
                    t = l.bottom - l.top
                }
                var s = i.lineObj.height - t;
                if (2 > t && (t = ee(r)),
                s > .001 || -.001 > s) {
                    hr(i.lineObj, t);
                    var a = i.lineObj.widgets;
                    if (a)
                        for (var c = 0; c < a.length; ++c)
                            a[c].height = a[c].node.offsetHeight
                }
            }
    }
    function C(e) {
        var t = e.display.viewOffset = mr(e, cr(e.doc, e.display.showingFrom));
        e.display.mover.style.top = t + "px"
    }
    function w(e, t) {
        for (var r = 0, n = t.length || 0; n > r; ++r) {
            for (var i = t[r], o = [], l = i.diff || 0, s = 0, a = e.length; a > s; ++s) {
                var c = e[s];
                i.to <= c.from && i.diff ? o.push({
                    from: c.from + l,
                    to: c.to + l
                }) : i.to <= c.from || i.from >= c.to ? o.push(c) : (i.from > c.from && o.push({
                    from: c.from,
                    to: i.from
                }),
                i.to < c.to && o.push({
                    from: i.to + l,
                    to: c.to + l
                }))
            }
            e = o
        }
        return e
    }
    function L(e) {
        for (var t = e.display, r = {}, n = {}, i = t.gutters.firstChild, o = 0; i; i = i.nextSibling,
        ++o)
            r[e.options.gutters[o]] = i.offsetLeft,
            n[e.options.gutters[o]] = i.offsetWidth;
        return {
            fixedPos: v(t),
            gutterTotalWidth: t.gutters.offsetWidth,
            gutterLeft: r,
            gutterWidth: n,
            wrapperWidth: t.wrapper.clientWidth
        }
    }
    function k(e, t, r, n, i) {
        function o(t) {
            var r = t.nextSibling;
            return Sn && Pn && e.display.currentWheelTarget == t ? (t.style.display = "none",
            t.lineObj = null) : t.parentNode.removeChild(t),
            r
        }
        var l = L(e)
          , s = e.display
          , a = e.options.lineNumbers;
        n.length || Sn && e.display.currentWheelTarget || rn(s.lineDiv);
        var c = s.lineDiv
          , u = c.firstChild
          , f = n.shift()
          , h = t;
        for (e.doc.iter(t, r, function(t) {
            if (f && f.to == h && (f = n.shift()),
            Ft(e.doc, t)) {
                if (0 != t.height && hr(t, 0),
                t.widgets && u.previousSibling)
                    for (var r = 0; r < t.widgets.length; ++r) {
                        var s = t.widgets[r];
                        if (s.showIfHidden) {
                            var d = u.previousSibling;
                            if (/pre/i.test(d.nodeName)) {
                                var p = tn("div", null, null, "position: relative");
                                d.parentNode.replaceChild(p, d),
                                p.appendChild(d),
                                d = p
                            }
                            var m = d.appendChild(tn("div", [s.node], "CodeMirror-linewidget"));
                            s.handleMouseEvents || (m.ignoreEvents = !0),
                            S(s, m, d, l)
                        }
                    }
            } else if (f && f.from <= h && f.to > h) {
                for (; u.lineObj != t; )
                    u = o(u);
                a && h >= i && u.lineNumber && on(u.lineNumber, g(e.options, h)),
                u = u.nextSibling
            } else {
                if (t.widgets)
                    for (var v, y = 0, b = u; b && 20 > y; ++y,
                    b = b.nextSibling)
                        if (b.lineObj == t && /div/i.test(b.nodeName)) {
                            v = b;
                            break
                        }
                var x = M(e, t, h, l, v);
                if (x != v)
                    c.insertBefore(x, u);
                else {
                    for (; u != v; )
                        u = o(u);
                    u = u.nextSibling
                }
                x.lineObj = t
            }
            ++h
        }); u; )
            u = o(u)
    }
    function M(e, t, r, n, i) {
        var o, l = Jt(e, t), s = t.gutterMarkers, a = e.display;
        if (!(e.options.lineNumbers || s || t.bgClass || t.wrapClass || t.widgets))
            return l;
        if (i) {
            i.alignable = null;
            for (var c, u = !0, f = 0, h = null, d = i.firstChild; d; d = c)
                if (c = d.nextSibling,
                /\bCodeMirror-linewidget\b/.test(d.className)) {
                    for (b = 0; b < t.widgets.length; ++b)
                        if ((C = t.widgets[b]).node == d.firstChild) {
                            C.above || h || (h = d),
                            S(C, d, i, n),
                            ++f;
                            break
                        }
                    if (b == t.widgets.length) {
                        u = !1;
                        break
                    }
                } else
                    i.removeChild(d);
            i.insertBefore(l, h),
            u && f == t.widgets.length && (o = i,
            i.className = t.wrapClass || "")
        }
        if (o || (o = tn("div", null, t.wrapClass, "position: relative")).appendChild(l),
        t.bgClass && o.insertBefore(tn("div", null, t.bgClass + " CodeMirror-linebackground"), o.firstChild),
        e.options.lineNumbers || s) {
            var p = o.insertBefore(tn("div", null, null, "position: absolute; left: " + (e.options.fixedGutter ? n.fixedPos : -n.gutterTotalWidth) + "px"), o.firstChild);
            if (e.options.fixedGutter && (o.alignable || (o.alignable = [])).push(p),
            !e.options.lineNumbers || s && s["CodeMirror-linenumbers"] || (o.lineNumber = p.appendChild(tn("div", g(e.options, r), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + n.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + a.lineNumInnerWidth + "px"))),
            s)
                for (var m = 0; m < e.options.gutters.length; ++m) {
                    var v = e.options.gutters[m]
                      , y = s.hasOwnProperty(v) && s[v];
                    y && p.appendChild(tn("div", [y], "CodeMirror-gutter-elt", "left: " + n.gutterLeft[v] + "px; width: " + n.gutterWidth[v] + "px"))
                }
        }
        if (kn && (o.style.zIndex = 2),
        t.widgets && o != i)
            for (var b = 0, x = t.widgets; b < x.length; ++b) {
                var C = x[b]
                  , w = tn("div", [C.node], "CodeMirror-linewidget");
                C.handleMouseEvents || (w.ignoreEvents = !0),
                S(C, w, o, n),
                C.above ? o.insertBefore(w, e.options.lineNumbers && 0 != t.height ? p : l) : o.appendChild(w),
                Fr(C, "redraw")
            }
        return o
    }
    function S(e, t, r, n) {
        if (e.noHScroll) {
            (r.alignable || (r.alignable = [])).push(t);
            var i = n.wrapperWidth;
            t.style.left = n.fixedPos + "px",
            e.coverGutter || (i -= n.gutterTotalWidth,
            t.style.paddingLeft = n.gutterTotalWidth + "px"),
            t.style.width = i + "px"
        }
        e.coverGutter && (t.style.zIndex = 5,
        t.style.position = "relative",
        e.noHScroll || (t.style.marginLeft = -n.gutterTotalWidth + "px"))
    }
    function T(e) {
        var t = e.display
          , r = Ue(e.doc.sel.from, e.doc.sel.to);
        if (r || e.options.showCursorWhenSelecting ? A(e) : t.cursor.style.display = t.otherCursor.style.display = "none",
        r ? t.selectionDiv.style.display = "none" : N(e),
        e.options.moveInputWithCursor) {
            var n = q(e, e.doc.sel.head, "div")
              , i = ln(t.wrapper)
              , o = ln(t.lineDiv);
            t.inputDiv.style.top = Math.max(0, Math.min(t.wrapper.clientHeight - 10, n.top + o.top - i.top)) + "px",
            t.inputDiv.style.left = Math.max(0, Math.min(t.wrapper.clientWidth - 10, n.left + o.left - i.left)) + "px"
        }
    }
    function A(e) {
        var t = e.display
          , r = q(e, e.doc.sel.head, "div");
        t.cursor.style.left = r.left + "px",
        t.cursor.style.top = r.top + "px",
        t.cursor.style.height = Math.max(0, r.bottom - r.top) * e.options.cursorHeight + "px",
        t.cursor.style.display = "",
        r.other ? (t.otherCursor.style.display = "",
        t.otherCursor.style.left = r.other.left + "px",
        t.otherCursor.style.top = r.other.top + "px",
        t.otherCursor.style.height = .85 * (r.other.bottom - r.other.top) + "px") : t.otherCursor.style.display = "none"
    }
    function N(e) {
        function t(e, t, r, n) {
            0 > t && (t = 0),
            l.appendChild(tn("div", null, "CodeMirror-selected", "position: absolute; left: " + e + "px; top: " + t + "px; width: " + (null == r ? s - e : r) + "px; height: " + (n - t) + "px"))
        }
        function r(r, n, o) {
            function l(t, n) {
                return $(e, Ve(r, t), "div", f, n)
            }
            var c, u, f = cr(i, r), h = f.text.length;
            return un(gr(f), n || 0, null == o ? h : o, function(e, r, i) {
                var f, d, p, m = l(e, "left");
                if (e == r)
                    f = m,
                    d = p = m.left;
                else {
                    if (f = l(r - 1, "right"),
                    "rtl" == i) {
                        var g = m;
                        m = f,
                        f = g
                    }
                    d = m.left,
                    p = f.right
                }
                null == n && 0 == e && (d = a),
                f.top - m.top > 3 && (t(d, m.top, null, m.bottom),
                d = a,
                m.bottom < f.top && t(d, m.bottom, null, f.top)),
                null == o && r == h && (p = s),
                (!c || m.top < c.top || m.top == c.top && m.left < c.left) && (c = m),
                (!u || f.bottom > u.bottom || f.bottom == u.bottom && f.right > u.right) && (u = f),
                a + 1 > d && (d = a),
                t(d, f.top, p - d, f.bottom)
            }),
            {
                start: c,
                end: u
            }
        }
        var n = e.display
          , i = e.doc
          , o = e.doc.sel
          , l = document.createDocumentFragment()
          , s = n.lineSpace.offsetWidth
          , a = P(e.display);
        if (o.from.line == o.to.line)
            r(o.from.line, o.from.ch, o.to.ch);
        else {
            var c = cr(i, o.from.line)
              , u = cr(i, o.to.line)
              , f = Pt(i, c) == Pt(i, u)
              , h = r(o.from.line, o.from.ch, f ? c.text.length : null).end
              , d = r(o.to.line, f ? 0 : null, o.to.ch).start;
            f && (h.top < d.top - 2 ? (t(h.right, h.top, null, h.bottom),
            t(a, d.top, d.left, d.bottom)) : t(h.right, h.top, d.left - h.right, h.bottom)),
            h.bottom < d.top && t(a, h.bottom, null, d.top)
        }
        nn(n.selectionDiv, l),
        n.selectionDiv.style.display = ""
    }
    function H(e) {
        if (e.state.focused) {
            var t = e.display;
            clearInterval(t.blinker);
            var r = !0;
            t.cursor.style.visibility = t.otherCursor.style.visibility = "",
            t.blinker = setInterval(function() {
                t.cursor.style.visibility = t.otherCursor.style.visibility = (r = !r) ? "" : "hidden"
            }, e.options.cursorBlinkRate)
        }
    }
    function W(e, t) {
        e.doc.mode.startState && e.doc.frontier < e.display.showingTo && e.state.highlight.set(t, Jr(O, e))
    }
    function O(e) {
        var t = e.doc;
        if (t.frontier < t.first && (t.frontier = t.first),
        !(t.frontier >= e.display.showingTo)) {
            var r, n = +new Date + e.options.workTime, i = mt(t.mode, D(e, t.frontier)), o = [];
            t.iter(t.frontier, Math.min(t.first + t.size, e.display.showingTo + 500), function(l) {
                if (t.frontier >= e.display.showingFrom) {
                    var s = l.styles;
                    l.styles = Yt(e, l, i);
                    for (var a = !s || s.length != l.styles.length, c = 0; !a && c < s.length; ++c)
                        a = s[c] != l.styles[c];
                    a && (r && r.end == t.frontier ? r.end++ : o.push(r = {
                        start: t.frontier,
                        end: t.frontier + 1
                    })),
                    l.stateAfter = mt(t.mode, i)
                } else
                    qt(e, l, i),
                    l.stateAfter = t.frontier % 5 == 0 ? mt(t.mode, i) : null;
                return ++t.frontier,
                +new Date > n ? (W(e, e.options.workDelay),
                !0) : void 0
            }),
            o.length && ie(e, function() {
                for (var e = 0; e < o.length; ++e)
                    se(this, o[e].start, o[e].end)
            })()
        }
    }
    function E(e, t, r) {
        for (var n, i, o = e.doc, l = t, s = t - (e.doc.mode.innerMode ? 1e3 : 100); l > s; --l) {
            if (l <= o.first)
                return o.first;
            var a = cr(o, l - 1);
            if (a.stateAfter && (!r || l <= o.frontier))
                return l;
            var c = Ur(a.text, null, e.options.tabSize);
            (null == i || n > c) && (i = l - 1,
            n = c)
        }
        return i
    }
    function D(e, t, r) {
        var n = e.doc
          , i = e.display;
        if (!n.mode.startState)
            return !0;
        var o = E(e, t, r)
          , l = o > n.first && cr(n, o - 1).stateAfter;
        return l = l ? mt(n.mode, l) : gt(n.mode),
        n.iter(o, t, function(r) {
            qt(e, r, l);
            var s = o == t - 1 || o % 5 == 0 || o >= i.showingFrom && o < i.showingTo;
            r.stateAfter = s ? mt(n.mode, l) : null,
            ++o
        }),
        l
    }
    function I(e) {
        return e.lineSpace.offsetTop
    }
    function z(e) {
        return e.mover.offsetHeight - e.lineSpace.offsetHeight
    }
    function P(e) {
        return nn(e.measure, tn("pre", null, null, "text-align: left")).appendChild(tn("span", "x")).offsetLeft
    }
    function F(e, t, r, n, i) {
        var o = -1;
        n = n || G(e, t);
        for (var l = r; ; l += o) {
            var s = n[l];
            if (s)
                break;
            0 > o && 0 == l && (o = 1)
        }
        return "left" == (i = l > r ? "left" : r > l ? "right" : i) && s.leftSide ? s = s.leftSide : "right" == i && s.rightSide && (s = s.rightSide),
        {
            left: r > l ? s.right : s.left,
            right: l > r ? s.left : s.right,
            top: s.top,
            bottom: s.bottom
        }
    }
    function R(e, t) {
        for (var r = e.display.measureLineCache, n = 0; n < r.length; ++n) {
            var i = r[n];
            if (i.text == t.text && i.markedSpans == t.markedSpans && e.display.scroller.clientWidth == i.width && i.classes == t.textClass + "|" + t.bgClass + "|" + t.wrapClass)
                return i
        }
    }
    function B(e, t) {
        var r = R(e, t);
        r && (r.text = r.measure = r.markedSpans = null)
    }
    function G(e, t) {
        var r = R(e, t);
        if (r)
            return r.measure;
        var n = K(e, t)
          , i = e.display.measureLineCache
          , o = {
            text: t.text,
            width: e.display.scroller.clientWidth,
            markedSpans: t.markedSpans,
            measure: n,
            classes: t.textClass + "|" + t.bgClass + "|" + t.wrapClass
        };
        return 16 == i.length ? i[++e.display.measureLineCachePos % 16] = o : i.push(o),
        n
    }
    function K(e, t) {
        function r(e) {
            var t = e.top - d.top
              , r = e.bottom - d.top;
            r > g && (r = g),
            0 > t && (t = 0);
            for (var n = p.length - 2; n >= 0; n -= 2) {
                var i = p[n]
                  , o = p[n + 1];
                if (!(i > r || t > o) && (t >= i && o >= r || i >= t && r >= o || Math.min(r, o) - Math.max(t, i) >= r - t >> 1)) {
                    p[n] = Math.min(t, i),
                    p[n + 1] = Math.max(r, o);
                    break
                }
            }
            return 0 > n && (n = p.length,
            p.push(t, r)),
            {
                left: e.left - d.left,
                right: e.right - d.left,
                top: n,
                bottom: null
            }
        }
        function n(e) {
            e.bottom = p[e.top + 1],
            e.top = p[e.top]
        }
        var i = e.display
          , o = Zr(t.text.length)
          , l = Jt(e, t, o, !0);
        if (Ln && !kn && !e.options.lineWrapping && l.childNodes.length > 100) {
            for (var s = document.createDocumentFragment(), a = l.childNodes.length, c = 0, u = Math.ceil(a / 10); u > c; ++c) {
                for (var f = tn("div", null, null, "display: inline-block"), h = 0; 10 > h && a; ++h)
                    f.appendChild(l.firstChild),
                    --a;
                s.appendChild(f)
            }
            l.appendChild(s)
        }
        nn(i.measure, l);
        var d = ln(i.lineDiv)
          , p = []
          , m = Zr(t.text.length)
          , g = l.offsetHeight;
        Mn && i.measure.first != l && nn(i.measure, l);
        for (c = 0; c < o.length; ++c)
            if (x = o[c]) {
                var v = x
                  , y = null;
                if (/\bCodeMirror-widget\b/.test(x.className) && x.getClientRects) {
                    1 == x.firstChild.nodeType && (v = x.firstChild);
                    var b = v.getClientRects();
                    b.length > 1 && (y = m[c] = r(b[0]),
                    y.rightSide = r(b[b.length - 1]))
                }
                y || (y = m[c] = r(ln(v))),
                x.measureRight && (y.right = ln(x.measureRight).left),
                x.leftSide && (y.leftSide = r(ln(x.leftSide)))
            }
        rn(e.display.measure);
        for (var x, c = 0; c < m.length; ++c)
            (x = m[c]) && (n(x),
            x.leftSide && n(x.leftSide),
            x.rightSide && n(x.rightSide));
        return m
    }
    function V(e, t) {
        var r = !1;
        if (t.markedSpans)
            for (var n = 0; n < t.markedSpans; ++n) {
                var i = t.markedSpans[n];
                !i.collapsed || null != i.to && i.to != t.text.length || (r = !0)
            }
        var o = !r && R(e, t);
        if (o)
            return F(e, t, t.text.length, o.measure, "right").right;
        var l = Jt(e, t, null, !0)
          , s = l.appendChild(cn(e.display.measure));
        return nn(e.display.measure, l),
        ln(s).right - ln(e.display.lineDiv).left
    }
    function U(e) {
        e.display.measureLineCache.length = e.display.measureLineCachePos = 0,
        e.display.cachedCharWidth = e.display.cachedTextHeight = null,
        e.options.lineWrapping || (e.display.maxLineChanged = !0),
        e.display.lineNumChars = null
    }
    function j() {
        return window.pageXOffset || (document.documentElement || document.body).scrollLeft
    }
    function _() {
        return window.pageYOffset || (document.documentElement || document.body).scrollTop
    }
    function X(e, t, r, n) {
        if (t.widgets)
            for (var i = 0; i < t.widgets.length; ++i)
                if (t.widgets[i].above) {
                    var o = Vt(t.widgets[i]);
                    r.top += o,
                    r.bottom += o
                }
        if ("line" == n)
            return r;
        n || (n = "local");
        var l = mr(e, t);
        if ("local" == n ? l += I(e.display) : l -= e.display.viewOffset,
        "page" == n || "window" == n) {
            var s = ln(e.display.lineSpace);
            l += s.top + ("window" == n ? 0 : _());
            var a = s.left + ("window" == n ? 0 : j());
            r.left += a,
            r.right += a
        }
        return r.top += l,
        r.bottom += l,
        r
    }
    function Y(e, t, r) {
        if ("div" == r)
            return t;
        var n = t.left
          , i = t.top;
        if ("page" == r)
            n -= j(),
            i -= _();
        else if ("local" == r || !r) {
            var o = ln(e.display.sizer);
            n += o.left,
            i += o.top
        }
        var l = ln(e.display.lineSpace);
        return {
            left: n - l.left,
            top: i - l.top
        }
    }
    function $(e, t, r, n, i) {
        return n || (n = cr(e.doc, t.line)),
        X(e, n, F(e, n, t.ch, null, i), r)
    }
    function q(e, t, r, n, i) {
        function o(t, o) {
            var l = F(e, n, t, i, o ? "right" : "left");
            return o ? l.left = l.right : l.right = l.left,
            X(e, n, l, r)
        }
        function l(e, t) {
            var r = s[t]
              , n = r.level % 2;
            return e == fn(r) && t && r.level < s[t - 1].level ? (r = s[--t],
            e = hn(r) - (r.level % 2 ? 0 : 1),
            n = !0) : e == hn(r) && t < s.length - 1 && r.level < s[t + 1].level && (r = s[++t],
            e = fn(r) - r.level % 2,
            n = !1),
            n && e == r.to && e > r.from ? o(e - 1) : o(e, n)
        }
        n = n || cr(e.doc, t.line),
        i || (i = G(e, n));
        var s = gr(n)
          , a = t.ch;
        if (!s)
            return o(a);
        var c = l(a, yn(s, a));
        return null != Ei && (c.other = l(a, Ei)),
        c
    }
    function Z(e, t, r, n) {
        var i = new Ve(e,t);
        return i.xRel = n,
        r && (i.outside = !0),
        i
    }
    function J(e, t, r) {
        var n = e.doc;
        if (0 > (r += e.display.viewOffset))
            return Z(n.first, 0, !0, -1);
        var i = pr(n, r)
          , o = n.first + n.size - 1;
        if (i > o)
            return Z(n.first + n.size - 1, cr(n, o).text.length, !0, 1);
        for (0 > t && (t = 0); ; ) {
            var l = cr(n, i)
              , s = Q(e, l, i, t, r)
              , a = zt(l)
              , c = a && a.find();
            if (!a || !(s.ch > c.from.ch || s.ch == c.from.ch && s.xRel > 0))
                return s;
            i = c.to.line
        }
    }
    function Q(e, t, r, n, i) {
        function o(n) {
            var i = q(e, Ve(r, n), "line", t, c);
            return s = !0,
            l > i.bottom ? i.left - a : l < i.top ? i.left + a : (s = !1,
            i.left)
        }
        var l = i - mr(e, t)
          , s = !1
          , a = 2 * e.display.wrapper.clientWidth
          , c = G(e, t)
          , u = gr(t)
          , f = t.text.length
          , h = dn(t)
          , d = pn(t)
          , p = o(h)
          , m = s
          , g = o(d)
          , v = s;
        if (n > g)
            return Z(r, d, v, 1);
        for (; ; ) {
            if (u ? d == h || d == xn(t, h, 1) : 1 >= d - h) {
                for (var y = p > n || g - n >= n - p ? h : d, b = n - (y == h ? p : g); Mi.test(t.text.charAt(y)); )
                    ++y;
                return Z(r, y, y == h ? m : v, 0 > b ? -1 : b ? 1 : 0)
            }
            var x = Math.ceil(f / 2)
              , C = h + x;
            if (u) {
                C = h;
                for (var w = 0; x > w; ++w)
                    C = xn(t, C, 1)
            }
            var L = o(C);
            L > n ? (d = C,
            g = L,
            (v = s) && (g += 1e3),
            f = x) : (h = C,
            p = L,
            m = s,
            f -= x)
        }
    }
    function ee(e) {
        if (null != e.cachedTextHeight)
            return e.cachedTextHeight;
        if (null == Bn) {
            Bn = tn("pre");
            for (var t = 0; 49 > t; ++t)
                Bn.appendChild(document.createTextNode("x")),
                Bn.appendChild(tn("br"));
            Bn.appendChild(document.createTextNode("x"))
        }
        nn(e.measure, Bn);
        var r = Bn.offsetHeight / 50;
        return r > 3 && (e.cachedTextHeight = r),
        rn(e.measure),
        r || 1
    }
    function te(e) {
        if (null != e.cachedCharWidth)
            return e.cachedCharWidth;
        var t = tn("span", "x")
          , r = tn("pre", [t]);
        nn(e.measure, r);
        var n = t.offsetWidth;
        return n > 2 && (e.cachedCharWidth = n),
        n || 10
    }
    function re(e) {
        e.curOp = {
            changes: [],
            forceUpdate: !1,
            updateInput: null,
            userSelChange: null,
            textChanged: null,
            selectionChanged: !1,
            cursorActivity: !1,
            updateMaxLine: !1,
            updateScrollPos: !1,
            id: ++Xn
        },
        xi++ || (bi = [])
    }
    function ne(e) {
        var t = e.curOp
          , r = e.doc
          , n = e.display;
        if (e.curOp = null,
        t.updateMaxLine && u(e),
        n.maxLineChanged && !e.options.lineWrapping && n.maxLine) {
            var i = V(e, n.maxLine);
            n.sizer.style.minWidth = Math.max(0, i + 3 + Ci) + "px",
            n.maxLineChanged = !1;
            var o = Math.max(0, n.sizer.offsetLeft + n.sizer.offsetWidth - n.scroller.clientWidth);
            o < r.scrollLeft && !t.updateScrollPos && we(e, Math.min(n.scroller.scrollLeft, o), !0)
        }
        var l, s;
        if (t.updateScrollPos)
            l = t.updateScrollPos;
        else if (t.selectionChanged && n.scroller.clientHeight) {
            var a = q(e, r.sel.head);
            l = ot(e, a.left, a.top, a.left, a.bottom)
        }
        (t.changes.length || t.forceUpdate || l && null != l.scrollTop) && (s = y(e, t.changes, l && l.scrollTop, t.forceUpdate),
        e.display.scroller.offsetHeight && (e.doc.scrollTop = e.display.scroller.scrollTop)),
        !s && t.selectionChanged && T(e),
        t.updateScrollPos ? (n.scroller.scrollTop = n.scrollbarV.scrollTop = r.scrollTop = l.scrollTop,
        n.scroller.scrollLeft = n.scrollbarH.scrollLeft = r.scrollLeft = l.scrollLeft,
        p(e),
        t.scrollToPos && nt(e, Ye(e.doc, t.scrollToPos), t.scrollToPosMargin)) : l && rt(e),
        t.selectionChanged && H(e),
        e.state.focused && t.updateInput && fe(e, t.userSelChange);
        var c = t.maybeHiddenMarkers
          , f = t.maybeUnhiddenMarkers;
        if (c)
            for (d = 0; d < c.length; ++d)
                c[d].lines.length || Pr(c[d], "hide");
        if (f)
            for (d = 0; d < f.length; ++d)
                f[d].lines.length && Pr(f[d], "unhide");
        var h;
        if (--xi || (h = bi,
        bi = null),
        t.textChanged && Pr(e, "change", e, t.textChanged),
        t.cursorActivity && Pr(e, "cursorActivity", e),
        h)
            for (var d = 0; d < h.length; ++d)
                h[d]()
    }
    function ie(e, t) {
        return function() {
            var r = e || this
              , n = !r.curOp;
            n && re(r);
            try {
                var i = t.apply(r, arguments)
            } finally {
                n && ne(r)
            }
            return i
        }
    }
    function oe(e) {
        return function() {
            var t, r = this.cm && !this.cm.curOp;
            r && re(this.cm);
            try {
                t = e.apply(this, arguments)
            } finally {
                r && ne(this.cm)
            }
            return t
        }
    }
    function le(e, t) {
        var r, n = !e.curOp;
        n && re(e);
        try {
            r = t()
        } finally {
            n && ne(e)
        }
        return r
    }
    function se(e, t, r, n) {
        null == t && (t = e.doc.first),
        null == r && (r = e.doc.first + e.doc.size),
        e.curOp.changes.push({
            from: t,
            to: r,
            diff: n
        })
    }
    function ae(e) {
        e.display.pollingFast || e.display.poll.set(e.options.pollInterval, function() {
            ue(e),
            e.state.focused && ae(e)
        })
    }
    function ce(e) {
        function t() {
            ue(e) || r ? (e.display.pollingFast = !1,
            ae(e)) : (r = !0,
            e.display.poll.set(60, t))
        }
        var r = !1;
        e.display.pollingFast = !0,
        e.display.poll.set(20, t)
    }
    function ue(e) {
        var t = e.display.input
          , r = e.display.prevInput
          , n = e.doc
          , i = n.sel;
        if (!e.state.focused || Hi(t) || de(e) || e.state.disableInput)
            return !1;
        e.state.pasteIncoming && e.state.fakedLastChar && (t.value = t.value.substring(0, t.value.length - 1),
        e.state.fakedLastChar = !1);
        var o = t.value;
        if (o == r && Ue(i.from, i.to))
            return !1;
        if (Ln && !Mn && e.display.inputHasSelection === o)
            return fe(e, !0),
            !1;
        var l = !e.curOp;
        l && re(e),
        i.shift = !1;
        for (var s = 0, a = Math.min(r.length, o.length); a > s && r.charCodeAt(s) == o.charCodeAt(s); )
            ++s;
        var c = i.from
          , u = i.to;
        s < r.length ? c = Ve(c.line, c.ch - (r.length - s)) : e.state.overwrite && Ue(c, u) && !e.state.pasteIncoming && (u = Ve(u.line, Math.min(cr(n, u.line).text.length, u.ch + (o.length - s))));
        var f = e.curOp.updateInput
          , h = {
            from: c,
            to: u,
            text: Ni(o.slice(s)),
            origin: e.state.pasteIncoming ? "paste" : "+input"
        };
        return ze(e.doc, h, "end"),
        e.curOp.updateInput = f,
        Fr(e, "inputRead", e, h),
        o.length > 1e3 || o.indexOf("\n") > -1 ? t.value = e.display.prevInput = "" : e.display.prevInput = o,
        l && ne(e),
        e.state.pasteIncoming = !1,
        !0
    }
    function fe(e, t) {
        var r, n, i = e.doc;
        if (Ue(i.sel.from, i.sel.to))
            t && (e.display.prevInput = e.display.input.value = "",
            Ln && !Mn && (e.display.inputHasSelection = null));
        else {
            e.display.prevInput = "";
            var o = (r = Wi && (i.sel.to.line - i.sel.from.line > 100 || (n = e.getSelection()).length > 1e3)) ? "-" : n || e.getSelection();
            e.display.input.value = o,
            e.state.focused && Xr(e.display.input),
            Ln && !Mn && (e.display.inputHasSelection = o)
        }
        e.display.inaccurateSelection = r
    }
    function he(e) {
        "nocursor" == e.options.readOnly || zn && document.activeElement == e.display.input || e.display.input.focus()
    }
    function de(e) {
        return e.options.readOnly || e.doc.cantEdit
    }
    function pe(e) {
        function t() {
            e.state.focused && setTimeout(Jr(he, e), 0)
        }
        function r() {
            null == s && (s = setTimeout(function() {
                s = null,
                l.cachedCharWidth = l.cachedTextHeight = Ti = null,
                U(e),
                le(e, Jr(se, e))
            }, 100))
        }
        function n() {
            for (var e = l.wrapper.parentNode; e && e != document.body; e = e.parentNode)
                ;
            e ? setTimeout(n, 5e3) : zr(window, "resize", r)
        }
        function i(t) {
            Rr(e, t) || e.options.onDragEvent && e.options.onDragEvent(e, Ar(t)) || Or(t)
        }
        function o() {
            l.inaccurateSelection && (l.prevInput = "",
            l.inaccurateSelection = !1,
            l.input.value = e.getSelection(),
            Xr(l.input))
        }
        var l = e.display;
        Ir(l.scroller, "mousedown", ie(e, ve)),
        Ln ? Ir(l.scroller, "dblclick", ie(e, function(t) {
            if (!Rr(e, t)) {
                var r = ge(e, t);
                if (r && !ye(e, t) && !me(e.display, t)) {
                    Nr(t);
                    var n = ht(cr(e.doc, r.line).text, r);
                    Ze(e.doc, n.from, n.to)
                }
            }
        })) : Ir(l.scroller, "dblclick", function(t) {
            Rr(e, t) || Nr(t)
        }),
        Ir(l.lineSpace, "selectstart", function(e) {
            me(l, e) || Nr(e)
        }),
        Un || Ir(l.scroller, "contextmenu", function(t) {
            Oe(e, t)
        }),
        Ir(l.scroller, "scroll", function() {
            l.scroller.clientHeight && (Ce(e, l.scroller.scrollTop),
            we(e, l.scroller.scrollLeft, !0),
            Pr(e, "scroll", e))
        }),
        Ir(l.scrollbarV, "scroll", function() {
            l.scroller.clientHeight && Ce(e, l.scrollbarV.scrollTop)
        }),
        Ir(l.scrollbarH, "scroll", function() {
            l.scroller.clientHeight && we(e, l.scrollbarH.scrollLeft)
        }),
        Ir(l.scroller, "mousewheel", function(t) {
            Le(e, t)
        }),
        Ir(l.scroller, "DOMMouseScroll", function(t) {
            Le(e, t)
        }),
        Ir(l.scrollbarH, "mousedown", t),
        Ir(l.scrollbarV, "mousedown", t),
        Ir(l.wrapper, "scroll", function() {
            l.wrapper.scrollTop = l.wrapper.scrollLeft = 0
        });
        var s;
        Ir(window, "resize", r),
        setTimeout(n, 5e3),
        Ir(l.input, "keyup", ie(e, function(t) {
            Rr(e, t) || e.options.onKeyEvent && e.options.onKeyEvent(e, Ar(t)) || 16 == t.keyCode && (e.doc.sel.shift = !1)
        })),
        Ir(l.input, "input", Jr(ce, e)),
        Ir(l.input, "keydown", ie(e, Ae)),
        Ir(l.input, "keypress", ie(e, Ne)),
        Ir(l.input, "focus", Jr(He, e)),
        Ir(l.input, "blur", Jr(We, e)),
        e.options.dragDrop && (Ir(l.scroller, "dragstart", function(t) {
            xe(e, t)
        }),
        Ir(l.scroller, "dragenter", i),
        Ir(l.scroller, "dragover", i),
        Ir(l.scroller, "drop", ie(e, be))),
        Ir(l.scroller, "paste", function(t) {
            me(l, t) || (he(e),
            ce(e))
        }),
        Ir(l.input, "paste", function() {
            if (Sn && !e.state.fakedLastChar) {
                var t = l.input.selectionStart
                  , r = l.input.selectionEnd;
                l.input.value += "$",
                l.input.selectionStart = t,
                l.input.selectionEnd = r,
                e.state.fakedLastChar = !0
            }
            e.state.pasteIncoming = !0,
            ce(e)
        }),
        Ir(l.input, "cut", o),
        Ir(l.input, "copy", o),
        Wn && Ir(l.sizer, "mouseup", function() {
            document.activeElement == l.input && l.input.blur(),
            he(e)
        })
    }
    function me(e, t) {
        for (var r = Er(t); r != e.wrapper; r = r.parentNode)
            if (!r || r.ignoreEvents || r.parentNode == e.sizer && r != e.mover)
                return !0
    }
    function ge(e, t, r) {
        var n = e.display;
        if (!r) {
            var i = Er(t);
            if (i == n.scrollbarH || i == n.scrollbarH.firstChild || i == n.scrollbarV || i == n.scrollbarV.firstChild || i == n.scrollbarFiller || i == n.gutterFiller)
                return null
        }
        var o, l, s = ln(n.lineSpace);
        try {
            o = t.clientX,
            l = t.clientY
        } catch (t) {
            return null
        }
        return J(e, o - s.left, l - s.top)
    }
    function ve(e) {
        function t(e) {
            if (!Ue(v, e)) {
                if (v = e,
                "single" == u)
                    return void Ze(i.doc, Ye(l, a), e);
                if (m = Ye(l, m),
                g = Ye(l, g),
                "double" == u) {
                    var t = ht(cr(l, e.line).text, e);
                    je(e, m) ? Ze(i.doc, t.from, g) : Ze(i.doc, m, t.to)
                } else
                    "triple" == u && (je(e, m) ? Ze(i.doc, g, Ye(l, Ve(e.line, 0))) : Ze(i.doc, m, Ye(l, Ve(e.line + 1, 0))))
            }
        }
        function r(e) {
            var n = ++b
              , s = ge(i, e, !0);
            if (s)
                if (Ue(s, h)) {
                    var a = e.clientY < y.top ? -20 : e.clientY > y.bottom ? 20 : 0;
                    a && setTimeout(ie(i, function() {
                        b == n && (o.scroller.scrollTop += a,
                        r(e))
                    }), 50)
                } else {
                    i.state.focused || He(i),
                    h = s,
                    t(s);
                    var c = d(o, l);
                    (s.line >= c.to || s.line < c.from) && setTimeout(ie(i, function() {
                        b == n && r(e)
                    }), 150)
                }
        }
        function n(e) {
            b = 1 / 0,
            Nr(e),
            he(i),
            zr(document, "mousemove", x),
            zr(document, "mouseup", C)
        }
        if (!Rr(this, e)) {
            var i = this
              , o = i.display
              , l = i.doc
              , s = l.sel;
            if (s.shift = e.shiftKey,
            me(o, e))
                return void (Sn || (o.scroller.draggable = !1,
                setTimeout(function() {
                    o.scroller.draggable = !0
                }, 100)));
            if (!ye(i, e)) {
                var a = ge(i, e);
                switch (Dr(e)) {
                case 3:
                    return void (Un && Oe.call(i, i, e));
                case 2:
                    return a && Ze(i.doc, a),
                    setTimeout(Jr(he, i), 20),
                    void Nr(e)
                }
                if (!a)
                    return void (Er(e) == o.scroller && Nr(e));
                i.state.focused || He(i);
                var c = +new Date
                  , u = "single";
                if (Kn && Kn.time > c - 400 && Ue(Kn.pos, a))
                    u = "triple",
                    Nr(e),
                    setTimeout(Jr(he, i), 20),
                    dt(i, a.line);
                else if (Gn && Gn.time > c - 400 && Ue(Gn.pos, a)) {
                    u = "double",
                    Kn = {
                        time: c,
                        pos: a
                    },
                    Nr(e);
                    var f = ht(cr(l, a.line).text, a);
                    Ze(i.doc, f.from, f.to)
                } else
                    Gn = {
                        time: c,
                        pos: a
                    };
                var h = a;
                if (i.options.dragDrop && Si && !de(i) && !Ue(s.from, s.to) && !je(a, s.from) && !je(s.to, a) && "single" == u) {
                    var p = ie(i, function(t) {
                        Sn && (o.scroller.draggable = !1),
                        i.state.draggingText = !1,
                        zr(document, "mouseup", p),
                        zr(o.scroller, "drop", p),
                        Math.abs(e.clientX - t.clientX) + Math.abs(e.clientY - t.clientY) < 10 && (Nr(t),
                        Ze(i.doc, a),
                        he(i))
                    });
                    return Sn && (o.scroller.draggable = !0),
                    i.state.draggingText = p,
                    o.scroller.dragDrop && o.scroller.dragDrop(),
                    Ir(document, "mouseup", p),
                    void Ir(o.scroller, "drop", p)
                }
                Nr(e),
                "single" == u && Ze(i.doc, Ye(l, a));
                var m = s.from
                  , g = s.to
                  , v = a
                  , y = ln(o.wrapper)
                  , b = 0
                  , x = ie(i, function(e) {
                    Ln || Dr(e) ? r(e) : n(e)
                })
                  , C = ie(i, n);
                Ir(document, "mousemove", x),
                Ir(document, "mouseup", C)
            }
        }
    }
    function ye(e, t) {
        var r = e.display;
        try {
            var n = t.clientX
              , i = t.clientY
        } catch (t) {
            return !1
        }
        if (n >= Math.floor(ln(r.gutters).right))
            return !1;
        if (Nr(t),
        !Gr(e, "gutterClick"))
            return !0;
        var o = ln(r.lineDiv);
        if (i > o.bottom)
            return !0;
        i -= o.top - r.viewOffset;
        for (var l = 0; l < e.options.gutters.length; ++l) {
            var s = r.gutters.childNodes[l];
            if (s && ln(s).right >= n) {
                Fr(e, "gutterClick", e, pr(e.doc, i), e.options.gutters[l], t);
                break
            }
        }
        return !0
    }
    function be(e) {
        var t = this;
        if (!(Rr(t, e) || me(t.display, e) || t.options.onDragEvent && t.options.onDragEvent(t, Ar(e)))) {
            Nr(e),
            Ln && (Yn = +new Date);
            var r = ge(t, e, !0)
              , n = e.dataTransfer.files;
            if (r && !de(t))
                if (n && n.length && window.FileReader && window.File)
                    for (var i = n.length, o = Array(i), l = 0, s = 0; i > s; ++s)
                        !function(e, n) {
                            var s = new FileReader;
                            s.onload = function() {
                                o[n] = s.result,
                                ++l == i && (r = Ye(t.doc, r),
                                ze(t.doc, {
                                    from: r,
                                    to: r,
                                    text: Ni(o.join("\n")),
                                    origin: "paste"
                                }, "around"))
                            }
                            ,
                            s.readAsText(e)
                        }(n[s], s);
                else {
                    if (t.state.draggingText && !je(r, t.doc.sel.from) && !je(t.doc.sel.to, r))
                        return t.state.draggingText(e),
                        void setTimeout(Jr(he, t), 20);
                    try {
                        if (o = e.dataTransfer.getData("Text")) {
                            var a = t.doc.sel.from
                              , c = t.doc.sel.to;
                            Qe(t.doc, r, r),
                            t.state.draggingText && Ke(t.doc, "", a, c, "paste"),
                            t.replaceSelection(o, null, "paste"),
                            he(t),
                            He(t)
                        }
                    } catch (e) {}
                }
        }
    }
    function xe(e, t) {
        if (Ln && (!e.state.draggingText || +new Date - Yn < 100))
            Or(t);
        else if (!Rr(e, t) && !me(e.display, t)) {
            var r = e.getSelection();
            if (t.dataTransfer.setData("Text", r),
            t.dataTransfer.setDragImage && !Hn) {
                var n = tn("img", null, null, "position: fixed; left: 0; top: 0;");
                Nn && (n.width = n.height = 1,
                e.display.wrapper.appendChild(n),
                n._top = n.offsetTop),
                t.dataTransfer.setDragImage(n, 0, 0),
                Nn && n.parentNode.removeChild(n)
            }
        }
    }
    function Ce(e, t) {
        Math.abs(e.doc.scrollTop - t) < 2 || (e.doc.scrollTop = t,
        wn || y(e, [], t),
        e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t),
        e.display.scrollbarV.scrollTop != t && (e.display.scrollbarV.scrollTop = t),
        wn && y(e, []),
        W(e, 100))
    }
    function we(e, t, r) {
        (r ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) || (t = Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth),
        e.doc.scrollLeft = t,
        p(e),
        e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t),
        e.display.scrollbarH.scrollLeft != t && (e.display.scrollbarH.scrollLeft = t))
    }
    function Le(e, t) {
        var r = t.wheelDeltaX
          , n = t.wheelDeltaY;
        null == r && t.detail && t.axis == t.HORIZONTAL_AXIS && (r = t.detail),
        null == n && t.detail && t.axis == t.VERTICAL_AXIS ? n = t.detail : null == n && (n = t.wheelDelta);
        var i = e.display
          , o = i.scroller;
        if (r && o.scrollWidth > o.clientWidth || n && o.scrollHeight > o.clientHeight) {
            if (n && Pn && Sn)
                for (var l = t.target; l != o; l = l.parentNode)
                    if (l.lineObj) {
                        e.display.currentWheelTarget = l;
                        break
                    }
            if (r && !wn && !Nn && null != qn)
                return n && Ce(e, Math.max(0, Math.min(o.scrollTop + n * qn, o.scrollHeight - o.clientHeight))),
                we(e, Math.max(0, Math.min(o.scrollLeft + r * qn, o.scrollWidth - o.clientWidth))),
                Nr(t),
                void (i.wheelStartX = null);
            if (n && null != qn) {
                var s = n * qn
                  , a = e.doc.scrollTop
                  , c = a + i.wrapper.clientHeight;
                0 > s ? a = Math.max(0, a + s - 50) : c = Math.min(e.doc.height, c + s + 50),
                y(e, [], {
                    top: a,
                    bottom: c
                })
            }
            20 > $n && (null == i.wheelStartX ? (i.wheelStartX = o.scrollLeft,
            i.wheelStartY = o.scrollTop,
            i.wheelDX = r,
            i.wheelDY = n,
            setTimeout(function() {
                if (null != i.wheelStartX) {
                    var e = o.scrollLeft - i.wheelStartX
                      , t = o.scrollTop - i.wheelStartY
                      , r = t && i.wheelDY && t / i.wheelDY || e && i.wheelDX && e / i.wheelDX;
                    i.wheelStartX = i.wheelStartY = null,
                    r && (qn = (qn * $n + r) / ($n + 1),
                    ++$n)
                }
            }, 200)) : (i.wheelDX += r,
            i.wheelDY += n))
        }
    }
    function ke(e, t, r) {
        if ("string" == typeof t && !(t = ci[t]))
            return !1;
        e.display.pollingFast && ue(e) && (e.display.pollingFast = !1);
        var n = e.doc
          , i = n.sel.shift
          , o = !1;
        try {
            de(e) && (e.state.suppressEdits = !0),
            r && (n.sel.shift = !1),
            o = t(e) != wi
        } finally {
            n.sel.shift = i,
            e.state.suppressEdits = !1
        }
        return o
    }
    function Me(e) {
        var t = e.state.keyMaps.slice(0);
        return e.options.extraKeys && t.push(e.options.extraKeys),
        t.push(e.options.keyMap),
        t
    }
    function Se(e, t) {
        var r = vt(e.options.keyMap)
          , n = r.auto;
        clearTimeout(Zn),
        n && !bt(t) && (Zn = setTimeout(function() {
            vt(e.options.keyMap) == r && (e.options.keyMap = n.call ? n.call(null, e) : n,
            o(e))
        }, 50));
        var i = xt(t, !0)
          , l = !1;
        if (!i)
            return !1;
        var s = Me(e);
        return (l = t.shiftKey ? yt("Shift-" + i, s, function(t) {
            return ke(e, t, !0)
        }) || yt(i, s, function(t) {
            return ("string" == typeof t ? /^go[A-Z]/.test(t) : t.motion) ? ke(e, t) : void 0
        }) : yt(i, s, function(t) {
            return ke(e, t)
        })) && (Nr(t),
        H(e),
        Mn && (t.oldKeyCode = t.keyCode,
        t.keyCode = 0),
        Fr(e, "keyHandled", e, i, t)),
        l
    }
    function Te(e, t, r) {
        var n = yt("'" + r + "'", Me(e), function(t) {
            return ke(e, t, !0)
        });
        return n && (Nr(t),
        H(e),
        Fr(e, "keyHandled", e, "'" + r + "'", t)),
        n
    }
    function Ae(e) {
        var t = this;
        if (t.state.focused || He(t),
        !(Rr(t, e) || t.options.onKeyEvent && t.options.onKeyEvent(t, Ar(e)))) {
            Ln && 27 == e.keyCode && (e.returnValue = !1);
            var r = e.keyCode;
            t.doc.sel.shift = 16 == r || e.shiftKey;
            var n = Se(t, e);
            Nn && (Qn = n ? r : null,
            !n && 88 == r && !Wi && (Pn ? e.metaKey : e.ctrlKey) && t.replaceSelection(""))
        }
    }
    function Ne(e) {
        var t = this;
        if (!(Rr(t, e) || t.options.onKeyEvent && t.options.onKeyEvent(t, Ar(e)))) {
            var r = e.keyCode
              , n = e.charCode;
            if (Nn && r == Qn)
                return Qn = null,
                void Nr(e);
            if (!(Nn && (!e.which || e.which < 10) || Wn) || !Se(t, e)) {
                var i = String.fromCharCode(null == n ? r : n);
                this.options.electricChars && this.doc.mode.electricChars && this.options.smartIndent && !de(this) && this.doc.mode.electricChars.indexOf(i) > -1 && setTimeout(ie(t, function() {
                    at(t, t.doc.sel.to.line, "smart")
                }), 75),
                Te(t, e, i) || (Ln && !Mn && (t.display.inputHasSelection = null),
                ce(t))
            }
        }
    }
    function He(e) {
        "nocursor" != e.options.readOnly && (e.state.focused || (Pr(e, "focus", e),
        e.state.focused = !0,
        -1 == e.display.wrapper.className.search(/\bCodeMirror-focused\b/) && (e.display.wrapper.className += " CodeMirror-focused"),
        e.curOp || (fe(e, !0),
        Sn && setTimeout(Jr(fe, e, !0), 0))),
        ae(e),
        H(e))
    }
    function We(e) {
        e.state.focused && (Pr(e, "blur", e),
        e.state.focused = !1,
        e.display.wrapper.className = e.display.wrapper.className.replace(" CodeMirror-focused", "")),
        clearInterval(e.display.blinker),
        setTimeout(function() {
            e.state.focused || (e.doc.sel.shift = !1)
        }, 150)
    }
    function Oe(e, t) {
        function r() {
            if (null != i.input.selectionStart) {
                var e = i.input.value = " " + (Ue(o.from, o.to) ? "" : i.input.value);
                i.prevInput = " ",
                i.input.selectionStart = 1,
                i.input.selectionEnd = e.length
            }
        }
        function n() {
            if (i.inputDiv.style.position = "relative",
            i.input.style.cssText = a,
            Mn && (i.scrollbarV.scrollTop = i.scroller.scrollTop = s),
            ae(e),
            null != i.input.selectionStart) {
                (!Ln || Mn) && r(),
                clearTimeout(Jn);
                var t = 0
                  , n = function() {
                    " " == i.prevInput && 0 == i.input.selectionStart ? ie(e, ci.selectAll)(e) : t++ < 10 ? Jn = setTimeout(n, 500) : fe(e)
                };
                Jn = setTimeout(n, 200)
            }
        }
        if (!Rr(e, t, "contextmenu")) {
            var i = e.display
              , o = e.doc.sel;
            if (!me(i, t)) {
                var l = ge(e, t)
                  , s = i.scroller.scrollTop;
                if (l && !Nn) {
                    (Ue(o.from, o.to) || je(l, o.from) || !je(l, o.to)) && ie(e, Qe)(e.doc, l, l);
                    var a = i.input.style.cssText;
                    if (i.inputDiv.style.position = "absolute",
                    i.input.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (t.clientY - 5) + "px; left: " + (t.clientX - 5) + "px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",
                    he(e),
                    fe(e, !0),
                    Ue(o.from, o.to) && (i.input.value = i.prevInput = " "),
                    Ln && !Mn && r(),
                    Un) {
                        Or(t);
                        var c = function() {
                            zr(window, "mouseup", c),
                            setTimeout(n, 20)
                        };
                        Ir(window, "mouseup", c)
                    } else
                        setTimeout(n, 50)
                }
            }
        }
    }
    function Ee(e, t, r) {
        if (!je(t.from, r))
            return Ye(e, r);
        var n = t.text.length - 1 - (t.to.line - t.from.line);
        if (r.line > t.to.line + n) {
            var i = r.line - n
              , o = e.first + e.size - 1;
            return i > o ? Ve(o, cr(e, o).text.length) : $e(r, cr(e, i).text.length)
        }
        if (r.line == t.to.line + n)
            return $e(r, _r(t.text).length + (1 == t.text.length ? t.from.ch : 0) + cr(e, t.to.line).text.length - t.to.ch);
        var l = r.line - t.from.line;
        return $e(r, t.text[l].length + (l ? 0 : t.from.ch))
    }
    function De(e, t, r) {
        if (r && "object" == typeof r)
            return {
                anchor: Ee(e, t, r.anchor),
                head: Ee(e, t, r.head)
            };
        if ("start" == r)
            return {
                anchor: t.from,
                head: t.from
            };
        var n = ei(t);
        if ("around" == r)
            return {
                anchor: t.from,
                head: n
            };
        if ("end" == r)
            return {
                anchor: n,
                head: n
            };
        var i = function(e) {
            if (je(e, t.from))
                return e;
            if (!je(t.to, e))
                return n;
            var r = e.line + t.text.length - (t.to.line - t.from.line) - 1
              , i = e.ch;
            return e.line == t.to.line && (i += n.ch - t.to.ch),
            Ve(r, i)
        };
        return {
            anchor: i(e.sel.anchor),
            head: i(e.sel.head)
        }
    }
    function Ie(e, t, r) {
        var n = {
            canceled: !1,
            from: t.from,
            to: t.to,
            text: t.text,
            origin: t.origin,
            cancel: function() {
                this.canceled = !0
            }
        };
        return r && (n.update = function(t, r, n, i) {
            t && (this.from = Ye(e, t)),
            r && (this.to = Ye(e, r)),
            n && (this.text = n),
            void 0 !== i && (this.origin = i)
        }
        ),
        Pr(e, "beforeChange", e, n),
        e.cm && Pr(e.cm, "beforeChange", e.cm, n),
        n.canceled ? null : {
            from: n.from,
            to: n.to,
            text: n.text,
            origin: n.origin
        }
    }
    function ze(e, t, r, n) {
        if (e.cm) {
            if (!e.cm.curOp)
                return ie(e.cm, ze)(e, t, r, n);
            if (e.cm.state.suppressEdits)
                return
        }
        if (!(Gr(e, "beforeChange") || e.cm && Gr(e.cm, "beforeChange")) || (t = Ie(e, t, !0))) {
            var i = jn && !n && Et(e, t.from, t.to);
            if (i) {
                for (var o = i.length - 1; o >= 1; --o)
                    Pe(e, {
                        from: i[o].from,
                        to: i[o].to,
                        text: [""]
                    });
                i.length && Pe(e, {
                    from: i[0].from,
                    to: i[0].to,
                    text: t.text
                }, r)
            } else
                Pe(e, t, r)
        }
    }
    function Pe(e, t, r) {
        var n = De(e, t, r);
        xr(e, t, n, e.cm ? e.cm.curOp.id : NaN),
        Be(e, t, n, Wt(e, t));
        var i = [];
        sr(e, function(e, r) {
            r || -1 != Yr(i, e.history) || (Sr(e.history, t),
            i.push(e.history)),
            Be(e, t, null, Wt(e, t))
        })
    }
    function Fe(e, t) {
        if (!e.cm || !e.cm.state.suppressEdits) {
            var r = e.history
              , n = ("undo" == t ? r.done : r.undone).pop();
            if (n) {
                var i = {
                    changes: [],
                    anchorBefore: n.anchorAfter,
                    headBefore: n.headAfter,
                    anchorAfter: n.anchorBefore,
                    headAfter: n.headBefore,
                    generation: r.generation
                };
                ("undo" == t ? r.undone : r.done).push(i),
                r.generation = n.generation || ++r.maxGeneration;
                for (var o = Gr(e, "beforeChange") || e.cm && Gr(e.cm, "beforeChange"), l = n.changes.length - 1; l >= 0; --l) {
                    var s = n.changes[l];
                    if (s.origin = t,
                    o && !Ie(e, s, !1))
                        return void (("undo" == t ? r.done : r.undone).length = 0);
                    i.changes.push(br(e, s));
                    var a = l ? De(e, s, null) : {
                        anchor: n.anchorBefore,
                        head: n.headBefore
                    };
                    Be(e, s, a, Ot(e, s));
                    var c = [];
                    sr(e, function(e, t) {
                        t || -1 != Yr(c, e.history) || (Sr(e.history, s),
                        c.push(e.history)),
                        Be(e, s, null, Ot(e, s))
                    })
                }
            }
        }
    }
    function Re(e, t) {
        function r(e) {
            return Ve(e.line + t, e.ch)
        }
        e.first += t,
        e.cm && se(e.cm, e.first, e.first, t),
        e.sel.head = r(e.sel.head),
        e.sel.anchor = r(e.sel.anchor),
        e.sel.from = r(e.sel.from),
        e.sel.to = r(e.sel.to)
    }
    function Be(e, t, r, n) {
        if (e.cm && !e.cm.curOp)
            return ie(e.cm, Be)(e, t, r, n);
        if (t.to.line < e.first)
            Re(e, t.text.length - 1 - (t.to.line - t.from.line));
        else if (!(t.from.line > e.lastLine())) {
            if (t.from.line < e.first) {
                var i = t.text.length - 1 - (e.first - t.from.line);
                Re(e, i),
                t = {
                    from: Ve(e.first, 0),
                    to: Ve(t.to.line + i, t.to.ch),
                    text: [_r(t.text)],
                    origin: t.origin
                }
            }
            var o = e.lastLine();
            t.to.line > o && (t = {
                from: t.from,
                to: Ve(o, cr(e, o).text.length),
                text: [t.text[0]],
                origin: t.origin
            }),
            t.removed = ur(e, t.from, t.to),
            r || (r = De(e, t, null)),
            e.cm ? Ge(e.cm, t, n, r) : ir(e, t, n, r)
        }
    }
    function Ge(e, t, r, i) {
        var o = e.doc
          , l = e.display
          , s = t.from
          , a = t.to
          , u = !1
          , f = s.line;
        e.options.lineWrapping || (f = dr(Pt(o, cr(o, s.line))),
        o.iter(f, a.line + 1, function(e) {
            return e == l.maxLine ? (u = !0,
            !0) : void 0
        })),
        je(o.sel.head, t.from) || je(t.to, o.sel.head) || (e.curOp.cursorActivity = !0),
        ir(o, t, r, i, n(e)),
        e.options.lineWrapping || (o.iter(f, s.line + t.text.length, function(e) {
            var t = c(o, e);
            t > l.maxLineLength && (l.maxLine = e,
            l.maxLineLength = t,
            l.maxLineChanged = !0,
            u = !1)
        }),
        u && (e.curOp.updateMaxLine = !0)),
        o.frontier = Math.min(o.frontier, s.line),
        W(e, 400);
        var h = t.text.length - (a.line - s.line) - 1;
        if (se(e, s.line, a.line + 1, h),
        Gr(e, "change")) {
            var d = {
                from: s,
                to: a,
                text: t.text,
                removed: t.removed,
                origin: t.origin
            };
            if (e.curOp.textChanged) {
                for (var p = e.curOp.textChanged; p.next; p = p.next)
                    ;
                p.next = d
            } else
                e.curOp.textChanged = d
        }
    }
    function Ke(e, t, r, n, i) {
        if (n || (n = r),
        je(n, r)) {
            var o = n;
            n = r,
            r = o
        }
        "string" == typeof t && (t = Ni(t)),
        ze(e, {
            from: r,
            to: n,
            text: t,
            origin: i
        }, null)
    }
    function Ve(e, t) {
        return this instanceof Ve ? (this.line = e,
        void (this.ch = t)) : new Ve(e,t)
    }
    function Ue(e, t) {
        return e.line == t.line && e.ch == t.ch
    }
    function je(e, t) {
        return e.line < t.line || e.line == t.line && e.ch < t.ch
    }
    function _e(e) {
        return Ve(e.line, e.ch)
    }
    function Xe(e, t) {
        return Math.max(e.first, Math.min(t, e.first + e.size - 1))
    }
    function Ye(e, t) {
        if (t.line < e.first)
            return Ve(e.first, 0);
        var r = e.first + e.size - 1;
        return t.line > r ? Ve(r, cr(e, r).text.length) : $e(t, cr(e, t.line).text.length)
    }
    function $e(e, t) {
        var r = e.ch;
        return null == r || r > t ? Ve(e.line, t) : 0 > r ? Ve(e.line, 0) : e
    }
    function qe(e, t) {
        return t >= e.first && t < e.first + e.size
    }
    function Ze(e, t, r, n) {
        if (e.sel.shift || e.sel.extend) {
            var i = e.sel.anchor;
            if (r) {
                var o = je(t, i);
                o != je(r, i) ? (i = t,
                t = r) : o != je(t, r) && (t = r)
            }
            Qe(e, i, t, n)
        } else
            Qe(e, t, r || t, n);
        e.cm && (e.cm.curOp.userSelChange = !0)
    }
    function Je(e, t, r) {
        var n = {
            anchor: t,
            head: r
        };
        return Pr(e, "beforeSelectionChange", e, n),
        e.cm && Pr(e.cm, "beforeSelectionChange", e.cm, n),
        n.anchor = Ye(e, n.anchor),
        n.head = Ye(e, n.head),
        n
    }
    function Qe(e, t, r, n, i) {
        if (!i && Gr(e, "beforeSelectionChange") || e.cm && Gr(e.cm, "beforeSelectionChange")) {
            var o = Je(e, t, r);
            r = o.head,
            t = o.anchor
        }
        var l = e.sel;
        if (l.goalColumn = null,
        (i || !Ue(t, l.anchor)) && (t = tt(e, t, n, "push" != i)),
        (i || !Ue(r, l.head)) && (r = tt(e, r, n, "push" != i)),
        !Ue(l.anchor, t) || !Ue(l.head, r)) {
            l.anchor = t,
            l.head = r;
            var s = je(r, t);
            l.from = s ? r : t,
            l.to = s ? t : r,
            e.cm && (e.cm.curOp.updateInput = e.cm.curOp.selectionChanged = e.cm.curOp.cursorActivity = !0),
            Fr(e, "cursorActivity", e)
        }
    }
    function et(e) {
        Qe(e.doc, e.doc.sel.from, e.doc.sel.to, null, "push")
    }
    function tt(e, t, r, n) {
        var i = !1
          , o = t
          , l = r || 1;
        e.cantEdit = !1;
        e: for (; ; ) {
            var s = cr(e, o.line);
            if (s.markedSpans)
                for (var a = 0; a < s.markedSpans.length; ++a) {
                    var c = s.markedSpans[a]
                      , u = c.marker;
                    if ((null == c.from || (u.inclusiveLeft ? c.from <= o.ch : c.from < o.ch)) && (null == c.to || (u.inclusiveRight ? c.to >= o.ch : c.to > o.ch))) {
                        if (n && (Pr(u, "beforeCursorEnter"),
                        u.explicitlyCleared)) {
                            if (s.markedSpans) {
                                --a;
                                continue
                            }
                            break
                        }
                        if (!u.atomic)
                            continue;
                        var f = u.find()[0 > l ? "from" : "to"];
                        if (Ue(f, o) && (f.ch += l,
                        f.ch < 0 ? f = f.line > e.first ? Ye(e, Ve(f.line - 1)) : null : f.ch > s.text.length && (f = f.line < e.first + e.size - 1 ? Ve(f.line + 1, 0) : null),
                        !f)) {
                            if (i)
                                return n ? (e.cantEdit = !0,
                                Ve(e.first, 0)) : tt(e, t, r, !0);
                            i = !0,
                            f = t,
                            l = -l
                        }
                        o = f;
                        continue e
                    }
                }
            return o
        }
    }
    function rt(e) {
        var t = nt(e, e.doc.sel.head, e.options.cursorScrollMargin);
        if (e.state.focused) {
            var r = e.display
              , n = ln(r.sizer)
              , i = null;
            if (t.top + n.top < 0 ? i = !0 : t.bottom + n.top > (window.innerHeight || document.documentElement.clientHeight) && (i = !1),
            null != i && !Dn) {
                var o = "none" == r.cursor.style.display;
                o && (r.cursor.style.display = "",
                r.cursor.style.left = t.left + "px",
                r.cursor.style.top = t.top - r.viewOffset + "px"),
                r.cursor.scrollIntoView(i),
                o && (r.cursor.style.display = "none")
            }
        }
    }
    function nt(e, t, r) {
        for (null == r && (r = 0); ; ) {
            var n = !1
              , i = q(e, t)
              , o = ot(e, i.left, i.top - r, i.left, i.bottom + r)
              , l = e.doc.scrollTop
              , s = e.doc.scrollLeft;
            if (null != o.scrollTop && (Ce(e, o.scrollTop),
            Math.abs(e.doc.scrollTop - l) > 1 && (n = !0)),
            null != o.scrollLeft && (we(e, o.scrollLeft),
            Math.abs(e.doc.scrollLeft - s) > 1 && (n = !0)),
            !n)
                return i
        }
    }
    function it(e, t, r, n, i) {
        var o = ot(e, t, r, n, i);
        null != o.scrollTop && Ce(e, o.scrollTop),
        null != o.scrollLeft && we(e, o.scrollLeft)
    }
    function ot(e, t, r, n, i) {
        var o = e.display
          , l = ee(e.display);
        0 > r && (r = 0);
        var s = o.scroller.clientHeight - Ci
          , a = o.scroller.scrollTop
          , c = {}
          , u = e.doc.height + z(o)
          , f = l > r
          , h = i > u - l;
        if (a > r)
            c.scrollTop = f ? 0 : r;
        else if (i > a + s) {
            var d = Math.min(r, (h ? u : i) - s);
            d != a && (c.scrollTop = d)
        }
        var p = o.scroller.clientWidth - Ci
          , m = o.scroller.scrollLeft;
        t += o.gutters.offsetWidth,
        n += o.gutters.offsetWidth;
        var g = o.gutters.offsetWidth
          , v = g + 10 > t;
        return m + g > t || v ? (v && (t = 0),
        c.scrollLeft = Math.max(0, t - 10 - g)) : n > p + m - 3 && (c.scrollLeft = n + 10 - p),
        c
    }
    function lt(e, t, r) {
        e.curOp.updateScrollPos = {
            scrollLeft: null == t ? e.doc.scrollLeft : t,
            scrollTop: null == r ? e.doc.scrollTop : r
        }
    }
    function st(e, t, r) {
        var n = e.curOp.updateScrollPos || (e.curOp.updateScrollPos = {
            scrollLeft: e.doc.scrollLeft,
            scrollTop: e.doc.scrollTop
        })
          , i = e.display.scroller;
        n.scrollTop = Math.max(0, Math.min(i.scrollHeight - i.clientHeight, n.scrollTop + r)),
        n.scrollLeft = Math.max(0, Math.min(i.scrollWidth - i.clientWidth, n.scrollLeft + t))
    }
    function at(e, t, r, n) {
        var i = e.doc;
        if (null == r && (r = "add"),
        "smart" == r)
            if (e.doc.mode.indent)
                var o = D(e, t);
            else
                r = "prev";
        var l, s = e.options.tabSize, a = cr(i, t), c = Ur(a.text, null, s), u = a.text.match(/^\s*/)[0];
        if ("smart" == r && (l = e.doc.mode.indent(o, a.text.slice(u.length), a.text)) == wi) {
            if (!n)
                return;
            r = "prev"
        }
        "prev" == r ? l = t > i.first ? Ur(cr(i, t - 1).text, null, s) : 0 : "add" == r ? l = c + e.options.indentUnit : "subtract" == r ? l = c - e.options.indentUnit : "number" == typeof r && (l = c + r),
        l = Math.max(0, l);
        var f = ""
          , h = 0;
        if (e.options.indentWithTabs)
            for (var d = Math.floor(l / s); d; --d)
                h += s,
                f += "\t";
        l > h && (f += jr(l - h)),
        f != u && Ke(e.doc, f, Ve(t, 0), Ve(t, u.length), "+input"),
        a.stateAfter = null
    }
    function ct(e, t, r) {
        var n = t
          , i = t
          , o = e.doc;
        return "number" == typeof t ? i = cr(o, Xe(o, t)) : n = dr(t),
        null == n ? null : r(i, n) ? (se(e, n, n + 1),
        i) : null
    }
    function ut(e, t, r, n, i) {
        function o() {
            var t = s + r;
            return t < e.first || t >= e.first + e.size ? f = !1 : (s = t,
            u = cr(e, t))
        }
        function l(e) {
            var t = (i ? xn : Cn)(u, a, r, !0);
            if (null == t) {
                if (e || !o())
                    return f = !1;
                a = i ? (0 > r ? pn : dn)(u) : 0 > r ? u.text.length : 0
            } else
                a = t;
            return !0
        }
        var s = t.line
          , a = t.ch
          , c = r
          , u = cr(e, s)
          , f = !0;
        if ("char" == n)
            l();
        else if ("column" == n)
            l(!0);
        else if ("word" == n || "group" == n)
            for (var h = null, d = "group" == n, p = !0; !(0 > r) || l(!p); p = !1) {
                var m = u.text.charAt(a) || "\n"
                  , g = Qr(m) ? "w" : d ? /\s/.test(m) ? null : "p" : null;
                if (h && h != g) {
                    0 > r && (r = 1,
                    l());
                    break
                }
                if (g && (h = g),
                r > 0 && !l(!p))
                    break
            }
        var v = tt(e, Ve(s, a), c, !0);
        return f || (v.hitSide = !0),
        v
    }
    function ft(e, t, r, n) {
        var i, o = e.doc, l = t.left;
        if ("page" == n) {
            var s = Math.min(e.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
            i = t.top + r * (s - (0 > r ? 1.5 : .5) * ee(e.display))
        } else
            "line" == n && (i = r > 0 ? t.bottom + 3 : t.top - 3);
        for (; ; ) {
            var a = J(e, l, i);
            if (!a.outside)
                break;
            if (0 > r ? 0 >= i : i >= o.height) {
                a.hitSide = !0;
                break
            }
            i += 5 * r
        }
        return a
    }
    function ht(e, t) {
        var r = t.ch
          , n = t.ch;
        if (e) {
            (t.xRel < 0 || n == e.length) && r ? --r : ++n;
            for (var i = e.charAt(r), o = Qr(i) ? Qr : /\s/.test(i) ? function(e) {
                return /\s/.test(e)
            }
            : function(e) {
                return !/\s/.test(e) && !Qr(e)
            }
            ; r > 0 && o(e.charAt(r - 1)); )
                --r;
            for (; n < e.length && o(e.charAt(n)); )
                ++n
        }
        return {
            from: Ve(t.line, r),
            to: Ve(t.line, n)
        }
    }
    function dt(e, t) {
        Ze(e.doc, Ve(t, 0), Ye(e.doc, Ve(t + 1, 0)))
    }
    function pt(t, r, n, i) {
        e.defaults[t] = r,
        n && (ti[t] = i ? function(e, t, r) {
            r != ni && n(e, t, r)
        }
        : n)
    }
    function mt(e, t) {
        if (!0 === t)
            return t;
        if (e.copyState)
            return e.copyState(t);
        var r = {};
        for (var n in t) {
            var i = t[n];
            i instanceof Array && (i = i.concat([])),
            r[n] = i
        }
        return r
    }
    function gt(e, t, r) {
        return !e.startState || e.startState(t, r)
    }
    function vt(e) {
        return "string" == typeof e ? ui[e] : e
    }
    function yt(e, t, r) {
        function n(t) {
            var i = (t = vt(t))[e];
            if (!1 === i)
                return "stop";
            if (null != i && r(i))
                return !0;
            if (t.nofallthrough)
                return "stop";
            var o = t.fallthrough;
            if (null == o)
                return !1;
            if ("[object Array]" != Object.prototype.toString.call(o))
                return n(o);
            for (var l = 0, s = o.length; s > l; ++l) {
                var a = n(o[l]);
                if (a)
                    return a
            }
            return !1
        }
        for (var i = 0; i < t.length; ++i) {
            var o = n(t[i]);
            if (o)
                return "stop" != o
        }
    }
    function bt(e) {
        var t = Oi[e.keyCode];
        return "Ctrl" == t || "Alt" == t || "Shift" == t || "Mod" == t
    }
    function xt(e, t) {
        if (Nn && 34 == e.keyCode && e.char)
            return !1;
        var r = Oi[e.keyCode];
        return null != r && !e.altGraphKey && (e.altKey && (r = "Alt-" + r),
        (Vn ? e.metaKey : e.ctrlKey) && (r = "Ctrl-" + r),
        (Vn ? e.ctrlKey : e.metaKey) && (r = "Cmd-" + r),
        !t && e.shiftKey && (r = "Shift-" + r),
        r)
    }
    function Ct(e, t) {
        this.pos = this.start = 0,
        this.string = e,
        this.tabSize = t || 8,
        this.lastColumnPos = this.lastColumnValue = 0
    }
    function wt(e, t) {
        this.lines = [],
        this.type = t,
        this.doc = e
    }
    function Lt(e, t, r, n, i) {
        if (n && n.shared)
            return Mt(e, t, r, n, i);
        if (e.cm && !e.cm.curOp)
            return ie(e.cm, Lt)(e, t, r, n, i);
        var o = new wt(e,i);
        if ("range" == i && !je(t, r))
            return o;
        n && qr(n, o),
        o.replacedWith && (o.collapsed = !0,
        o.replacedWith = tn("span", [o.replacedWith], "CodeMirror-widget"),
        n.handleMouseEvents || (o.replacedWith.ignoreEvents = !0)),
        o.collapsed && (_n = !0),
        o.addToHistory && xr(e, {
            from: t,
            to: r,
            origin: "markText"
        }, {
            head: e.sel.head,
            anchor: e.sel.anchor
        }, NaN);
        var l, s, a, c = t.line, u = 0, f = e.cm;
        if (e.iter(c, r.line + 1, function(n) {
            f && o.collapsed && !f.options.lineWrapping && Pt(e, n) == f.display.maxLine && (a = !0);
            var i = {
                from: null,
                to: null,
                marker: o
            };
            u += n.text.length,
            c == t.line && (i.from = t.ch,
            u -= t.ch),
            c == r.line && (i.to = r.ch,
            u -= n.text.length - r.ch),
            o.collapsed && (c == r.line && (s = Dt(n, r.ch)),
            c == t.line ? l = Dt(n, t.ch) : hr(n, 0)),
            At(n, i),
            ++c
        }),
        o.collapsed && e.iter(t.line, r.line + 1, function(t) {
            Ft(e, t) && hr(t, 0)
        }),
        o.clearOnEnter && Ir(o, "beforeCursorEnter", function() {
            o.clear()
        }),
        o.readOnly && (jn = !0,
        (e.history.done.length || e.history.undone.length) && e.clearHistory()),
        o.collapsed) {
            if (l != s)
                throw new Error("Error");
            o.size = u,
            o.atomic = !0
        }
        return f && (a && (f.curOp.updateMaxLine = !0),
        (o.className || o.title || o.startStyle || o.endStyle || o.collapsed) && se(f, t.line, r.line + 1),
        o.atomic && et(f)),
        o
    }
    function kt(e, t) {
        this.markers = e,
        this.primary = t;
        for (var r = 0, n = this; r < e.length; ++r)
            e[r].parent = this,
            Ir(e[r], "clear", function() {
                n.clear()
            })
    }
    function Mt(e, t, r, n, i) {
        (n = qr(n)).shared = !1;
        var o = [Lt(e, t, r, n, i)]
          , l = o[0]
          , s = n.replacedWith;
        return sr(e, function(e) {
            s && (n.replacedWith = s.cloneNode(!0)),
            o.push(Lt(e, Ye(e, t), Ye(e, r), n, i));
            for (var a = 0; a < e.linked.length; ++a)
                if (e.linked[a].isParent)
                    return;
            l = _r(o)
        }),
        new kt(o,l)
    }
    function St(e, t) {
        if (e)
            for (var r = 0; r < e.length; ++r) {
                var n = e[r];
                if (n.marker == t)
                    return n
            }
    }
    function Tt(e, t) {
        for (var r, n = 0; n < e.length; ++n)
            e[n] != t && (r || (r = [])).push(e[n]);
        return r
    }
    function At(e, t) {
        e.markedSpans = e.markedSpans ? e.markedSpans.concat([t]) : [t],
        t.marker.attachLine(e)
    }
    function Nt(e, t, r) {
        if (e)
            for (var n, i = 0; i < e.length; ++i) {
                var o = e[i]
                  , l = o.marker;
                if (null == o.from || (l.inclusiveLeft ? o.from <= t : o.from < t) || "bookmark" == l.type && o.from == t && (!r || !o.marker.insertLeft)) {
                    var s = null == o.to || (l.inclusiveRight ? o.to >= t : o.to > t);
                    (n || (n = [])).push({
                        from: o.from,
                        to: s ? null : o.to,
                        marker: l
                    })
                }
            }
        return n
    }
    function Ht(e, t, r) {
        if (e)
            for (var n, i = 0; i < e.length; ++i) {
                var o = e[i]
                  , l = o.marker;
                if (null == o.to || (l.inclusiveRight ? o.to >= t : o.to > t) || "bookmark" == l.type && o.from == t && (!r || o.marker.insertLeft)) {
                    var s = null == o.from || (l.inclusiveLeft ? o.from <= t : o.from < t);
                    (n || (n = [])).push({
                        from: s ? null : o.from - t,
                        to: null == o.to ? null : o.to - t,
                        marker: l
                    })
                }
            }
        return n
    }
    function Wt(e, t) {
        var r = qe(e, t.from.line) && cr(e, t.from.line).markedSpans
          , n = qe(e, t.to.line) && cr(e, t.to.line).markedSpans;
        if (!r && !n)
            return null;
        var i = t.from.ch
          , o = t.to.ch
          , l = Ue(t.from, t.to)
          , s = Nt(r, i, l)
          , a = Ht(n, o, l)
          , c = 1 == t.text.length
          , u = _r(t.text).length + (c ? i : 0);
        if (s)
            for (g = 0; g < s.length; ++g)
                null == (f = s[g]).to && ((h = St(a, f.marker)) ? c && (f.to = null == h.to ? null : h.to + u) : f.to = i);
        if (a)
            for (g = 0; g < a.length; ++g) {
                var f = a[g];
                if (null != f.to && (f.to += u),
                null == f.from) {
                    var h = St(s, f.marker);
                    h || (f.from = u,
                    c && (s || (s = [])).push(f))
                } else
                    f.from += u,
                    c && (s || (s = [])).push(f)
            }
        if (c && s) {
            for (g = 0; g < s.length; ++g)
                null != s[g].from && s[g].from == s[g].to && "bookmark" != s[g].marker.type && s.splice(g--, 1);
            s.length || (s = null)
        }
        var d = [s];
        if (!c) {
            var p, m = t.text.length - 2;
            if (m > 0 && s)
                for (g = 0; g < s.length; ++g)
                    null == s[g].to && (p || (p = [])).push({
                        from: null,
                        to: null,
                        marker: s[g].marker
                    });
            for (var g = 0; m > g; ++g)
                d.push(p);
            d.push(a)
        }
        return d
    }
    function Ot(e, t) {
        var r = wr(e, t)
          , n = Wt(e, t);
        if (!r)
            return n;
        if (!n)
            return r;
        for (var i = 0; i < r.length; ++i) {
            var o = r[i]
              , l = n[i];
            if (o && l)
                e: for (var s = 0; s < l.length; ++s) {
                    for (var a = l[s], c = 0; c < o.length; ++c)
                        if (o[c].marker == a.marker)
                            continue e;
                    o.push(a)
                }
            else
                l && (r[i] = l)
        }
        return r
    }
    function Et(e, t, r) {
        var n = null;
        if (e.iter(t.line, r.line + 1, function(e) {
            if (e.markedSpans)
                for (var t = 0; t < e.markedSpans.length; ++t) {
                    var r = e.markedSpans[t].marker;
                    !r.readOnly || n && -1 != Yr(n, r) || (n || (n = [])).push(r)
                }
        }),
        !n)
            return null;
        for (var i = [{
            from: t,
            to: r
        }], o = 0; o < n.length; ++o)
            for (var l = n[o], s = l.find(), a = 0; a < i.length; ++a) {
                var c = i[a];
                if (!je(c.to, s.from) && !je(s.to, c.from)) {
                    var u = [a, 1];
                    (je(c.from, s.from) || !l.inclusiveLeft && Ue(c.from, s.from)) && u.push({
                        from: c.from,
                        to: s.from
                    }),
                    (je(s.to, c.to) || !l.inclusiveRight && Ue(c.to, s.to)) && u.push({
                        from: s.to,
                        to: c.to
                    }),
                    i.splice.apply(i, u),
                    a += u.length - 1
                }
            }
        return i
    }
    function Dt(e, t) {
        var r, n = _n && e.markedSpans;
        if (n)
            for (var i, o = 0; o < n.length; ++o)
                (i = n[o]).marker.collapsed && (null == i.from || i.from < t) && (null == i.to || i.to > t) && (!r || r.width < i.marker.width) && (r = i.marker);
        return r
    }
    function It(e) {
        return Dt(e, -1)
    }
    function zt(e) {
        return Dt(e, e.text.length + 1)
    }
    function Pt(e, t) {
        for (var r; r = It(t); )
            t = cr(e, r.find().from.line);
        return t
    }
    function Ft(e, t) {
        var r = _n && t.markedSpans;
        if (r)
            for (var n, i = 0; i < r.length; ++i)
                if ((n = r[i]).marker.collapsed) {
                    if (null == n.from)
                        return !0;
                    if (!n.marker.replacedWith && 0 == n.from && n.marker.inclusiveLeft && Rt(e, t, n))
                        return !0
                }
    }
    function Rt(e, t, r) {
        if (null == r.to) {
            var n = cr(e, r.marker.find().to.line);
            return Rt(e, n, St(n.markedSpans, r.marker))
        }
        if (r.marker.inclusiveRight && r.to == t.text.length)
            return !0;
        for (var i, o = 0; o < t.markedSpans.length; ++o)
            if ((i = t.markedSpans[o]).marker.collapsed && !i.marker.replacedWith && i.from == r.to && (i.marker.inclusiveLeft || r.marker.inclusiveRight) && Rt(e, t, i))
                return !0
    }
    function Bt(e) {
        var t = e.markedSpans;
        if (t) {
            for (var r = 0; r < t.length; ++r)
                t[r].marker.detachLine(e);
            e.markedSpans = null
        }
    }
    function Gt(e, t) {
        if (t) {
            for (var r = 0; r < t.length; ++r)
                t[r].marker.attachLine(e);
            e.markedSpans = t
        }
    }
    function Kt(e) {
        return function() {
            var t = !this.cm.curOp;
            t && re(this.cm);
            try {
                var r = e.apply(this, arguments)
            } finally {
                t && ne(this.cm)
            }
            return r
        }
    }
    function Vt(e) {
        return null != e.height ? e.height : (e.node.parentNode && 1 == e.node.parentNode.nodeType || nn(e.cm.display.measure, tn("div", [e.node], null, "position: relative")),
        e.height = e.node.offsetHeight)
    }
    function Ut(e, t, r, n) {
        var i = new fi(e,r,n);
        return i.noHScroll && (e.display.alignWidgets = !0),
        ct(e, t, function(t) {
            var r = t.widgets || (t.widgets = []);
            if (null == i.insertAt ? r.push(i) : r.splice(Math.min(r.length - 1, Math.max(0, i.insertAt)), 0, i),
            i.line = t,
            !Ft(e.doc, t) || i.showIfHidden) {
                var n = mr(e, t) < e.doc.scrollTop;
                hr(t, t.height + Vt(i)),
                n && st(e, 0, i.height)
            }
            return !0
        }),
        i
    }
    function jt(e, t, r, n) {
        e.text = t,
        e.stateAfter && (e.stateAfter = null),
        e.styles && (e.styles = null),
        null != e.order && (e.order = null),
        Bt(e),
        Gt(e, r);
        var i = n ? n(e) : 1;
        i != e.height && hr(e, i)
    }
    function _t(e) {
        e.parent = null,
        Bt(e)
    }
    function Xt(e, t, r, n, i) {
        var o = r.flattenSpans;
        null == o && (o = e.options.flattenSpans);
        var l, s = 0, a = null, c = new Ct(t,e.options.tabSize);
        for ("" == t && r.blankLine && r.blankLine(n); !c.eol(); )
            c.pos > e.options.maxHighlightLength ? (o = !1,
            c.pos = Math.min(t.length, c.start + 5e4),
            l = null) : l = r.token(c, n),
            o && a == l || (s < c.start && i(c.start, a),
            s = c.start,
            a = l),
            c.start = c.pos;
        s < c.pos && i(c.pos, a)
    }
    function Yt(e, t, r) {
        var n = [e.state.modeGen];
        Xt(e, t.text, e.doc.mode, r, function(e, t) {
            n.push(e, t)
        });
        for (var i = 0; i < e.state.overlays.length; ++i) {
            var o = e.state.overlays[i]
              , l = 1
              , s = 0;
            Xt(e, t.text, o.mode, !0, function(e, t) {
                for (var r = l; e > s; ) {
                    var i = n[l];
                    i > e && n.splice(l, 1, e, n[l + 1], i),
                    l += 2,
                    s = Math.min(e, i)
                }
                if (t)
                    if (o.opaque)
                        n.splice(r, l - r, e, t),
                        l = r + 2;
                    else
                        for (; l > r; r += 2) {
                            var a = n[r + 1];
                            n[r + 1] = a ? a + " " + t : t
                        }
            })
        }
        return n
    }
    function $t(e, t) {
        return t.styles && t.styles[0] == e.state.modeGen || (t.styles = Yt(e, t, t.stateAfter = D(e, dr(t)))),
        t.styles
    }
    function qt(e, t, r) {
        var n = e.doc.mode
          , i = new Ct(t.text,e.options.tabSize);
        for ("" == t.text && n.blankLine && n.blankLine(r); !i.eol() && i.pos <= e.options.maxHighlightLength; )
            n.token(i, r),
            i.start = i.pos
    }
    function Zt(e) {
        return e ? di[e] || (di[e] = "cm-" + e.replace(/ +/g, " cm-")) : null
    }
    function Jt(e, t, r, n) {
        for (var i, o = t, l = !0; i = It(o); )
            o = cr(e.doc, i.find().from.line);
        var s = {
            pre: tn("pre"),
            col: 0,
            pos: 0,
            measure: null,
            measuredSomething: !1,
            cm: e,
            copyWidgets: n
        };
        o.textClass && (s.pre.className = o.textClass);
        do {
            o.text && (l = !1),
            s.measure = o == t && r,
            s.pos = 0,
            s.addToken = s.measure ? er : Qt,
            (Ln || Sn) && e.getOption("lineWrapping") && (s.addToken = tr(s.addToken));
            var a = nr(o, s, $t(e, o));
            r && o == t && !s.measuredSomething && (r[0] = s.pre.appendChild(cn(e.display.measure)),
            s.measuredSomething = !0),
            a && (o = cr(e.doc, a.to.line))
        } while (a);
        !r || s.measuredSomething || r[0] || (r[0] = s.pre.appendChild(l ? tn("span", "¬†") : cn(e.display.measure))),
        s.pre.firstChild || Ft(e.doc, t) || s.pre.appendChild(document.createTextNode("¬†"));
        var c;
        if (r && Ln && (c = gr(o))) {
            var u = c.length - 1;
            c[u].from == c[u].to && --u;
            var f = c[u]
              , h = c[u - 1];
            if (f.from + 1 == f.to && h && f.level < h.level) {
                var d = r[s.pos - 1];
                d && d.parentNode.insertBefore(d.measureRight = cn(e.display.measure), d.nextSibling)
            }
        }
        return Pr(e, "renderLine", e, t, s.pre),
        s.pre
    }
    function Qt(e, t, r, n, i, o) {
        if (t) {
            if (pi.test(t))
                for (var l = document.createDocumentFragment(), s = 0; ; ) {
                    pi.lastIndex = s;
                    var a = pi.exec(t)
                      , c = a ? a.index - s : t.length - s;
                    if (c && (l.appendChild(document.createTextNode(t.slice(s, s + c))),
                    e.col += c),
                    !a)
                        break;
                    if (s += c + 1,
                    "\t" == a[0]) {
                        var u = e.cm.options.tabSize
                          , f = u - e.col % u;
                        l.appendChild(tn("span", jr(f), "cm-tab")),
                        e.col += f
                    } else
                        (d = tn("span", "‚Ä¢", "cm-invalidchar")).title = "\\u" + a[0].charCodeAt(0).toString(16),
                        l.appendChild(d),
                        e.col += 1
                }
            else {
                e.col += t.length;
                l = document.createTextNode(t)
            }
            if (r || n || i || e.measure) {
                var h = r || "";
                n && (h += n),
                i && (h += i);
                var d = tn("span", [l], h);
                return o && (d.title = o),
                e.pre.appendChild(d)
            }
            e.pre.appendChild(l)
        }
    }
    function er(e, t, r, n, i) {
        for (var o = e.cm.options.lineWrapping, l = 0; l < t.length; ++l) {
            var s = t.charAt(l)
              , a = 0 == l;
            s >= "ÔøΩ" && "ÔøΩ" > s && l < t.length - 1 ? (s = t.slice(l, l + 2),
            ++l) : l && o && sn(t, l) && e.pre.appendChild(tn("wbr"));
            var c = e.measure[e.pos]
              , u = e.measure[e.pos] = Qt(e, s, r, a && n, l == t.length - 1 && i);
            c && (u.leftSide = c.leftSide || c),
            Ln && o && " " == s && l && !/\s/.test(t.charAt(l - 1)) && l < t.length - 1 && !/\s/.test(t.charAt(l + 1)) && (u.style.whiteSpace = "normal"),
            e.pos += s.length
        }
        t.length && (e.measuredSomething = !0)
    }
    function tr(e) {
        function t(e) {
            for (var t = " ", r = 0; r < e.length - 2; ++r)
                t += r % 2 ? " " : "¬†";
            return t += " "
        }
        return function(r, n, i, o, l, s) {
            return e(r, n.replace(/ {3,}/, t), i, o, l, s)
        }
    }
    function rr(e, t, r, n) {
        var i = !n && r.replacedWith;
        if (i && (e.copyWidgets && (i = i.cloneNode(!0)),
        e.pre.appendChild(i),
        e.measure)) {
            if (t)
                e.measure[e.pos] = i;
            else {
                var o = cn(e.cm.display.measure);
                if ("bookmark" != r.type || r.insertLeft) {
                    if (e.measure[e.pos])
                        return;
                    e.measure[e.pos] = e.pre.insertBefore(o, i)
                } else
                    e.measure[e.pos] = e.pre.appendChild(o)
            }
            e.measuredSomething = !0
        }
        e.pos += t
    }
    function nr(e, t, r) {
        var n = e.markedSpans
          , i = e.text
          , o = 0;
        if (n)
            for (var l, s, a, c, u, f, h = i.length, d = 0, p = 1, m = "", g = 0; ; ) {
                if (g == d) {
                    s = a = c = u = "",
                    f = null,
                    g = 1 / 0;
                    for (var v = [], y = 0; y < n.length; ++y) {
                        var b = n[y]
                          , x = b.marker;
                        b.from <= d && (null == b.to || b.to > d) ? (null != b.to && g > b.to && (g = b.to,
                        a = ""),
                        x.className && (s += " " + x.className),
                        x.startStyle && b.from == d && (c += " " + x.startStyle),
                        x.endStyle && b.to == g && (a += " " + x.endStyle),
                        x.title && !u && (u = x.title),
                        x.collapsed && (!f || f.marker.size < x.size) && (f = b)) : b.from > d && g > b.from && (g = b.from),
                        "bookmark" == x.type && b.from == d && x.replacedWith && v.push(x)
                    }
                    if (f && (f.from || 0) == d && (rr(t, (null == f.to ? h : f.to) - d, f.marker, null == f.from),
                    null == f.to))
                        return f.marker.find();
                    if (!f && v.length)
                        for (y = 0; y < v.length; ++y)
                            rr(t, 0, v[y])
                }
                if (d >= h)
                    break;
                for (var C = Math.min(h, g); ; ) {
                    if (m) {
                        var w = d + m.length;
                        if (!f) {
                            var L = w > C ? m.slice(0, C - d) : m;
                            t.addToken(t, L, l ? l + s : s, c, d + L.length == g ? a : "", u)
                        }
                        if (w >= C) {
                            m = m.slice(C - d),
                            d = C;
                            break
                        }
                        d = w,
                        c = ""
                    }
                    m = i.slice(o, o = r[p++]),
                    l = Zt(r[p++])
                }
            }
        else
            for (p = 1; p < r.length; p += 2)
                t.addToken(t, i.slice(o, o = r[p]), Zt(r[p + 1]))
    }
    function ir(e, t, r, n, i) {
        function o(e) {
            return r ? r[e] : null
        }
        function l(e, r, n) {
            jt(e, r, n, i),
            Fr(e, "change", e, t)
        }
        var s = t.from
          , a = t.to
          , c = t.text
          , u = cr(e, s.line)
          , f = cr(e, a.line)
          , h = _r(c)
          , d = o(c.length - 1)
          , p = a.line - s.line;
        if (0 == s.ch && 0 == a.ch && "" == h) {
            for (var m = 0, g = c.length - 1, v = []; g > m; ++m)
                v.push(new hi(c[m],o(m),i));
            l(f, f.text, d),
            p && e.remove(s.line, p),
            v.length && e.insert(s.line, v)
        } else if (u == f)
            if (1 == c.length)
                l(u, u.text.slice(0, s.ch) + h + u.text.slice(a.ch), d);
            else {
                for (var v = [], m = 1, g = c.length - 1; g > m; ++m)
                    v.push(new hi(c[m],o(m),i));
                v.push(new hi(h + u.text.slice(a.ch),d,i)),
                l(u, u.text.slice(0, s.ch) + c[0], o(0)),
                e.insert(s.line + 1, v)
            }
        else if (1 == c.length)
            l(u, u.text.slice(0, s.ch) + c[0] + f.text.slice(a.ch), o(0)),
            e.remove(s.line + 1, p);
        else {
            l(u, u.text.slice(0, s.ch) + c[0], o(0)),
            l(f, h + f.text.slice(a.ch), d);
            for (var m = 1, g = c.length - 1, v = []; g > m; ++m)
                v.push(new hi(c[m],o(m),i));
            p > 1 && e.remove(s.line + 1, p - 1),
            e.insert(s.line + 1, v)
        }
        Fr(e, "change", e, t),
        Qe(e, n.anchor, n.head, null, !0)
    }
    function or(e) {
        this.lines = e,
        this.parent = null;
        for (var t = 0, r = e.length, n = 0; r > t; ++t)
            e[t].parent = this,
            n += e[t].height;
        this.height = n
    }
    function lr(e) {
        this.children = e;
        for (var t = 0, r = 0, n = 0, i = e.length; i > n; ++n) {
            var o = e[n];
            t += o.chunkSize(),
            r += o.height,
            o.parent = this
        }
        this.size = t,
        this.height = r,
        this.parent = null
    }
    function sr(e, t, r) {
        function n(e, i, o) {
            if (e.linked)
                for (var l = 0; l < e.linked.length; ++l) {
                    var s = e.linked[l];
                    if (s.doc != i) {
                        var a = o && s.sharedHist;
                        (!r || a) && (t(s.doc, a),
                        n(s.doc, e, a))
                    }
                }
        }
        n(e, null, !0)
    }
    function ar(e, t) {
        if (t.cm)
            throw new Error("Este archivo se esta usando.");
        e.doc = t,
        t.cm = e,
        i(e),
        r(e),
        e.options.lineWrapping || u(e),
        e.options.mode = t.modeOption,
        se(e)
    }
    function cr(e, t) {
        for (t -= e.first; !e.lines; )
            for (var r = 0; ; ++r) {
                var n = e.children[r]
                  , i = n.chunkSize();
                if (i > t) {
                    e = n;
                    break
                }
                t -= i
            }
        return e.lines[t]
    }
    function ur(e, t, r) {
        var n = []
          , i = t.line;
        return e.iter(t.line, r.line + 1, function(e) {
            var o = e.text;
            i == r.line && (o = o.slice(0, r.ch)),
            i == t.line && (o = o.slice(t.ch)),
            n.push(o),
            ++i
        }),
        n
    }
    function fr(e, t, r) {
        var n = [];
        return e.iter(t, r, function(e) {
            n.push(e.text)
        }),
        n
    }
    function hr(e, t) {
        for (var r = t - e.height, n = e; n; n = n.parent)
            n.height += r
    }
    function dr(e) {
        if (null == e.parent)
            return null;
        for (var t = e.parent, r = Yr(t.lines, e), n = t.parent; n; t = n,
        n = n.parent)
            for (var i = 0; n.children[i] != t; ++i)
                r += n.children[i].chunkSize();
        return r + t.first
    }
    function pr(e, t) {
        var r = e.first;
        e: do {
            for (var n = 0, i = e.children.length; i > n; ++n) {
                var o = e.children[n]
                  , l = o.height;
                if (l > t) {
                    e = o;
                    continue e
                }
                t -= l,
                r += o.chunkSize()
            }
            return r
        } while (!e.lines);
        for (var n = 0, i = e.lines.length; i > n; ++n) {
            var s = e.lines[n].height;
            if (s > t)
                break;
            t -= s
        }
        return r + n
    }
    function mr(e, t) {
        for (var r = 0, n = (t = Pt(e.doc, t)).parent, i = 0; i < n.lines.length; ++i) {
            var o = n.lines[i];
            if (o == t)
                break;
            r += o.height
        }
        for (var l = n.parent; l; n = l,
        l = n.parent)
            for (i = 0; i < l.children.length; ++i) {
                var s = l.children[i];
                if (s == n)
                    break;
                r += s.height
            }
        return r
    }
    function gr(e) {
        var t = e.order;
        return null == t && (t = e.order = Di(e.text)),
        t
    }
    function vr(e) {
        return {
            done: [],
            undone: [],
            undoDepth: 1 / 0,
            lastTime: 0,
            lastOp: null,
            lastOrigin: null,
            generation: e || 1,
            maxGeneration: e || 1
        }
    }
    function yr(e, t, r, n) {
        var i = t["spans_" + e.id]
          , o = 0;
        e.iter(Math.max(e.first, r), Math.min(e.first + e.size, n), function(r) {
            r.markedSpans && ((i || (i = t["spans_" + e.id] = {}))[o] = r.markedSpans),
            ++o
        })
    }
    function br(e, t) {
        var r = {
            from: {
                line: t.from.line,
                ch: t.from.ch
            },
            to: ei(t),
            text: ur(e, t.from, t.to)
        };
        return yr(e, r, t.from.line, t.to.line + 1),
        sr(e, function(e) {
            yr(e, r, t.from.line, t.to.line + 1)
        }, !0),
        r
    }
    function xr(e, t, r, n) {
        var i = e.history;
        i.undone.length = 0;
        var o = +new Date
          , l = _r(i.done);
        if (l && (i.lastOp == n || i.lastOrigin == t.origin && t.origin && ("+" == t.origin.charAt(0) && e.cm && i.lastTime > o - e.cm.options.historyEventDelay || "*" == t.origin.charAt(0)))) {
            var s = _r(l.changes);
            Ue(t.from, t.to) && Ue(t.from, s.to) ? s.to = ei(t) : l.changes.push(br(e, t)),
            l.anchorAfter = r.anchor,
            l.headAfter = r.head
        } else
            for (l = {
                changes: [br(e, t)],
                generation: i.generation,
                anchorBefore: e.sel.anchor,
                headBefore: e.sel.head,
                anchorAfter: r.anchor,
                headAfter: r.head
            },
            i.done.push(l),
            i.generation = ++i.maxGeneration; i.done.length > i.undoDepth; )
                i.done.shift();
        i.lastTime = o,
        i.lastOp = n,
        i.lastOrigin = t.origin
    }
    function Cr(e) {
        if (!e)
            return null;
        for (var t, r = 0; r < e.length; ++r)
            e[r].marker.explicitlyCleared ? t || (t = e.slice(0, r)) : t && t.push(e[r]);
        return t ? t.length ? t : null : e
    }
    function wr(e, t) {
        var r = t["spans_" + e.id];
        if (!r)
            return null;
        for (var n = 0, i = []; n < t.text.length; ++n)
            i.push(Cr(r[n]));
        return i
    }
    function Lr(e, t) {
        for (var r = 0, n = []; r < e.length; ++r) {
            var i = e[r]
              , o = i.changes
              , l = [];
            n.push({
                changes: l,
                anchorBefore: i.anchorBefore,
                headBefore: i.headBefore,
                anchorAfter: i.anchorAfter,
                headAfter: i.headAfter
            });
            for (var s = 0; s < o.length; ++s) {
                var a, c = o[s];
                if (l.push({
                    from: c.from,
                    to: c.to,
                    text: c.text
                }),
                t)
                    for (var u in c)
                        (a = u.match(/^spans_(\d+)$/)) && Yr(t, Number(a[1])) > -1 && (_r(l)[u] = c[u],
                        delete c[u])
            }
        }
        return n
    }
    function kr(e, t, r, n) {
        r < e.line ? e.line += n : t < e.line && (e.line = t,
        e.ch = 0)
    }
    function Mr(e, t, r, n) {
        for (var i = 0; i < e.length; ++i) {
            for (var o = e[i], l = !0, s = 0; s < o.changes.length; ++s) {
                var a = o.changes[s];
                if (o.copied || (a.from = _e(a.from),
                a.to = _e(a.to)),
                r < a.from.line)
                    a.from.line += n,
                    a.to.line += n;
                else if (t <= a.to.line) {
                    l = !1;
                    break
                }
            }
            o.copied || (o.anchorBefore = _e(o.anchorBefore),
            o.headBefore = _e(o.headBefore),
            o.anchorAfter = _e(o.anchorAfter),
            o.readAfter = _e(o.headAfter),
            o.copied = !0),
            l ? (kr(o.anchorBefore),
            kr(o.headBefore),
            kr(o.anchorAfter),
            kr(o.headAfter)) : (e.splice(0, i + 1),
            i = 0)
        }
    }
    function Sr(e, t) {
        var r = t.from.line
          , n = t.to.line
          , i = t.text.length - (n - r) - 1;
        Mr(e.done, r, n, i),
        Mr(e.undone, r, n, i)
    }
    function Tr() {
        Or(this)
    }
    function Ar(e) {
        return e.stop || (e.stop = Tr),
        e
    }
    function Nr(e) {
        e.preventDefault ? e.preventDefault() : e.returnValue = !1
    }
    function Hr(e) {
        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
    }
    function Wr(e) {
        return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue
    }
    function Or(e) {
        Nr(e),
        Hr(e)
    }
    function Er(e) {
        return e.target || e.srcElement
    }
    function Dr(e) {
        var t = e.which;
        return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)),
        Pn && e.ctrlKey && 1 == t && (t = 3),
        t
    }
    function Ir(e, t, r) {
        if (e.addEventListener)
            e.addEventListener(t, r, !1);
        else if (e.attachEvent)
            e.attachEvent("on" + t, r);
        else {
            var n = e._handlers || (e._handlers = {});
            (n[t] || (n[t] = [])).push(r)
        }
    }
    function zr(e, t, r) {
        if (e.removeEventListener)
            e.removeEventListener(t, r, !1);
        else if (e.detachEvent)
            e.detachEvent("on" + t, r);
        else {
            var n = e._handlers && e._handlers[t];
            if (!n)
                return;
            for (var i = 0; i < n.length; ++i)
                if (n[i] == r) {
                    n.splice(i, 1);
                    break
                }
        }
    }
    function Pr(e, t) {
        var r = e._handlers && e._handlers[t];
        if (r)
            for (var n = Array.prototype.slice.call(arguments, 2), i = 0; i < r.length; ++i)
                r[i].apply(null, n)
    }
    function Fr(e, t) {
        var r = e._handlers && e._handlers[t];
        if (r) {
            var n = Array.prototype.slice.call(arguments, 2);
            bi || (++xi,
            bi = [],
            setTimeout(Br, 0));
            for (var i = 0; i < r.length; ++i)
                bi.push(function(e) {
                    return function() {
                        e.apply(null, n)
                    }
                }(r[i]))
        }
    }
    function Rr(e, t, r) {
        return Pr(e, r || t.type, e, t),
        Wr(t) || t.codemirrorIgnore
    }
    function Br() {
        --xi;
        var e = bi;
        bi = null;
        for (var t = 0; t < e.length; ++t)
            e[t]()
    }
    function Gr(e, t) {
        var r = e._handlers && e._handlers[t];
        return r && r.length > 0
    }
    function Kr(e) {
        e.prototype.on = function(e, t) {
            Ir(this, e, t)
        }
        ,
        e.prototype.off = function(e, t) {
            zr(this, e, t)
        }
    }
    function Vr() {
        this.id = null
    }
    function Ur(e, t, r, n, i) {
        null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length);
        for (var o = n || 0, l = i || 0; t > o; ++o)
            "\t" == e.charAt(o) ? l += r - l % r : ++l;
        return l
    }
    function jr(e) {
        for (; Li.length <= e; )
            Li.push(_r(Li) + " ");
        return Li[e]
    }
    function _r(e) {
        return e[e.length - 1]
    }
    function Xr(e) {
        if (In)
            e.selectionStart = 0,
            e.selectionEnd = e.value.length;
        else
            try {
                e.select()
            } catch (e) {}
    }
    function Yr(e, t) {
        if (e.indexOf)
            return e.indexOf(t);
        for (var r = 0, n = e.length; n > r; ++r)
            if (e[r] == t)
                return r;
        return -1
    }
    function $r(e, t) {
        function r() {}
        r.prototype = e;
        var n = new r;
        return t && qr(t, n),
        n
    }
    function qr(e, t) {
        t || (t = {});
        for (var r in e)
            e.hasOwnProperty(r) && (t[r] = e[r]);
        return t
    }
    function Zr(e) {
        for (var t = [], r = 0; e > r; ++r)
            t.push(void 0);
        return t
    }
    function Jr(e) {
        var t = Array.prototype.slice.call(arguments, 1);
        return function() {
            return e.apply(null, t)
        }
    }
    function Qr(e) {
        return /\w/.test(e) || e > "¬Ä" && (e.toUpperCase() != e.toLowerCase() || ki.test(e))
    }
    function en(e) {
        for (var t in e)
            if (e.hasOwnProperty(t) && e[t])
                return !1;
        return !0
    }
    function tn(e, t, r, n) {
        var i = document.createElement(e);
        if (r && (i.className = r),
        n && (i.style.cssText = n),
        "string" == typeof t)
            on(i, t);
        else if (t)
            for (var o = 0; o < t.length; ++o)
                i.appendChild(t[o]);
        return i
    }
    function rn(e) {
        for (var t = e.childNodes.length; t > 0; --t)
            e.removeChild(e.firstChild);
        return e
    }
    function nn(e, t) {
        return rn(e).appendChild(t)
    }
    function on(e, t) {
        Mn ? (e.innerHTML = "",
        e.appendChild(document.createTextNode(t))) : e.textContent = t
    }
    function ln(e) {
        return e.getBoundingClientRect()
    }
    function sn() {
        return !1
    }
    function an(e) {
        if (null != Ti)
            return Ti;
        var t = tn("div", null, null, "width: 50px; height: 50px; overflow-x: scroll");
        return nn(e, t),
        t.offsetWidth && (Ti = t.offsetHeight - t.clientHeight),
        Ti || 0
    }
    function cn(e) {
        if (null == Ai) {
            var t = tn("span", "‚Äã");
            nn(e, tn("span", [t, document.createTextNode("x")])),
            0 != e.firstChild.offsetHeight && (Ai = t.offsetWidth <= 1 && t.offsetHeight > 2 && !kn)
        }
        return Ai ? tn("span", "‚Äã") : tn("span", "¬†", null, "display: inline-block; width: 1px; margin-right: -1px")
    }
    function un(e, t, r, n) {
        if (!e)
            return n(t, r, "ltr");
        for (var i = !1, o = 0; o < e.length; ++o) {
            var l = e[o];
            (l.from < r && l.to > t || t == r && l.to == t) && (n(Math.max(l.from, t), Math.min(l.to, r), 1 == l.level ? "rtl" : "ltr"),
            i = !0)
        }
        i || n(t, r, "ltr")
    }
    function fn(e) {
        return e.level % 2 ? e.to : e.from
    }
    function hn(e) {
        return e.level % 2 ? e.from : e.to
    }
    function dn(e) {
        var t = gr(e);
        return t ? fn(t[0]) : 0
    }
    function pn(e) {
        var t = gr(e);
        return t ? hn(_r(t)) : e.text.length
    }
    function mn(e, t) {
        var r = cr(e.doc, t)
          , n = Pt(e.doc, r);
        n != r && (t = dr(n));
        var i = gr(n);
        return Ve(t, i ? i[0].level % 2 ? pn(n) : dn(n) : 0)
    }
    function gn(e, t) {
        for (var r, n; r = zt(n = cr(e.doc, t)); )
            t = r.find().to.line;
        var i = gr(n);
        return Ve(t, i ? i[0].level % 2 ? dn(n) : pn(n) : n.text.length)
    }
    function vn(e, t, r) {
        var n = e[0].level;
        return t == n || r != n && r > t
    }
    function yn(e, t) {
        for (var r, n = 0; n < e.length; ++n) {
            var i = e[n];
            if (i.from < t && i.to > t)
                return Ei = null,
                n;
            if (i.from == t || i.to == t) {
                if (null != r)
                    return vn(e, i.level, e[r].level) ? (Ei = r,
                    n) : (Ei = n,
                    r);
                r = n
            }
        }
        return Ei = null,
        r
    }
    function bn(e, t, r, n) {
        if (!n)
            return t + r;
        do {
            t += r
        } while (t > 0 && Mi.test(e.text.charAt(t)));
        return t
    }
    function xn(e, t, r, n) {
        var i = gr(e);
        if (!i)
            return Cn(e, t, r, n);
        for (var o = yn(i, t), l = i[o], s = bn(e, t, l.level % 2 ? -r : r, n); ; ) {
            if (s > l.from && s < l.to)
                return s;
            if (s == l.from || s == l.to)
                return yn(i, s) == o ? s : (l = i[o += r],
                r > 0 == l.level % 2 ? l.to : l.from);
            if (!(l = i[o += r]))
                return null;
            s = r > 0 == l.level % 2 ? bn(e, l.to, -1, n) : bn(e, l.from, 1, n)
        }
    }
    function Cn(e, t, r, n) {
        var i = t + r;
        if (n)
            for (; i > 0 && Mi.test(e.text.charAt(i)); )
                i += r;
        return 0 > i || i > e.text.length ? null : i
    }
    var wn = /gecko\/\d/i.test(navigator.userAgent)
      , Ln = /MSIE \d/.test(navigator.userAgent)
      , kn = Ln && (null == document.documentMode || document.documentMode < 8)
      , Mn = Ln && (null == document.documentMode || document.documentMode < 9)
      , Sn = /WebKit\//.test(navigator.userAgent)
      , Tn = Sn && /Qt\/\d+\.\d+/.test(navigator.userAgent)
      , An = /Chrome\//.test(navigator.userAgent)
      , Nn = /Opera\//.test(navigator.userAgent)
      , Hn = /Apple Computer/.test(navigator.vendor)
      , Wn = /KHTML\//.test(navigator.userAgent)
      , On = /Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent)
      , En = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent)
      , Dn = /PhantomJS/.test(navigator.userAgent)
      , In = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)
      , zn = In || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent)
      , Pn = In || /Mac/.test(navigator.platform)
      , Fn = /windows/i.test(navigator.platform)
      , Rn = Nn && navigator.userAgent.match(/Version\/(\d*\.\d*)/);
    Rn && (Rn = Number(Rn[1])),
    Rn && Rn >= 15 && (Nn = !1,
    Sn = !0);
    var Bn, Gn, Kn, Vn = Pn && (Tn || Nn && (null == Rn || 12.11 > Rn)), Un = wn || Ln && !Mn, jn = !1, _n = !1, Xn = 0, Yn = 0, $n = 0, qn = null;
    Ln ? qn = -.53 : wn ? qn = 15 : An ? qn = -.7 : Hn && (qn = -1 / 3);
    var Zn, Jn, Qn = null, ei = e.changeEnd = function(e) {
        return e.text ? Ve(e.from.line + e.text.length - 1, _r(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to
    }
    ;
    e.Pos = Ve,
    e.prototype = {
        constructor: e,
        focus: function() {
            window.focus(),
            he(this),
            He(this),
            ce(this)
        },
        setOption: function(e, t) {
            var r = this.options
              , n = r[e];
            (r[e] != t || "mode" == e) && (r[e] = t,
            ti.hasOwnProperty(e) && ie(this, ti[e])(this, t, n))
        },
        getOption: function(e) {
            return this.options[e]
        },
        getDoc: function() {
            return this.doc
        },
        addKeyMap: function(e, t) {
            this.state.keyMaps[t ? "push" : "unshift"](e)
        },
        removeKeyMap: function(e) {
            for (var t = this.state.keyMaps, r = 0; r < t.length; ++r)
                if (t[r] == e || "string" != typeof t[r] && t[r].name == e)
                    return t.splice(r, 1),
                    !0
        },
        addOverlay: ie(null, function(t, r) {
            var n = t.token ? t : e.getMode(this.options, t);
            if (n.startState)
                throw new Error("Error");
            this.state.overlays.push({
                mode: n,
                modeSpec: t,
                opaque: r && r.opaque
            }),
            this.state.modeGen++,
            se(this)
        }),
        removeOverlay: ie(null, function(e) {
            for (var t = this.state.overlays, r = 0; r < t.length; ++r) {
                var n = t[r].modeSpec;
                if (n == e || "string" == typeof e && n.name == e)
                    return t.splice(r, 1),
                    this.state.modeGen++,
                    void se(this)
            }
        }),
        indentLine: ie(null, function(e, t, r) {
            "string" != typeof t && "number" != typeof t && (t = null == t ? this.options.smartIndent ? "smart" : "prev" : t ? "add" : "subtract"),
            qe(this.doc, e) && at(this, e, t, r)
        }),
        indentSelection: ie(null, function(e) {
            var t = this.doc.sel;
            if (Ue(t.from, t.to))
                return at(this, t.from.line, e);
            for (var r = t.to.line - (t.to.ch ? 0 : 1), n = t.from.line; r >= n; ++n)
                at(this, n, e)
        }),
        getTokenAt: function(e, t) {
            for (var r = this.doc, n = D(this, (e = Ye(r, e)).line, t), i = this.doc.mode, o = new Ct(cr(r, e.line).text,this.options.tabSize); o.pos < e.ch && !o.eol(); ) {
                o.start = o.pos;
                var l = i.token(o, n)
            }
            return {
                start: o.start,
                end: o.pos,
                string: o.current(),
                className: l || null,
                type: l || null,
                state: n
            }
        },
        getTokenTypeAt: function(e) {
            e = Ye(this.doc, e);
            var t = $t(this, cr(this.doc, e.line))
              , r = 0
              , n = (t.length - 1) / 2
              , i = e.ch;
            if (0 == i)
                return t[2];
            for (; ; ) {
                var o = r + n >> 1;
                if ((o ? t[2 * o - 1] : 0) >= i)
                    n = o;
                else {
                    if (!(t[2 * o + 1] < i))
                        return t[2 * o + 2];
                    r = o + 1
                }
            }
        },
        getModeAt: function(t) {
            var r = this.doc.mode;
            return r.innerMode ? e.innerMode(r, this.getTokenAt(t).state).mode : r
        },
        getHelper: function(e, t) {
            if (ai.hasOwnProperty(t)) {
                var r = ai[t]
                  , n = this.getModeAt(e);
                return n[t] && r[n[t]] || n.helperType && r[n.helperType] || r[n.name]
            }
        },
        getStateAfter: function(e, t) {
            var r = this.doc;
            return e = Xe(r, null == e ? r.first + r.size - 1 : e),
            D(this, e + 1, t)
        },
        cursorCoords: function(e, t) {
            var r, n = this.doc.sel;
            return r = null == e ? n.head : "object" == typeof e ? Ye(this.doc, e) : e ? n.from : n.to,
            q(this, r, t || "page")
        },
        charCoords: function(e, t) {
            return $(this, Ye(this.doc, e), t || "page")
        },
        coordsChar: function(e, t) {
            return e = Y(this, e, t || "page"),
            J(this, e.left, e.top)
        },
        lineAtHeight: function(e, t) {
            return e = Y(this, {
                top: e,
                left: 0
            }, t || "page").top,
            pr(this.doc, e + this.display.viewOffset)
        },
        heightAtLine: function(e, t) {
            var r = !1
              , n = this.doc.first + this.doc.size - 1;
            e < this.doc.first ? e = this.doc.first : e > n && (e = n,
            r = !0);
            var i = cr(this.doc, e);
            return X(this, cr(this.doc, e), {
                top: 0,
                left: 0
            }, t || "page").top + (r ? i.height : 0)
        },
        defaultTextHeight: function() {
            return ee(this.display)
        },
        defaultCharWidth: function() {
            return te(this.display)
        },
        setGutterMarker: ie(null, function(e, t, r) {
            return ct(this, e, function(e) {
                var n = e.gutterMarkers || (e.gutterMarkers = {});
                return n[t] = r,
                !r && en(n) && (e.gutterMarkers = null),
                !0
            })
        }),
        clearGutter: ie(null, function(e) {
            var t = this
              , r = t.doc
              , n = r.first;
            r.iter(function(r) {
                r.gutterMarkers && r.gutterMarkers[e] && (r.gutterMarkers[e] = null,
                se(t, n, n + 1),
                en(r.gutterMarkers) && (r.gutterMarkers = null)),
                ++n
            })
        }),
        addLineClass: ie(null, function(e, t, r) {
            return ct(this, e, function(e) {
                var n = "text" == t ? "textClass" : "background" == t ? "bgClass" : "wrapClass";
                if (e[n]) {
                    if (new RegExp("(?:^|\\s)" + r + "(?:$|\\s)").test(e[n]))
                        return !1;
                    e[n] += " " + r
                } else
                    e[n] = r;
                return !0
            })
        }),
        removeLineClass: ie(null, function(e, t, r) {
            return ct(this, e, function(e) {
                var n = "text" == t ? "textClass" : "background" == t ? "bgClass" : "wrapClass"
                  , i = e[n];
                if (!i)
                    return !1;
                if (null == r)
                    e[n] = null;
                else {
                    var o = i.match(new RegExp("(?:^|\\s+)" + r + "(?:$|\\s+)"));
                    if (!o)
                        return !1;
                    var l = o.index + o[0].length;
                    e[n] = i.slice(0, o.index) + (o.index && l != i.length ? " " : "") + i.slice(l) || null
                }
                return !0
            })
        }),
        addLineWidget: ie(null, function(e, t, r) {
            return Ut(this, e, t, r)
        }),
        removeLineWidget: function(e) {
            e.clear()
        },
        lineInfo: function(e) {
            if ("number" == typeof e) {
                if (!qe(this.doc, e))
                    return null;
                var t = e;
                if (!(e = cr(this.doc, e)))
                    return null
            } else if (null == (t = dr(e)))
                return null;
            return {
                line: t,
                handle: e,
                text: e.text,
                gutterMarkers: e.gutterMarkers,
                textClass: e.textClass,
                bgClass: e.bgClass,
                wrapClass: e.wrapClass,
                widgets: e.widgets
            }
        },
        getViewport: function() {
            return {
                from: this.display.showingFrom,
                to: this.display.showingTo
            }
        },
        addWidget: function(e, t, r, n, i) {
            var o = this.display
              , l = (e = q(this, Ye(this.doc, e))).bottom
              , s = e.left;
            if (t.style.position = "absolute",
            o.sizer.appendChild(t),
            "over" == n)
                l = e.top;
            else if ("above" == n || "near" == n) {
                var a = Math.max(o.wrapper.clientHeight, this.doc.height)
                  , c = Math.max(o.sizer.clientWidth, o.lineSpace.clientWidth);
                ("above" == n || e.bottom + t.offsetHeight > a) && e.top > t.offsetHeight ? l = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= a && (l = e.bottom),
                s + t.offsetWidth > c && (s = c - t.offsetWidth)
            }
            t.style.top = l + "px",
            t.style.left = t.style.right = "",
            "right" == i ? (s = o.sizer.clientWidth - t.offsetWidth,
            t.style.right = "0px") : ("left" == i ? s = 0 : "middle" == i && (s = (o.sizer.clientWidth - t.offsetWidth) / 2),
            t.style.left = s + "px"),
            r && it(this, s, l, s + t.offsetWidth, l + t.offsetHeight)
        },
        triggerOnKeyDown: ie(null, Ae),
        execCommand: function(e) {
            return ci[e](this)
        },
        findPosH: function(e, t, r, n) {
            var i = 1;
            0 > t && (i = -1,
            t = -t);
            for (var o = 0, l = Ye(this.doc, e); t > o && !(l = ut(this.doc, l, i, r, n)).hitSide; ++o)
                ;
            return l
        },
        moveH: ie(null, function(e, t) {
            var r, n = this.doc.sel;
            r = n.shift || n.extend || Ue(n.from, n.to) ? ut(this.doc, n.head, e, t, this.options.rtlMoveVisually) : 0 > e ? n.from : n.to,
            Ze(this.doc, r, r, e)
        }),
        deleteH: ie(null, function(e, t) {
            var r = this.doc.sel;
            Ue(r.from, r.to) ? Ke(this.doc, "", r.from, ut(this.doc, r.head, e, t, !1), "+delete") : Ke(this.doc, "", r.from, r.to, "+delete"),
            this.curOp.userSelChange = !0
        }),
        findPosV: function(e, t, r, n) {
            var i = 1
              , o = n;
            0 > t && (i = -1,
            t = -t);
            for (var l = 0, s = Ye(this.doc, e); t > l; ++l) {
                var a = q(this, s, "div");
                if (null == o ? o = a.left : a.left = o,
                (s = ft(this, a, i, r)).hitSide)
                    break
            }
            return s
        },
        moveV: ie(null, function(e, t) {
            var r = this.doc.sel
              , n = q(this, r.head, "div");
            null != r.goalColumn && (n.left = r.goalColumn);
            var i = ft(this, n, e, t);
            "page" == t && st(this, 0, $(this, i, "div").top - n.top),
            Ze(this.doc, i, i, e),
            r.goalColumn = n.left
        }),
        toggleOverwrite: function(e) {
            (null == e || e != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? this.display.cursor.className += " CodeMirror-overwrite" : this.display.cursor.className = this.display.cursor.className.replace(" CodeMirror-overwrite", ""))
        },
        hasFocus: function() {
            return this.state.focused
        },
        scrollTo: ie(null, function(e, t) {
            lt(this, e, t)
        }),
        getScrollInfo: function() {
            var e = this.display.scroller
              , t = Ci;
            return {
                left: e.scrollLeft,
                top: e.scrollTop,
                height: e.scrollHeight - t,
                width: e.scrollWidth - t,
                clientHeight: e.clientHeight - t,
                clientWidth: e.clientWidth - t
            }
        },
        scrollIntoView: ie(null, function(e, t) {
            "number" == typeof e && (e = Ve(e, 0)),
            t || (t = 0);
            var r = e;
            e && null == e.line || (this.curOp.scrollToPos = e ? Ye(this.doc, e) : this.doc.sel.head,
            this.curOp.scrollToPosMargin = t,
            r = q(this, this.curOp.scrollToPos));
            var n = ot(this, r.left, r.top - t, r.right, r.bottom + t);
            lt(this, n.scrollLeft, n.scrollTop)
        }),
        setSize: ie(null, function(e, t) {
            function r(e) {
                return "number" == typeof e || /^\d+$/.test(String(e)) ? e + "px" : e
            }
            null != e && (this.display.wrapper.style.width = r(e)),
            null != t && (this.display.wrapper.style.height = r(t)),
            this.options.lineWrapping && (this.display.measureLineCache.length = this.display.measureLineCachePos = 0),
            this.curOp.forceUpdate = !0
        }),
        operation: function(e) {
            return le(this, e)
        },
        refresh: ie(null, function() {
            U(this),
            lt(this, this.doc.scrollLeft, this.doc.scrollTop),
            se(this)
        }),
        swapDoc: ie(null, function(e) {
            var t = this.doc;
            return t.cm = null,
            ar(this, e),
            U(this),
            fe(this, !0),
            lt(this, e.scrollLeft, e.scrollTop),
            t
        }),
        getInputField: function() {
            return this.display.input
        },
        getWrapperElement: function() {
            return this.display.wrapper
        },
        getScrollerElement: function() {
            return this.display.scroller
        },
        getGutterElement: function() {
            return this.display.gutters
        }
    },
    Kr(e);
    var ti = e.optionHandlers = {}
      , ri = e.defaults = {}
      , ni = e.Init = {
        toString: function() {
            return "CodeMirror.Init"
        }
    };
    pt("value", "", function(e, t) {
        e.setValue(t)
    }, !0),
    pt("mode", null, function(e, t) {
        e.doc.modeOption = t,
        r(e)
    }, !0),
    pt("indentUnit", 2, r, !0),
    pt("indentWithTabs", !1),
    pt("smartIndent", !0),
    pt("tabSize", 4, function(e) {
        r(e),
        U(e),
        se(e)
    }, !0),
    pt("electricChars", !0),
    pt("rtlMoveVisually", !Fn),
    pt("theme", "default", function(e) {
        l(e),
        s(e)
    }, !0),
    pt("keyMap", "default", o),
    pt("extraKeys", null),
    pt("onKeyEvent", null),
    pt("onDragEvent", null),
    pt("lineWrapping", !1, function(e) {
        e.options.lineWrapping ? (e.display.wrapper.className += " CodeMirror-wrap",
        e.display.sizer.style.minWidth = "") : (e.display.wrapper.className = e.display.wrapper.className.replace(" CodeMirror-wrap", ""),
        u(e)),
        i(e),
        se(e),
        U(e),
        setTimeout(function() {
            h(e)
        }, 100)
    }, !0),
    pt("gutters", [], function(e) {
        f(e.options),
        s(e)
    }, !0),
    pt("fixedGutter", !0, function(e, t) {
        e.display.gutters.style.left = t ? v(e.display) + "px" : "0",
        e.refresh()
    }, !0),
    pt("coverGutterNextToScrollbar", !1, h, !0),
    pt("lineNumbers", !1, function(e) {
        f(e.options),
        s(e)
    }, !0),
    pt("firstLineNumber", 1, s, !0),
    pt("lineNumberFormatter", function(e) {
        return e
    }, s, !0),
    pt("showCursorWhenSelecting", !1, T, !0),
    pt("readOnly", !1, function(e, t) {
        "nocursor" == t ? (We(e),
        e.display.input.blur()) : t || fe(e, !0)
    }),
    pt("dragDrop", !0),
    pt("cursorBlinkRate", 530),
    pt("cursorScrollMargin", 0),
    pt("cursorHeight", 1),
    pt("workTime", 100),
    pt("workDelay", 100),
    pt("flattenSpans", !0),
    pt("pollInterval", 100),
    pt("undoDepth", 40, function(e, t) {
        e.doc.history.undoDepth = t
    }),
    pt("historyEventDelay", 500),
    pt("viewportMargin", 10, function(e) {
        e.refresh()
    }, !0),
    pt("maxHighlightLength", 1e4, function(e) {
        r(e),
        e.refresh()
    }, !0),
    pt("moveInputWithCursor", !0, function(e, t) {
        t || (e.display.inputDiv.style.top = e.display.inputDiv.style.left = 0)
    }),
    pt("tabindex", null, function(e, t) {
        e.display.input.tabIndex = t || ""
    }),
    pt("autofocus", null);
    var ii = e.modes = {}
      , oi = e.mimeModes = {};
    e.defineMode = function(t, r) {
        if (e.defaults.mode || "null" == t || (e.defaults.mode = t),
        arguments.length > 2) {
            r.dependencies = [];
            for (var n = 2; n < arguments.length; ++n)
                r.dependencies.push(arguments[n])
        }
        ii[t] = r
    }
    ,
    e.defineMIME = function(e, t) {
        oi[e] = t
    }
    ,
    e.resolveMode = function(t) {
        if ("string" == typeof t && oi.hasOwnProperty(t))
            t = oi[t];
        else if (t && "string" == typeof t.name && oi.hasOwnProperty(t.name)) {
            var r = oi[t.name];
            (t = $r(r, t)).name = r.name
        } else if ("string" == typeof t && /^[\w\-]+\/[\w\-]+\+xml$/.test(t))
            return e.resolveMode("application/xml");
        return "string" == typeof t ? {
            name: t
        } : t || {
            name: "null"
        }
    }
    ,
    e.getMode = function(t, r) {
        var r = e.resolveMode(r)
          , n = ii[r.name];
        if (!n)
            return e.getMode(t, "text/plain");
        var i = n(t, r);
        if (li.hasOwnProperty(r.name)) {
            var o = li[r.name];
            for (var l in o)
                o.hasOwnProperty(l) && (i.hasOwnProperty(l) && (i["_" + l] = i[l]),
                i[l] = o[l])
        }
        return i.name = r.name,
        i
    }
    ,
    e.defineMode("null", function() {
        return {
            token: function(e) {
                e.skipToEnd()
            }
        }
    }),
    e.defineMIME("text/plain", "null");
    var li = e.modeExtensions = {};
    e.extendMode = function(e, t) {
        qr(t, li.hasOwnProperty(e) ? li[e] : li[e] = {})
    }
    ,
    e.defineExtension = function(t, r) {
        e.prototype[t] = r
    }
    ,
    e.defineDocExtension = function(e, t) {
        gi.prototype[e] = t
    }
    ,
    e.defineOption = pt;
    var si = [];
    e.defineInitHook = function(e) {
        si.push(e)
    }
    ;
    var ai = e.helpers = {};
    e.registerHelper = function(t, r, n) {
        ai.hasOwnProperty(t) || (ai[t] = e[t] = {}),
        ai[t][r] = n
    }
    ,
    e.isWordChar = Qr,
    e.copyState = mt,
    e.startState = gt,
    e.innerMode = function(e, t) {
        for (; e.innerMode; ) {
            var r = e.innerMode(t);
            if (!r || r.mode == e)
                break;
            t = r.state,
            e = r.mode
        }
        return r || {
            mode: e,
            state: t
        }
    }
    ;
    var ci = e.commands = {
        selectAll: function(e) {
            e.setSelection(Ve(e.firstLine(), 0), Ve(e.lastLine()))
        },
        killLine: function(e) {
            var t = e.getCursor(!0)
              , r = e.getCursor(!1)
              , n = !Ue(t, r);
            n || e.getLine(t.line).length != t.ch ? e.replaceRange("", t, n ? r : Ve(t.line), "+delete") : e.replaceRange("", t, Ve(t.line + 1, 0), "+delete")
        },
        deleteLine: function(e) {
            var t = e.getCursor().line;
            e.replaceRange("", Ve(t, 0), Ve(t), "+delete")
        },
        delLineLeft: function(e) {
            var t = e.getCursor();
            e.replaceRange("", Ve(t.line, 0), t, "+delete")
        },
        undo: function(e) {
            e.undo()
        },
        redo: function(e) {
            e.redo()
        },
        goDocStart: function(e) {
            e.extendSelection(Ve(e.firstLine(), 0))
        },
        goDocEnd: function(e) {
            e.extendSelection(Ve(e.lastLine()))
        },
        goLineStart: function(e) {
            e.extendSelection(mn(e, e.getCursor().line))
        },
        goLineStartSmart: function(e) {
            var t = e.getCursor()
              , r = mn(e, t.line)
              , n = e.getLineHandle(r.line)
              , i = gr(n);
            if (i && 0 != i[0].level)
                e.extendSelection(r);
            else {
                var o = Math.max(0, n.text.search(/\S/))
                  , l = t.line == r.line && t.ch <= o && t.ch;
                e.extendSelection(Ve(r.line, l ? 0 : o))
            }
        },
        goLineEnd: function(e) {
            e.extendSelection(gn(e, e.getCursor().line))
        },
        goLineRight: function(e) {
            var t = e.charCoords(e.getCursor(), "div").top + 5;
            e.extendSelection(e.coordsChar({
                left: e.display.lineDiv.offsetWidth + 100,
                top: t
            }, "div"))
        },
        goLineLeft: function(e) {
            var t = e.charCoords(e.getCursor(), "div").top + 5;
            e.extendSelection(e.coordsChar({
                left: 0,
                top: t
            }, "div"))
        },
        goLineUp: function(e) {
            e.moveV(-1, "line")
        },
        goLineDown: function(e) {
            e.moveV(1, "line")
        },
        goPageUp: function(e) {
            e.moveV(-1, "page")
        },
        goPageDown: function(e) {
            e.moveV(1, "page")
        },
        goCharLeft: function(e) {
            e.moveH(-1, "char")
        },
        goCharRight: function(e) {
            e.moveH(1, "char")
        },
        goColumnLeft: function(e) {
            e.moveH(-1, "column")
        },
        goColumnRight: function(e) {
            e.moveH(1, "column")
        },
        goWordLeft: function(e) {
            e.moveH(-1, "word")
        },
        goGroupRight: function(e) {
            e.moveH(1, "group")
        },
        goGroupLeft: function(e) {
            e.moveH(-1, "group")
        },
        goWordRight: function(e) {
            e.moveH(1, "word")
        },
        delCharBefore: function(e) {
            e.deleteH(-1, "char")
        },
        delCharAfter: function(e) {
            e.deleteH(1, "char")
        },
        delWordBefore: function(e) {
            e.deleteH(-1, "word")
        },
        delWordAfter: function(e) {
            e.deleteH(1, "word")
        },
        delGroupBefore: function(e) {
            e.deleteH(-1, "group")
        },
        delGroupAfter: function(e) {
            e.deleteH(1, "group")
        },
        indentAuto: function(e) {
            e.indentSelection("smart")
        },
        indentMore: function(e) {
            e.indentSelection("add")
        },
        indentLess: function(e) {
            e.indentSelection("subtract")
        },
        insertTab: function(e) {
            e.replaceSelection("\t", "end", "+input")
        },
        defaultTab: function(e) {
            e.somethingSelected() ? e.indentSelection("add") : e.replaceSelection("\t", "end", "+input")
        },
        transposeChars: function(e) {
            var t = e.getCursor()
              , r = e.getLine(t.line);
            t.ch > 0 && t.ch < r.length - 1 && e.replaceRange(r.charAt(t.ch) + r.charAt(t.ch - 1), Ve(t.line, t.ch - 1), Ve(t.line, t.ch + 1))
        },
        newlineAndIndent: function(e) {
            ie(e, function() {
                e.replaceSelection("\n", "end", "+input"),
                e.indentLine(e.getCursor().line, null, !0)
            })()
        },
        toggleOverwrite: function(e) {
            e.toggleOverwrite()
        }
    }
      , ui = e.keyMap = {};
    ui.basic = {
        Left: "goCharLeft",
        Right: "goCharRight",
        Up: "goLineUp",
        Down: "goLineDown",
        End: "goLineEnd",
        Home: "goLineStartSmart",
        PageUp: "goPageUp",
        PageDown: "goPageDown",
        Delete: "delCharAfter",
        Backspace: "delCharBefore",
        Tab: "defaultTab",
        "Shift-Tab": "indentAuto",
        Enter: "newlineAndIndent",
        Insert: "toggleOverwrite"
    },
    ui.pcDefault = {
        "Ctrl-A": "selectAll",
        "Ctrl-D": "deleteLine",
        "Ctrl-Z": "undo",
        "Shift-Ctrl-Z": "redo",
        "Ctrl-Y": "redo",
        "Ctrl-Home": "goDocStart",
        "Alt-Up": "goDocStart",
        "Ctrl-End": "goDocEnd",
        "Ctrl-Down": "goDocEnd",
        "Ctrl-Left": "goGroupLeft",
        "Ctrl-Right": "goGroupRight",
        "Alt-Left": "goLineStart",
        "Alt-Right": "goLineEnd",
        "Ctrl-Backspace": "delGroupBefore",
        "Ctrl-Delete": "delGroupAfter",
        "Ctrl-S": "save",
        "Ctrl-F": "find",
        "Ctrl-G": "findNext",
        "Shift-Ctrl-G": "findPrev",
        "Shift-Ctrl-F": "replace",
        "Shift-Ctrl-R": "replaceAll",
        "Ctrl-[": "indentLess",
        "Ctrl-]": "indentMore",
        fallthrough: "basic"
    },
    ui.macDefault = {
        "Cmd-A": "selectAll",
        "Cmd-D": "deleteLine",
        "Cmd-Z": "undo",
        "Shift-Cmd-Z": "redo",
        "Cmd-Y": "redo",
        "Cmd-Up": "goDocStart",
        "Cmd-End": "goDocEnd",
        "Cmd-Down": "goDocEnd",
        "Alt-Left": "goGroupLeft",
        "Alt-Right": "goGroupRight",
        "Cmd-Left": "goLineStart",
        "Cmd-Right": "goLineEnd",
        "Alt-Backspace": "delGroupBefore",
        "Ctrl-Alt-Backspace": "delGroupAfter",
        "Alt-Delete": "delGroupAfter",
        "Cmd-S": "save",
        "Cmd-F": "find",
        "Cmd-G": "findNext",
        "Shift-Cmd-G": "findPrev",
        "Cmd-Alt-F": "replace",
        "Shift-Cmd-Alt-F": "replaceAll",
        "Cmd-[": "indentLess",
        "Cmd-]": "indentMore",
        "Cmd-Backspace": "delLineLeft",
        fallthrough: ["basic", "emacsy"]
    },
    ui.default = Pn ? ui.macDefault : ui.pcDefault,
    ui.emacsy = {
        "Ctrl-F": "goCharRight",
        "Ctrl-B": "goCharLeft",
        "Ctrl-P": "goLineUp",
        "Ctrl-N": "goLineDown",
        "Alt-F": "goWordRight",
        "Alt-B": "goWordLeft",
        "Ctrl-A": "goLineStart",
        "Ctrl-E": "goLineEnd",
        "Ctrl-V": "goPageDown",
        "Shift-Ctrl-V": "goPageUp",
        "Ctrl-D": "delCharAfter",
        "Ctrl-H": "delCharBefore",
        "Alt-D": "delWordAfter",
        "Alt-Backspace": "delWordBefore",
        "Ctrl-K": "killLine",
        "Ctrl-T": "transposeChars"
    },
    e.lookupKey = yt,
    e.isModifierKey = bt,
    e.keyName = xt,
    e.fromTextArea = function(t, r) {
        function n() {
            t.value = a.getValue()
        }
        if (r || (r = {}),
        r.value = t.value,
        !r.tabindex && t.tabindex && (r.tabindex = t.tabindex),
        !r.placeholder && t.placeholder && (r.placeholder = t.placeholder),
        null == r.autofocus) {
            var i = document.body;
            try {
                i = document.activeElement
            } catch (e) {}
            r.autofocus = i == t || null != t.getAttribute("autofocus") && i == document.body
        }
        if (t.form && (Ir(t.form, "submit", n),
        !r.leaveSubmitMethodAlone)) {
            var o = t.form
              , l = o.submit;
            try {
                var s = o.submit = function() {
                    n(),
                    o.submit = l,
                    o.submit(),
                    o.submit = s
                }
            } catch (e) {}
        }
        t.style.display = "none";
        var a = e(function(e) {
            t.parentNode.insertBefore(e, t.nextSibling)
        }, r);
        return a.save = n,
        a.getTextArea = function() {
            return t
        }
        ,
        a.toTextArea = function() {
            n(),
            t.parentNode.removeChild(a.getWrapperElement()),
            t.style.display = "",
            t.form && (zr(t.form, "submit", n),
            "function" == typeof t.form.submit && (t.form.submit = l))
        }
        ,
        a
    }
    ,
    Ct.prototype = {
        eol: function() {
            return this.pos >= this.string.length
        },
        sol: function() {
            return 0 == this.pos
        },
        peek: function() {
            return this.string.charAt(this.pos) || void 0
        },
        next: function() {
            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
        },
        eat: function(e) {
            var t = this.string.charAt(this.pos);
            if ("string" == typeof e)
                r = t == e;
            else
                var r = t && (e.test ? e.test(t) : e(t));
            return r ? (++this.pos,
            t) : void 0
        },
        eatWhile: function(e) {
            for (var t = this.pos; this.eat(e); )
                ;
            return this.pos > t
        },
        eatSpace: function() {
            for (var e = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); )
                ++this.pos;
            return this.pos > e
        },
        skipToEnd: function() {
            this.pos = this.string.length
        },
        skipTo: function(e) {
            var t = this.string.indexOf(e, this.pos);
            return t > -1 ? (this.pos = t,
            !0) : void 0
        },
        backUp: function(e) {
            this.pos -= e
        },
        column: function() {
            return this.lastColumnPos < this.start && (this.lastColumnValue = Ur(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue),
            this.lastColumnPos = this.start),
            this.lastColumnValue
        },
        indentation: function() {
            return Ur(this.string, null, this.tabSize)
        },
        match: function(e, t, r) {
            if ("string" != typeof e) {
                var n = this.string.slice(this.pos).match(e);
                return n && n.index > 0 ? null : (n && !1 !== t && (this.pos += n[0].length),
                n)
            }
            var i = function(e) {
                return r ? e.toLowerCase() : e
            };
            return i(this.string.substr(this.pos, e.length)) == i(e) ? (!1 !== t && (this.pos += e.length),
            !0) : void 0
        },
        current: function() {
            return this.string.slice(this.start, this.pos)
        }
    },
    e.StringStream = Ct,
    e.TextMarker = wt,
    Kr(wt),
    wt.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            var e = this.doc.cm
              , t = e && !e.curOp;
            if (t && re(e),
            Gr(this, "clear")) {
                var r = this.find();
                r && Fr(this, "clear", r.from, r.to)
            }
            for (var n = null, i = null, o = 0; o < this.lines.length; ++o) {
                var l = this.lines[o]
                  , s = St(l.markedSpans, this);
                null != s.to && (i = dr(l)),
                l.markedSpans = Tt(l.markedSpans, s),
                null != s.from ? n = dr(l) : this.collapsed && !Ft(this.doc, l) && e && hr(l, ee(e.display))
            }
            if (e && this.collapsed && !e.options.lineWrapping)
                for (o = 0; o < this.lines.length; ++o) {
                    var a = Pt(e.doc, this.lines[o])
                      , u = c(e.doc, a);
                    u > e.display.maxLineLength && (e.display.maxLine = a,
                    e.display.maxLineLength = u,
                    e.display.maxLineChanged = !0)
                }
            null != n && e && se(e, n, i + 1),
            this.lines.length = 0,
            this.explicitlyCleared = !0,
            this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1,
            e && et(e)),
            t && ne(e)
        }
    }
    ,
    wt.prototype.find = function() {
        for (var e, t, r = 0; r < this.lines.length; ++r) {
            var n = this.lines[r]
              , i = St(n.markedSpans, this);
            if (null != i.from || null != i.to) {
                var o = dr(n);
                null != i.from && (e = Ve(o, i.from)),
                null != i.to && (t = Ve(o, i.to))
            }
        }
        return "bookmark" == this.type ? e : e && {
            from: e,
            to: t
        }
    }
    ,
    wt.prototype.changed = function() {
        var e = this.find()
          , t = this.doc.cm;
        if (e && t) {
            "bookmark" != this.type && (e = e.from);
            var r = cr(this.doc, e.line);
            if (B(t, r),
            e.line >= t.display.showingFrom && e.line < t.display.showingTo) {
                for (var n = t.display.lineDiv.firstChild; n; n = n.nextSibling)
                    if (n.lineObj == r) {
                        n.offsetHeight != r.height && hr(r, n.offsetHeight);
                        break
                    }
                le(t, function() {
                    t.curOp.selectionChanged = t.curOp.forceUpdate = t.curOp.updateMaxLine = !0
                })
            }
        }
    }
    ,
    wt.prototype.attachLine = function(e) {
        if (!this.lines.length && this.doc.cm) {
            var t = this.doc.cm.curOp;
            t.maybeHiddenMarkers && -1 != Yr(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this)
        }
        this.lines.push(e)
    }
    ,
    wt.prototype.detachLine = function(e) {
        if (this.lines.splice(Yr(this.lines, e), 1),
        !this.lines.length && this.doc.cm) {
            var t = this.doc.cm.curOp;
            (t.maybeHiddenMarkers || (t.maybeHiddenMarkers = [])).push(this)
        }
    }
    ,
    e.SharedTextMarker = kt,
    Kr(kt),
    kt.prototype.clear = function() {
        if (!this.explicitlyCleared) {
            this.explicitlyCleared = !0;
            for (var e = 0; e < this.markers.length; ++e)
                this.markers[e].clear();
            Fr(this, "clear")
        }
    }
    ,
    kt.prototype.find = function() {
        return this.primary.find()
    }
    ;
    var fi = e.LineWidget = function(e, t, r) {
        if (r)
            for (var n in r)
                r.hasOwnProperty(n) && (this[n] = r[n]);
        this.cm = e,
        this.node = t
    }
    ;
    Kr(fi),
    fi.prototype.clear = Kt(function() {
        var e = this.line.widgets
          , t = dr(this.line);
        if (null != t && e) {
            for (var r = 0; r < e.length; ++r)
                e[r] == this && e.splice(r--, 1);
            e.length || (this.line.widgets = null);
            var n = mr(this.cm, this.line) < this.cm.doc.scrollTop;
            hr(this.line, Math.max(0, this.line.height - Vt(this))),
            n && st(this.cm, 0, -this.height),
            se(this.cm, t, t + 1)
        }
    }),
    fi.prototype.changed = Kt(function() {
        var e = this.height;
        this.height = null;
        var t = Vt(this) - e;
        if (t) {
            hr(this.line, this.line.height + t);
            var r = dr(this.line);
            se(this.cm, r, r + 1)
        }
    });
    var hi = e.Line = function(e, t, r) {
        this.text = e,
        Gt(this, t),
        this.height = r ? r(this) : 1
    }
    ;
    Kr(hi);
    var di = {}
      , pi = /[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;
    or.prototype = {
        chunkSize: function() {
            return this.lines.length
        },
        removeInner: function(e, t) {
            for (var r = e, n = e + t; n > r; ++r) {
                var i = this.lines[r];
                this.height -= i.height,
                _t(i),
                Fr(i, "delete")
            }
            this.lines.splice(e, t)
        },
        collapse: function(e) {
            e.splice.apply(e, [e.length, 0].concat(this.lines))
        },
        insertInner: function(e, t, r) {
            this.height += r,
            this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e));
            for (var n = 0, i = t.length; i > n; ++n)
                t[n].parent = this
        },
        iterN: function(e, t, r) {
            for (var n = e + t; n > e; ++e)
                if (r(this.lines[e]))
                    return !0
        }
    },
    lr.prototype = {
        chunkSize: function() {
            return this.size
        },
        removeInner: function(e, t) {
            this.size -= t;
            for (var r = 0; r < this.children.length; ++r) {
                var n = this.children[r]
                  , i = n.chunkSize();
                if (i > e) {
                    var o = Math.min(t, i - e)
                      , l = n.height;
                    if (n.removeInner(e, o),
                    this.height -= l - n.height,
                    i == o && (this.children.splice(r--, 1),
                    n.parent = null),
                    0 == (t -= o))
                        break;
                    e = 0
                } else
                    e -= i
            }
            if (this.size - t < 25) {
                var s = [];
                this.collapse(s),
                this.children = [new or(s)],
                this.children[0].parent = this
            }
        },
        collapse: function(e) {
            for (var t = 0, r = this.children.length; r > t; ++t)
                this.children[t].collapse(e)
        },
        insertInner: function(e, t, r) {
            this.size += t.length,
            this.height += r;
            for (var n = 0, i = this.children.length; i > n; ++n) {
                var o = this.children[n]
                  , l = o.chunkSize();
                if (l >= e) {
                    if (o.insertInner(e, t, r),
                    o.lines && o.lines.length > 50) {
                        for (; o.lines.length > 50; ) {
                            var s = new or(o.lines.splice(o.lines.length - 25, 25));
                            o.height -= s.height,
                            this.children.splice(n + 1, 0, s),
                            s.parent = this
                        }
                        this.maybeSpill()
                    }
                    break
                }
                e -= l
            }
        },
        maybeSpill: function() {
            if (!(this.children.length <= 10)) {
                var e = this;
                do {
                    var t = new lr(e.children.splice(e.children.length - 5, 5));
                    if (e.parent) {
                        e.size -= t.size,
                        e.height -= t.height;
                        var r = Yr(e.parent.children, e);
                        e.parent.children.splice(r + 1, 0, t)
                    } else {
                        var n = new lr(e.children);
                        n.parent = e,
                        e.children = [n, t],
                        e = n
                    }
                    t.parent = e.parent
                } while (e.children.length > 10);
                e.parent.maybeSpill()
            }
        },
        iterN: function(e, t, r) {
            for (var n = 0, i = this.children.length; i > n; ++n) {
                var o = this.children[n]
                  , l = o.chunkSize();
                if (l > e) {
                    var s = Math.min(t, l - e);
                    if (o.iterN(e, s, r))
                        return !0;
                    if (0 == (t -= s))
                        break;
                    e = 0
                } else
                    e -= l
            }
        }
    };
    var mi = 0
      , gi = e.Doc = function(e, t, r) {
        if (!(this instanceof gi))
            return new gi(e,t,r);
        null == r && (r = 0),
        lr.call(this, [new or([new hi("",null)])]),
        this.first = r,
        this.scrollTop = this.scrollLeft = 0,
        this.cantEdit = !1,
        this.history = vr(),
        this.cleanGeneration = 1,
        this.frontier = r;
        var n = Ve(r, 0);
        this.sel = {
            from: n,
            to: n,
            head: n,
            anchor: n,
            shift: !1,
            extend: !1,
            goalColumn: null
        },
        this.id = ++mi,
        this.modeOption = t,
        "string" == typeof e && (e = Ni(e)),
        ir(this, {
            from: n,
            to: n,
            text: e
        }, null, {
            head: n,
            anchor: n
        })
    }
    ;
    gi.prototype = $r(lr.prototype, {
        constructor: gi,
        iter: function(e, t, r) {
            r ? this.iterN(e - this.first, t - e, r) : this.iterN(this.first, this.first + this.size, e)
        },
        insert: function(e, t) {
            for (var r = 0, n = 0, i = t.length; i > n; ++n)
                r += t[n].height;
            this.insertInner(e - this.first, t, r)
        },
        remove: function(e, t) {
            this.removeInner(e - this.first, t)
        },
        getValue: function(e) {
            var t = fr(this, this.first, this.first + this.size);
            return !1 === e ? t : t.join(e || "\n")
        },
        setValue: function(e) {
            var t = Ve(this.first, 0)
              , r = this.first + this.size - 1;
            ze(this, {
                from: t,
                to: Ve(r, cr(this, r).text.length),
                text: Ni(e),
                origin: "setValue"
            }, {
                head: t,
                anchor: t
            }, !0)
        },
        replaceRange: function(e, t, r, n) {
            Ke(this, e, t = Ye(this, t), r = r ? Ye(this, r) : t, n)
        },
        getRange: function(e, t, r) {
            var n = ur(this, Ye(this, e), Ye(this, t));
            return !1 === r ? n : n.join(r || "\n")
        },
        getLine: function(e) {
            var t = this.getLineHandle(e);
            return t && t.text
        },
        setLine: function(e, t) {
            qe(this, e) && Ke(this, t, Ve(e, 0), Ye(this, Ve(e)))
        },
        removeLine: function(e) {
            e ? Ke(this, "", Ye(this, Ve(e - 1)), Ye(this, Ve(e))) : Ke(this, "", Ve(0, 0), Ye(this, Ve(1, 0)))
        },
        getLineHandle: function(e) {
            return qe(this, e) ? cr(this, e) : void 0
        },
        getLineNumber: function(e) {
            return dr(e)
        },
        getLineHandleVisualStart: function(e) {
            return "number" == typeof e && (e = cr(this, e)),
            Pt(this, e)
        },
        lineCount: function() {
            return this.size
        },
        firstLine: function() {
            return this.first
        },
        lastLine: function() {
            return this.first + this.size - 1
        },
        clipPos: function(e) {
            return Ye(this, e)
        },
        getCursor: function(e) {
            var t, r = this.sel;
            return t = null == e || "head" == e ? r.head : "anchor" == e ? r.anchor : "end" == e || !1 === e ? r.to : r.from,
            _e(t)
        },
        somethingSelected: function() {
            return !Ue(this.sel.head, this.sel.anchor)
        },
        setCursor: oe(function(e, t, r) {
            var n = Ye(this, "number" == typeof e ? Ve(e, t || 0) : e);
            r ? Ze(this, n) : Qe(this, n, n)
        }),
        setSelection: oe(function(e, t, r) {
            Qe(this, Ye(this, e), Ye(this, t || e), r)
        }),
        extendSelection: oe(function(e, t, r) {
            Ze(this, Ye(this, e), t && Ye(this, t), r)
        }),
        getSelection: function(e) {
            return this.getRange(this.sel.from, this.sel.to, e)
        },
        replaceSelection: function(e, t, r) {
            ze(this, {
                from: this.sel.from,
                to: this.sel.to,
                text: Ni(e),
                origin: r
            }, t || "around")
        },
        undo: oe(function() {
            Fe(this, "undo")
        }),
        redo: oe(function() {
            Fe(this, "redo")
        }),
        setExtending: function(e) {
            this.sel.extend = e
        },
        historySize: function() {
            var e = this.history;
            return {
                undo: e.done.length,
                redo: e.undone.length
            }
        },
        clearHistory: function() {
            this.history = vr(this.history.maxGeneration)
        },
        markClean: function() {
            this.cleanGeneration = this.changeGeneration()
        },
        changeGeneration: function() {
            return this.history.lastOp = this.history.lastOrigin = null,
            this.history.generation
        },
        isClean: function(e) {
            return this.history.generation == (e || this.cleanGeneration)
        },
        getHistory: function() {
            return {
                done: Lr(this.history.done),
                undone: Lr(this.history.undone)
            }
        },
        setHistory: function(e) {
            var t = this.history = vr(this.history.maxGeneration);
            t.done = e.done.slice(0),
            t.undone = e.undone.slice(0)
        },
        markText: function(e, t, r) {
            return Lt(this, Ye(this, e), Ye(this, t), r, "range")
        },
        setBookmark: function(e, t) {
            var r = {
                replacedWith: t && (null == t.nodeType ? t.widget : t),
                insertLeft: t && t.insertLeft
            };
            return e = Ye(this, e),
            Lt(this, e, e, r, "bookmark")
        },
        findMarksAt: function(e) {
            var t = []
              , r = cr(this, (e = Ye(this, e)).line).markedSpans;
            if (r)
                for (var n = 0; n < r.length; ++n) {
                    var i = r[n];
                    (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker)
                }
            return t
        },
        getAllMarks: function() {
            var e = [];
            return this.iter(function(t) {
                var r = t.markedSpans;
                if (r)
                    for (var n = 0; n < r.length; ++n)
                        null != r[n].from && e.push(r[n].marker)
            }),
            e
        },
        posFromIndex: function(e) {
            var t, r = this.first;
            return this.iter(function(n) {
                var i = n.text.length + 1;
                return i > e ? (t = e,
                !0) : (e -= i,
                void ++r)
            }),
            Ye(this, Ve(r, t))
        },
        indexFromPos: function(e) {
            var t = (e = Ye(this, e)).ch;
            return e.line < this.first || e.ch < 0 ? 0 : (this.iter(this.first, e.line, function(e) {
                t += e.text.length + 1
            }),
            t)
        },
        copy: function(e) {
            var t = new gi(fr(this, this.first, this.first + this.size),this.modeOption,this.first);
            return t.scrollTop = this.scrollTop,
            t.scrollLeft = this.scrollLeft,
            t.sel = {
                from: this.sel.from,
                to: this.sel.to,
                head: this.sel.head,
                anchor: this.sel.anchor,
                shift: this.sel.shift,
                extend: !1,
                goalColumn: this.sel.goalColumn
            },
            e && (t.history.undoDepth = this.history.undoDepth,
            t.setHistory(this.getHistory())),
            t
        },
        linkedDoc: function(e) {
            e || (e = {});
            var t = this.first
              , r = this.first + this.size;
            null != e.from && e.from > t && (t = e.from),
            null != e.to && e.to < r && (r = e.to);
            var n = new gi(fr(this, t, r),e.mode || this.modeOption,t);
            return e.sharedHist && (n.history = this.history),
            (this.linked || (this.linked = [])).push({
                doc: n,
                sharedHist: e.sharedHist
            }),
            n.linked = [{
                doc: this,
                isParent: !0,
                sharedHist: e.sharedHist
            }],
            n
        },
        unlinkDoc: function(t) {
            if (t instanceof e && (t = t.doc),
            this.linked)
                for (var r = 0; r < this.linked.length; ++r)
                    if (this.linked[r].doc == t) {
                        this.linked.splice(r, 1),
                        t.unlinkDoc(this);
                        break
                    }
            if (t.history == this.history) {
                var n = [t.id];
                sr(t, function(e) {
                    n.push(e.id)
                }, !0),
                t.history = vr(),
                t.history.done = Lr(this.history.done, n),
                t.history.undone = Lr(this.history.undone, n)
            }
        },
        iterLinkedDocs: function(e) {
            sr(this, e)
        },
        getMode: function() {
            return this.mode
        },
        getEditor: function() {
            return this.cm
        }
    }),
    gi.prototype.eachLine = gi.prototype.iter;
    var vi = "iter insert remove copy getEditor".split(" ");
    for (var yi in gi.prototype)
        gi.prototype.hasOwnProperty(yi) && Yr(vi, yi) < 0 && (e.prototype[yi] = function(e) {
            return function() {
                return e.apply(this.doc, arguments)
            }
        }(gi.prototype[yi]));
    Kr(gi),
    e.e_stop = Or,
    e.e_preventDefault = Nr,
    e.e_stopPropagation = Hr;
    var bi, xi = 0;
    e.on = Ir,
    e.off = zr,
    e.signal = Pr;
    var Ci = 30
      , wi = e.Pass = {
        toString: function() {
            return "CodeMirror.Pass"
        }
    };
    Vr.prototype = {
        set: function(e, t) {
            clearTimeout(this.id),
            this.id = setTimeout(t, e)
        }
    },
    e.countColumn = Ur;
    var Li = [""]
      , ki = /[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/
      , Mi = /[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;
    e.replaceGetRect = function(e) {
        ln = e
    }
    ;
    var Si = function() {
        if (Mn)
            return !1;
        var e = tn("div");
        return "draggable"in e || "dragDrop"in e
    }();
    wn ? sn = function(e, t) {
        return 36 == e.charCodeAt(t - 1) && 39 == e.charCodeAt(t)
    }
    : Hn && !/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent) ? sn = function(e, t) {
        return /\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(e.slice(t - 1, t + 1))
    }
    : Sn && !/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent) && (sn = function(e, t) {
        if (t > 1 && 45 == e.charCodeAt(t - 1)) {
            if (/\w/.test(e.charAt(t - 2)) && /[^\-?\.]/.test(e.charAt(t)))
                return !0;
            if (t > 2 && /[\d\.,]/.test(e.charAt(t - 2)) && /[\d\.,]/.test(e.charAt(t)))
                return !1
        }
        return /[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|‚Ä¶[\w~`@#$%\^&*(_=+{[><]/.test(e.slice(t - 1, t + 1))
    }
    );
    var Ti, Ai, Ni = 3 != "\n\nb".split(/\n/).length ? function(e) {
        for (var t = 0, r = [], n = e.length; n >= t; ) {
            var i = e.indexOf("\n", t);
            -1 == i && (i = e.length);
            var o = e.slice(t, "\r" == e.charAt(i - 1) ? i - 1 : i)
              , l = o.indexOf("\r");
            -1 != l ? (r.push(o.slice(0, l)),
            t += l + 1) : (r.push(o),
            t = i + 1)
        }
        return r
    }
    : function(e) {
        return e.split(/\r\n?|\n/)
    }
    ;
    e.splitLines = Ni;
    var Hi = window.getSelection ? function(e) {
        try {
            return e.selectionStart != e.selectionEnd
        } catch (e) {
            return !1
        }
    }
    : function(e) {
        try {
            var t = e.ownerDocument.selection.createRange()
        } catch (e) {}
        return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints("StartToEnd", t)
    }
      , Wi = function() {
        var e = tn("div");
        return "oncopy"in e || (e.setAttribute("oncopy", "return;"),
        "function" == typeof e.oncopy)
    }()
      , Oi = {
        3: "Enter",
        8: "Backspace",
        9: "Tab",
        13: "Enter",
        16: "Shift",
        17: "Ctrl",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "PrintScrn",
        45: "Insert",
        46: "Delete",
        59: ";",
        91: "Mod",
        92: "Mod",
        93: "Mod",
        109: "-",
        107: "=",
        127: "Delete",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'",
        63276: "PageUp",
        63277: "PageDown",
        63275: "End",
        63273: "Home",
        63234: "Left",
        63232: "Up",
        63235: "Right",
        63233: "Down",
        63302: "Insert",
        63272: "Delete"
    };
    e.keyNames = Oi,
    function() {
        for (e = 0; 10 > e; e++)
            Oi[e + 48] = String(e);
        for (e = 65; 90 >= e; e++)
            Oi[e] = String.fromCharCode(e);
        for (var e = 1; 12 >= e; e++)
            Oi[e + 111] = Oi[e + 63235] = "F" + e
    }();
    var Ei, Di = function() {
        function e(e) {
            return 255 >= e ? t.charAt(e) : e >= 1424 && 1524 >= e ? "R" : e >= 1536 && 1791 >= e ? r.charAt(e - 1536) : e >= 1792 && 2220 >= e ? "r" : "L"
        }
        var t = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL"
          , r = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr"
          , n = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/
          , i = /[stwN]/
          , o = /[LRr]/
          , l = /[Lb1n]/
          , s = /[1n]/
          , a = "L";
        return function(t) {
            if (!n.test(t))
                return !1;
            for (var r = t.length, c = [], u = 0; r > u; ++u)
                c.push(m = e(t.charCodeAt(u)));
            for (var u = 0, f = a; r > u; ++u)
                "m" == (m = c[u]) ? c[u] = f : f = m;
            for (var u = 0, h = a; r > u; ++u)
                "1" == (m = c[u]) && "r" == h ? c[u] = "n" : o.test(m) && (h = m,
                "r" == m && (c[u] = "R"));
            for (var u = 1, f = c[0]; r - 1 > u; ++u)
                "+" == (m = c[u]) && "1" == f && "1" == c[u + 1] ? c[u] = "1" : "," != m || f != c[u + 1] || "1" != f && "n" != f || (c[u] = f),
                f = m;
            for (u = 0; r > u; ++u)
                if ("," == (m = c[u]))
                    c[u] = "N";
                else if ("%" == m) {
                    for (g = u + 1; r > g && "%" == c[g]; ++g)
                        ;
                    for (var d = u && "!" == c[u - 1] || r - 1 > g && "1" == c[g] ? "1" : "N", p = u; g > p; ++p)
                        c[p] = d;
                    u = g - 1
                }
            for (var u = 0, h = a; r > u; ++u) {
                var m = c[u];
                "L" == h && "1" == m ? c[u] = "L" : o.test(m) && (h = m)
            }
            for (u = 0; r > u; ++u)
                if (i.test(c[u])) {
                    for (var g = u + 1; r > g && i.test(c[g]); ++g)
                        ;
                    for (var v = "L" == (u ? c[u - 1] : a), y = "L" == (r - 1 > g ? c[g] : a), d = v || y ? "L" : "R", p = u; g > p; ++p)
                        c[p] = d;
                    u = g - 1
                }
            for (var b, x = [], u = 0; r > u; )
                if (l.test(c[u])) {
                    var C = u;
                    for (++u; r > u && l.test(c[u]); ++u)
                        ;
                    x.push({
                        from: C,
                        to: u,
                        level: 0
                    })
                } else {
                    var w = u
                      , L = x.length;
                    for (++u; r > u && "L" != c[u]; ++u)
                        ;
                    for (p = w; u > p; )
                        if (s.test(c[p])) {
                            p > w && x.splice(L, 0, {
                                from: w,
                                to: p,
                                level: 1
                            });
                            var k = p;
                            for (++p; u > p && s.test(c[p]); ++p)
                                ;
                            x.splice(L, 0, {
                                from: k,
                                to: p,
                                level: 2
                            }),
                            w = p
                        } else
                            ++p;
                    u > w && x.splice(L, 0, {
                        from: w,
                        to: u,
                        level: 1
                    })
                }
            return 1 == x[0].level && (b = t.match(/^\s+/)) && (x[0].from = b[0].length,
            x.unshift({
                from: 0,
                to: b[0].length,
                level: 0
            })),
            1 == _r(x).level && (b = t.match(/\s+$/)) && (_r(x).to -= b[0].length,
            x.push({
                from: r - b[0].length,
                to: r,
                level: 0
            })),
            x[0].level != _r(x).level && x.push({
                from: r,
                to: r,
                level: x[0].level
            }),
            x
        }
    }();
    return e.version = "3.15.1",
    e
}(),
CodeMirror.defineMode("z80", function() {
    var e = /^(exx?|(ld|cp|in)([di]r?)?|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|rst|[de]i|halt|im|ot[di]r|out[di]?)\b/i
      , t = /^(call|j[pr]|ret[in]?)\b/i
      , r = /^b_?(call|jump)\b/i
      , n = /^(af?|bc?|c|de?|e|hl?|l|i[xy]?|r|sp)\b/i
      , i = /^(n?[zc]|p[oe]?|m)\b/i
      , o = /^([hl][xy]|i[xy][hl]|slia|sll)\b/i
      , l = /^([\da-f]+h|[0-7]+o|[01]+b|\d+)\b/i;
    return {
        startState: function() {
            return {
                context: 0
            }
        },
        token: function(s, a) {
            if (s.column() || (a.context = 0),
            s.eatSpace())
                return null;
            var c;
            if (s.eatWhile(/\w/)) {
                if (c = s.current(),
                !s.indentation())
                    return l.test(c) ? "number" : null;
                if (1 == a.context && n.test(c))
                    return "variable-2";
                if (2 == a.context && i.test(c))
                    return "variable-3";
                if (e.test(c))
                    return a.context = 1,
                    "keyword";
                if (t.test(c))
                    return a.context = 2,
                    "keyword";
                if (r.test(c))
                    return a.context = 3,
                    "keyword";
                if (o.test(c))
                    return "error"
            } else {
                if (s.eat(";"))
                    return s.skipToEnd(),
                    "comment";
                if (s.eat('"')) {
                    for (; (c = s.next()) && '"' != c; )
                        "\\" == c && s.next();
                    return "string"
                }
                if (s.eat("'")) {
                    if (s.match(/\\?.'/))
                        return "number"
                } else if (s.eat(".") || s.sol() && s.eat("#")) {
                    if (a.context = 4,
                    s.eatWhile(/\w/))
                        return "def"
                } else if (s.eat("$")) {
                    if (s.eatWhile(/[\da-f]/i))
                        return "number"
                } else if (s.eat("%")) {
                    if (s.eatWhile(/[01]/))
                        return "number"
                } else
                    s.next()
            }
            return null
        }
    }
}),
CodeMirror.defineMIME("text/x-z80", "z80"),
CodeMirror.defineMode("i8080", function() {
    var e = /^(in[rx]|dc[rx]|pop|push|a[cd]i|ad[cd]|s[ub][bi]|an[ai]|xr[ai]|or[ai]|cpi|cm[ap]|nop|in|out|[rs]im|rst|da[ad]|stc|cmc|r[lr]c|ra[lr]|rrhl|rlde|pchl|dsub|rstv|mov|mvi|[de]i|sphl|xchg|xthl|hlt|lxi|lda|ldax|sta|stax|[ls]hld)\b/i
      , t = /^(call|jmp|j(n?[zc]|p[oe]?|m|k)|c(n?[zc]|p[oe]?|m|k)|r(n?[zc]|p[oe]?|m|k)|ret?)\b/i
      , r = /^(db|dw|ds|defb|defw|defs)\b/i
      , n = /^(a|bc?|c|de?|e|hl?|l|m)\b/i
      , i = /^(n?[zc]|p[oe]?|m)\b/i
      , o = /^([hl][xy]|i[xy][hl]|slia|sll)\b/i
      , l = /^([\da-f]+h|[0-7]+o|[01]+b|\d+)\b/i;
    return {
        startState: function() {
            return {
                context: 0
            }
        },
        token: function(s, a) {
            if (s.column() || (a.context = 0),
            s.eatSpace())
                return null;
            var c;
            if (s.eatWhile(/\w/)) {
                if (c = s.current(),
                !s.indentation())
                    return l.test(c) ? "number" : null;
                if (1 == a.context && n.test(c))
                    return "variable-2";
                if (2 == a.context && i.test(c))
                    return "variable-3";
                if (e.test(c))
                    return a.context = 1,
                    "keyword";
                if (t.test(c))
                    return a.context = 2,
                    "keyword";
                if (r.test(c))
                    return a.context = 3,
                    "keyword";
                if (o.test(c))
                    return "error"
            } else {
                if (s.eat(";"))
                    return s.skipToEnd(),
                    "comment";
                if (s.eat('"')) {
                    for (; (c = s.next()) && '"' != c; )
                        "\\" == c && s.next();
                    return "string"
                }
                if (s.eat("'")) {
                    if (s.match(/\\?.'/))
                        return "number"
                } else if (s.eat(".") || s.sol() && s.eat("#")) {
                    if (a.context = 4,
                    s.eatWhile(/\w/))
                        return "def"
                } else if (s.eat("$")) {
                    if (s.eatWhile(/[\da-f]/i))
                        return "number"
                } else if (s.eat("%")) {
                    if (s.eatWhile(/[01]/))
                        return "number"
                } else
                    s.next()
            }
            return null
        }
    }
}),
CodeMirror.defineMIME("text/x-i8080", "i8080"),
CodeMirror.defineMode("c6502", function() {
    var e = /^(r[lr]a|ld[axy]|st[axy]|adc|and|asl|bit|cl[cdiv]|cmp|cp[xy]|de[cxy]|eor|in[cxy]|lsr|nop|ora|p[hl]a|p[hl]p|ro[lr]|sbc|se[cdi]|ta[xy]|tsx|tx[ay]|tya)\b/i
      , t = /^(jsr|rts|rti|jmp|bcc|bcs|beq|bmi|bne|bpl|brk|bvc|bvs?)\b/i
      , r = /^(db|dw|ds|defb|defw|defs)\b/i
      , n = /^(a|bc?|c|de?|e|hl?|l|m)\b/i
      , i = /^(\$?[\da-f]+\,x)\b/i
      , o = /^([hl][xy]|i[xy][hl]|slia|sll)\b/i
      , l = /^(#?[\da-f]+h|[0-7]+o|[01]+b|\d+)\b/i;
    return {
        startState: function() {
            return {
                context: 0
            }
        },
        token: function(s, a) {
            if (s.column() || (a.context = 0),
            s.eatSpace())
                return null;
            var c;
            if (s.eatWhile(/\w/)) {
                if (c = s.current(),
                !s.indentation())
                    return l.test(c) ? "number" : null;
                if (1 == a.context && n.test(c))
                    return "variable-2";
                if (2 == a.context && i.test(c))
                    return "variable-3";
                if (e.test(c))
                    return a.context = 1,
                    "keyword";
                if (t.test(c))
                    return a.context = 2,
                    "keyword";
                if (r.test(c))
                    return a.context = 3,
                    "keyword";
                if (o.test(c))
                    return "error"
            } else {
                if (s.eat(";"))
                    return s.skipToEnd(),
                    "comment";
                if (s.eat('"')) {
                    for (; (c = s.next()) && '"' != c; )
                        "\\" == c && s.next();
                    return "string"
                }
                if (s.eat("'")) {
                    if (s.match(/\\?.'/))
                        return "number"
                } else if (s.eat(".") || s.sol() && s.eat("#")) {
                    if (a.context = 4,
                    s.eatWhile(/\w/))
                        return "def"
                } else if (s.eat("$")) {
                    if (s.eatWhile(/[\da-f]/i))
                        return "number"
                } else if (s.eat("%")) {
                    if (s.eatWhile(/[01]/))
                        return "number"
                } else
                    s.next()
            }
            return null
        }
    }
}),
CodeMirror.defineMIME("text/x-c6502", "c6502"),
CodeMirror.defineMode("m6800", function() {
    var e = /^(aba|adc[ab]?|add[ab]?|and[ab]?|as[lr][ab]?|cba|cl[civ]|clr[ab]?|cmp[ab]?|com[ab]?|cpx|daa|dec[ab]?|de[sx]|eor[ab]?|inc[ab]?|in[sx]|lda[ab]?|ld[sx]|lsr[ab]?|neg[ab]?|nop|ora[ab]?|psh[ab]?|pul[ab]?|ro[lr][ab]?|sba|sbc[ab]?|se[civ]|sta[ab]?|sts|stx|sub[ab]?|swi|ta[bp]|t[bp]a|tst[ab]?|tsx|txs|wai)\b/i
      , t = /^(jsr|rts|rti|jmp|bc[cs]|beq|bmi|bne|bpl|bge|bgt|bhi|ble|bls|blt|bra|bsr|bv[cs])\b/i
      , r = /^(db|dw|ds|defb|defw|defs)\b/i
      , n = /^(a|bc?|c|de?|e|hl?|l|m)\b/i
      , i = /^(\$?[\da-f]+\,x)\b/i
      , o = /^([hl][xy]|i[xy][hl]|slia|sll)\b/i
      , l = /^(#?[\da-f]+h|[0-7]+o|[01]+b|\d+)\b/i;
    return {
        startState: function() {
            return {
                context: 0
            }
        },
        token: function(s, a) {
            if (s.column() || (a.context = 0),
            s.eatSpace())
                return null;
            var c;
            if (s.eatWhile(/\w/)) {
                if (c = s.current(),
                !s.indentation())
                    return l.test(c) ? "number" : null;
                if (1 == a.context && n.test(c))
                    return "variable-2";
                if (2 == a.context && i.test(c))
                    return "variable-3";
                if (e.test(c))
                    return a.context = 1,
                    "keyword";
                if (t.test(c))
                    return a.context = 2,
                    "keyword";
                if (r.test(c))
                    return a.context = 3,
                    "keyword";
                if (o.test(c))
                    return "error"
            } else {
                if (s.eat(";"))
                    return s.skipToEnd(),
                    "comment";
                if (s.eat('"')) {
                    for (; (c = s.next()) && '"' != c; )
                        "\\" == c && s.next();
                    return "string"
                }
                if (s.eat("'")) {
                    if (s.match(/\\?.'/))
                        return "number"
                } else if (s.eat(".") || s.sol() && s.eat("#")) {
                    if (a.context = 4,
                    s.eatWhile(/\w/))
                        return "def"
                } else if (s.eat("$")) {
                    if (s.eatWhile(/[\da-f]/i))
                        return "number"
                } else if (s.eat("%")) {
                    if (s.eatWhile(/[01]/))
                        return "number"
                } else
                    s.next()
            }
            return null
        }
    }
}),
CodeMirror.defineMIME("text/x-m6800", "m6800"),
function() {
    function e(e, t, r) {
        var n;
        return n = e.getWrapperElement().appendChild(document.createElement("div")),
        n.className = r ? "CodeMirror-dialog CodeMirror-dialog-bottom" : "CodeMirror-dialog CodeMirror-dialog-top",
        n.innerHTML = t,
        n
    }
    CodeMirror.defineExtension("openDialog", function(t, r, n) {
        function i() {
            s || (s = !0,
            l.parentNode.removeChild(l))
        }
        var o, l = e(this, t, n && n.bottom), s = !1, a = this, c = l.getElementsByTagName("input")[0];
        return c ? (CodeMirror.on(c, "keydown", function(e) {
            n && n.onKeyDown && n.onKeyDown(e, c.value, i) || (13 == e.keyCode || 27 == e.keyCode) && (CodeMirror.e_stop(e),
            i(),
            a.focus(),
            13 == e.keyCode && r(c.value))
        }),
        n && n.onKeyUp && CodeMirror.on(c, "keyup", function(e) {
            n.onKeyUp(e, c.value, i)
        }),
        n && n.value && (c.value = n.value),
        c.focus(),
        CodeMirror.on(c, "blur", i)) : (o = l.getElementsByTagName("button")[0]) && (CodeMirror.on(o, "click", function() {
            i(),
            a.focus()
        }),
        o.focus(),
        CodeMirror.on(o, "blur", i)),
        i
    }),
    CodeMirror.defineExtension("openConfirm", function(t, r, n) {
        function i() {
            s || (s = !0,
            o.parentNode.removeChild(o),
            a.focus())
        }
        var o = e(this, t, n && n.bottom)
          , l = o.getElementsByTagName("button")
          , s = !1
          , a = this
          , c = 1;
        l[0].focus();
        for (var u = 0; u < l.length; ++u) {
            var f = l[u];
            !function(e) {
                CodeMirror.on(f, "click", function(t) {
                    CodeMirror.e_preventDefault(t),
                    i(),
                    e && e(a)
                })
            }(r[u]),
            CodeMirror.on(f, "blur", function() {
                --c,
                setTimeout(function() {
                    0 >= c && i()
                }, 200)
            }),
            CodeMirror.on(f, "focus", function() {
                ++c
            })
        }
    })
}(),
function() {
    function e(e) {
        return "string" == typeof e ? {
            token: function(t) {
                return t.match(e) ? "searching" : (t.next(),
                void (t.skipTo(e.charAt(0)) || t.skipToEnd()))
            }
        } : {
            token: function(t) {
                if (t.match(e))
                    return "searching";
                for (; !t.eol() && (t.next(),
                !t.match(e, !1)); )
                    ;
            }
        }
    }
    function t() {
        this.posFrom = this.posTo = this.query = null,
        this.overlay = null
    }
    function r(e) {
        return e.state.search || (e.state.search = new t)
    }
    function n(e, t, r) {
        return e.getSearchCursor(t, r, "string" == typeof t && t == t.toLowerCase())
    }
    function i(e, t, r, n) {
        e.openDialog ? e.openDialog(t, n) : n(prompt(r, ""))
    }
    function o(e, t, r, n) {
        e.openConfirm ? e.openConfirm(t, n) : confirm(r) && n[0]()
    }
    function l(e) {
        var t = e.match(/^\/(.*)\/([a-z]*)$/);
        return t ? new RegExp(t[1],-1 == t[2].indexOf("i") ? "" : "i") : e
    }
    function s(t, n) {
        var o = r(t);
        return o.query ? a(t, n) : void i(t, f, "Search for:", function(r) {
            t.operation(function() {
                r && !o.query && (o.query = l(r),
                t.removeOverlay(o.overlay),
                o.overlay = e(o.query),
                t.addOverlay(o.overlay),
                o.posFrom = o.posTo = t.getCursor(),
                a(t, n))
            })
        })
    }
    function a(e, t) {
        e.operation(function() {
            var i = r(e)
              , o = n(e, i.query, t ? i.posFrom : i.posTo);
            (o.find(t) || (o = n(e, i.query, t ? CodeMirror.Pos(e.lastLine()) : CodeMirror.Pos(e.firstLine(), 0))).find(t)) && (e.setSelection(o.from(), o.to()),
            i.posFrom = o.from(),
            i.posTo = o.to())
        })
    }
    function c(e) {
        e.operation(function() {
            var t = r(e);
            t.query && (t.query = null,
            e.removeOverlay(t.overlay))
        })
    }
    function u(e, t) {
        i(e, h, "Replace:", function(r) {
            r && (r = l(r),
            i(e, d, "Replace with:", function(i) {
                if (t)
                    e.operation(function() {
                        for (var t = n(e, r); t.findNext(); )
                            if ("string" != typeof r) {
                                var o = e.getRange(t.from(), t.to()).match(r);
                                t.replace(i.replace(/\$(\d)/, function(e, t) {
                                    return o[t]
                                }))
                            } else
                                t.replace(i)
                    });
                else {
                    c(e);
                    var l = n(e, r, e.getCursor())
                      , s = function() {
                        var t, i = l.from();
                        !(t = l.findNext()) && (l = n(e, r),
                        !(t = l.findNext()) || i && l.from().line == i.line && l.from().ch == i.ch) || (e.setSelection(l.from(), l.to()),
                        o(e, p, "Replace?", [function() {
                            a(t)
                        }
                        , s]))
                    }
                      , a = function(e) {
                        l.replace("string" == typeof r ? i : i.replace(/\$(\d)/, function(t, r) {
                            return e[r]
                        })),
                        s()
                    };
                    s()
                }
            }))
        })
    }
    var f = 'Search: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>'
      , h = 'Replace: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>'
      , d = 'With: <input type="text" style="width: 10em"/>'
      , p = "Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";
    CodeMirror.commands.find = function(e) {
        c(e),
        s(e)
    }
    ,
    CodeMirror.commands.findNext = s,
    CodeMirror.commands.findPrev = function(e) {
        s(e, !0)
    }
    ,
    CodeMirror.commands.clearSearch = c,
    CodeMirror.commands.replace = u,
    CodeMirror.commands.replaceAll = function(e) {
        u(e, !0)
    }
}(),
function() {
    function e(e, r, n, i) {
        if (this.atOccurrence = !1,
        this.doc = e,
        null == i && "string" == typeof r && (i = !1),
        n = n ? e.clipPos(n) : t(0, 0),
        this.pos = {
            from: n,
            to: n
        },
        "string" != typeof r)
            r.global || (r = new RegExp(r.source,r.ignoreCase ? "ig" : "g")),
            this.matches = function(n, i) {
                if (n) {
                    r.lastIndex = 0;
                    for (var o, l, s = e.getLine(i.line).slice(0, i.ch), a = 0; ; ) {
                        r.lastIndex = a;
                        var c = r.exec(s);
                        if (!c)
                            break;
                        if (o = c,
                        l = o.index,
                        (a = o.index + (o[0].length || 1)) == s.length)
                            break
                    }
                    (u = o && o[0].length || 0) || (0 == l && 0 == s.length ? o = void 0 : l != e.getLine(i.line).length && u++)
                } else {
                    r.lastIndex = i.ch;
                    var s = e.getLine(i.line)
                      , u = (o = r.exec(s)) && o[0].length || 0;
                    (l = o && o.index) + u == s.length || u || (u = 1)
                }
                return o && u ? {
                    from: t(i.line, l),
                    to: t(i.line, l + u),
                    match: o
                } : void 0
            }
            ;
        else {
            i && (r = r.toLowerCase());
            var o = i ? function(e) {
                return e.toLowerCase()
            }
            : function(e) {
                return e
            }
              , l = r.split("\n");
            this.matches = 1 == l.length ? r.length ? function(n, i) {
                var l, s = o(e.getLine(i.line)), a = r.length;
                return (n ? i.ch >= a && -1 != (l = s.lastIndexOf(r, i.ch - a)) : -1 != (l = s.indexOf(r, i.ch))) ? {
                    from: t(i.line, l),
                    to: t(i.line, l + a)
                } : void 0
            }
            : function() {}
            : function(r, n) {
                var i = n.line
                  , s = r ? l.length - 1 : 0
                  , a = l[s]
                  , c = o(e.getLine(i))
                  , u = r ? c.indexOf(a) + a.length : c.lastIndexOf(a);
                if (!(r ? u >= n.ch || u != a.length : u <= n.ch || u != c.length - a.length))
                    for (; ; ) {
                        if (r ? !i : i == e.lineCount() - 1)
                            return;
                        if (c = o(e.getLine(i += r ? -1 : 1)),
                        a = l[r ? --s : ++s],
                        !(s > 0 && s < l.length - 1)) {
                            var f = r ? c.lastIndexOf(a) : c.indexOf(a) + a.length;
                            if (r ? f != c.length - a.length : f != a.length)
                                return;
                            var h = t(n.line, u)
                              , d = t(i, f);
                            return {
                                from: r ? d : h,
                                to: r ? h : d
                            }
                        }
                        if (c != a)
                            return
                    }
            }
        }
    }
    var t = CodeMirror.Pos;
    e.prototype = {
        findNext: function() {
            return this.find(!1)
        },
        findPrevious: function() {
            return this.find(!0)
        },
        find: function(e) {
            function r(e) {
                var r = t(e, 0);
                return n.pos = {
                    from: r,
                    to: r
                },
                n.atOccurrence = !1,
                !1
            }
            for (var n = this, i = this.doc.clipPos(e ? this.pos.from : this.pos.to); ; ) {
                if (this.pos = this.matches(e, i))
                    return this.pos.from && this.pos.to || console.log(this.matches, this.pos),
                    this.atOccurrence = !0,
                    this.pos.match || !0;
                if (e) {
                    if (!i.line)
                        return r(0);
                    i = t(i.line - 1, this.doc.getLine(i.line - 1).length)
                } else {
                    var o = this.doc.lineCount();
                    if (i.line == o - 1)
                        return r(o);
                    i = t(i.line + 1, 0)
                }
            }
        },
        from: function() {
            return this.atOccurrence ? this.pos.from : void 0
        },
        to: function() {
            return this.atOccurrence ? this.pos.to : void 0
        },
        replace: function(e) {
            if (this.atOccurrence) {
                var r = CodeMirror.splitLines(e);
                this.doc.replaceRange(r, this.pos.from, this.pos.to),
                this.pos.to = t(this.pos.from.line + r.length - 1, r[r.length - 1].length + (1 == r.length ? this.pos.from.ch : 0))
            }
        }
    },
    CodeMirror.defineExtension("getSearchCursor", function(t, r, n) {
        return new e(this.doc,t,r,n)
    }),
    CodeMirror.defineDocExtension("getSearchCursor", function(t, r, n) {
        return new e(this,t,r,n)
    })
}(),
function() {
    function e(e) {
        e.state.placeholder && (e.state.placeholder.parentNode.removeChild(e.state.placeholder),
        e.state.placeholder = null)
    }
    function t(t) {
        e(t);
        var r = t.state.placeholder = document.createElement("pre");
        r.style.cssText = "height: 0; overflow: visible",
        r.className = "CodeMirror-placeholder",
        r.appendChild(document.createTextNode(t.getOption("placeholder"))),
        t.display.lineSpace.insertBefore(r, t.display.lineSpace.firstChild)
    }
    function r(t) {
        e(t)
    }
    function n(e) {
        o(e) && t(e)
    }
    function i(r) {
        var n = r.getWrapperElement()
          , i = o(r);
        n.className = n.className.replace(" CodeMirror-empty", "") + (i ? " CodeMirror-empty" : ""),
        r.hasFocus() || (i ? t(r) : e(r))
    }
    function o(e) {
        return 1 === e.lineCount() && "" === e.getLine(0)
    }
    CodeMirror.defineOption("placeholder", "", function(t, o, l) {
        var s = l && l != CodeMirror.Init;
        if (o && !s)
            t.on("focus", r),
            t.on("blur", n),
            t.on("change", i),
            i(t);
        else if (!o && s) {
            t.off("focus", r),
            t.off("blur", n),
            t.off("change", i),
            e(t);
            var a = t.getWrapperElement();
            a.className = a.className.replace(" CodeMirror-empty", "")
        }
        o && !t.hasFocus() && n(t)
    })
}(),
function() {
    "use strict";
    function e(e, t, r) {
        this.cm = e,
        this.getHints = t,
        this.options = r,
        this.widget = this.onClose = null
    }
    function t(e) {
        return "string" == typeof e ? e : e.text
    }
    function r(e, t) {
        function r(e, r) {
            var o;
            o = "string" != typeof r ? function(e) {
                return r(e, t)
            }
            : n.hasOwnProperty(r) ? n[r] : r,
            i[e] = o
        }
        var n = {
            Up: function() {
                t.moveFocus(-1)
            },
            Down: function() {
                t.moveFocus(1)
            },
            PageUp: function() {
                t.moveFocus(-t.menuSize())
            },
            PageDown: function() {
                t.moveFocus(t.menuSize())
            },
            Home: function() {
                t.setFocus(0)
            },
            End: function() {
                t.setFocus(t.length)
            },
            Enter: t.pick,
            Tab: t.pick,
            Esc: t.close
        }
          , i = e.customKeys ? {} : n;
        if (e.customKeys)
            for (var o in e.customKeys)
                e.customKeys.hasOwnProperty(o) && r(o, e.customKeys[o]);
        if (e.extraKeys)
            for (var o in e.extraKeys)
                e.extraKeys.hasOwnProperty(o) && r(o, e.extraKeys[o]);
        return i
    }
    function n(e, n) {
        this.completion = e,
        this.data = n;
        var i = this
          , o = e.cm
          , l = e.options
          , s = this.hints = document.createElement("ul");
        s.className = "CodeMirror-hints",
        this.selectedHint = 0;
        for (var a = n.list, c = 0; c < a.length; ++c) {
            var u = s.appendChild(document.createElement("li"))
              , f = a[c]
              , h = "CodeMirror-hint" + (c ? "" : " CodeMirror-hint-active");
            null != f.className && (h = f.className + " " + h),
            u.className = h,
            f.render ? f.render(u, n, f) : u.appendChild(document.createTextNode(f.displayText || t(f))),
            u.hintId = c
        }
        var d = o.cursorCoords(!1 !== l.alignWithWord ? n.from : null)
          , p = d.left
          , m = d.bottom
          , g = !0;
        s.style.left = p + "px",
        s.style.top = m + "px";
        var v = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth)
          , y = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight)
          , b = s.getBoundingClientRect()
          , x = b.right - v
          , C = b.bottom - y;
        if (x > 0 && (b.right - b.left > v && (s.style.width = v - 5 + "px",
        x -= b.right - b.left - v),
        s.style.left = (p = d.left - x) + "px"),
        C > 0) {
            var w = b.bottom - b.top;
            b.top - (d.bottom - d.top) - w > 0 ? (C = w + (d.bottom - d.top),
            g = !1) : w > y && (s.style.height = y - 5 + "px",
            C -= w - y),
            s.style.top = (m = d.bottom - C) + "px"
        }
        if ((l.container || document.body).appendChild(s),
        o.addKeyMap(this.keyMap = r(l, {
            moveFocus: function(e) {
                i.changeActive(i.selectedHint + e)
            },
            setFocus: function(e) {
                i.changeActive(e)
            },
            menuSize: function() {
                return i.screenAmount()
            },
            length: a.length,
            close: function() {
                e.close()
            },
            pick: function() {
                i.pick()
            }
        })),
        !1 !== l.closeOnUnfocus) {
            var L;
            o.on("blur", this.onBlur = function() {
                L = setTimeout(function() {
                    e.close()
                }, 100)
            }
            ),
            o.on("focus", this.onFocus = function() {
                clearTimeout(L)
            }
            )
        }
        var k = o.getScrollInfo();
        return o.on("scroll", this.onScroll = function() {
            var t = o.getScrollInfo()
              , r = o.getWrapperElement().getBoundingClientRect()
              , n = m + k.top - t.top
              , i = n - (window.pageYOffset || (document.documentElement || document.body).scrollTop);
            return g || (i += s.offsetHeight),
            i <= r.top || i >= r.bottom ? e.close() : (s.style.top = n + "px",
            void (s.style.left = p + k.left - t.left + "px"))
        }
        ),
        CodeMirror.on(s, "dblclick", function(e) {
            var t = e.target || e.srcElement;
            null != t.hintId && (i.changeActive(t.hintId),
            i.pick())
        }),
        CodeMirror.on(s, "click", function(e) {
            var t = e.target || e.srcElement;
            null != t.hintId && i.changeActive(t.hintId)
        }),
        CodeMirror.on(s, "mousedown", function() {
            setTimeout(function() {
                o.focus()
            }, 20)
        }),
        CodeMirror.signal(n, "select", a[0], s.firstChild),
        !0
    }
    CodeMirror.showHint = function(t, r, n) {
        if (!t.somethingSelected() && (null == r && (r = t.getHelper(t.getCursor(), "hint")),
        null != r)) {
            t.state.completionActive && t.state.completionActive.close();
            var i = t.state.completionActive = new e(t,r,n || {});
            return CodeMirror.signal(t, "startCompletion", t),
            i.options.async ? void r(t, function(e) {
                i.showHints(e)
            }, i.options) : i.showHints(r(t, i.options))
        }
    }
    ,
    e.prototype = {
        close: function() {
            this.active() && (this.cm.state.completionActive = null,
            this.widget && this.widget.close(),
            this.onClose && this.onClose(),
            CodeMirror.signal(this.cm, "endCompletion", this.cm))
        },
        active: function() {
            return this.cm.state.completionActive == this
        },
        pick: function(e, r) {
            var n = e.list[r];
            n.hint ? n.hint(this.cm, e, n) : this.cm.replaceRange(t(n), e.from, e.to),
            this.close()
        },
        showHints: function(e) {
            return e && e.list.length && this.active() ? void (0 != this.options.completeSingle && 1 == e.list.length ? this.pick(e, 0) : this.showWidget(e)) : this.close()
        },
        showWidget: function(e) {
            function t() {
                l || (l = !0,
                a.close(),
                a.cm.off("cursorActivity", o),
                e && CodeMirror.signal(e, "close"))
            }
            function r() {
                l || (CodeMirror.signal(e, "update"),
                a.options.async ? a.getHints(a.cm, i, a.options) : i(a.getHints(a.cm, a.options)))
            }
            function i(r) {
                return e = r,
                l ? void 0 : e && e.list.length ? void (a.widget = new n(a,e)) : t()
            }
            function o() {
                clearTimeout(s);
                var e = a.cm.getCursor()
                  , t = a.cm.getLine(e.line);
                e.line != u.line || t.length - e.ch != f - u.ch || e.ch < u.ch || a.cm.somethingSelected() || e.ch && c.test(t.charAt(e.ch - 1)) ? a.close() : (s = setTimeout(r, 170),
                a.widget && a.widget.close())
            }
            this.widget = new n(this,e),
            CodeMirror.signal(e, "shown");
            var l, s = null, a = this, c = this.options.closeCharacters || /[\s()\[\]{};:>,]/, u = this.cm.getCursor(), f = this.cm.getLine(u.line).length;
            this.cm.on("cursorActivity", o),
            this.onClose = t
        }
    },
    n.prototype = {
        close: function() {
            if (this.completion.widget == this) {
                this.completion.widget = null,
                this.hints.parentNode.removeChild(this.hints),
                this.completion.cm.removeKeyMap(this.keyMap);
                var e = this.completion.cm;
                !1 !== this.completion.options.closeOnUnfocus && (e.off("blur", this.onBlur),
                e.off("focus", this.onFocus)),
                e.off("scroll", this.onScroll)
            }
        },
        pick: function() {
            this.completion.pick(this.data, this.selectedHint)
        },
        changeActive: function(e) {
            if (e = Math.max(0, Math.min(e, this.data.list.length - 1)),
            this.selectedHint != e) {
                var t = this.hints.childNodes[this.selectedHint];
                t.className = t.className.replace(" CodeMirror-hint-active", ""),
                (t = this.hints.childNodes[this.selectedHint = e]).className += " CodeMirror-hint-active",
                t.offsetTop < this.hints.scrollTop ? this.hints.scrollTop = t.offsetTop - 3 : t.offsetTop + t.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = t.offsetTop + t.offsetHeight - this.hints.clientHeight + 3),
                CodeMirror.signal(this.data, "select", this.data.list[this.selectedHint], t)
            }
        },
        screenAmount: function() {
            return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1
        }
    }
}(),
function() {
    "use strict";
    var e = /[\w$]+/;
    CodeMirror.registerHelper("hint", "anyword", function(t, r) {
        function n(e) {
            for (var r = l.line, n = Math.min(Math.max(r + e * o, t.firstLine()), t.lastLine()) + e; r != n; r += e)
                for (var s, a = t.getLine(r), c = new RegExp(i.source,"g"); s = c.exec(a); )
                    (r != l.line || s[0] !== u) && (u && 0 != s[0].indexOf(u) || h.hasOwnProperty(s[0]) || (h[s[0]] = !0,
                    f.push(s[0])))
        }
        for (var i = r && r.word || e, o = r && r.range || 500, l = t.getCursor(), s = t.getLine(l.line), a = l.ch, c = a; c < s.length && i.test(s.charAt(c)); )
            ++c;
        for (; a && i.test(s.charAt(a - 1)); )
            --a;
        var u = a != c && s.slice(a, c)
          , f = []
          , h = {};
        return n(-1),
        n(1),
        {
            list: f,
            from: CodeMirror.Pos(l.line, a),
            to: CodeMirror.Pos(l.line, c)
        }
    })
}();
var LZString = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    compressToBase64: function(r) {
        var o, e, a, t, i, n, h, s = "", C = 0;
        for (r = this.compress(r); C < 2 * r.length; )
            C % 2 == 0 ? (o = r.charCodeAt(C / 2) >> 8,
            e = 255 & r.charCodeAt(C / 2),
            a = C / 2 + 1 < r.length ? r.charCodeAt(C / 2 + 1) >> 8 : NaN) : (o = 255 & r.charCodeAt((C - 1) / 2),
            (C + 1) / 2 < r.length ? (e = r.charCodeAt((C + 1) / 2) >> 8,
            a = 255 & r.charCodeAt((C + 1) / 2)) : e = a = NaN),
            C += 3,
            t = o >> 2,
            i = (3 & o) << 4 | e >> 4,
            n = (15 & e) << 2 | a >> 6,
            h = 63 & a,
            isNaN(e) ? n = h = 64 : isNaN(a) && (h = 64),
            s = s + this._keyStr.charAt(t) + this._keyStr.charAt(i) + this._keyStr.charAt(n) + this._keyStr.charAt(h);
        return s
    },
    decompressFromBase64: function(r) {
        var o, e, a, t, i, n, h, s = "", C = 0, f = 0;
        for (r = r.replace(/[^A-Za-z0-9\+\/\=]/g, ""); f < r.length; )
            e = this._keyStr.indexOf(r.charAt(f++)) << 2 | (i = this._keyStr.indexOf(r.charAt(f++))) >> 4,
            a = (15 & i) << 4 | (n = this._keyStr.indexOf(r.charAt(f++))) >> 2,
            t = (3 & n) << 6 | (h = this._keyStr.indexOf(r.charAt(f++))),
            C % 2 == 0 ? (o = e << 8,
            flush = !0,
            64 != n && (s += String.fromCharCode(o | a),
            flush = !1),
            64 != h && (o = t << 8,
            flush = !0)) : (s += String.fromCharCode(o | e),
            flush = !1,
            64 != n && (o = a << 8,
            flush = !0),
            64 != h && (s += String.fromCharCode(o | t),
            flush = !1)),
            C += 3;
        return this.decompress(s)
    },
    compressToUTF16: function(r) {
        var o, e, a, t = "", i = 0;
        for (r = this.compress(r),
        o = 0; o < r.length; o++)
            switch (e = r.charCodeAt(o),
            i++) {
            case 0:
                t += String.fromCharCode(32 + (e >> 1)),
                a = (1 & e) << 14;
                break;
            case 1:
                t += String.fromCharCode(a + (e >> 2) + 32),
                a = (3 & e) << 13;
                break;
            case 2:
                t += String.fromCharCode(a + (e >> 3) + 32),
                a = (7 & e) << 12;
                break;
            case 3:
                t += String.fromCharCode(a + (e >> 4) + 32),
                a = (15 & e) << 11;
                break;
            case 4:
                t += String.fromCharCode(a + (e >> 5) + 32),
                a = (31 & e) << 10;
                break;
            case 5:
                t += String.fromCharCode(a + (e >> 6) + 32),
                a = (63 & e) << 9;
                break;
            case 6:
                t += String.fromCharCode(a + (e >> 7) + 32),
                a = (127 & e) << 8;
                break;
            case 7:
                t += String.fromCharCode(a + (e >> 8) + 32),
                a = (255 & e) << 7;
                break;
            case 8:
                t += String.fromCharCode(a + (e >> 9) + 32),
                a = (511 & e) << 6;
                break;
            case 9:
                t += String.fromCharCode(a + (e >> 10) + 32),
                a = (1023 & e) << 5;
                break;
            case 10:
                t += String.fromCharCode(a + (e >> 11) + 32),
                a = (2047 & e) << 4;
                break;
            case 11:
                t += String.fromCharCode(a + (e >> 12) + 32),
                a = (4095 & e) << 3;
                break;
            case 12:
                t += String.fromCharCode(a + (e >> 13) + 32),
                a = (8191 & e) << 2;
                break;
            case 13:
                t += String.fromCharCode(a + (e >> 14) + 32),
                a = (16383 & e) << 1;
                break;
            case 14:
                t += String.fromCharCode(a + (e >> 15) + 32, 32 + (32767 & e)),
                i = 0
            }
        return t + String.fromCharCode(a + 32)
    },
    decompressFromUTF16: function(r) {
        for (var o, e, a = "", t = 0, i = 0; i < r.length; ) {
            switch (e = r.charCodeAt(i) - 32,
            t++) {
            case 0:
                o = e << 1;
                break;
            case 1:
                a += String.fromCharCode(o | e >> 14),
                o = (16383 & e) << 2;
                break;
            case 2:
                a += String.fromCharCode(o | e >> 13),
                o = (8191 & e) << 3;
                break;
            case 3:
                a += String.fromCharCode(o | e >> 12),
                o = (4095 & e) << 4;
                break;
            case 4:
                a += String.fromCharCode(o | e >> 11),
                o = (2047 & e) << 5;
                break;
            case 5:
                a += String.fromCharCode(o | e >> 10),
                o = (1023 & e) << 6;
                break;
            case 6:
                a += String.fromCharCode(o | e >> 9),
                o = (511 & e) << 7;
                break;
            case 7:
                a += String.fromCharCode(o | e >> 8),
                o = (255 & e) << 8;
                break;
            case 8:
                a += String.fromCharCode(o | e >> 7),
                o = (127 & e) << 9;
                break;
            case 9:
                a += String.fromCharCode(o | e >> 6),
                o = (63 & e) << 10;
                break;
            case 10:
                a += String.fromCharCode(o | e >> 5),
                o = (31 & e) << 11;
                break;
            case 11:
                a += String.fromCharCode(o | e >> 4),
                o = (15 & e) << 12;
                break;
            case 12:
                a += String.fromCharCode(o | e >> 3),
                o = (7 & e) << 13;
                break;
            case 13:
                a += String.fromCharCode(o | e >> 2),
                o = (3 & e) << 14;
                break;
            case 14:
                a += String.fromCharCode(o | e >> 1),
                o = (1 & e) << 15;
                break;
            case 15:
                a += String.fromCharCode(o | e),
                t = 0
            }
            i++
        }
        return this.decompress(a)
    },
    compress: function(r) {
        var o, e, a, t = {}, i = {}, n = "", h = "", s = "", C = 2, f = 3, c = 2, d = "", g = 0, m = 0;
        for (a = 0; a < r.length; a += 1)
            if (n = r.charAt(a),
            t.hasOwnProperty(n) || (t[n] = f++,
            i[n] = !0),
            h = s + n,
            t.hasOwnProperty(h))
                s = h;
            else {
                if (i.hasOwnProperty(s)) {
                    if (s.charCodeAt(0) < 256) {
                        for (o = 0; o < c; o++)
                            g <<= 1,
                            15 == m ? (m = 0,
                            d += String.fromCharCode(g),
                            g = 0) : m++;
                        for (e = s.charCodeAt(0),
                        o = 0; o < 8; o++)
                            g = g << 1 | 1 & e,
                            15 == m ? (m = 0,
                            d += String.fromCharCode(g),
                            g = 0) : m++,
                            e >>= 1
                    } else {
                        for (e = 1,
                        o = 0; o < c; o++)
                            g = g << 1 | e,
                            15 == m ? (m = 0,
                            d += String.fromCharCode(g),
                            g = 0) : m++,
                            e = 0;
                        for (e = s.charCodeAt(0),
                        o = 0; o < 16; o++)
                            g = g << 1 | 1 & e,
                            15 == m ? (m = 0,
                            d += String.fromCharCode(g),
                            g = 0) : m++,
                            e >>= 1
                    }
                    0 == --C && (C = Math.pow(2, c),
                    c++),
                    delete i[s]
                } else
                    for (e = t[s],
                    o = 0; o < c; o++)
                        g = g << 1 | 1 & e,
                        15 == m ? (m = 0,
                        d += String.fromCharCode(g),
                        g = 0) : m++,
                        e >>= 1;
                0 == --C && (C = Math.pow(2, c),
                c++),
                t[h] = f++,
                s = String(n)
            }
        if ("" !== s) {
            if (i.hasOwnProperty(s)) {
                if (s.charCodeAt(0) < 256) {
                    for (o = 0; o < c; o++)
                        g <<= 1,
                        15 == m ? (m = 0,
                        d += String.fromCharCode(g),
                        g = 0) : m++;
                    for (e = s.charCodeAt(0),
                    o = 0; o < 8; o++)
                        g = g << 1 | 1 & e,
                        15 == m ? (m = 0,
                        d += String.fromCharCode(g),
                        g = 0) : m++,
                        e >>= 1
                } else {
                    for (e = 1,
                    o = 0; o < c; o++)
                        g = g << 1 | e,
                        15 == m ? (m = 0,
                        d += String.fromCharCode(g),
                        g = 0) : m++,
                        e = 0;
                    for (e = s.charCodeAt(0),
                    o = 0; o < 16; o++)
                        g = g << 1 | 1 & e,
                        15 == m ? (m = 0,
                        d += String.fromCharCode(g),
                        g = 0) : m++,
                        e >>= 1
                }
                0 == --C && (C = Math.pow(2, c),
                c++),
                delete i[s]
            } else
                for (e = t[s],
                o = 0; o < c; o++)
                    g = g << 1 | 1 & e,
                    15 == m ? (m = 0,
                    d += String.fromCharCode(g),
                    g = 0) : m++,
                    e >>= 1;
            0 == --C && (C = Math.pow(2, c),
            c++)
        }
        for (e = 2,
        o = 0; o < c; o++)
            g = g << 1 | 1 & e,
            15 == m ? (m = 0,
            d += String.fromCharCode(g),
            g = 0) : m++,
            e >>= 1;
        for (; ; ) {
            if (g <<= 1,
            15 == m) {
                d += String.fromCharCode(g);
                break
            }
            m++
        }
        return d
    },
    decompress: function(r) {
        var o, e, a, t, i, n, h, s = [], C = 4, f = 4, c = 3, d = "", g = "", m = 0, S = {
            string: r,
            val: r.charCodeAt(0),
            position: 32768,
            index: 1
        };
        for (o = 0; o < 3; o += 1)
            s[o] = o;
        for (a = 0,
        i = Math.pow(2, 2),
        n = 1; n != i; )
            t = S.val & S.position,
            S.position >>= 1,
            0 == S.position && (S.position = 32768,
            S.val = S.string.charCodeAt(S.index++)),
            a |= (t > 0 ? 1 : 0) * n,
            n <<= 1;
        switch (a) {
        case 0:
            for (a = 0,
            i = Math.pow(2, 8),
            n = 1; n != i; )
                t = S.val & S.position,
                S.position >>= 1,
                0 == S.position && (S.position = 32768,
                S.val = S.string.charCodeAt(S.index++)),
                a |= (t > 0 ? 1 : 0) * n,
                n <<= 1;
            h = String.fromCharCode(a);
            break;
        case 1:
            for (a = 0,
            i = Math.pow(2, 16),
            n = 1; n != i; )
                t = S.val & S.position,
                S.position >>= 1,
                0 == S.position && (S.position = 32768,
                S.val = S.string.charCodeAt(S.index++)),
                a |= (t > 0 ? 1 : 0) * n,
                n <<= 1;
            h = String.fromCharCode(a);
            break;
        case 2:
            return ""
        }
        for (s[3] = h,
        e = g = h; ; ) {
            for (a = 0,
            i = Math.pow(2, c),
            n = 1; n != i; )
                t = S.val & S.position,
                S.position >>= 1,
                0 == S.position && (S.position = 32768,
                S.val = S.string.charCodeAt(S.index++)),
                a |= (t > 0 ? 1 : 0) * n,
                n <<= 1;
            switch (h = a) {
            case 0:
                if (m++ > 1e4)
                    return "Error";
                for (a = 0,
                i = Math.pow(2, 8),
                n = 1; n != i; )
                    t = S.val & S.position,
                    S.position >>= 1,
                    0 == S.position && (S.position = 32768,
                    S.val = S.string.charCodeAt(S.index++)),
                    a |= (t > 0 ? 1 : 0) * n,
                    n <<= 1;
                s[f++] = String.fromCharCode(a),
                h = f - 1,
                C--;
                break;
            case 1:
                for (a = 0,
                i = Math.pow(2, 16),
                n = 1; n != i; )
                    t = S.val & S.position,
                    S.position >>= 1,
                    0 == S.position && (S.position = 32768,
                    S.val = S.string.charCodeAt(S.index++)),
                    a |= (t > 0 ? 1 : 0) * n,
                    n <<= 1;
                s[f++] = String.fromCharCode(a),
                h = f - 1,
                C--;
                break;
            case 2:
                return g
            }
            if (0 == C && (C = Math.pow(2, c),
            c++),
            s[h])
                d = s[h];
            else {
                if (h !== f)
                    return null;
                d = e + e.charAt(0)
            }
            g += d,
            s[f++] = e + d.charAt(0),
            e = d,
            0 == --C && (C = Math.pow(2, c),
            c++)
        }
    }
};
!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).JSZip = e()
    }
}(function() {
    return function e(t, r, n) {
        function i(a, o) {
            if (!r[a]) {
                if (!t[a]) {
                    var u = "function" == typeof require && require;
                    if (!o && u)
                        return u(a, !0);
                    if (s)
                        return s(a, !0);
                    var h = new Error("No encontrado '" + a + "'");
                    throw h.code = "MODULE_NOT_FOUND",
                    h
                }
                var l = r[a] = {
                    exports: {}
                };
                t[a][0].call(l.exports, function(e) {
                    var r = t[a][1][e];
                    return i(r || e)
                }, l, l.exports, e, t, r, n)
            }
            return r[a].exports
        }
        for (var s = "function" == typeof require && require, a = 0; a < n.length; a++)
            i(n[a]);
        return i
    }({
        1: [function(e, t, r) {
            "use strict";
            var n = e("./utils")
              , i = e("./support")
              , s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            r.encode = function(e) {
                for (var t, r, i, a, o, u, h, l = [], c = 0, f = e.length, d = f, p = "string" !== n.getTypeOf(e); c < e.length; )
                    d = f - c,
                    p ? (t = e[c++],
                    r = c < f ? e[c++] : 0,
                    i = c < f ? e[c++] : 0) : (t = e.charCodeAt(c++),
                    r = c < f ? e.charCodeAt(c++) : 0,
                    i = c < f ? e.charCodeAt(c++) : 0),
                    a = t >> 2,
                    o = (3 & t) << 4 | r >> 4,
                    u = d > 1 ? (15 & r) << 2 | i >> 6 : 64,
                    h = d > 2 ? 63 & i : 64,
                    l.push(s.charAt(a) + s.charAt(o) + s.charAt(u) + s.charAt(h));
                return l.join("")
            }
            ,
            r.decode = function(e) {
                var t, r, n, a, o, u, h = 0, l = 0;
                if ("data:" === e.substr(0, "data:".length))
                    throw new Error("Error");
                var c = 3 * (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, "")).length / 4;
                if (e.charAt(e.length - 1) === s.charAt(64) && c--,
                e.charAt(e.length - 2) === s.charAt(64) && c--,
                c % 1 != 0)
                    throw new Error("Error");
                var f;
                for (f = i.uint8array ? new Uint8Array(0 | c) : new Array(0 | c); h < e.length; )
                    t = s.indexOf(e.charAt(h++)) << 2 | (a = s.indexOf(e.charAt(h++))) >> 4,
                    r = (15 & a) << 4 | (o = s.indexOf(e.charAt(h++))) >> 2,
                    n = (3 & o) << 6 | (u = s.indexOf(e.charAt(h++))),
                    f[l++] = t,
                    64 !== o && (f[l++] = r),
                    64 !== u && (f[l++] = n);
                return f
            }
        }
        , {
            "./support": 30,
            "./utils": 32
        }],
        2: [function(e, t, r) {
            "use strict";
            function n(e, t, r, n, i) {
                this.compressedSize = e,
                this.uncompressedSize = t,
                this.crc32 = r,
                this.compression = n,
                this.compressedContent = i
            }
            var i = e("./external")
              , s = e("./stream/DataWorker")
              , a = e("./stream/DataLengthProbe")
              , o = e("./stream/Crc32Probe")
              , a = e("./stream/DataLengthProbe");
            n.prototype = {
                getContentWorker: function() {
                    var e = new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length"))
                      , t = this;
                    return e.on("end", function() {
                        if (this.streamInfo.data_length !== t.uncompressedSize)
                            throw new Error("Error")
                    }),
                    e
                },
                getCompressedWorker: function() {
                    return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression)
                }
            },
            n.createWorkerFrom = function(e, t, r) {
                return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression", t)
            }
            ,
            t.exports = n
        }
        , {
            "./external": 6,
            "./stream/Crc32Probe": 25,
            "./stream/DataLengthProbe": 26,
            "./stream/DataWorker": 27
        }],
        3: [function(e, t, r) {
            "use strict";
            var n = e("./stream/GenericWorker");
            r.STORE = {
                magic: "\0\0",
                compressWorker: function(e) {
                    return new n("STORE compression")
                },
                uncompressWorker: function() {
                    return new n("STORE decompression")
                }
            },
            r.DEFLATE = e("./flate")
        }
        , {
            "./flate": 7,
            "./stream/GenericWorker": 28
        }],
        4: [function(e, t, r) {
            "use strict";
            function n(e, t, r, n) {
                var i = a
                  , s = n + r;
                e ^= -1;
                for (var o = n; o < s; o++)
                    e = e >>> 8 ^ i[255 & (e ^ t[o])];
                return -1 ^ e
            }
            function i(e, t, r, n) {
                var i = a
                  , s = n + r;
                e ^= -1;
                for (var o = n; o < s; o++)
                    e = e >>> 8 ^ i[255 & (e ^ t.charCodeAt(o))];
                return -1 ^ e
            }
            var s = e("./utils")
              , a = function() {
                for (var e, t = [], r = 0; r < 256; r++) {
                    e = r;
                    for (var n = 0; n < 8; n++)
                        e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1;
                    t[r] = e
                }
                return t
            }();
            t.exports = function(e, t) {
                return void 0 !== e && e.length ? "string" !== s.getTypeOf(e) ? n(0 | t, e, e.length, 0) : i(0 | t, e, e.length, 0) : 0
            }
        }
        , {
            "./utils": 32
        }],
        5: [function(e, t, r) {
            "use strict";
            r.base64 = !1,
            r.binary = !1,
            r.dir = !1,
            r.createFolders = !0,
            r.date = null,
            r.compression = null,
            r.compressionOptions = null,
            r.comment = null,
            r.unixPermissions = null,
            r.dosPermissions = null
        }
        , {}],
        6: [function(e, t, r) {
            "use strict";
            var n = null;
            n = "undefined" != typeof Promise ? Promise : e("lie"),
            t.exports = {
                Promise: n
            }
        }
        , {
            lie: 58
        }],
        7: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                o.call(this, "FlateWorker/" + e),
                this._pako = null,
                this._pakoAction = e,
                this._pakoOptions = t,
                this.meta = {}
            }
            var i = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array
              , s = e("pako")
              , a = e("./utils")
              , o = e("./stream/GenericWorker")
              , u = i ? "uint8array" : "array";
            r.magic = "\b\0",
            a.inherits(n, o),
            n.prototype.processChunk = function(e) {
                this.meta = e.meta,
                null === this._pako && this._createPako(),
                this._pako.push(a.transformTo(u, e.data), !1)
            }
            ,
            n.prototype.flush = function() {
                o.prototype.flush.call(this),
                null === this._pako && this._createPako(),
                this._pako.push([], !0)
            }
            ,
            n.prototype.cleanUp = function() {
                o.prototype.cleanUp.call(this),
                this._pako = null
            }
            ,
            n.prototype._createPako = function() {
                this._pako = new s[this._pakoAction]({
                    raw: !0,
                    level: this._pakoOptions.level || -1
                });
                var e = this;
                this._pako.onData = function(t) {
                    e.push({
                        data: t,
                        meta: e.meta
                    })
                }
            }
            ,
            r.compressWorker = function(e) {
                return new n("Deflate",e)
            }
            ,
            r.uncompressWorker = function() {
                return new n("Inflate",{})
            }
        }
        , {
            "./stream/GenericWorker": 28,
            "./utils": 32,
            pako: 59
        }],
        8: [function(e, t, r) {
            "use strict";
            function n(e, t, r, n) {
                s.call(this, "ZipFileWorker"),
                this.bytesWritten = 0,
                this.zipComment = t,
                this.zipPlatform = r,
                this.encodeFileName = n,
                this.streamFiles = e,
                this.accumulate = !1,
                this.contentBuffer = [],
                this.dirRecords = [],
                this.currentSourceOffset = 0,
                this.entriesCount = 0,
                this.currentFile = null,
                this._sources = []
            }
            var i = e("../utils")
              , s = e("../stream/GenericWorker")
              , a = e("../utf8")
              , o = e("../crc32")
              , u = e("../signature")
              , h = function(e, t) {
                var r, n = "";
                for (r = 0; r < t; r++)
                    n += String.fromCharCode(255 & e),
                    e >>>= 8;
                return n
            }
              , l = function(e, t) {
                var r = e;
                return e || (r = t ? 16893 : 33204),
                (65535 & r) << 16
            }
              , c = function(e, t) {
                return 63 & (e || 0)
            }
              , f = function(e, t, r, n, s, f) {
                var d, p, m = e.file, _ = e.compression, g = f !== a.utf8encode, b = i.transformTo("string", f(m.name)), v = i.transformTo("string", a.utf8encode(m.name)), w = m.comment, y = i.transformTo("string", f(w)), k = i.transformTo("string", a.utf8encode(w)), x = v.length !== m.name.length, S = k.length !== w.length, z = "", C = "", E = "", A = m.dir, I = m.date, O = {
                    crc32: 0,
                    compressedSize: 0,
                    uncompressedSize: 0
                };
                t && !r || (O.crc32 = e.crc32,
                O.compressedSize = e.compressedSize,
                O.uncompressedSize = e.uncompressedSize);
                var B = 0;
                t && (B |= 8),
                g || !x && !S || (B |= 2048);
                var R = 0
                  , T = 0;
                A && (R |= 16),
                "UNIX" === s ? (T = 798,
                R |= l(m.unixPermissions, A)) : (T = 20,
                R |= c(m.dosPermissions)),
                d = I.getUTCHours(),
                d <<= 6,
                d |= I.getUTCMinutes(),
                d <<= 5,
                d |= I.getUTCSeconds() / 2,
                p = I.getUTCFullYear() - 1980,
                p <<= 4,
                p |= I.getUTCMonth() + 1,
                p <<= 5,
                p |= I.getUTCDate(),
                x && (C = h(1, 1) + h(o(b), 4) + v,
                z += "up" + h(C.length, 2) + C),
                S && (E = h(1, 1) + h(o(y), 4) + k,
                z += "uc" + h(E.length, 2) + E);
                var D = "";
                return D += "\n\0",
                D += h(B, 2),
                D += _.magic,
                D += h(d, 2),
                D += h(p, 2),
                D += h(O.crc32, 4),
                D += h(O.compressedSize, 4),
                D += h(O.uncompressedSize, 4),
                D += h(b.length, 2),
                D += h(z.length, 2),
                {
                    fileRecord: u.LOCAL_FILE_HEADER + D + b + z,
                    dirRecord: u.CENTRAL_FILE_HEADER + h(T, 2) + D + h(y.length, 2) + "\0\0\0\0" + h(R, 4) + h(n, 4) + b + z + y
                }
            }
              , d = function(e, t, r, n, s) {
                var a = i.transformTo("string", s(n));
                return u.CENTRAL_DIRECTORY_END + "\0\0\0\0" + h(e, 2) + h(e, 2) + h(t, 4) + h(r, 4) + h(a.length, 2) + a
            }
              , p = function(e) {
                return u.DATA_DESCRIPTOR + h(e.crc32, 4) + h(e.compressedSize, 4) + h(e.uncompressedSize, 4)
            };
            i.inherits(n, s),
            n.prototype.push = function(e) {
                var t = e.meta.percent || 0
                  , r = this.entriesCount
                  , n = this._sources.length;
                this.accumulate ? this.contentBuffer.push(e) : (this.bytesWritten += e.data.length,
                s.prototype.push.call(this, {
                    data: e.data,
                    meta: {
                        currentFile: this.currentFile,
                        percent: r ? (t + 100 * (r - n - 1)) / r : 100
                    }
                }))
            }
            ,
            n.prototype.openedSource = function(e) {
                this.currentSourceOffset = this.bytesWritten,
                this.currentFile = e.file.name;
                var t = this.streamFiles && !e.file.dir;
                if (t) {
                    var r = f(e, t, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                    this.push({
                        data: r.fileRecord,
                        meta: {
                            percent: 0
                        }
                    })
                } else
                    this.accumulate = !0
            }
            ,
            n.prototype.closedSource = function(e) {
                this.accumulate = !1;
                var t = this.streamFiles && !e.file.dir
                  , r = f(e, t, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                if (this.dirRecords.push(r.dirRecord),
                t)
                    this.push({
                        data: p(e),
                        meta: {
                            percent: 100
                        }
                    });
                else
                    for (this.push({
                        data: r.fileRecord,
                        meta: {
                            percent: 0
                        }
                    }); this.contentBuffer.length; )
                        this.push(this.contentBuffer.shift());
                this.currentFile = null
            }
            ,
            n.prototype.flush = function() {
                for (var e = this.bytesWritten, t = 0; t < this.dirRecords.length; t++)
                    this.push({
                        data: this.dirRecords[t],
                        meta: {
                            percent: 100
                        }
                    });
                var r = this.bytesWritten - e
                  , n = d(this.dirRecords.length, r, e, this.zipComment, this.encodeFileName);
                this.push({
                    data: n,
                    meta: {
                        percent: 100
                    }
                })
            }
            ,
            n.prototype.prepareNextSource = function() {
                this.previous = this._sources.shift(),
                this.openedSource(this.previous.streamInfo),
                this.isPaused ? this.previous.pause() : this.previous.resume()
            }
            ,
            n.prototype.registerPrevious = function(e) {
                this._sources.push(e);
                var t = this;
                return e.on("data", function(e) {
                    t.processChunk(e)
                }),
                e.on("end", function() {
                    t.closedSource(t.previous.streamInfo),
                    t._sources.length ? t.prepareNextSource() : t.end()
                }),
                e.on("error", function(e) {
                    t.error(e)
                }),
                this
            }
            ,
            n.prototype.resume = function() {
                return !!s.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(),
                !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(),
                !0))
            }
            ,
            n.prototype.error = function(e) {
                var t = this._sources;
                if (!s.prototype.error.call(this, e))
                    return !1;
                for (var r = 0; r < t.length; r++)
                    try {
                        t[r].error(e)
                    } catch (e) {}
                return !0
            }
            ,
            n.prototype.lock = function() {
                s.prototype.lock.call(this);
                for (var e = this._sources, t = 0; t < e.length; t++)
                    e[t].lock()
            }
            ,
            t.exports = n
        }
        , {
            "../crc32": 4,
            "../signature": 23,
            "../stream/GenericWorker": 28,
            "../utf8": 31,
            "../utils": 32
        }],
        9: [function(e, t, r) {
            "use strict";
            var n = e("../compressions")
              , i = e("./ZipFileWorker")
              , s = function(e, t) {
                var r = e || t
                  , i = n[r];
                if (!i)
                    throw new Error(r + " no v√°lido");
                return i
            };
            r.generateWorker = function(e, t, r) {
                var n = new i(t.streamFiles,r,t.platform,t.encodeFileName)
                  , a = 0;
                try {
                    e.forEach(function(e, r) {
                        a++;
                        var i = s(r.options.compression, t.compression)
                          , o = r.options.compressionOptions || t.compressionOptions || {}
                          , u = r.dir
                          , h = r.date;
                        r._compressWorker(i, o).withStreamInfo("file", {
                            name: e,
                            dir: u,
                            date: h,
                            comment: r.comment || "",
                            unixPermissions: r.unixPermissions,
                            dosPermissions: r.dosPermissions
                        }).pipe(n)
                    }),
                    n.entriesCount = a
                } catch (e) {
                    n.error(e)
                }
                return n
            }
        }
        , {
            "../compressions": 3,
            "./ZipFileWorker": 8
        }],
        10: [function(e, t, r) {
            "use strict";
            function n() {
                if (!(this instanceof n))
                    return new n;
                if (arguments.length)
                    throw new Error("Error");
                this.files = {},
                this.comment = null,
                this.root = "",
                this.clone = function() {
                    var e = new n;
                    for (var t in this)
                        "function" != typeof this[t] && (e[t] = this[t]);
                    return e
                }
            }
            n.prototype = e("./object"),
            n.prototype.loadAsync = e("./load"),
            n.support = e("./support"),
            n.defaults = e("./defaults"),
            n.version = "3.1.5",
            n.loadAsync = function(e, t) {
                return (new n).loadAsync(e, t)
            }
            ,
            n.external = e("./external"),
            t.exports = n
        }
        , {
            "./defaults": 5,
            "./external": 6,
            "./load": 11,
            "./object": 15,
            "./support": 30
        }],
        11: [function(e, t, r) {
            "use strict";
            function n(e) {
                return new s.Promise(function(t, r) {
                    var n = e.decompressed.getContentWorker().pipe(new u);
                    n.on("error", function(e) {
                        r(e)
                    }).on("end", function() {
                        n.streamInfo.crc32 !== e.decompressed.crc32 ? r(new Error("Srchivo corrupto")) : t()
                    }).resume()
                }
                )
            }
            var i = e("./utils")
              , s = e("./external")
              , a = e("./utf8")
              , i = e("./utils")
              , o = e("./zipEntries")
              , u = e("./stream/Crc32Probe")
              , h = e("./nodejsUtils");
            t.exports = function(e, t) {
                var r = this;
                return t = i.extend(t || {}, {
                    base64: !1,
                    checkCRC32: !1,
                    optimizedBinaryString: !1,
                    createFolders: !1,
                    decodeFileName: a.utf8decode
                }),
                h.isNode && h.isStream(e) ? s.Promise.reject(new Error("Error")) : i.prepareContent("the loaded zip file", e, !0, t.optimizedBinaryString, t.base64).then(function(e) {
                    var r = new o(t);
                    return r.load(e),
                    r
                }).then(function(e) {
                    var r = [s.Promise.resolve(e)]
                      , i = e.files;
                    if (t.checkCRC32)
                        for (var a = 0; a < i.length; a++)
                            r.push(n(i[a]));
                    return s.Promise.all(r)
                }).then(function(e) {
                    for (var n = e.shift(), i = n.files, s = 0; s < i.length; s++) {
                        var a = i[s];
                        r.file(a.fileNameStr, a.decompressed, {
                            binary: !0,
                            optimizedBinaryString: !0,
                            date: a.date,
                            dir: a.dir,
                            comment: a.fileCommentStr.length ? a.fileCommentStr : null,
                            unixPermissions: a.unixPermissions,
                            dosPermissions: a.dosPermissions,
                            createFolders: t.createFolders
                        })
                    }
                    return n.zipComment.length && (r.comment = n.zipComment),
                    r
                })
            }
        }
        , {
            "./external": 6,
            "./nodejsUtils": 14,
            "./stream/Crc32Probe": 25,
            "./utf8": 31,
            "./utils": 32,
            "./zipEntries": 33
        }],
        12: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                s.call(this, "Nodejs stream input adapter for " + e),
                this._upstreamEnded = !1,
                this._bindStream(t)
            }
            var i = e("../utils")
              , s = e("../stream/GenericWorker");
            i.inherits(n, s),
            n.prototype._bindStream = function(e) {
                var t = this;
                this._stream = e,
                e.pause(),
                e.on("data", function(e) {
                    t.push({
                        data: e,
                        meta: {
                            percent: 0
                        }
                    })
                }).on("error", function(e) {
                    t.isPaused ? this.generatedError = e : t.error(e)
                }).on("end", function() {
                    t.isPaused ? t._upstreamEnded = !0 : t.end()
                })
            }
            ,
            n.prototype.pause = function() {
                return !!s.prototype.pause.call(this) && (this._stream.pause(),
                !0)
            }
            ,
            n.prototype.resume = function() {
                return !!s.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(),
                !0)
            }
            ,
            t.exports = n
        }
        , {
            "../stream/GenericWorker": 28,
            "../utils": 32
        }],
        13: [function(e, t, r) {
            "use strict";
            function n(e, t, r) {
                i.call(this, t),
                this._helper = e;
                var n = this;
                e.on("data", function(e, t) {
                    n.push(e) || n._helper.pause(),
                    r && r(t)
                }).on("error", function(e) {
                    n.emit("error", e)
                }).on("end", function() {
                    n.push(null)
                })
            }
            var i = e("readable-stream").Readable;
            e("../utils").inherits(n, i),
            n.prototype._read = function() {
                this._helper.resume()
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "readable-stream": 16
        }],
        14: [function(e, t, r) {
            "use strict";
            t.exports = {
                isNode: "undefined" != typeof Buffer,
                newBufferFrom: function(e, t) {
                    return new Buffer(e,t)
                },
                allocBuffer: function(e) {
                    return Buffer.alloc ? Buffer.alloc(e) : new Buffer(e)
                },
                isBuffer: function(e) {
                    return Buffer.isBuffer(e)
                },
                isStream: function(e) {
                    return e && "function" == typeof e.on && "function" == typeof e.pause && "function" == typeof e.resume
                }
            }
        }
        , {}],
        15: [function(e, t, r) {
            "use strict";
            function n(e) {
                return "[object RegExp]" === Object.prototype.toString.call(e)
            }
            var i = e("./utf8")
              , s = e("./utils")
              , a = e("./stream/GenericWorker")
              , o = e("./stream/StreamHelper")
              , u = e("./defaults")
              , h = e("./compressedObject")
              , l = e("./zipObject")
              , c = e("./generate")
              , f = e("./nodejsUtils")
              , d = e("./nodejs/NodejsStreamInputAdapter")
              , p = function(e, t, r) {
                var n, i = s.getTypeOf(t), o = s.extend(r || {}, u);
                o.date = o.date || new Date,
                null !== o.compression && (o.compression = o.compression.toUpperCase()),
                "string" == typeof o.unixPermissions && (o.unixPermissions = parseInt(o.unixPermissions, 8)),
                o.unixPermissions && 16384 & o.unixPermissions && (o.dir = !0),
                o.dosPermissions && 16 & o.dosPermissions && (o.dir = !0),
                o.dir && (e = _(e)),
                o.createFolders && (n = m(e)) && g.call(this, n, !0);
                var c = "string" === i && !1 === o.binary && !1 === o.base64;
                r && void 0 !== r.binary || (o.binary = !c),
                (t instanceof h && 0 === t.uncompressedSize || o.dir || !t || 0 === t.length) && (o.base64 = !1,
                o.binary = !0,
                t = "",
                o.compression = "STORE",
                i = "string");
                var p = null;
                p = t instanceof h || t instanceof a ? t : f.isNode && f.isStream(t) ? new d(e,t) : s.prepareContent(e, t, o.binary, o.optimizedBinaryString, o.base64);
                var b = new l(e,p,o);
                this.files[e] = b
            }
              , m = function(e) {
                "/" === e.slice(-1) && (e = e.substring(0, e.length - 1));
                var t = e.lastIndexOf("/");
                return t > 0 ? e.substring(0, t) : ""
            }
              , _ = function(e) {
                return "/" !== e.slice(-1) && (e += "/"),
                e
            }
              , g = function(e, t) {
                return t = void 0 !== t ? t : u.createFolders,
                e = _(e),
                this.files[e] || p.call(this, e, null, {
                    dir: !0,
                    createFolders: t
                }),
                this.files[e]
            }
              , b = {
                load: function() {
                    throw new Error("Error")
                },
                forEach: function(e) {
                    var t, r, n;
                    for (t in this.files)
                        this.files.hasOwnProperty(t) && (n = this.files[t],
                        (r = t.slice(this.root.length, t.length)) && t.slice(0, this.root.length) === this.root && e(r, n))
                },
                filter: function(e) {
                    var t = [];
                    return this.forEach(function(r, n) {
                        e(r, n) && t.push(n)
                    }),
                    t
                },
                file: function(e, t, r) {
                    if (1 === arguments.length) {
                        if (n(e)) {
                            var i = e;
                            return this.filter(function(e, t) {
                                return !t.dir && i.test(e)
                            })
                        }
                        var s = this.files[this.root + e];
                        return s && !s.dir ? s : null
                    }
                    return e = this.root + e,
                    p.call(this, e, t, r),
                    this
                },
                folder: function(e) {
                    if (!e)
                        return this;
                    if (n(e))
                        return this.filter(function(t, r) {
                            return r.dir && e.test(t)
                        });
                    var t = this.root + e
                      , r = g.call(this, t)
                      , i = this.clone();
                    return i.root = r.name,
                    i
                },
                remove: function(e) {
                    e = this.root + e;
                    var t = this.files[e];
                    if (t || ("/" !== e.slice(-1) && (e += "/"),
                    t = this.files[e]),
                    t && !t.dir)
                        delete this.files[e];
                    else
                        for (var r = this.filter(function(t, r) {
                            return r.name.slice(0, e.length) === e
                        }), n = 0; n < r.length; n++)
                            delete this.files[r[n].name];
                    return this
                },
                generate: function(e) {
                    throw new Error("Error")
                },
                generateInternalStream: function(e) {
                    var t, r = {};
                    try {
                        if (r = s.extend(e || {}, {
                            streamFiles: !1,
                            compression: "STORE",
                            compressionOptions: null,
                            type: "",
                            platform: "DOS",
                            comment: null,
                            mimeType: "application/zip",
                            encodeFileName: i.utf8encode
                        }),
                        r.type = r.type.toLowerCase(),
                        r.compression = r.compression.toUpperCase(),
                        "binarystring" === r.type && (r.type = "string"),
                        !r.type)
                            throw new Error("No hay salida posible.");
                        s.checkSupport(r.type),
                        "darwin" !== r.platform && "freebsd" !== r.platform && "linux" !== r.platform && "sunos" !== r.platform || (r.platform = "UNIX"),
                        "win32" === r.platform && (r.platform = "DOS");
                        var n = r.comment || this.comment || "";
                        t = c.generateWorker(this, r, n)
                    } catch (e) {
                        (t = new a("error")).error(e)
                    }
                    return new o(t,r.type || "string",r.mimeType)
                },
                generateAsync: function(e, t) {
                    return this.generateInternalStream(e).accumulate(t)
                },
                generateNodeStream: function(e, t) {
                    return (e = e || {}).type || (e.type = "nodebuffer"),
                    this.generateInternalStream(e).toNodejsStream(t)
                }
            };
            t.exports = b
        }
        , {
            "./compressedObject": 2,
            "./defaults": 5,
            "./generate": 9,
            "./nodejs/NodejsStreamInputAdapter": 12,
            "./nodejsUtils": 14,
            "./stream/GenericWorker": 28,
            "./stream/StreamHelper": 29,
            "./utf8": 31,
            "./utils": 32,
            "./zipObject": 35
        }],
        16: [function(e, t, r) {
            t.exports = e("stream")
        }
        , {
            stream: void 0
        }],
        17: [function(e, t, r) {
            "use strict";
            function n(e) {
                i.call(this, e);
                for (var t = 0; t < this.data.length; t++)
                    e[t] = 255 & e[t]
            }
            var i = e("./DataReader");
            e("../utils").inherits(n, i),
            n.prototype.byteAt = function(e) {
                return this.data[this.zero + e]
            }
            ,
            n.prototype.lastIndexOfSignature = function(e) {
                for (var t = e.charCodeAt(0), r = e.charCodeAt(1), n = e.charCodeAt(2), i = e.charCodeAt(3), s = this.length - 4; s >= 0; --s)
                    if (this.data[s] === t && this.data[s + 1] === r && this.data[s + 2] === n && this.data[s + 3] === i)
                        return s - this.zero;
                return -1
            }
            ,
            n.prototype.readAndCheckSignature = function(e) {
                var t = e.charCodeAt(0)
                  , r = e.charCodeAt(1)
                  , n = e.charCodeAt(2)
                  , i = e.charCodeAt(3)
                  , s = this.readData(4);
                return t === s[0] && r === s[1] && n === s[2] && i === s[3]
            }
            ,
            n.prototype.readData = function(e) {
                if (this.checkOffset(e),
                0 === e)
                    return [];
                var t = this.data.slice(this.zero + this.index, this.zero + this.index + e);
                return this.index += e,
                t
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./DataReader": 18
        }],
        18: [function(e, t, r) {
            "use strict";
            function n(e) {
                this.data = e,
                this.length = e.length,
                this.index = 0,
                this.zero = 0
            }
            var i = e("../utils");
            n.prototype = {
                checkOffset: function(e) {
                    this.checkIndex(this.index + e)
                },
                checkIndex: function(e) {
                    if (this.length < this.zero + e || e < 0)
                        throw new Error("Error (longitud = " + this.length + ", indice = " + e + ")")
                },
                setIndex: function(e) {
                    this.checkIndex(e),
                    this.index = e
                },
                skip: function(e) {
                    this.setIndex(this.index + e)
                },
                byteAt: function(e) {},
                readInt: function(e) {
                    var t, r = 0;
                    for (this.checkOffset(e),
                    t = this.index + e - 1; t >= this.index; t--)
                        r = (r << 8) + this.byteAt(t);
                    return this.index += e,
                    r
                },
                readString: function(e) {
                    return i.transformTo("string", this.readData(e))
                },
                readData: function(e) {},
                lastIndexOfSignature: function(e) {},
                readAndCheckSignature: function(e) {},
                readDate: function() {
                    var e = this.readInt(4);
                    return new Date(Date.UTC(1980 + (e >> 25 & 127), (e >> 21 & 15) - 1, e >> 16 & 31, e >> 11 & 31, e >> 5 & 63, (31 & e) << 1))
                }
            },
            t.exports = n
        }
        , {
            "../utils": 32
        }],
        19: [function(e, t, r) {
            "use strict";
            function n(e) {
                i.call(this, e)
            }
            var i = e("./Uint8ArrayReader");
            e("../utils").inherits(n, i),
            n.prototype.readData = function(e) {
                this.checkOffset(e);
                var t = this.data.slice(this.zero + this.index, this.zero + this.index + e);
                return this.index += e,
                t
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./Uint8ArrayReader": 21
        }],
        20: [function(e, t, r) {
            "use strict";
            function n(e) {
                i.call(this, e)
            }
            var i = e("./DataReader");
            e("../utils").inherits(n, i),
            n.prototype.byteAt = function(e) {
                return this.data.charCodeAt(this.zero + e)
            }
            ,
            n.prototype.lastIndexOfSignature = function(e) {
                return this.data.lastIndexOf(e) - this.zero
            }
            ,
            n.prototype.readAndCheckSignature = function(e) {
                return e === this.readData(4)
            }
            ,
            n.prototype.readData = function(e) {
                this.checkOffset(e);
                var t = this.data.slice(this.zero + this.index, this.zero + this.index + e);
                return this.index += e,
                t
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./DataReader": 18
        }],
        21: [function(e, t, r) {
            "use strict";
            function n(e) {
                i.call(this, e)
            }
            var i = e("./ArrayReader");
            e("../utils").inherits(n, i),
            n.prototype.readData = function(e) {
                if (this.checkOffset(e),
                0 === e)
                    return new Uint8Array(0);
                var t = this.data.subarray(this.zero + this.index, this.zero + this.index + e);
                return this.index += e,
                t
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./ArrayReader": 17
        }],
        22: [function(e, t, r) {
            "use strict";
            var n = e("../utils")
              , i = e("../support")
              , s = e("./ArrayReader")
              , a = e("./StringReader")
              , o = e("./NodeBufferReader")
              , u = e("./Uint8ArrayReader");
            t.exports = function(e) {
                var t = n.getTypeOf(e);
                return n.checkSupport(t),
                "string" !== t || i.uint8array ? "nodebuffer" === t ? new o(e) : i.uint8array ? new u(n.transformTo("uint8array", e)) : new s(n.transformTo("array", e)) : new a(e)
            }
        }
        , {
            "../support": 30,
            "../utils": 32,
            "./ArrayReader": 17,
            "./NodeBufferReader": 19,
            "./StringReader": 20,
            "./Uint8ArrayReader": 21
        }],
        23: [function(e, t, r) {
            "use strict";
            r.LOCAL_FILE_HEADER = "PK",
            r.CENTRAL_FILE_HEADER = "PK",
            r.CENTRAL_DIRECTORY_END = "PK",
            r.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK",
            r.ZIP64_CENTRAL_DIRECTORY_END = "PK",
            r.DATA_DESCRIPTOR = "PK\b"
        }
        , {}],
        24: [function(e, t, r) {
            "use strict";
            function n(e) {
                i.call(this, "ConvertWorker to " + e),
                this.destType = e
            }
            var i = e("./GenericWorker")
              , s = e("../utils");
            s.inherits(n, i),
            n.prototype.processChunk = function(e) {
                this.push({
                    data: s.transformTo(this.destType, e.data),
                    meta: e.meta
                })
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        25: [function(e, t, r) {
            "use strict";
            function n() {
                i.call(this, "Crc32Probe"),
                this.withStreamInfo("crc32", 0)
            }
            var i = e("./GenericWorker")
              , s = e("../crc32");
            e("../utils").inherits(n, i),
            n.prototype.processChunk = function(e) {
                this.streamInfo.crc32 = s(e.data, this.streamInfo.crc32 || 0),
                this.push(e)
            }
            ,
            t.exports = n
        }
        , {
            "../crc32": 4,
            "../utils": 32,
            "./GenericWorker": 28
        }],
        26: [function(e, t, r) {
            "use strict";
            function n(e) {
                s.call(this, "DataLengthProbe for " + e),
                this.propName = e,
                this.withStreamInfo(e, 0)
            }
            var i = e("../utils")
              , s = e("./GenericWorker");
            i.inherits(n, s),
            n.prototype.processChunk = function(e) {
                if (e) {
                    var t = this.streamInfo[this.propName] || 0;
                    this.streamInfo[this.propName] = t + e.data.length
                }
                s.prototype.processChunk.call(this, e)
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        27: [function(e, t, r) {
            "use strict";
            function n(e) {
                s.call(this, "DataWorker");
                var t = this;
                this.dataIsReady = !1,
                this.index = 0,
                this.max = 0,
                this.data = null,
                this.type = "",
                this._tickScheduled = !1,
                e.then(function(e) {
                    t.dataIsReady = !0,
                    t.data = e,
                    t.max = e && e.length || 0,
                    t.type = i.getTypeOf(e),
                    t.isPaused || t._tickAndRepeat()
                }, function(e) {
                    t.error(e)
                })
            }
            var i = e("../utils")
              , s = e("./GenericWorker");
            i.inherits(n, s),
            n.prototype.cleanUp = function() {
                s.prototype.cleanUp.call(this),
                this.data = null
            }
            ,
            n.prototype.resume = function() {
                return !!s.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0,
                i.delay(this._tickAndRepeat, [], this)),
                !0)
            }
            ,
            n.prototype._tickAndRepeat = function() {
                this._tickScheduled = !1,
                this.isPaused || this.isFinished || (this._tick(),
                this.isFinished || (i.delay(this._tickAndRepeat, [], this),
                this._tickScheduled = !0))
            }
            ,
            n.prototype._tick = function() {
                if (this.isPaused || this.isFinished)
                    return !1;
                var e = null
                  , t = Math.min(this.max, this.index + 16384);
                if (this.index >= this.max)
                    return this.end();
                switch (this.type) {
                case "string":
                    e = this.data.substring(this.index, t);
                    break;
                case "uint8array":
                    e = this.data.subarray(this.index, t);
                    break;
                case "array":
                case "nodebuffer":
                    e = this.data.slice(this.index, t)
                }
                return this.index = t,
                this.push({
                    data: e,
                    meta: {
                        percent: this.max ? this.index / this.max * 100 : 0
                    }
                })
            }
            ,
            t.exports = n
        }
        , {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        28: [function(e, t, r) {
            "use strict";
            function n(e) {
                this.name = e || "default",
                this.streamInfo = {},
                this.generatedError = null,
                this.extraStreamInfo = {},
                this.isPaused = !0,
                this.isFinished = !1,
                this.isLocked = !1,
                this._listeners = {
                    data: [],
                    end: [],
                    error: []
                },
                this.previous = null
            }
            n.prototype = {
                push: function(e) {
                    this.emit("data", e)
                },
                end: function() {
                    if (this.isFinished)
                        return !1;
                    this.flush();
                    try {
                        this.emit("end"),
                        this.cleanUp(),
                        this.isFinished = !0
                    } catch (e) {
                        this.emit("error", e)
                    }
                    return !0
                },
                error: function(e) {
                    return !this.isFinished && (this.isPaused ? this.generatedError = e : (this.isFinished = !0,
                    this.emit("error", e),
                    this.previous && this.previous.error(e),
                    this.cleanUp()),
                    !0)
                },
                on: function(e, t) {
                    return this._listeners[e].push(t),
                    this
                },
                cleanUp: function() {
                    this.streamInfo = this.generatedError = this.extraStreamInfo = null,
                    this._listeners = []
                },
                emit: function(e, t) {
                    if (this._listeners[e])
                        for (var r = 0; r < this._listeners[e].length; r++)
                            this._listeners[e][r].call(this, t)
                },
                pipe: function(e) {
                    return e.registerPrevious(this)
                },
                registerPrevious: function(e) {
                    if (this.isLocked)
                        throw new Error("Error '" + this + "' inexplicable");
                    this.streamInfo = e.streamInfo,
                    this.mergeStreamInfo(),
                    this.previous = e;
                    var t = this;
                    return e.on("data", function(e) {
                        t.processChunk(e)
                    }),
                    e.on("end", function() {
                        t.end()
                    }),
                    e.on("error", function(e) {
                        t.error(e)
                    }),
                    this
                },
                pause: function() {
                    return !this.isPaused && !this.isFinished && (this.isPaused = !0,
                    this.previous && this.previous.pause(),
                    !0)
                },
                resume: function() {
                    if (!this.isPaused || this.isFinished)
                        return !1;
                    this.isPaused = !1;
                    var e = !1;
                    return this.generatedError && (this.error(this.generatedError),
                    e = !0),
                    this.previous && this.previous.resume(),
                    !e
                },
                flush: function() {},
                processChunk: function(e) {
                    this.push(e)
                },
                withStreamInfo: function(e, t) {
                    return this.extraStreamInfo[e] = t,
                    this.mergeStreamInfo(),
                    this
                },
                mergeStreamInfo: function() {
                    for (var e in this.extraStreamInfo)
                        this.extraStreamInfo.hasOwnProperty(e) && (this.streamInfo[e] = this.extraStreamInfo[e])
                },
                lock: function() {
                    if (this.isLocked)
                        throw new Error("Error '" + this + "' inesperado");
                    this.isLocked = !0,
                    this.previous && this.previous.lock()
                },
                toString: function() {
                    var e = "Worker " + this.name;
                    return this.previous ? this.previous + " -> " + e : e
                }
            },
            t.exports = n
        }
        , {}],
        29: [function(e, t, r) {
            "use strict";
            function n(e, t, r) {
                switch (e) {
                case "blob":
                    return o.newBlob(o.transformTo("arraybuffer", t), r);
                case "base64":
                    return l.encode(t);
                default:
                    return o.transformTo(e, t)
                }
            }
            function i(e, t) {
                var r, n = 0, i = null, s = 0;
                for (r = 0; r < t.length; r++)
                    s += t[r].length;
                switch (e) {
                case "string":
                    return t.join("");
                case "array":
                    return Array.prototype.concat.apply([], t);
                case "uint8array":
                    for (i = new Uint8Array(s),
                    r = 0; r < t.length; r++)
                        i.set(t[r], n),
                        n += t[r].length;
                    return i;
                case "nodebuffer":
                    return Buffer.concat(t);
                default:
                    throw new Error("Contacte a soporte'" + e + "'")
                }
            }
            function s(e, t) {
                return new f.Promise(function(r, s) {
                    var a = []
                      , o = e._internalType
                      , u = e._outputType
                      , h = e._mimeType;
                    e.on("data", function(e, r) {
                        a.push(e),
                        t && t(r)
                    }).on("error", function(e) {
                        a = [],
                        s(e)
                    }).on("end", function() {
                        try {
                            var e = n(u, i(o, a), h);
                            r(e)
                        } catch (e) {
                            s(e)
                        }
                        a = []
                    }).resume()
                }
                )
            }
            function a(e, t, r) {
                var n = t;
                switch (t) {
                case "blob":
                case "arraybuffer":
                    n = "uint8array";
                    break;
                case "base64":
                    n = "string"
                }
                try {
                    this._internalType = n,
                    this._outputType = t,
                    this._mimeType = r,
                    o.checkSupport(n),
                    this._worker = e.pipe(new u(n)),
                    e.lock()
                } catch (e) {
                    this._worker = new h("error"),
                    this._worker.error(e)
                }
            }
            var o = e("../utils")
              , u = e("./ConvertWorker")
              , h = e("./GenericWorker")
              , l = e("../base64")
              , c = e("../support")
              , f = e("../external")
              , d = null;
            if (c.nodestream)
                try {
                    d = e("../nodejs/NodejsStreamOutputAdapter")
                } catch (e) {}
            a.prototype = {
                accumulate: function(e) {
                    return s(this, e)
                },
                on: function(e, t) {
                    var r = this;
                    return "data" === e ? this._worker.on(e, function(e) {
                        t.call(r, e.data, e.meta)
                    }) : this._worker.on(e, function() {
                        o.delay(t, arguments, r)
                    }),
                    this
                },
                resume: function() {
                    return o.delay(this._worker.resume, [], this._worker),
                    this
                },
                pause: function() {
                    return this._worker.pause(),
                    this
                },
                toNodejsStream: function(e) {
                    if (o.checkSupport("nodestream"),
                    "nodebuffer" !== this._outputType)
                        throw new Error(this._outputType + " no existe");
                    return new d(this,{
                        objectMode: "nodebuffer" !== this._outputType
                    },e)
                }
            },
            t.exports = a
        }
        , {
            "../base64": 1,
            "../external": 6,
            "../nodejs/NodejsStreamOutputAdapter": 13,
            "../support": 30,
            "../utils": 32,
            "./ConvertWorker": 24,
            "./GenericWorker": 28
        }],
        30: [function(e, t, r) {
            "use strict";
            if (r.base64 = !0,
            r.array = !0,
            r.string = !0,
            r.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array,
            r.nodebuffer = "undefined" != typeof Buffer,
            r.uint8array = "undefined" != typeof Uint8Array,
            "undefined" == typeof ArrayBuffer)
                r.blob = !1;
            else {
                var n = new ArrayBuffer(0);
                try {
                    r.blob = 0 === new Blob([n],{
                        type: "application/zip"
                    }).size
                } catch (e) {
                    try {
                        var i = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                        i.append(n),
                        r.blob = 0 === i.getBlob("application/zip").size
                    } catch (e) {
                        r.blob = !1
                    }
                }
            }
            try {
                r.nodestream = !!e("readable-stream").Readable
            } catch (e) {
                r.nodestream = !1
            }
        }
        , {
            "readable-stream": 16
        }],
        31: [function(e, t, r) {
            "use strict";
            function n() {
                u.call(this, "utf-8 decode"),
                this.leftOver = null
            }
            function i() {
                u.call(this, "utf-8 encode")
            }
            for (var s = e("./utils"), a = e("./support"), o = e("./nodejsUtils"), u = e("./stream/GenericWorker"), h = new Array(256), l = 0; l < 256; l++)
                h[l] = l >= 252 ? 6 : l >= 248 ? 5 : l >= 240 ? 4 : l >= 224 ? 3 : l >= 192 ? 2 : 1;
            h[254] = h[254] = 1;
            var c = function(e) {
                var t, r, n, i, s, o = e.length, u = 0;
                for (i = 0; i < o; i++)
                    55296 == (64512 & (r = e.charCodeAt(i))) && i + 1 < o && 56320 == (64512 & (n = e.charCodeAt(i + 1))) && (r = 65536 + (r - 55296 << 10) + (n - 56320),
                    i++),
                    u += r < 128 ? 1 : r < 2048 ? 2 : r < 65536 ? 3 : 4;
                for (t = a.uint8array ? new Uint8Array(u) : new Array(u),
                s = 0,
                i = 0; s < u; i++)
                    55296 == (64512 & (r = e.charCodeAt(i))) && i + 1 < o && 56320 == (64512 & (n = e.charCodeAt(i + 1))) && (r = 65536 + (r - 55296 << 10) + (n - 56320),
                    i++),
                    r < 128 ? t[s++] = r : r < 2048 ? (t[s++] = 192 | r >>> 6,
                    t[s++] = 128 | 63 & r) : r < 65536 ? (t[s++] = 224 | r >>> 12,
                    t[s++] = 128 | r >>> 6 & 63,
                    t[s++] = 128 | 63 & r) : (t[s++] = 240 | r >>> 18,
                    t[s++] = 128 | r >>> 12 & 63,
                    t[s++] = 128 | r >>> 6 & 63,
                    t[s++] = 128 | 63 & r);
                return t
            }
              , f = function(e, t) {
                var r;
                for ((t = t || e.length) > e.length && (t = e.length),
                r = t - 1; r >= 0 && 128 == (192 & e[r]); )
                    r--;
                return r < 0 ? t : 0 === r ? t : r + h[e[r]] > t ? r : t
            }
              , d = function(e) {
                var t, r, n, i, a = e.length, o = new Array(2 * a);
                for (r = 0,
                t = 0; t < a; )
                    if ((n = e[t++]) < 128)
                        o[r++] = n;
                    else if ((i = h[n]) > 4)
                        o[r++] = 65533,
                        t += i - 1;
                    else {
                        for (n &= 2 === i ? 31 : 3 === i ? 15 : 7; i > 1 && t < a; )
                            n = n << 6 | 63 & e[t++],
                            i--;
                        i > 1 ? o[r++] = 65533 : n < 65536 ? o[r++] = n : (n -= 65536,
                        o[r++] = 55296 | n >> 10 & 1023,
                        o[r++] = 56320 | 1023 & n)
                    }
                return o.length !== r && (o.subarray ? o = o.subarray(0, r) : o.length = r),
                s.applyFromCharCode(o)
            };
            r.utf8encode = function(e) {
                return a.nodebuffer ? o.newBufferFrom(e, "utf-8") : c(e)
            }
            ,
            r.utf8decode = function(e) {
                return a.nodebuffer ? s.transformTo("nodebuffer", e).toString("utf-8") : (e = s.transformTo(a.uint8array ? "uint8array" : "array", e),
                d(e))
            }
            ,
            s.inherits(n, u),
            n.prototype.processChunk = function(e) {
                var t = s.transformTo(a.uint8array ? "uint8array" : "array", e.data);
                if (this.leftOver && this.leftOver.length) {
                    if (a.uint8array) {
                        var n = t;
                        (t = new Uint8Array(n.length + this.leftOver.length)).set(this.leftOver, 0),
                        t.set(n, this.leftOver.length)
                    } else
                        t = this.leftOver.concat(t);
                    this.leftOver = null
                }
                var i = f(t)
                  , o = t;
                i !== t.length && (a.uint8array ? (o = t.subarray(0, i),
                this.leftOver = t.subarray(i, t.length)) : (o = t.slice(0, i),
                this.leftOver = t.slice(i, t.length))),
                this.push({
                    data: r.utf8decode(o),
                    meta: e.meta
                })
            }
            ,
            n.prototype.flush = function() {
                this.leftOver && this.leftOver.length && (this.push({
                    data: r.utf8decode(this.leftOver),
                    meta: {}
                }),
                this.leftOver = null)
            }
            ,
            r.Utf8DecodeWorker = n,
            s.inherits(i, u),
            i.prototype.processChunk = function(e) {
                this.push({
                    data: r.utf8encode(e.data),
                    meta: e.meta
                })
            }
            ,
            r.Utf8EncodeWorker = i
        }
        , {
            "./nodejsUtils": 14,
            "./stream/GenericWorker": 28,
            "./support": 30,
            "./utils": 32
        }],
        32: [function(e, t, r) {
            "use strict";
            function n(e) {
                var t = null;
                return t = u.uint8array ? new Uint8Array(e.length) : new Array(e.length),
                s(e, t)
            }
            function i(e) {
                return e
            }
            function s(e, t) {
                for (var r = 0; r < e.length; ++r)
                    t[r] = 255 & e.charCodeAt(r);
                return t
            }
            function a(e) {
                var t = 65536
                  , n = r.getTypeOf(e)
                  , i = !0;
                if ("uint8array" === n ? i = d.applyCanBeUsed.uint8array : "nodebuffer" === n && (i = d.applyCanBeUsed.nodebuffer),
                i)
                    for (; t > 1; )
                        try {
                            return d.stringifyByChunk(e, n, t)
                        } catch (e) {
                            t = Math.floor(t / 2)
                        }
                return d.stringifyByChar(e)
            }
            function o(e, t) {
                for (var r = 0; r < e.length; r++)
                    t[r] = e[r];
                return t
            }
            var u = e("./support")
              , h = e("./base64")
              , l = e("./nodejsUtils")
              , c = e("core-js/library/fn/set-immediate")
              , f = e("./external");
            r.newBlob = function(e, t) {
                r.checkSupport("blob");
                try {
                    return new Blob([e],{
                        type: t
                    })
                } catch (r) {
                    try {
                        var n = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                        return n.append(e),
                        n.getBlob(t)
                    } catch (e) {
                        throw new Error("Error inesperado")
                    }
                }
            }
            ;
            var d = {
                stringifyByChunk: function(e, t, r) {
                    var n = []
                      , i = 0
                      , s = e.length;
                    if (s <= r)
                        return String.fromCharCode.apply(null, e);
                    for (; i < s; )
                        "array" === t || "nodebuffer" === t ? n.push(String.fromCharCode.apply(null, e.slice(i, Math.min(i + r, s)))) : n.push(String.fromCharCode.apply(null, e.subarray(i, Math.min(i + r, s)))),
                        i += r;
                    return n.join("")
                },
                stringifyByChar: function(e) {
                    for (var t = "", r = 0; r < e.length; r++)
                        t += String.fromCharCode(e[r]);
                    return t
                },
                applyCanBeUsed: {
                    uint8array: function() {
                        try {
                            return u.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length
                        } catch (e) {
                            return !1
                        }
                    }(),
                    nodebuffer: function() {
                        try {
                            return u.nodebuffer && 1 === String.fromCharCode.apply(null, l.allocBuffer(1)).length
                        } catch (e) {
                            return !1
                        }
                    }()
                }
            };
            r.applyFromCharCode = a;
            var p = {};
            p.string = {
                string: i,
                array: function(e) {
                    return s(e, new Array(e.length))
                },
                arraybuffer: function(e) {
                    return p.string.uint8array(e).buffer
                },
                uint8array: function(e) {
                    return s(e, new Uint8Array(e.length))
                },
                nodebuffer: function(e) {
                    return s(e, l.allocBuffer(e.length))
                }
            },
            p.array = {
                string: a,
                array: i,
                arraybuffer: function(e) {
                    return new Uint8Array(e).buffer
                },
                uint8array: function(e) {
                    return new Uint8Array(e)
                },
                nodebuffer: function(e) {
                    return l.newBufferFrom(e)
                }
            },
            p.arraybuffer = {
                string: function(e) {
                    return a(new Uint8Array(e))
                },
                array: function(e) {
                    return o(new Uint8Array(e), new Array(e.byteLength))
                },
                arraybuffer: i,
                uint8array: function(e) {
                    return new Uint8Array(e)
                },
                nodebuffer: function(e) {
                    return l.newBufferFrom(new Uint8Array(e))
                }
            },
            p.uint8array = {
                string: a,
                array: function(e) {
                    return o(e, new Array(e.length))
                },
                arraybuffer: function(e) {
                    return e.buffer
                },
                uint8array: i,
                nodebuffer: function(e) {
                    return l.newBufferFrom(e)
                }
            },
            p.nodebuffer = {
                string: a,
                array: function(e) {
                    return o(e, new Array(e.length))
                },
                arraybuffer: function(e) {
                    return p.nodebuffer.uint8array(e).buffer
                },
                uint8array: function(e) {
                    return o(e, new Uint8Array(e.length))
                },
                nodebuffer: i
            },
            r.transformTo = function(e, t) {
                if (t || (t = ""),
                !e)
                    return t;
                r.checkSupport(e);
                var n = r.getTypeOf(t);
                return p[n][e](t)
            }
            ,
            r.getTypeOf = function(e) {
                return "string" == typeof e ? "string" : "[object Array]" === Object.prototype.toString.call(e) ? "array" : u.nodebuffer && l.isBuffer(e) ? "nodebuffer" : u.uint8array && e instanceof Uint8Array ? "uint8array" : u.arraybuffer && e instanceof ArrayBuffer ? "arraybuffer" : void 0
            }
            ,
            r.checkSupport = function(e) {
                if (!u[e.toLowerCase()])
                    throw new Error(e + " no soportado")
            }
            ,
            r.MAX_VALUE_16BITS = 65535,
            r.MAX_VALUE_32BITS = -1,
            r.pretty = function(e) {
                var t, r, n = "";
                for (r = 0; r < (e || "").length; r++)
                    n += "\\x" + ((t = e.charCodeAt(r)) < 16 ? "0" : "") + t.toString(16).toUpperCase();
                return n
            }
            ,
            r.delay = function(e, t, r) {
                c(function() {
                    e.apply(r || null, t || [])
                })
            }
            ,
            r.inherits = function(e, t) {
                var r = function() {};
                r.prototype = t.prototype,
                e.prototype = new r
            }
            ,
            r.extend = function() {
                var e, t, r = {};
                for (e = 0; e < arguments.length; e++)
                    for (t in arguments[e])
                        arguments[e].hasOwnProperty(t) && void 0 === r[t] && (r[t] = arguments[e][t]);
                return r
            }
            ,
            r.prepareContent = function(e, t, i, s, a) {
                return f.Promise.resolve(t).then(function(e) {
                    return u.blob && (e instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(e))) && "undefined" != typeof FileReader ? new f.Promise(function(t, r) {
                        var n = new FileReader;
                        n.onload = function(e) {
                            t(e.target.result)
                        }
                        ,
                        n.onerror = function(e) {
                            r(e.target.error)
                        }
                        ,
                        n.readAsArrayBuffer(e)
                    }
                    ) : e
                }).then(function(t) {
                    var o = r.getTypeOf(t);
                    return o ? ("arraybuffer" === o ? t = r.transformTo("uint8array", t) : "string" === o && (a ? t = h.decode(t) : i && !0 !== s && (t = n(t))),
                    t) : f.Promise.reject(new Error("Error '" + e + "'"))
                })
            }
        }
        , {
            "./base64": 1,
            "./external": 6,
            "./nodejsUtils": 14,
            "./support": 30,
            "core-js/library/fn/set-immediate": 36
        }],
        33: [function(e, t, r) {
            "use strict";
            function n(e) {
                this.files = [],
                this.loadOptions = e
            }
            var i = e("./reader/readerFor")
              , s = e("./utils")
              , a = e("./signature")
              , o = e("./zipEntry")
              , u = (e("./utf8"),
            e("./support"));
            n.prototype = {
                checkSignature: function(e) {
                    if (!this.reader.readAndCheckSignature(e)) {
                        this.reader.index -= 4;
                        var t = this.reader.readString(4);
                        throw new Error("Corrupto (" + s.pretty(t) + ", " + s.pretty(e) + ")")
                    }
                },
                isSignature: function(e, t) {
                    var r = this.reader.index;
                    this.reader.setIndex(e);
                    var n = this.reader.readString(4) === t;
                    return this.reader.setIndex(r),
                    n
                },
                readBlockEndOfCentral: function() {
                    this.diskNumber = this.reader.readInt(2),
                    this.diskWithCentralDirStart = this.reader.readInt(2),
                    this.centralDirRecordsOnThisDisk = this.reader.readInt(2),
                    this.centralDirRecords = this.reader.readInt(2),
                    this.centralDirSize = this.reader.readInt(4),
                    this.centralDirOffset = this.reader.readInt(4),
                    this.zipCommentLength = this.reader.readInt(2);
                    var e = this.reader.readData(this.zipCommentLength)
                      , t = u.uint8array ? "uint8array" : "array"
                      , r = s.transformTo(t, e);
                    this.zipComment = this.loadOptions.decodeFileName(r)
                },
                readBlockZip64EndOfCentral: function() {
                    this.zip64EndOfCentralSize = this.reader.readInt(8),
                    this.reader.skip(4),
                    this.diskNumber = this.reader.readInt(4),
                    this.diskWithCentralDirStart = this.reader.readInt(4),
                    this.centralDirRecordsOnThisDisk = this.reader.readInt(8),
                    this.centralDirRecords = this.reader.readInt(8),
                    this.centralDirSize = this.reader.readInt(8),
                    this.centralDirOffset = this.reader.readInt(8),
                    this.zip64ExtensibleData = {};
                    for (var e, t, r, n = this.zip64EndOfCentralSize - 44; 0 < n; )
                        e = this.reader.readInt(2),
                        t = this.reader.readInt(4),
                        r = this.reader.readData(t),
                        this.zip64ExtensibleData[e] = {
                            id: e,
                            length: t,
                            value: r
                        }
                },
                readBlockZip64EndOfCentralLocator: function() {
                    if (this.diskWithZip64CentralDirStart = this.reader.readInt(4),
                    this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8),
                    this.disksCount = this.reader.readInt(4),
                    this.disksCount > 1)
                        throw new Error("Error")
                },
                readLocalFiles: function() {
                    var e, t;
                    for (e = 0; e < this.files.length; e++)
                        t = this.files[e],
                        this.reader.setIndex(t.localHeaderOffset),
                        this.checkSignature(a.LOCAL_FILE_HEADER),
                        t.readLocalPart(this.reader),
                        t.handleUTF8(),
                        t.processAttributes()
                },
                readCentralDir: function() {
                    var e;
                    for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER); )
                        (e = new o({
                            zip64: this.zip64
                        },this.loadOptions)).readCentralPart(this.reader),
                        this.files.push(e);
                    if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length)
                        throw new Error("Error " + this.centralDirRecords + " , " + this.files.length)
                },
                readEndOfCentral: function() {
                    var e = this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);
                    if (e < 0)
                        throw !this.isSignature(0, a.LOCAL_FILE_HEADER) ? new Error("Error") : new Error("Error");
                    this.reader.setIndex(e);
                    var t = e;
                    if (this.checkSignature(a.CENTRAL_DIRECTORY_END),
                    this.readBlockEndOfCentral(),
                    this.diskNumber === s.MAX_VALUE_16BITS || this.diskWithCentralDirStart === s.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === s.MAX_VALUE_16BITS || this.centralDirRecords === s.MAX_VALUE_16BITS || this.centralDirSize === s.MAX_VALUE_32BITS || this.centralDirOffset === s.MAX_VALUE_32BITS) {
                        if (this.zip64 = !0,
                        (e = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0)
                            throw new Error("Error");
                        if (this.reader.setIndex(e),
                        this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),
                        this.readBlockZip64EndOfCentralLocator(),
                        !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, a.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),
                        this.relativeOffsetEndOfZip64CentralDir < 0))
                            throw new Error("Error");
                        this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),
                        this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),
                        this.readBlockZip64EndOfCentral()
                    }
                    var r = this.centralDirOffset + this.centralDirSize;
                    this.zip64 && (r += 20,
                    r += 12 + this.zip64EndOfCentralSize);
                    var n = t - r;
                    if (n > 0)
                        this.isSignature(t, a.CENTRAL_FILE_HEADER) || (this.reader.zero = n);
                    else if (n < 0)
                        throw new Error("Error " + Math.abs(n) + ".")
                },
                prepareReader: function(e) {
                    this.reader = i(e)
                },
                load: function(e) {
                    this.prepareReader(e),
                    this.readEndOfCentral(),
                    this.readCentralDir(),
                    this.readLocalFiles()
                }
            },
            t.exports = n
        }
        , {
            "./reader/readerFor": 22,
            "./signature": 23,
            "./support": 30,
            "./utf8": 31,
            "./utils": 32,
            "./zipEntry": 34
        }],
        34: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                this.options = e,
                this.loadOptions = t
            }
            var i = e("./reader/readerFor")
              , s = e("./utils")
              , a = e("./compressedObject")
              , o = e("./crc32")
              , u = e("./utf8")
              , h = e("./compressions")
              , l = e("./support")
              , c = function(e) {
                for (var t in h)
                    if (h.hasOwnProperty(t) && h[t].magic === e)
                        return h[t];
                return null
            };
            n.prototype = {
                isEncrypted: function() {
                    return 1 == (1 & this.bitFlag)
                },
                useUTF8: function() {
                    return 2048 == (2048 & this.bitFlag)
                },
                readLocalPart: function(e) {
                    var t, r;
                    if (e.skip(22),
                    this.fileNameLength = e.readInt(2),
                    r = e.readInt(2),
                    this.fileName = e.readData(this.fileNameLength),
                    e.skip(r),
                    -1 === this.compressedSize || -1 === this.uncompressedSize)
                        throw new Error("Error");
                    if (null === (t = c(this.compressionMethod)))
                        throw new Error("Corrupto " + s.pretty(this.compressionMethod) + " a " + s.transformTo("string", this.fileName) + ")");
                    this.decompressed = new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))
                },
                readCentralPart: function(e) {
                    this.versionMadeBy = e.readInt(2),
                    e.skip(2),
                    this.bitFlag = e.readInt(2),
                    this.compressionMethod = e.readString(2),
                    this.date = e.readDate(),
                    this.crc32 = e.readInt(4),
                    this.compressedSize = e.readInt(4),
                    this.uncompressedSize = e.readInt(4);
                    var t = e.readInt(2);
                    if (this.extraFieldsLength = e.readInt(2),
                    this.fileCommentLength = e.readInt(2),
                    this.diskNumberStart = e.readInt(2),
                    this.internalFileAttributes = e.readInt(2),
                    this.externalFileAttributes = e.readInt(4),
                    this.localHeaderOffset = e.readInt(4),
                    this.isEncrypted())
                        throw new Error("Error");
                    e.skip(t),
                    this.readExtraFields(e),
                    this.parseZIP64ExtraField(e),
                    this.fileComment = e.readData(this.fileCommentLength)
                },
                processAttributes: function() {
                    this.unixPermissions = null,
                    this.dosPermissions = null;
                    var e = this.versionMadeBy >> 8;
                    this.dir = !!(16 & this.externalFileAttributes),
                    0 === e && (this.dosPermissions = 63 & this.externalFileAttributes),
                    3 === e && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535),
                    this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = !0)
                },
                parseZIP64ExtraField: function(e) {
                    if (this.extraFields[1]) {
                        var t = i(this.extraFields[1].value);
                        this.uncompressedSize === s.MAX_VALUE_32BITS && (this.uncompressedSize = t.readInt(8)),
                        this.compressedSize === s.MAX_VALUE_32BITS && (this.compressedSize = t.readInt(8)),
                        this.localHeaderOffset === s.MAX_VALUE_32BITS && (this.localHeaderOffset = t.readInt(8)),
                        this.diskNumberStart === s.MAX_VALUE_32BITS && (this.diskNumberStart = t.readInt(4))
                    }
                },
                readExtraFields: function(e) {
                    var t, r, n, i = e.index + this.extraFieldsLength;
                    for (this.extraFields || (this.extraFields = {}); e.index < i; )
                        t = e.readInt(2),
                        r = e.readInt(2),
                        n = e.readData(r),
                        this.extraFields[t] = {
                            id: t,
                            length: r,
                            value: n
                        }
                },
                handleUTF8: function() {
                    var e = l.uint8array ? "uint8array" : "array";
                    if (this.useUTF8())
                        this.fileNameStr = u.utf8decode(this.fileName),
                        this.fileCommentStr = u.utf8decode(this.fileComment);
                    else {
                        var t = this.findExtraFieldUnicodePath();
                        if (null !== t)
                            this.fileNameStr = t;
                        else {
                            var r = s.transformTo(e, this.fileName);
                            this.fileNameStr = this.loadOptions.decodeFileName(r)
                        }
                        var n = this.findExtraFieldUnicodeComment();
                        if (null !== n)
                            this.fileCommentStr = n;
                        else {
                            var i = s.transformTo(e, this.fileComment);
                            this.fileCommentStr = this.loadOptions.decodeFileName(i)
                        }
                    }
                },
                findExtraFieldUnicodePath: function() {
                    var e = this.extraFields[28789];
                    if (e) {
                        var t = i(e.value);
                        return 1 !== t.readInt(1) ? null : o(this.fileName) !== t.readInt(4) ? null : u.utf8decode(t.readData(e.length - 5))
                    }
                    return null
                },
                findExtraFieldUnicodeComment: function() {
                    var e = this.extraFields[25461];
                    if (e) {
                        var t = i(e.value);
                        return 1 !== t.readInt(1) ? null : o(this.fileComment) !== t.readInt(4) ? null : u.utf8decode(t.readData(e.length - 5))
                    }
                    return null
                }
            },
            t.exports = n
        }
        , {
            "./compressedObject": 2,
            "./compressions": 3,
            "./crc32": 4,
            "./reader/readerFor": 22,
            "./support": 30,
            "./utf8": 31,
            "./utils": 32
        }],
        35: [function(e, t, r) {
            "use strict";
            var n = e("./stream/StreamHelper")
              , i = e("./stream/DataWorker")
              , s = e("./utf8")
              , a = e("./compressedObject")
              , o = e("./stream/GenericWorker")
              , u = function(e, t, r) {
                this.name = e,
                this.dir = r.dir,
                this.date = r.date,
                this.comment = r.comment,
                this.unixPermissions = r.unixPermissions,
                this.dosPermissions = r.dosPermissions,
                this._data = t,
                this._dataBinary = r.binary,
                this.options = {
                    compression: r.compression,
                    compressionOptions: r.compressionOptions
                }
            };
            u.prototype = {
                internalStream: function(e) {
                    var t = null
                      , r = "string";
                    try {
                        if (!e)
                            throw new Error("Salida no especificada");
                        var i = "string" === (r = e.toLowerCase()) || "text" === r;
                        "binarystring" !== r && "text" !== r || (r = "string"),
                        t = this._decompressWorker();
                        var a = !this._dataBinary;
                        a && !i && (t = t.pipe(new s.Utf8EncodeWorker)),
                        !a && i && (t = t.pipe(new s.Utf8DecodeWorker))
                    } catch (e) {
                        (t = new o("error")).error(e)
                    }
                    return new n(t,r,"")
                },
                async: function(e, t) {
                    return this.internalStream(e).accumulate(t)
                },
                nodeStream: function(e, t) {
                    return this.internalStream(e || "nodebuffer").toNodejsStream(t)
                },
                _compressWorker: function(e, t) {
                    if (this._data instanceof a && this._data.compression.magic === e.magic)
                        return this._data.getCompressedWorker();
                    var r = this._decompressWorker();
                    return this._dataBinary || (r = r.pipe(new s.Utf8EncodeWorker)),
                    a.createWorkerFrom(r, e, t)
                },
                _decompressWorker: function() {
                    return this._data instanceof a ? this._data.getContentWorker() : this._data instanceof o ? this._data : new i(this._data)
                }
            };
            for (var h = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], l = 0; l < h.length; l++)
                u.prototype[h[l]] = function() {
                    throw new Error("Error")
                }
                ;
            t.exports = u
        }
        , {
            "./compressedObject": 2,
            "./stream/DataWorker": 27,
            "./stream/GenericWorker": 28,
            "./stream/StreamHelper": 29,
            "./utf8": 31
        }],
        36: [function(e, t, r) {
            e("../modules/web.immediate"),
            t.exports = e("../modules/_core").setImmediate
        }
        , {
            "../modules/_core": 40,
            "../modules/web.immediate": 56
        }],
        37: [function(e, t, r) {
            t.exports = function(e) {
                if ("function" != typeof e)
                    throw TypeError(e + " no es una funci√≥n");
                return e
            }
        }
        , {}],
        38: [function(e, t, r) {
            var n = e("./_is-object");
            t.exports = function(e) {
                if (!n(e))
                    throw TypeError(e + " no es una funci√≥n");
                return e
            }
        }
        , {
            "./_is-object": 51
        }],
        39: [function(e, t, r) {
            var n = {}.toString;
            t.exports = function(e) {
                return n.call(e).slice(8, -1)
            }
        }
        , {}],
        40: [function(e, t, r) {
            var n = t.exports = {
                version: "2.3.0"
            };
            "number" == typeof __e && (__e = n)
        }
        , {}],
        41: [function(e, t, r) {
            var n = e("./_a-function");
            t.exports = function(e, t, r) {
                if (n(e),
                void 0 === t)
                    return e;
                switch (r) {
                case 1:
                    return function(r) {
                        return e.call(t, r)
                    }
                    ;
                case 2:
                    return function(r, n) {
                        return e.call(t, r, n)
                    }
                    ;
                case 3:
                    return function(r, n, i) {
                        return e.call(t, r, n, i)
                    }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }
        }
        , {
            "./_a-function": 37
        }],
        42: [function(e, t, r) {
            t.exports = !e("./_fails")(function() {
                return 7 != Object.defineProperty({}, "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
        }
        , {
            "./_fails": 45
        }],
        43: [function(e, t, r) {
            var n = e("./_is-object")
              , i = e("./_global").document
              , s = n(i) && n(i.createElement);
            t.exports = function(e) {
                return s ? i.createElement(e) : {}
            }
        }
        , {
            "./_global": 46,
            "./_is-object": 51
        }],
        44: [function(e, t, r) {
            var n = e("./_global")
              , i = e("./_core")
              , s = e("./_ctx")
              , a = e("./_hide")
              , o = function(e, t, r) {
                var u, h, l, c = e & o.F, f = e & o.G, d = e & o.S, p = e & o.P, m = e & o.B, _ = e & o.W, g = f ? i : i[t] || (i[t] = {}), b = g.prototype, v = f ? n : d ? n[t] : (n[t] || {}).prototype;
                f && (r = t);
                for (u in r)
                    (h = !c && v && void 0 !== v[u]) && u in g || (l = h ? v[u] : r[u],
                    g[u] = f && "function" != typeof v[u] ? r[u] : m && h ? s(l, n) : _ && v[u] == l ? function(e) {
                        var t = function(t, r, n) {
                            if (this instanceof e) {
                                switch (arguments.length) {
                                case 0:
                                    return new e;
                                case 1:
                                    return new e(t);
                                case 2:
                                    return new e(t,r)
                                }
                                return new e(t,r,n)
                            }
                            return e.apply(this, arguments)
                        };
                        return t.prototype = e.prototype,
                        t
                    }(l) : p && "function" == typeof l ? s(Function.call, l) : l,
                    p && ((g.virtual || (g.virtual = {}))[u] = l,
                    e & o.R && b && !b[u] && a(b, u, l)))
            };
            o.F = 1,
            o.G = 2,
            o.S = 4,
            o.P = 8,
            o.B = 16,
            o.W = 32,
            o.U = 64,
            o.R = 128,
            t.exports = o
        }
        , {
            "./_core": 40,
            "./_ctx": 41,
            "./_global": 46,
            "./_hide": 47
        }],
        45: [function(e, t, r) {
            t.exports = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
        }
        , {}],
        46: [function(e, t, r) {
            var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
            "number" == typeof __g && (__g = n)
        }
        , {}],
        47: [function(e, t, r) {
            var n = e("./_object-dp")
              , i = e("./_property-desc");
            t.exports = e("./_descriptors") ? function(e, t, r) {
                return n.f(e, t, i(1, r))
            }
            : function(e, t, r) {
                return e[t] = r,
                e
            }
        }
        , {
            "./_descriptors": 42,
            "./_object-dp": 52,
            "./_property-desc": 53
        }],
        48: [function(e, t, r) {
            t.exports = e("./_global").document && document.documentElement
        }
        , {
            "./_global": 46
        }],
        49: [function(e, t, r) {
            t.exports = !e("./_descriptors") && !e("./_fails")(function() {
                return 7 != Object.defineProperty(e("./_dom-create")("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
        }
        , {
            "./_descriptors": 42,
            "./_dom-create": 43,
            "./_fails": 45
        }],
        50: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = void 0 === r;
                switch (t.length) {
                case 0:
                    return n ? e() : e.call(r);
                case 1:
                    return n ? e(t[0]) : e.call(r, t[0]);
                case 2:
                    return n ? e(t[0], t[1]) : e.call(r, t[0], t[1]);
                case 3:
                    return n ? e(t[0], t[1], t[2]) : e.call(r, t[0], t[1], t[2]);
                case 4:
                    return n ? e(t[0], t[1], t[2], t[3]) : e.call(r, t[0], t[1], t[2], t[3])
                }
                return e.apply(r, t)
            }
        }
        , {}],
        51: [function(e, t, r) {
            t.exports = function(e) {
                return "object" == typeof e ? null !== e : "function" == typeof e
            }
        }
        , {}],
        52: [function(e, t, r) {
            var n = e("./_an-object")
              , i = e("./_ie8-dom-define")
              , s = e("./_to-primitive")
              , a = Object.defineProperty;
            r.f = e("./_descriptors") ? Object.defineProperty : function(e, t, r) {
                if (n(e),
                t = s(t, !0),
                n(r),
                i)
                    try {
                        return a(e, t, r)
                    } catch (e) {}
                if ("get"in r || "set"in r)
                    throw TypeError("Error");
                return "value"in r && (e[t] = r.value),
                e
            }
        }
        , {
            "./_an-object": 38,
            "./_descriptors": 42,
            "./_ie8-dom-define": 49,
            "./_to-primitive": 55
        }],
        53: [function(e, t, r) {
            t.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
        }
        , {}],
        54: [function(e, t, r) {
            var n, i, s, a = e("./_ctx"), o = e("./_invoke"), u = e("./_html"), h = e("./_dom-create"), l = e("./_global"), c = l.process, f = l.setImmediate, d = l.clearImmediate, p = l.MessageChannel, m = 0, _ = {}, g = function() {
                var e = +this;
                if (_.hasOwnProperty(e)) {
                    var t = _[e];
                    delete _[e],
                    t()
                }
            }, b = function(e) {
                g.call(e.data)
            };
            f && d || (f = function(e) {
                for (var t = [], r = 1; arguments.length > r; )
                    t.push(arguments[r++]);
                return _[++m] = function() {
                    o("function" == typeof e ? e : Function(e), t)
                }
                ,
                n(m),
                m
            }
            ,
            d = function(e) {
                delete _[e]
            }
            ,
            "process" == e("./_cof")(c) ? n = function(e) {
                c.nextTick(a(g, e, 1))
            }
            : p ? (s = (i = new p).port2,
            i.port1.onmessage = b,
            n = a(s.postMessage, s, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (n = function(e) {
                l.postMessage(e + "", "*")
            }
            ,
            l.addEventListener("message", b, !1)) : n = "onreadystatechange"in h("script") ? function(e) {
                u.appendChild(h("script")).onreadystatechange = function() {
                    u.removeChild(this),
                    g.call(e)
                }
            }
            : function(e) {
                setTimeout(a(g, e, 1), 0)
            }
            ),
            t.exports = {
                set: f,
                clear: d
            }
        }
        , {
            "./_cof": 39,
            "./_ctx": 41,
            "./_dom-create": 43,
            "./_global": 46,
            "./_html": 48,
            "./_invoke": 50
        }],
        55: [function(e, t, r) {
            var n = e("./_is-object");
            t.exports = function(e, t) {
                if (!n(e))
                    return e;
                var r, i;
                if (t && "function" == typeof (r = e.toString) && !n(i = r.call(e)))
                    return i;
                if ("function" == typeof (r = e.valueOf) && !n(i = r.call(e)))
                    return i;
                if (!t && "function" == typeof (r = e.toString) && !n(i = r.call(e)))
                    return i;
                throw TypeError("Error")
            }
        }
        , {
            "./_is-object": 51
        }],
        56: [function(e, t, r) {
            var n = e("./_export")
              , i = e("./_task");
            n(n.G + n.B, {
                setImmediate: i.set,
                clearImmediate: i.clear
            })
        }
        , {
            "./_export": 44,
            "./_task": 54
        }],
        57: [function(e, t, r) {
            (function(e) {
                "use strict";
                function r() {
                    h = !0;
                    for (var e, t, r = l.length; r; ) {
                        for (t = l,
                        l = [],
                        e = -1; ++e < r; )
                            t[e]();
                        r = l.length
                    }
                    h = !1
                }
                var n, i = e.MutationObserver || e.WebKitMutationObserver;
                if (i) {
                    var s = 0
                      , a = new i(r)
                      , o = e.document.createTextNode("");
                    a.observe(o, {
                        characterData: !0
                    }),
                    n = function() {
                        o.data = s = ++s % 2
                    }
                } else if (e.setImmediate || void 0 === e.MessageChannel)
                    n = "document"in e && "onreadystatechange"in e.document.createElement("script") ? function() {
                        var t = e.document.createElement("script");
                        t.onreadystatechange = function() {
                            r(),
                            t.onreadystatechange = null,
                            t.parentNode.removeChild(t),
                            t = null
                        }
                        ,
                        e.document.documentElement.appendChild(t)
                    }
                    : function() {
                        setTimeout(r, 0)
                    }
                    ;
                else {
                    var u = new e.MessageChannel;
                    u.port1.onmessage = r,
                    n = function() {
                        u.port2.postMessage(0)
                    }
                }
                var h, l = [];
                t.exports = function(e) {
                    1 !== l.push(e) || h || n()
                }
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {}],
        58: [function(e, t, r) {
            "use strict";
            function n() {}
            function i(e) {
                if ("function" != typeof e)
                    throw new TypeError("Error");
                this.state = p,
                this.queue = [],
                this.outcome = void 0,
                e !== n && u(this, e)
            }
            function s(e, t, r) {
                this.promise = e,
                "function" == typeof t && (this.onFulfilled = t,
                this.callFulfilled = this.otherCallFulfilled),
                "function" == typeof r && (this.onRejected = r,
                this.callRejected = this.otherCallRejected)
            }
            function a(e, t, r) {
                l(function() {
                    var n;
                    try {
                        n = t(r)
                    } catch (t) {
                        return c.reject(e, t)
                    }
                    n === e ? c.reject(e, new TypeError("Cannot resolve promise with itself")) : c.resolve(e, n)
                })
            }
            function o(e) {
                var t = e && e.then;
                if (e && ("object" == typeof e || "function" == typeof e) && "function" == typeof t)
                    return function() {
                        t.apply(e, arguments)
                    }
            }
            function u(e, t) {
                function r(t) {
                    i || (i = !0,
                    c.reject(e, t))
                }
                function n(t) {
                    i || (i = !0,
                    c.resolve(e, t))
                }
                var i = !1
                  , s = h(function() {
                    t(n, r)
                });
                "error" === s.status && r(s.value)
            }
            function h(e, t) {
                var r = {};
                try {
                    r.value = e(t),
                    r.status = "success"
                } catch (e) {
                    r.status = "error",
                    r.value = e
                }
                return r
            }
            var l = e("immediate")
              , c = {}
              , f = ["REJECTED"]
              , d = ["FULFILLED"]
              , p = ["PENDING"];
            t.exports = i,
            i.prototype.catch = function(e) {
                return this.then(null, e)
            }
            ,
            i.prototype.then = function(e, t) {
                if ("function" != typeof e && this.state === d || "function" != typeof t && this.state === f)
                    return this;
                var r = new this.constructor(n);
                return this.state !== p ? a(r, this.state === d ? e : t, this.outcome) : this.queue.push(new s(r,e,t)),
                r
            }
            ,
            s.prototype.callFulfilled = function(e) {
                c.resolve(this.promise, e)
            }
            ,
            s.prototype.otherCallFulfilled = function(e) {
                a(this.promise, this.onFulfilled, e)
            }
            ,
            s.prototype.callRejected = function(e) {
                c.reject(this.promise, e)
            }
            ,
            s.prototype.otherCallRejected = function(e) {
                a(this.promise, this.onRejected, e)
            }
            ,
            c.resolve = function(e, t) {
                var r = h(o, t);
                if ("error" === r.status)
                    return c.reject(e, r.value);
                var n = r.value;
                if (n)
                    u(e, n);
                else {
                    e.state = d,
                    e.outcome = t;
                    for (var i = -1, s = e.queue.length; ++i < s; )
                        e.queue[i].callFulfilled(t)
                }
                return e
            }
            ,
            c.reject = function(e, t) {
                e.state = f,
                e.outcome = t;
                for (var r = -1, n = e.queue.length; ++r < n; )
                    e.queue[r].callRejected(t);
                return e
            }
            ,
            i.resolve = function(e) {
                return e instanceof this ? e : c.resolve(new this(n), e)
            }
            ,
            i.reject = function(e) {
                var t = new this(n);
                return c.reject(t, e)
            }
            ,
            i.all = function(e) {
                var t = this;
                if ("[object Array]" !== Object.prototype.toString.call(e))
                    return this.reject(new TypeError("must be an array"));
                var r = e.length
                  , i = !1;
                if (!r)
                    return this.resolve([]);
                for (var s = new Array(r), a = 0, o = -1, u = new this(n); ++o < r; )
                    !function(e, n) {
                        t.resolve(e).then(function(e) {
                            s[n] = e,
                            ++a !== r || i || (i = !0,
                            c.resolve(u, s))
                        }, function(e) {
                            i || (i = !0,
                            c.reject(u, e))
                        })
                    }(e[o], o);
                return u
            }
            ,
            i.race = function(e) {
                var t = this;
                if ("[object Array]" !== Object.prototype.toString.call(e))
                    return this.reject(new TypeError("must be an array"));
                var r = e.length
                  , i = !1;
                if (!r)
                    return this.resolve([]);
                for (var s = -1, a = new this(n); ++s < r; )
                    !function(e) {
                        t.resolve(e).then(function(e) {
                            i || (i = !0,
                            c.resolve(a, e))
                        }, function(e) {
                            i || (i = !0,
                            c.reject(a, e))
                        })
                    }(e[s]);
                return a
            }
        }
        , {
            immediate: 57
        }],
        59: [function(e, t, r) {
            "use strict";
            var n = {};
            (0,
            e("./lib/utils/common").assign)(n, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")),
            t.exports = n
        }
        , {
            "./lib/deflate": 60,
            "./lib/inflate": 61,
            "./lib/utils/common": 62,
            "./lib/zlib/constants": 65
        }],
        60: [function(e, t, r) {
            "use strict";
            function n(e) {
                if (!(this instanceof n))
                    return new n(e);
                this.options = a.assign({
                    level: f,
                    method: p,
                    chunkSize: 16384,
                    windowBits: 15,
                    memLevel: 8,
                    strategy: d,
                    to: ""
                }, e || {});
                var t = this.options;
                t.raw && t.windowBits > 0 ? t.windowBits = -t.windowBits : t.gzip && t.windowBits > 0 && t.windowBits < 16 && (t.windowBits += 16),
                this.err = 0,
                this.msg = "",
                this.ended = !1,
                this.chunks = [],
                this.strm = new h,
                this.strm.avail_out = 0;
                var r = s.deflateInit2(this.strm, t.level, t.method, t.windowBits, t.memLevel, t.strategy);
                if (r !== c)
                    throw new Error(u[r]);
                if (t.header && s.deflateSetHeader(this.strm, t.header),
                t.dictionary) {
                    var i;
                    if (i = "string" == typeof t.dictionary ? o.string2buf(t.dictionary) : "[object ArrayBuffer]" === l.call(t.dictionary) ? new Uint8Array(t.dictionary) : t.dictionary,
                    (r = s.deflateSetDictionary(this.strm, i)) !== c)
                        throw new Error(u[r]);
                    this._dict_set = !0
                }
            }
            function i(e, t) {
                var r = new n(t);
                if (r.push(e, !0),
                r.err)
                    throw r.msg || u[r.err];
                return r.result
            }
            var s = e("./zlib/deflate")
              , a = e("./utils/common")
              , o = e("./utils/strings")
              , u = e("./zlib/messages")
              , h = e("./zlib/zstream")
              , l = Object.prototype.toString
              , c = 0
              , f = -1
              , d = 0
              , p = 8;
            n.prototype.push = function(e, t) {
                var r, n, i = this.strm, u = this.options.chunkSize;
                if (this.ended)
                    return !1;
                n = t === ~~t ? t : !0 === t ? 4 : 0,
                "string" == typeof e ? i.input = o.string2buf(e) : "[object ArrayBuffer]" === l.call(e) ? i.input = new Uint8Array(e) : i.input = e,
                i.next_in = 0,
                i.avail_in = i.input.length;
                do {
                    if (0 === i.avail_out && (i.output = new a.Buf8(u),
                    i.next_out = 0,
                    i.avail_out = u),
                    1 !== (r = s.deflate(i, n)) && r !== c)
                        return this.onEnd(r),
                        this.ended = !0,
                        !1;
                    0 !== i.avail_out && (0 !== i.avail_in || 4 !== n && 2 !== n) || ("string" === this.options.to ? this.onData(o.buf2binstring(a.shrinkBuf(i.output, i.next_out))) : this.onData(a.shrinkBuf(i.output, i.next_out)))
                } while ((i.avail_in > 0 || 0 === i.avail_out) && 1 !== r);
                return 4 === n ? (r = s.deflateEnd(this.strm),
                this.onEnd(r),
                this.ended = !0,
                r === c) : 2 !== n || (this.onEnd(c),
                i.avail_out = 0,
                !0)
            }
            ,
            n.prototype.onData = function(e) {
                this.chunks.push(e)
            }
            ,
            n.prototype.onEnd = function(e) {
                e === c && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)),
                this.chunks = [],
                this.err = e,
                this.msg = this.strm.msg
            }
            ,
            r.Deflate = n,
            r.deflate = i,
            r.deflateRaw = function(e, t) {
                return t = t || {},
                t.raw = !0,
                i(e, t)
            }
            ,
            r.gzip = function(e, t) {
                return t = t || {},
                t.gzip = !0,
                i(e, t)
            }
        }
        , {
            "./utils/common": 62,
            "./utils/strings": 63,
            "./zlib/deflate": 67,
            "./zlib/messages": 72,
            "./zlib/zstream": 74
        }],
        61: [function(e, t, r) {
            "use strict";
            function n(e) {
                if (!(this instanceof n))
                    return new n(e);
                this.options = a.assign({
                    chunkSize: 16384,
                    windowBits: 0,
                    to: ""
                }, e || {});
                var t = this.options;
                t.raw && t.windowBits >= 0 && t.windowBits < 16 && (t.windowBits = -t.windowBits,
                0 === t.windowBits && (t.windowBits = -15)),
                !(t.windowBits >= 0 && t.windowBits < 16) || e && e.windowBits || (t.windowBits += 32),
                t.windowBits > 15 && t.windowBits < 48 && 0 == (15 & t.windowBits) && (t.windowBits |= 15),
                this.err = 0,
                this.msg = "",
                this.ended = !1,
                this.chunks = [],
                this.strm = new l,
                this.strm.avail_out = 0;
                var r = s.inflateInit2(this.strm, t.windowBits);
                if (r !== u.Z_OK)
                    throw new Error(h[r]);
                this.header = new c,
                s.inflateGetHeader(this.strm, this.header)
            }
            function i(e, t) {
                var r = new n(t);
                if (r.push(e, !0),
                r.err)
                    throw r.msg || h[r.err];
                return r.result
            }
            var s = e("./zlib/inflate")
              , a = e("./utils/common")
              , o = e("./utils/strings")
              , u = e("./zlib/constants")
              , h = e("./zlib/messages")
              , l = e("./zlib/zstream")
              , c = e("./zlib/gzheader")
              , f = Object.prototype.toString;
            n.prototype.push = function(e, t) {
                var r, n, i, h, l, c, d = this.strm, p = this.options.chunkSize, m = this.options.dictionary, _ = !1;
                if (this.ended)
                    return !1;
                n = t === ~~t ? t : !0 === t ? u.Z_FINISH : u.Z_NO_FLUSH,
                "string" == typeof e ? d.input = o.binstring2buf(e) : "[object ArrayBuffer]" === f.call(e) ? d.input = new Uint8Array(e) : d.input = e,
                d.next_in = 0,
                d.avail_in = d.input.length;
                do {
                    if (0 === d.avail_out && (d.output = new a.Buf8(p),
                    d.next_out = 0,
                    d.avail_out = p),
                    (r = s.inflate(d, u.Z_NO_FLUSH)) === u.Z_NEED_DICT && m && (c = "string" == typeof m ? o.string2buf(m) : "[object ArrayBuffer]" === f.call(m) ? new Uint8Array(m) : m,
                    r = s.inflateSetDictionary(this.strm, c)),
                    r === u.Z_BUF_ERROR && !0 === _ && (r = u.Z_OK,
                    _ = !1),
                    r !== u.Z_STREAM_END && r !== u.Z_OK)
                        return this.onEnd(r),
                        this.ended = !0,
                        !1;
                    d.next_out && (0 !== d.avail_out && r !== u.Z_STREAM_END && (0 !== d.avail_in || n !== u.Z_FINISH && n !== u.Z_SYNC_FLUSH) || ("string" === this.options.to ? (i = o.utf8border(d.output, d.next_out),
                    h = d.next_out - i,
                    l = o.buf2string(d.output, i),
                    d.next_out = h,
                    d.avail_out = p - h,
                    h && a.arraySet(d.output, d.output, i, h, 0),
                    this.onData(l)) : this.onData(a.shrinkBuf(d.output, d.next_out)))),
                    0 === d.avail_in && 0 === d.avail_out && (_ = !0)
                } while ((d.avail_in > 0 || 0 === d.avail_out) && r !== u.Z_STREAM_END);
                return r === u.Z_STREAM_END && (n = u.Z_FINISH),
                n === u.Z_FINISH ? (r = s.inflateEnd(this.strm),
                this.onEnd(r),
                this.ended = !0,
                r === u.Z_OK) : n !== u.Z_SYNC_FLUSH || (this.onEnd(u.Z_OK),
                d.avail_out = 0,
                !0)
            }
            ,
            n.prototype.onData = function(e) {
                this.chunks.push(e)
            }
            ,
            n.prototype.onEnd = function(e) {
                e === u.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)),
                this.chunks = [],
                this.err = e,
                this.msg = this.strm.msg
            }
            ,
            r.Inflate = n,
            r.inflate = i,
            r.inflateRaw = function(e, t) {
                return t = t || {},
                t.raw = !0,
                i(e, t)
            }
            ,
            r.ungzip = i
        }
        , {
            "./utils/common": 62,
            "./utils/strings": 63,
            "./zlib/constants": 65,
            "./zlib/gzheader": 68,
            "./zlib/inflate": 70,
            "./zlib/messages": 72,
            "./zlib/zstream": 74
        }],
        62: [function(e, t, r) {
            "use strict";
            var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
            r.assign = function(e) {
                for (var t = Array.prototype.slice.call(arguments, 1); t.length; ) {
                    var r = t.shift();
                    if (r) {
                        if ("object" != typeof r)
                            throw new TypeError(r + "error");
                        for (var n in r)
                            r.hasOwnProperty(n) && (e[n] = r[n])
                    }
                }
                return e
            }
            ,
            r.shrinkBuf = function(e, t) {
                return e.length === t ? e : e.subarray ? e.subarray(0, t) : (e.length = t,
                e)
            }
            ;
            var i = {
                arraySet: function(e, t, r, n, i) {
                    if (t.subarray && e.subarray)
                        e.set(t.subarray(r, r + n), i);
                    else
                        for (var s = 0; s < n; s++)
                            e[i + s] = t[r + s]
                },
                flattenChunks: function(e) {
                    var t, r, n, i, s, a;
                    for (n = 0,
                    t = 0,
                    r = e.length; t < r; t++)
                        n += e[t].length;
                    for (a = new Uint8Array(n),
                    i = 0,
                    t = 0,
                    r = e.length; t < r; t++)
                        s = e[t],
                        a.set(s, i),
                        i += s.length;
                    return a
                }
            }
              , s = {
                arraySet: function(e, t, r, n, i) {
                    for (var s = 0; s < n; s++)
                        e[i + s] = t[r + s]
                },
                flattenChunks: function(e) {
                    return [].concat.apply([], e)
                }
            };
            r.setTyped = function(e) {
                e ? (r.Buf8 = Uint8Array,
                r.Buf16 = Uint16Array,
                r.Buf32 = Int32Array,
                r.assign(r, i)) : (r.Buf8 = Array,
                r.Buf16 = Array,
                r.Buf32 = Array,
                r.assign(r, s))
            }
            ,
            r.setTyped(n)
        }
        , {}],
        63: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                if (t < 65537 && (e.subarray && a || !e.subarray && s))
                    return String.fromCharCode.apply(null, i.shrinkBuf(e, t));
                for (var r = "", n = 0; n < t; n++)
                    r += String.fromCharCode(e[n]);
                return r
            }
            var i = e("./common")
              , s = !0
              , a = !0;
            try {
                String.fromCharCode.apply(null, [0])
            } catch (e) {
                s = !1
            }
            try {
                String.fromCharCode.apply(null, new Uint8Array(1))
            } catch (e) {
                a = !1
            }
            for (var o = new i.Buf8(256), u = 0; u < 256; u++)
                o[u] = u >= 252 ? 6 : u >= 248 ? 5 : u >= 240 ? 4 : u >= 224 ? 3 : u >= 192 ? 2 : 1;
            o[254] = o[254] = 1,
            r.string2buf = function(e) {
                var t, r, n, s, a, o = e.length, u = 0;
                for (s = 0; s < o; s++)
                    55296 == (64512 & (r = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (n = e.charCodeAt(s + 1))) && (r = 65536 + (r - 55296 << 10) + (n - 56320),
                    s++),
                    u += r < 128 ? 1 : r < 2048 ? 2 : r < 65536 ? 3 : 4;
                for (t = new i.Buf8(u),
                a = 0,
                s = 0; a < u; s++)
                    55296 == (64512 & (r = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (n = e.charCodeAt(s + 1))) && (r = 65536 + (r - 55296 << 10) + (n - 56320),
                    s++),
                    r < 128 ? t[a++] = r : r < 2048 ? (t[a++] = 192 | r >>> 6,
                    t[a++] = 128 | 63 & r) : r < 65536 ? (t[a++] = 224 | r >>> 12,
                    t[a++] = 128 | r >>> 6 & 63,
                    t[a++] = 128 | 63 & r) : (t[a++] = 240 | r >>> 18,
                    t[a++] = 128 | r >>> 12 & 63,
                    t[a++] = 128 | r >>> 6 & 63,
                    t[a++] = 128 | 63 & r);
                return t
            }
            ,
            r.buf2binstring = function(e) {
                return n(e, e.length)
            }
            ,
            r.binstring2buf = function(e) {
                for (var t = new i.Buf8(e.length), r = 0, n = t.length; r < n; r++)
                    t[r] = e.charCodeAt(r);
                return t
            }
            ,
            r.buf2string = function(e, t) {
                var r, i, s, a, u = t || e.length, h = new Array(2 * u);
                for (i = 0,
                r = 0; r < u; )
                    if ((s = e[r++]) < 128)
                        h[i++] = s;
                    else if ((a = o[s]) > 4)
                        h[i++] = 65533,
                        r += a - 1;
                    else {
                        for (s &= 2 === a ? 31 : 3 === a ? 15 : 7; a > 1 && r < u; )
                            s = s << 6 | 63 & e[r++],
                            a--;
                        a > 1 ? h[i++] = 65533 : s < 65536 ? h[i++] = s : (s -= 65536,
                        h[i++] = 55296 | s >> 10 & 1023,
                        h[i++] = 56320 | 1023 & s)
                    }
                return n(h, i)
            }
            ,
            r.utf8border = function(e, t) {
                var r;
                for ((t = t || e.length) > e.length && (t = e.length),
                r = t - 1; r >= 0 && 128 == (192 & e[r]); )
                    r--;
                return r < 0 ? t : 0 === r ? t : r + o[e[r]] > t ? r : t
            }
        }
        , {
            "./common": 62
        }],
        64: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r, n) {
                for (var i = 65535 & e | 0, s = e >>> 16 & 65535 | 0, a = 0; 0 !== r; ) {
                    r -= a = r > 2e3 ? 2e3 : r;
                    do {
                        s = s + (i = i + t[n++] | 0) | 0
                    } while (--a);
                    i %= 65521,
                    s %= 65521
                }
                return i | s << 16 | 0
            }
        }
        , {}],
        65: [function(e, t, r) {
            "use strict";
            t.exports = {
                Z_NO_FLUSH: 0,
                Z_PARTIAL_FLUSH: 1,
                Z_SYNC_FLUSH: 2,
                Z_FULL_FLUSH: 3,
                Z_FINISH: 4,
                Z_BLOCK: 5,
                Z_TREES: 6,
                Z_OK: 0,
                Z_STREAM_END: 1,
                Z_NEED_DICT: 2,
                Z_ERRNO: -1,
                Z_STREAM_ERROR: -2,
                Z_DATA_ERROR: -3,
                Z_BUF_ERROR: -5,
                Z_NO_COMPRESSION: 0,
                Z_BEST_SPEED: 1,
                Z_BEST_COMPRESSION: 9,
                Z_DEFAULT_COMPRESSION: -1,
                Z_FILTERED: 1,
                Z_HUFFMAN_ONLY: 2,
                Z_RLE: 3,
                Z_FIXED: 4,
                Z_DEFAULT_STRATEGY: 0,
                Z_BINARY: 0,
                Z_TEXT: 1,
                Z_UNKNOWN: 2,
                Z_DEFLATED: 8
            }
        }
        , {}],
        66: [function(e, t, r) {
            "use strict";
            var n = function() {
                for (var e, t = [], r = 0; r < 256; r++) {
                    e = r;
                    for (var n = 0; n < 8; n++)
                        e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1;
                    t[r] = e
                }
                return t
            }();
            t.exports = function(e, t, r, i) {
                var s = n
                  , a = i + r;
                e ^= -1;
                for (var o = i; o < a; o++)
                    e = e >>> 8 ^ s[255 & (e ^ t[o])];
                return -1 ^ e
            }
        }
        , {}],
        67: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                return e.msg = A[t],
                t
            }
            function i(e) {
                return (e << 1) - (e > 4 ? 9 : 0)
            }
            function s(e) {
                for (var t = e.length; --t >= 0; )
                    e[t] = 0
            }
            function a(e) {
                var t = e.state
                  , r = t.pending;
                r > e.avail_out && (r = e.avail_out),
                0 !== r && (S.arraySet(e.output, t.pending_buf, t.pending_out, r, e.next_out),
                e.next_out += r,
                t.pending_out += r,
                e.total_out += r,
                e.avail_out -= r,
                t.pending -= r,
                0 === t.pending && (t.pending_out = 0))
            }
            function o(e, t) {
                z._tr_flush_block(e, e.block_start >= 0 ? e.block_start : -1, e.strstart - e.block_start, t),
                e.block_start = e.strstart,
                a(e.strm)
            }
            function u(e, t) {
                e.pending_buf[e.pending++] = t
            }
            function h(e, t) {
                e.pending_buf[e.pending++] = t >>> 8 & 255,
                e.pending_buf[e.pending++] = 255 & t
            }
            function l(e, t, r, n) {
                var i = e.avail_in;
                return i > n && (i = n),
                0 === i ? 0 : (e.avail_in -= i,
                S.arraySet(t, e.input, e.next_in, i, r),
                1 === e.state.wrap ? e.adler = C(e.adler, t, i, r) : 2 === e.state.wrap && (e.adler = E(e.adler, t, i, r)),
                e.next_in += i,
                e.total_in += i,
                i)
            }
            function c(e, t) {
                var r, n, i = e.max_chain_length, s = e.strstart, a = e.prev_length, o = e.nice_match, u = e.strstart > e.w_size - ne ? e.strstart - (e.w_size - ne) : 0, h = e.window, l = e.w_mask, c = e.prev, f = e.strstart + re, d = h[s + a - 1], p = h[s + a];
                e.prev_length >= e.good_match && (i >>= 2),
                o > e.lookahead && (o = e.lookahead);
                do {
                    if (r = t,
                    h[r + a] === p && h[r + a - 1] === d && h[r] === h[s] && h[++r] === h[s + 1]) {
                        s += 2,
                        r++;
                        do {} while (h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && h[++s] === h[++r] && s < f);
                        if (n = re - (f - s),
                        s = f - re,
                        n > a) {
                            if (e.match_start = t,
                            a = n,
                            n >= o)
                                break;
                            d = h[s + a - 1],
                            p = h[s + a]
                        }
                    }
                } while ((t = c[t & l]) > u && 0 != --i);
                return a <= e.lookahead ? a : e.lookahead
            }
            function f(e) {
                var t, r, n, i, s, a = e.w_size;
                do {
                    if (i = e.window_size - e.lookahead - e.strstart,
                    e.strstart >= a + (a - ne)) {
                        S.arraySet(e.window, e.window, a, a, 0),
                        e.match_start -= a,
                        e.strstart -= a,
                        e.block_start -= a,
                        t = r = e.hash_size;
                        do {
                            n = e.head[--t],
                            e.head[t] = n >= a ? n - a : 0
                        } while (--r);
                        t = r = a;
                        do {
                            n = e.prev[--t],
                            e.prev[t] = n >= a ? n - a : 0
                        } while (--r);
                        i += a
                    }
                    if (0 === e.strm.avail_in)
                        break;
                    if (r = l(e.strm, e.window, e.strstart + e.lookahead, i),
                    e.lookahead += r,
                    e.lookahead + e.insert >= te)
                        for (s = e.strstart - e.insert,
                        e.ins_h = e.window[s],
                        e.ins_h = (e.ins_h << e.hash_shift ^ e.window[s + 1]) & e.hash_mask; e.insert && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[s + te - 1]) & e.hash_mask,
                        e.prev[s & e.w_mask] = e.head[e.ins_h],
                        e.head[e.ins_h] = s,
                        s++,
                        e.insert--,
                        !(e.lookahead + e.insert < te)); )
                            ;
                } while (e.lookahead < ne && 0 !== e.strm.avail_in)
            }
            function d(e, t) {
                for (var r, n; ; ) {
                    if (e.lookahead < ne) {
                        if (f(e),
                        e.lookahead < ne && t === I)
                            return fe;
                        if (0 === e.lookahead)
                            break
                    }
                    if (r = 0,
                    e.lookahead >= te && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + te - 1]) & e.hash_mask,
                    r = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h],
                    e.head[e.ins_h] = e.strstart),
                    0 !== r && e.strstart - r <= e.w_size - ne && (e.match_length = c(e, r)),
                    e.match_length >= te)
                        if (n = z._tr_tally(e, e.strstart - e.match_start, e.match_length - te),
                        e.lookahead -= e.match_length,
                        e.match_length <= e.max_lazy_match && e.lookahead >= te) {
                            e.match_length--;
                            do {
                                e.strstart++,
                                e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + te - 1]) & e.hash_mask,
                                r = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h],
                                e.head[e.ins_h] = e.strstart
                            } while (0 != --e.match_length);
                            e.strstart++
                        } else
                            e.strstart += e.match_length,
                            e.match_length = 0,
                            e.ins_h = e.window[e.strstart],
                            e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 1]) & e.hash_mask;
                    else
                        n = z._tr_tally(e, 0, e.window[e.strstart]),
                        e.lookahead--,
                        e.strstart++;
                    if (n && (o(e, !1),
                    0 === e.strm.avail_out))
                        return fe
                }
                return e.insert = e.strstart < te - 1 ? e.strstart : te - 1,
                t === R ? (o(e, !0),
                0 === e.strm.avail_out ? pe : me) : e.last_lit && (o(e, !1),
                0 === e.strm.avail_out) ? fe : de
            }
            function p(e, t) {
                for (var r, n, i; ; ) {
                    if (e.lookahead < ne) {
                        if (f(e),
                        e.lookahead < ne && t === I)
                            return fe;
                        if (0 === e.lookahead)
                            break
                    }
                    if (r = 0,
                    e.lookahead >= te && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + te - 1]) & e.hash_mask,
                    r = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h],
                    e.head[e.ins_h] = e.strstart),
                    e.prev_length = e.match_length,
                    e.prev_match = e.match_start,
                    e.match_length = te - 1,
                    0 !== r && e.prev_length < e.max_lazy_match && e.strstart - r <= e.w_size - ne && (e.match_length = c(e, r),
                    e.match_length <= 5 && (e.strategy === L || e.match_length === te && e.strstart - e.match_start > 4096) && (e.match_length = te - 1)),
                    e.prev_length >= te && e.match_length <= e.prev_length) {
                        i = e.strstart + e.lookahead - te,
                        n = z._tr_tally(e, e.strstart - 1 - e.prev_match, e.prev_length - te),
                        e.lookahead -= e.prev_length - 1,
                        e.prev_length -= 2;
                        do {
                            ++e.strstart <= i && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + te - 1]) & e.hash_mask,
                            r = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h],
                            e.head[e.ins_h] = e.strstart)
                        } while (0 != --e.prev_length);
                        if (e.match_available = 0,
                        e.match_length = te - 1,
                        e.strstart++,
                        n && (o(e, !1),
                        0 === e.strm.avail_out))
                            return fe
                    } else if (e.match_available) {
                        if ((n = z._tr_tally(e, 0, e.window[e.strstart - 1])) && o(e, !1),
                        e.strstart++,
                        e.lookahead--,
                        0 === e.strm.avail_out)
                            return fe
                    } else
                        e.match_available = 1,
                        e.strstart++,
                        e.lookahead--
                }
                return e.match_available && (n = z._tr_tally(e, 0, e.window[e.strstart - 1]),
                e.match_available = 0),
                e.insert = e.strstart < te - 1 ? e.strstart : te - 1,
                t === R ? (o(e, !0),
                0 === e.strm.avail_out ? pe : me) : e.last_lit && (o(e, !1),
                0 === e.strm.avail_out) ? fe : de
            }
            function m(e, t) {
                for (var r, n, i, s, a = e.window; ; ) {
                    if (e.lookahead <= re) {
                        if (f(e),
                        e.lookahead <= re && t === I)
                            return fe;
                        if (0 === e.lookahead)
                            break
                    }
                    if (e.match_length = 0,
                    e.lookahead >= te && e.strstart > 0 && (i = e.strstart - 1,
                    (n = a[i]) === a[++i] && n === a[++i] && n === a[++i])) {
                        s = e.strstart + re;
                        do {} while (n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && i < s);
                        e.match_length = re - (s - i),
                        e.match_length > e.lookahead && (e.match_length = e.lookahead)
                    }
                    if (e.match_length >= te ? (r = z._tr_tally(e, 1, e.match_length - te),
                    e.lookahead -= e.match_length,
                    e.strstart += e.match_length,
                    e.match_length = 0) : (r = z._tr_tally(e, 0, e.window[e.strstart]),
                    e.lookahead--,
                    e.strstart++),
                    r && (o(e, !1),
                    0 === e.strm.avail_out))
                        return fe
                }
                return e.insert = 0,
                t === R ? (o(e, !0),
                0 === e.strm.avail_out ? pe : me) : e.last_lit && (o(e, !1),
                0 === e.strm.avail_out) ? fe : de
            }
            function _(e, t) {
                for (var r; ; ) {
                    if (0 === e.lookahead && (f(e),
                    0 === e.lookahead)) {
                        if (t === I)
                            return fe;
                        break
                    }
                    if (e.match_length = 0,
                    r = z._tr_tally(e, 0, e.window[e.strstart]),
                    e.lookahead--,
                    e.strstart++,
                    r && (o(e, !1),
                    0 === e.strm.avail_out))
                        return fe
                }
                return e.insert = 0,
                t === R ? (o(e, !0),
                0 === e.strm.avail_out ? pe : me) : e.last_lit && (o(e, !1),
                0 === e.strm.avail_out) ? fe : de
            }
            function g(e, t, r, n, i) {
                this.good_length = e,
                this.max_lazy = t,
                this.nice_length = r,
                this.max_chain = n,
                this.func = i
            }
            function b(e) {
                e.window_size = 2 * e.w_size,
                s(e.head),
                e.max_lazy_match = x[e.level].max_lazy,
                e.good_match = x[e.level].good_length,
                e.nice_match = x[e.level].nice_length,
                e.max_chain_length = x[e.level].max_chain,
                e.strstart = 0,
                e.block_start = 0,
                e.lookahead = 0,
                e.insert = 0,
                e.match_length = e.prev_length = te - 1,
                e.match_available = 0,
                e.ins_h = 0
            }
            function v() {
                this.strm = null,
                this.status = 0,
                this.pending_buf = null,
                this.pending_buf_size = 0,
                this.pending_out = 0,
                this.pending = 0,
                this.wrap = 0,
                this.gzhead = null,
                this.gzindex = 0,
                this.method = K,
                this.last_flush = -1,
                this.w_size = 0,
                this.w_bits = 0,
                this.w_mask = 0,
                this.window = null,
                this.window_size = 0,
                this.prev = null,
                this.head = null,
                this.ins_h = 0,
                this.hash_size = 0,
                this.hash_bits = 0,
                this.hash_mask = 0,
                this.hash_shift = 0,
                this.block_start = 0,
                this.match_length = 0,
                this.prev_match = 0,
                this.match_available = 0,
                this.strstart = 0,
                this.match_start = 0,
                this.lookahead = 0,
                this.prev_length = 0,
                this.max_chain_length = 0,
                this.max_lazy_match = 0,
                this.level = 0,
                this.strategy = 0,
                this.good_match = 0,
                this.nice_match = 0,
                this.dyn_ltree = new S.Buf16(2 * $),
                this.dyn_dtree = new S.Buf16(2 * (2 * J + 1)),
                this.bl_tree = new S.Buf16(2 * (2 * Q + 1)),
                s(this.dyn_ltree),
                s(this.dyn_dtree),
                s(this.bl_tree),
                this.l_desc = null,
                this.d_desc = null,
                this.bl_desc = null,
                this.bl_count = new S.Buf16(ee + 1),
                this.heap = new S.Buf16(2 * q + 1),
                s(this.heap),
                this.heap_len = 0,
                this.heap_max = 0,
                this.depth = new S.Buf16(2 * q + 1),
                s(this.depth),
                this.l_buf = 0,
                this.lit_bufsize = 0,
                this.last_lit = 0,
                this.d_buf = 0,
                this.opt_len = 0,
                this.static_len = 0,
                this.matches = 0,
                this.insert = 0,
                this.bi_buf = 0,
                this.bi_valid = 0
            }
            function w(e) {
                var t;
                return e && e.state ? (e.total_in = e.total_out = 0,
                e.data_type = G,
                t = e.state,
                t.pending = 0,
                t.pending_out = 0,
                t.wrap < 0 && (t.wrap = -t.wrap),
                t.status = t.wrap ? se : le,
                e.adler = 2 === t.wrap ? 0 : 1,
                t.last_flush = I,
                z._tr_init(t),
                D) : n(e, N)
            }
            function y(e) {
                var t = w(e);
                return t === D && b(e.state),
                t
            }
            function k(e, t, r, i, s, a) {
                if (!e)
                    return N;
                var o = 1;
                if (t === j && (t = 6),
                i < 0 ? (o = 0,
                i = -i) : i > 15 && (o = 2,
                i -= 16),
                s < 1 || s > Y || r !== K || i < 8 || i > 15 || t < 0 || t > 9 || a < 0 || a > M)
                    return n(e, N);
                8 === i && (i = 9);
                var u = new v;
                return e.state = u,
                u.strm = e,
                u.wrap = o,
                u.gzhead = null,
                u.w_bits = i,
                u.w_size = 1 << u.w_bits,
                u.w_mask = u.w_size - 1,
                u.hash_bits = s + 7,
                u.hash_size = 1 << u.hash_bits,
                u.hash_mask = u.hash_size - 1,
                u.hash_shift = ~~((u.hash_bits + te - 1) / te),
                u.window = new S.Buf8(2 * u.w_size),
                u.head = new S.Buf16(u.hash_size),
                u.prev = new S.Buf16(u.w_size),
                u.lit_bufsize = 1 << s + 6,
                u.pending_buf_size = 4 * u.lit_bufsize,
                u.pending_buf = new S.Buf8(u.pending_buf_size),
                u.d_buf = 1 * u.lit_bufsize,
                u.l_buf = 3 * u.lit_bufsize,
                u.level = t,
                u.strategy = a,
                u.method = r,
                y(e)
            }
            var x, S = e("../utils/common"), z = e("./trees"), C = e("./adler32"), E = e("./crc32"), A = e("./messages"), I = 0, O = 1, B = 3, R = 4, T = 5, D = 0, F = 1, N = -2, P = -3, U = -5, j = -1, L = 1, Z = 2, W = 3, M = 4, H = 0, G = 2, K = 8, Y = 9, X = 15, V = 8, q = 286, J = 30, Q = 19, $ = 2 * q + 1, ee = 15, te = 3, re = 258, ne = re + te + 1, ie = 32, se = 42, ae = 69, oe = 73, ue = 91, he = 103, le = 113, ce = 666, fe = 1, de = 2, pe = 3, me = 4, _e = 3;
            x = [new g(0,0,0,0,function(e, t) {
                var r = 65535;
                for (r > e.pending_buf_size - 5 && (r = e.pending_buf_size - 5); ; ) {
                    if (e.lookahead <= 1) {
                        if (f(e),
                        0 === e.lookahead && t === I)
                            return fe;
                        if (0 === e.lookahead)
                            break
                    }
                    e.strstart += e.lookahead,
                    e.lookahead = 0;
                    var n = e.block_start + r;
                    if ((0 === e.strstart || e.strstart >= n) && (e.lookahead = e.strstart - n,
                    e.strstart = n,
                    o(e, !1),
                    0 === e.strm.avail_out))
                        return fe;
                    if (e.strstart - e.block_start >= e.w_size - ne && (o(e, !1),
                    0 === e.strm.avail_out))
                        return fe
                }
                return e.insert = 0,
                t === R ? (o(e, !0),
                0 === e.strm.avail_out ? pe : me) : (e.strstart > e.block_start && (o(e, !1),
                e.strm.avail_out),
                fe)
            }
            ), new g(4,4,8,4,d), new g(4,5,16,8,d), new g(4,6,32,32,d), new g(4,4,16,16,p), new g(8,16,32,32,p), new g(8,16,128,128,p), new g(8,32,128,256,p), new g(32,128,258,1024,p), new g(32,258,258,4096,p)],
            r.deflateInit = function(e, t) {
                return k(e, t, K, X, V, H)
            }
            ,
            r.deflateInit2 = k,
            r.deflateReset = y,
            r.deflateResetKeep = w,
            r.deflateSetHeader = function(e, t) {
                return e && e.state ? 2 !== e.state.wrap ? N : (e.state.gzhead = t,
                D) : N
            }
            ,
            r.deflate = function(e, t) {
                var r, o, l, c;
                if (!e || !e.state || t > T || t < 0)
                    return e ? n(e, N) : N;
                if (o = e.state,
                !e.output || !e.input && 0 !== e.avail_in || o.status === ce && t !== R)
                    return n(e, 0 === e.avail_out ? U : N);
                if (o.strm = e,
                r = o.last_flush,
                o.last_flush = t,
                o.status === se)
                    if (2 === o.wrap)
                        e.adler = 0,
                        u(o, 31),
                        u(o, 139),
                        u(o, 8),
                        o.gzhead ? (u(o, (o.gzhead.text ? 1 : 0) + (o.gzhead.hcrc ? 2 : 0) + (o.gzhead.extra ? 4 : 0) + (o.gzhead.name ? 8 : 0) + (o.gzhead.comment ? 16 : 0)),
                        u(o, 255 & o.gzhead.time),
                        u(o, o.gzhead.time >> 8 & 255),
                        u(o, o.gzhead.time >> 16 & 255),
                        u(o, o.gzhead.time >> 24 & 255),
                        u(o, 9 === o.level ? 2 : o.strategy >= Z || o.level < 2 ? 4 : 0),
                        u(o, 255 & o.gzhead.os),
                        o.gzhead.extra && o.gzhead.extra.length && (u(o, 255 & o.gzhead.extra.length),
                        u(o, o.gzhead.extra.length >> 8 & 255)),
                        o.gzhead.hcrc && (e.adler = E(e.adler, o.pending_buf, o.pending, 0)),
                        o.gzindex = 0,
                        o.status = ae) : (u(o, 0),
                        u(o, 0),
                        u(o, 0),
                        u(o, 0),
                        u(o, 0),
                        u(o, 9 === o.level ? 2 : o.strategy >= Z || o.level < 2 ? 4 : 0),
                        u(o, _e),
                        o.status = le);
                    else {
                        var f = K + (o.w_bits - 8 << 4) << 8;
                        f |= (o.strategy >= Z || o.level < 2 ? 0 : o.level < 6 ? 1 : 6 === o.level ? 2 : 3) << 6,
                        0 !== o.strstart && (f |= ie),
                        f += 31 - f % 31,
                        o.status = le,
                        h(o, f),
                        0 !== o.strstart && (h(o, e.adler >>> 16),
                        h(o, 65535 & e.adler)),
                        e.adler = 1
                    }
                if (o.status === ae)
                    if (o.gzhead.extra) {
                        for (l = o.pending; o.gzindex < (65535 & o.gzhead.extra.length) && (o.pending !== o.pending_buf_size || (o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                        a(e),
                        l = o.pending,
                        o.pending !== o.pending_buf_size)); )
                            u(o, 255 & o.gzhead.extra[o.gzindex]),
                            o.gzindex++;
                        o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                        o.gzindex === o.gzhead.extra.length && (o.gzindex = 0,
                        o.status = oe)
                    } else
                        o.status = oe;
                if (o.status === oe)
                    if (o.gzhead.name) {
                        l = o.pending;
                        do {
                            if (o.pending === o.pending_buf_size && (o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                            a(e),
                            l = o.pending,
                            o.pending === o.pending_buf_size)) {
                                c = 1;
                                break
                            }
                            c = o.gzindex < o.gzhead.name.length ? 255 & o.gzhead.name.charCodeAt(o.gzindex++) : 0,
                            u(o, c)
                        } while (0 !== c);
                        o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                        0 === c && (o.gzindex = 0,
                        o.status = ue)
                    } else
                        o.status = ue;
                if (o.status === ue)
                    if (o.gzhead.comment) {
                        l = o.pending;
                        do {
                            if (o.pending === o.pending_buf_size && (o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                            a(e),
                            l = o.pending,
                            o.pending === o.pending_buf_size)) {
                                c = 1;
                                break
                            }
                            c = o.gzindex < o.gzhead.comment.length ? 255 & o.gzhead.comment.charCodeAt(o.gzindex++) : 0,
                            u(o, c)
                        } while (0 !== c);
                        o.gzhead.hcrc && o.pending > l && (e.adler = E(e.adler, o.pending_buf, o.pending - l, l)),
                        0 === c && (o.status = he)
                    } else
                        o.status = he;
                if (o.status === he && (o.gzhead.hcrc ? (o.pending + 2 > o.pending_buf_size && a(e),
                o.pending + 2 <= o.pending_buf_size && (u(o, 255 & e.adler),
                u(o, e.adler >> 8 & 255),
                e.adler = 0,
                o.status = le)) : o.status = le),
                0 !== o.pending) {
                    if (a(e),
                    0 === e.avail_out)
                        return o.last_flush = -1,
                        D
                } else if (0 === e.avail_in && i(t) <= i(r) && t !== R)
                    return n(e, U);
                if (o.status === ce && 0 !== e.avail_in)
                    return n(e, U);
                if (0 !== e.avail_in || 0 !== o.lookahead || t !== I && o.status !== ce) {
                    var d = o.strategy === Z ? _(o, t) : o.strategy === W ? m(o, t) : x[o.level].func(o, t);
                    if (d !== pe && d !== me || (o.status = ce),
                    d === fe || d === pe)
                        return 0 === e.avail_out && (o.last_flush = -1),
                        D;
                    if (d === de && (t === O ? z._tr_align(o) : t !== T && (z._tr_stored_block(o, 0, 0, !1),
                    t === B && (s(o.head),
                    0 === o.lookahead && (o.strstart = 0,
                    o.block_start = 0,
                    o.insert = 0))),
                    a(e),
                    0 === e.avail_out))
                        return o.last_flush = -1,
                        D
                }
                return t !== R ? D : o.wrap <= 0 ? F : (2 === o.wrap ? (u(o, 255 & e.adler),
                u(o, e.adler >> 8 & 255),
                u(o, e.adler >> 16 & 255),
                u(o, e.adler >> 24 & 255),
                u(o, 255 & e.total_in),
                u(o, e.total_in >> 8 & 255),
                u(o, e.total_in >> 16 & 255),
                u(o, e.total_in >> 24 & 255)) : (h(o, e.adler >>> 16),
                h(o, 65535 & e.adler)),
                a(e),
                o.wrap > 0 && (o.wrap = -o.wrap),
                0 !== o.pending ? D : F)
            }
            ,
            r.deflateEnd = function(e) {
                var t;
                return e && e.state ? (t = e.state.status) !== se && t !== ae && t !== oe && t !== ue && t !== he && t !== le && t !== ce ? n(e, N) : (e.state = null,
                t === le ? n(e, P) : D) : N
            }
            ,
            r.deflateSetDictionary = function(e, t) {
                var r, n, i, a, o, u, h, l, c = t.length;
                if (!e || !e.state)
                    return N;
                if (r = e.state,
                2 === (a = r.wrap) || 1 === a && r.status !== se || r.lookahead)
                    return N;
                for (1 === a && (e.adler = C(e.adler, t, c, 0)),
                r.wrap = 0,
                c >= r.w_size && (0 === a && (s(r.head),
                r.strstart = 0,
                r.block_start = 0,
                r.insert = 0),
                l = new S.Buf8(r.w_size),
                S.arraySet(l, t, c - r.w_size, r.w_size, 0),
                t = l,
                c = r.w_size),
                o = e.avail_in,
                u = e.next_in,
                h = e.input,
                e.avail_in = c,
                e.next_in = 0,
                e.input = t,
                f(r); r.lookahead >= te; ) {
                    n = r.strstart,
                    i = r.lookahead - (te - 1);
                    do {
                        r.ins_h = (r.ins_h << r.hash_shift ^ r.window[n + te - 1]) & r.hash_mask,
                        r.prev[n & r.w_mask] = r.head[r.ins_h],
                        r.head[r.ins_h] = n,
                        n++
                    } while (--i);
                    r.strstart = n,
                    r.lookahead = te - 1,
                    f(r)
                }
                return r.strstart += r.lookahead,
                r.block_start = r.strstart,
                r.insert = r.lookahead,
                r.lookahead = 0,
                r.match_length = r.prev_length = te - 1,
                r.match_available = 0,
                e.next_in = u,
                e.input = h,
                e.avail_in = o,
                r.wrap = a,
                D
            }
            ,
            r.deflateInfo = "pako deflate (from Nodeca project)"
        }
        , {
            "../utils/common": 62,
            "./adler32": 64,
            "./crc32": 66,
            "./messages": 72,
            "./trees": 73
        }],
        68: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                this.text = 0,
                this.time = 0,
                this.xflags = 0,
                this.os = 0,
                this.extra = null,
                this.extra_len = 0,
                this.name = "",
                this.comment = "",
                this.hcrc = 0,
                this.done = !1
            }
        }
        , {}],
        69: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                var r, n, i, s, a, o, u, h, l, c, f, d, p, m, _, g, b, v, w, y, k, x, S, z, C;
                r = e.state,
                n = e.next_in,
                z = e.input,
                i = n + (e.avail_in - 5),
                s = e.next_out,
                C = e.output,
                a = s - (t - e.avail_out),
                o = s + (e.avail_out - 257),
                u = r.dmax,
                h = r.wsize,
                l = r.whave,
                c = r.wnext,
                f = r.window,
                d = r.hold,
                p = r.bits,
                m = r.lencode,
                _ = r.distcode,
                g = (1 << r.lenbits) - 1,
                b = (1 << r.distbits) - 1;
                e: do {
                    p < 15 && (d += z[n++] << p,
                    p += 8,
                    d += z[n++] << p,
                    p += 8),
                    v = m[d & g];
                    t: for (; ; ) {
                        if (w = v >>> 24,
                        d >>>= w,
                        p -= w,
                        0 === (w = v >>> 16 & 255))
                            C[s++] = 65535 & v;
                        else {
                            if (!(16 & w)) {
                                if (0 == (64 & w)) {
                                    v = m[(65535 & v) + (d & (1 << w) - 1)];
                                    continue t
                                }
                                if (32 & w) {
                                    r.mode = 12;
                                    break e
                                }
                                e.msg = "invalid literal/length code",
                                r.mode = 30;
                                break e
                            }
                            y = 65535 & v,
                            (w &= 15) && (p < w && (d += z[n++] << p,
                            p += 8),
                            y += d & (1 << w) - 1,
                            d >>>= w,
                            p -= w),
                            p < 15 && (d += z[n++] << p,
                            p += 8,
                            d += z[n++] << p,
                            p += 8),
                            v = _[d & b];
                            r: for (; ; ) {
                                if (w = v >>> 24,
                                d >>>= w,
                                p -= w,
                                !(16 & (w = v >>> 16 & 255))) {
                                    if (0 == (64 & w)) {
                                        v = _[(65535 & v) + (d & (1 << w) - 1)];
                                        continue r
                                    }
                                    e.msg = "invalid distance code",
                                    r.mode = 30;
                                    break e
                                }
                                if (k = 65535 & v,
                                w &= 15,
                                p < w && (d += z[n++] << p,
                                (p += 8) < w && (d += z[n++] << p,
                                p += 8)),
                                (k += d & (1 << w) - 1) > u) {
                                    e.msg = "invalid distance too far back",
                                    r.mode = 30;
                                    break e
                                }
                                if (d >>>= w,
                                p -= w,
                                w = s - a,
                                k > w) {
                                    if ((w = k - w) > l && r.sane) {
                                        e.msg = "invalid distance too far back",
                                        r.mode = 30;
                                        break e
                                    }
                                    if (x = 0,
                                    S = f,
                                    0 === c) {
                                        if (x += h - w,
                                        w < y) {
                                            y -= w;
                                            do {
                                                C[s++] = f[x++]
                                            } while (--w);
                                            x = s - k,
                                            S = C
                                        }
                                    } else if (c < w) {
                                        if (x += h + c - w,
                                        (w -= c) < y) {
                                            y -= w;
                                            do {
                                                C[s++] = f[x++]
                                            } while (--w);
                                            if (x = 0,
                                            c < y) {
                                                y -= w = c;
                                                do {
                                                    C[s++] = f[x++]
                                                } while (--w);
                                                x = s - k,
                                                S = C
                                            }
                                        }
                                    } else if (x += c - w,
                                    w < y) {
                                        y -= w;
                                        do {
                                            C[s++] = f[x++]
                                        } while (--w);
                                        x = s - k,
                                        S = C
                                    }
                                    for (; y > 2; )
                                        C[s++] = S[x++],
                                        C[s++] = S[x++],
                                        C[s++] = S[x++],
                                        y -= 3;
                                    y && (C[s++] = S[x++],
                                    y > 1 && (C[s++] = S[x++]))
                                } else {
                                    x = s - k;
                                    do {
                                        C[s++] = C[x++],
                                        C[s++] = C[x++],
                                        C[s++] = C[x++],
                                        y -= 3
                                    } while (y > 2);
                                    y && (C[s++] = C[x++],
                                    y > 1 && (C[s++] = C[x++]))
                                }
                                break
                            }
                        }
                        break
                    }
                } while (n < i && s < o);
                n -= y = p >> 3,
                d &= (1 << (p -= y << 3)) - 1,
                e.next_in = n,
                e.next_out = s,
                e.avail_in = n < i ? i - n + 5 : 5 - (n - i),
                e.avail_out = s < o ? o - s + 257 : 257 - (s - o),
                r.hold = d,
                r.bits = p
            }
        }
        , {}],
        70: [function(e, t, r) {
            "use strict";
            function n(e) {
                return (e >>> 24 & 255) + (e >>> 8 & 65280) + ((65280 & e) << 8) + ((255 & e) << 24)
            }
            function i() {
                this.mode = 0,
                this.last = !1,
                this.wrap = 0,
                this.havedict = !1,
                this.flags = 0,
                this.dmax = 0,
                this.check = 0,
                this.total = 0,
                this.head = null,
                this.wbits = 0,
                this.wsize = 0,
                this.whave = 0,
                this.wnext = 0,
                this.window = null,
                this.hold = 0,
                this.bits = 0,
                this.length = 0,
                this.offset = 0,
                this.extra = 0,
                this.lencode = null,
                this.distcode = null,
                this.lenbits = 0,
                this.distbits = 0,
                this.ncode = 0,
                this.nlen = 0,
                this.ndist = 0,
                this.have = 0,
                this.next = null,
                this.lens = new d.Buf16(320),
                this.work = new d.Buf16(288),
                this.lendyn = null,
                this.distdyn = null,
                this.sane = 0,
                this.back = 0,
                this.was = 0
            }
            function s(e) {
                var t;
                return e && e.state ? (t = e.state,
                e.total_in = e.total_out = t.total = 0,
                e.msg = "",
                t.wrap && (e.adler = 1 & t.wrap),
                t.mode = R,
                t.last = 0,
                t.havedict = 0,
                t.dmax = 32768,
                t.head = null,
                t.hold = 0,
                t.bits = 0,
                t.lencode = t.lendyn = new d.Buf32(le),
                t.distcode = t.distdyn = new d.Buf32(ce),
                t.sane = 1,
                t.back = -1,
                S) : E
            }
            function a(e) {
                var t;
                return e && e.state ? (t = e.state,
                t.wsize = 0,
                t.whave = 0,
                t.wnext = 0,
                s(e)) : E
            }
            function o(e, t) {
                var r, n;
                return e && e.state ? (n = e.state,
                t < 0 ? (r = 0,
                t = -t) : (r = 1 + (t >> 4),
                t < 48 && (t &= 15)),
                t && (t < 8 || t > 15) ? E : (null !== n.window && n.wbits !== t && (n.window = null),
                n.wrap = r,
                n.wbits = t,
                a(e))) : E
            }
            function u(e, t) {
                var r, n;
                return e ? (n = new i,
                e.state = n,
                n.window = null,
                (r = o(e, t)) !== S && (e.state = null),
                r) : E
            }
            function h(e) {
                if (de) {
                    var t;
                    for (c = new d.Buf32(512),
                    f = new d.Buf32(32),
                    t = 0; t < 144; )
                        e.lens[t++] = 8;
                    for (; t < 256; )
                        e.lens[t++] = 9;
                    for (; t < 280; )
                        e.lens[t++] = 7;
                    for (; t < 288; )
                        e.lens[t++] = 8;
                    for (g(v, e.lens, 0, 288, c, 0, e.work, {
                        bits: 9
                    }),
                    t = 0; t < 32; )
                        e.lens[t++] = 5;
                    g(w, e.lens, 0, 32, f, 0, e.work, {
                        bits: 5
                    }),
                    de = !1
                }
                e.lencode = c,
                e.lenbits = 9,
                e.distcode = f,
                e.distbits = 5
            }
            function l(e, t, r, n) {
                var i, s = e.state;
                return null === s.window && (s.wsize = 1 << s.wbits,
                s.wnext = 0,
                s.whave = 0,
                s.window = new d.Buf8(s.wsize)),
                n >= s.wsize ? (d.arraySet(s.window, t, r - s.wsize, s.wsize, 0),
                s.wnext = 0,
                s.whave = s.wsize) : ((i = s.wsize - s.wnext) > n && (i = n),
                d.arraySet(s.window, t, r - n, i, s.wnext),
                (n -= i) ? (d.arraySet(s.window, t, r - n, n, 0),
                s.wnext = n,
                s.whave = s.wsize) : (s.wnext += i,
                s.wnext === s.wsize && (s.wnext = 0),
                s.whave < s.wsize && (s.whave += i))),
                0
            }
            var c, f, d = e("../utils/common"), p = e("./adler32"), m = e("./crc32"), _ = e("./inffast"), g = e("./inftrees"), b = 0, v = 1, w = 2, y = 4, k = 5, x = 6, S = 0, z = 1, C = 2, E = -2, A = -3, I = -4, O = -5, B = 8, R = 1, T = 2, D = 3, F = 4, N = 5, P = 6, U = 7, j = 8, L = 9, Z = 10, W = 11, M = 12, H = 13, G = 14, K = 15, Y = 16, X = 17, V = 18, q = 19, J = 20, Q = 21, $ = 22, ee = 23, te = 24, re = 25, ne = 26, ie = 27, se = 28, ae = 29, oe = 30, ue = 31, he = 32, le = 852, ce = 592, fe = 15, de = !0;
            r.inflateReset = a,
            r.inflateReset2 = o,
            r.inflateResetKeep = s,
            r.inflateInit = function(e) {
                return u(e, fe)
            }
            ,
            r.inflateInit2 = u,
            r.inflate = function(e, t) {
                var r, i, s, a, o, u, c, f, le, ce, fe, de, pe, me, _e, ge, be, ve, we, ye, ke, xe, Se, ze, Ce = 0, Ee = new d.Buf8(4), Ae = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                if (!e || !e.state || !e.output || !e.input && 0 !== e.avail_in)
                    return E;
                (r = e.state).mode === M && (r.mode = H),
                o = e.next_out,
                s = e.output,
                c = e.avail_out,
                a = e.next_in,
                i = e.input,
                u = e.avail_in,
                f = r.hold,
                le = r.bits,
                ce = u,
                fe = c,
                xe = S;
                e: for (; ; )
                    switch (r.mode) {
                    case R:
                        if (0 === r.wrap) {
                            r.mode = H;
                            break
                        }
                        for (; le < 16; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if (2 & r.wrap && 35615 === f) {
                            r.check = 0,
                            Ee[0] = 255 & f,
                            Ee[1] = f >>> 8 & 255,
                            r.check = m(r.check, Ee, 2, 0),
                            f = 0,
                            le = 0,
                            r.mode = T;
                            break
                        }
                        if (r.flags = 0,
                        r.head && (r.head.done = !1),
                        !(1 & r.wrap) || (((255 & f) << 8) + (f >> 8)) % 31) {
                            e.msg = "incorrect header check",
                            r.mode = oe;
                            break
                        }
                        if ((15 & f) !== B) {
                            e.msg = "unknown compression method",
                            r.mode = oe;
                            break
                        }
                        if (f >>>= 4,
                        le -= 4,
                        ke = 8 + (15 & f),
                        0 === r.wbits)
                            r.wbits = ke;
                        else if (ke > r.wbits) {
                            e.msg = "invalid window size",
                            r.mode = oe;
                            break
                        }
                        r.dmax = 1 << ke,
                        e.adler = r.check = 1,
                        r.mode = 512 & f ? Z : M,
                        f = 0,
                        le = 0;
                        break;
                    case T:
                        for (; le < 16; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if (r.flags = f,
                        (255 & r.flags) !== B) {
                            e.msg = "unknown compression method",
                            r.mode = oe;
                            break
                        }
                        if (57344 & r.flags) {
                            e.msg = "unknown header flags set",
                            r.mode = oe;
                            break
                        }
                        r.head && (r.head.text = f >> 8 & 1),
                        512 & r.flags && (Ee[0] = 255 & f,
                        Ee[1] = f >>> 8 & 255,
                        r.check = m(r.check, Ee, 2, 0)),
                        f = 0,
                        le = 0,
                        r.mode = D;
                    case D:
                        for (; le < 32; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        r.head && (r.head.time = f),
                        512 & r.flags && (Ee[0] = 255 & f,
                        Ee[1] = f >>> 8 & 255,
                        Ee[2] = f >>> 16 & 255,
                        Ee[3] = f >>> 24 & 255,
                        r.check = m(r.check, Ee, 4, 0)),
                        f = 0,
                        le = 0,
                        r.mode = F;
                    case F:
                        for (; le < 16; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        r.head && (r.head.xflags = 255 & f,
                        r.head.os = f >> 8),
                        512 & r.flags && (Ee[0] = 255 & f,
                        Ee[1] = f >>> 8 & 255,
                        r.check = m(r.check, Ee, 2, 0)),
                        f = 0,
                        le = 0,
                        r.mode = N;
                    case N:
                        if (1024 & r.flags) {
                            for (; le < 16; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            r.length = f,
                            r.head && (r.head.extra_len = f),
                            512 & r.flags && (Ee[0] = 255 & f,
                            Ee[1] = f >>> 8 & 255,
                            r.check = m(r.check, Ee, 2, 0)),
                            f = 0,
                            le = 0
                        } else
                            r.head && (r.head.extra = null);
                        r.mode = P;
                    case P:
                        if (1024 & r.flags && ((de = r.length) > u && (de = u),
                        de && (r.head && (ke = r.head.extra_len - r.length,
                        r.head.extra || (r.head.extra = new Array(r.head.extra_len)),
                        d.arraySet(r.head.extra, i, a, de, ke)),
                        512 & r.flags && (r.check = m(r.check, i, de, a)),
                        u -= de,
                        a += de,
                        r.length -= de),
                        r.length))
                            break e;
                        r.length = 0,
                        r.mode = U;
                    case U:
                        if (2048 & r.flags) {
                            if (0 === u)
                                break e;
                            de = 0;
                            do {
                                ke = i[a + de++],
                                r.head && ke && r.length < 65536 && (r.head.name += String.fromCharCode(ke))
                            } while (ke && de < u);
                            if (512 & r.flags && (r.check = m(r.check, i, de, a)),
                            u -= de,
                            a += de,
                            ke)
                                break e
                        } else
                            r.head && (r.head.name = null);
                        r.length = 0,
                        r.mode = j;
                    case j:
                        if (4096 & r.flags) {
                            if (0 === u)
                                break e;
                            de = 0;
                            do {
                                ke = i[a + de++],
                                r.head && ke && r.length < 65536 && (r.head.comment += String.fromCharCode(ke))
                            } while (ke && de < u);
                            if (512 & r.flags && (r.check = m(r.check, i, de, a)),
                            u -= de,
                            a += de,
                            ke)
                                break e
                        } else
                            r.head && (r.head.comment = null);
                        r.mode = L;
                    case L:
                        if (512 & r.flags) {
                            for (; le < 16; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            if (f !== (65535 & r.check)) {
                                e.msg = "header crc mismatch",
                                r.mode = oe;
                                break
                            }
                            f = 0,
                            le = 0
                        }
                        r.head && (r.head.hcrc = r.flags >> 9 & 1,
                        r.head.done = !0),
                        e.adler = r.check = 0,
                        r.mode = M;
                        break;
                    case Z:
                        for (; le < 32; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        e.adler = r.check = n(f),
                        f = 0,
                        le = 0,
                        r.mode = W;
                    case W:
                        if (0 === r.havedict)
                            return e.next_out = o,
                            e.avail_out = c,
                            e.next_in = a,
                            e.avail_in = u,
                            r.hold = f,
                            r.bits = le,
                            C;
                        e.adler = r.check = 1,
                        r.mode = M;
                    case M:
                        if (t === k || t === x)
                            break e;
                    case H:
                        if (r.last) {
                            f >>>= 7 & le,
                            le -= 7 & le,
                            r.mode = ie;
                            break
                        }
                        for (; le < 3; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        switch (r.last = 1 & f,
                        f >>>= 1,
                        le -= 1,
                        3 & f) {
                        case 0:
                            r.mode = G;
                            break;
                        case 1:
                            if (h(r),
                            r.mode = J,
                            t === x) {
                                f >>>= 2,
                                le -= 2;
                                break e
                            }
                            break;
                        case 2:
                            r.mode = X;
                            break;
                        case 3:
                            e.msg = "invalid block type",
                            r.mode = oe
                        }
                        f >>>= 2,
                        le -= 2;
                        break;
                    case G:
                        for (f >>>= 7 & le,
                        le -= 7 & le; le < 32; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if ((65535 & f) != (f >>> 16 ^ 65535)) {
                            e.msg = "invalid stored block lengths",
                            r.mode = oe;
                            break
                        }
                        if (r.length = 65535 & f,
                        f = 0,
                        le = 0,
                        r.mode = K,
                        t === x)
                            break e;
                    case K:
                        r.mode = Y;
                    case Y:
                        if (de = r.length) {
                            if (de > u && (de = u),
                            de > c && (de = c),
                            0 === de)
                                break e;
                            d.arraySet(s, i, a, de, o),
                            u -= de,
                            a += de,
                            c -= de,
                            o += de,
                            r.length -= de;
                            break
                        }
                        r.mode = M;
                        break;
                    case X:
                        for (; le < 14; ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if (r.nlen = 257 + (31 & f),
                        f >>>= 5,
                        le -= 5,
                        r.ndist = 1 + (31 & f),
                        f >>>= 5,
                        le -= 5,
                        r.ncode = 4 + (15 & f),
                        f >>>= 4,
                        le -= 4,
                        r.nlen > 286 || r.ndist > 30) {
                            e.msg = "too many length or distance symbols",
                            r.mode = oe;
                            break
                        }
                        r.have = 0,
                        r.mode = V;
                    case V:
                        for (; r.have < r.ncode; ) {
                            for (; le < 3; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            r.lens[Ae[r.have++]] = 7 & f,
                            f >>>= 3,
                            le -= 3
                        }
                        for (; r.have < 19; )
                            r.lens[Ae[r.have++]] = 0;
                        if (r.lencode = r.lendyn,
                        r.lenbits = 7,
                        Se = {
                            bits: r.lenbits
                        },
                        xe = g(b, r.lens, 0, 19, r.lencode, 0, r.work, Se),
                        r.lenbits = Se.bits,
                        xe) {
                            e.msg = "invalid code lengths set",
                            r.mode = oe;
                            break
                        }
                        r.have = 0,
                        r.mode = q;
                    case q:
                        for (; r.have < r.nlen + r.ndist; ) {
                            for (; Ce = r.lencode[f & (1 << r.lenbits) - 1],
                            _e = Ce >>> 24,
                            ge = Ce >>> 16 & 255,
                            be = 65535 & Ce,
                            !(_e <= le); ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            if (be < 16)
                                f >>>= _e,
                                le -= _e,
                                r.lens[r.have++] = be;
                            else {
                                if (16 === be) {
                                    for (ze = _e + 2; le < ze; ) {
                                        if (0 === u)
                                            break e;
                                        u--,
                                        f += i[a++] << le,
                                        le += 8
                                    }
                                    if (f >>>= _e,
                                    le -= _e,
                                    0 === r.have) {
                                        e.msg = "invalid bit length repeat",
                                        r.mode = oe;
                                        break
                                    }
                                    ke = r.lens[r.have - 1],
                                    de = 3 + (3 & f),
                                    f >>>= 2,
                                    le -= 2
                                } else if (17 === be) {
                                    for (ze = _e + 3; le < ze; ) {
                                        if (0 === u)
                                            break e;
                                        u--,
                                        f += i[a++] << le,
                                        le += 8
                                    }
                                    le -= _e,
                                    ke = 0,
                                    de = 3 + (7 & (f >>>= _e)),
                                    f >>>= 3,
                                    le -= 3
                                } else {
                                    for (ze = _e + 7; le < ze; ) {
                                        if (0 === u)
                                            break e;
                                        u--,
                                        f += i[a++] << le,
                                        le += 8
                                    }
                                    le -= _e,
                                    ke = 0,
                                    de = 11 + (127 & (f >>>= _e)),
                                    f >>>= 7,
                                    le -= 7
                                }
                                if (r.have + de > r.nlen + r.ndist) {
                                    e.msg = "invalid bit length repeat",
                                    r.mode = oe;
                                    break
                                }
                                for (; de--; )
                                    r.lens[r.have++] = ke
                            }
                        }
                        if (r.mode === oe)
                            break;
                        if (0 === r.lens[256]) {
                            e.msg = "invalid code -- missing end-of-block",
                            r.mode = oe;
                            break
                        }
                        if (r.lenbits = 9,
                        Se = {
                            bits: r.lenbits
                        },
                        xe = g(v, r.lens, 0, r.nlen, r.lencode, 0, r.work, Se),
                        r.lenbits = Se.bits,
                        xe) {
                            e.msg = "invalid literal/lengths set",
                            r.mode = oe;
                            break
                        }
                        if (r.distbits = 6,
                        r.distcode = r.distdyn,
                        Se = {
                            bits: r.distbits
                        },
                        xe = g(w, r.lens, r.nlen, r.ndist, r.distcode, 0, r.work, Se),
                        r.distbits = Se.bits,
                        xe) {
                            e.msg = "invalid distances set",
                            r.mode = oe;
                            break
                        }
                        if (r.mode = J,
                        t === x)
                            break e;
                    case J:
                        r.mode = Q;
                    case Q:
                        if (u >= 6 && c >= 258) {
                            e.next_out = o,
                            e.avail_out = c,
                            e.next_in = a,
                            e.avail_in = u,
                            r.hold = f,
                            r.bits = le,
                            _(e, fe),
                            o = e.next_out,
                            s = e.output,
                            c = e.avail_out,
                            a = e.next_in,
                            i = e.input,
                            u = e.avail_in,
                            f = r.hold,
                            le = r.bits,
                            r.mode === M && (r.back = -1);
                            break
                        }
                        for (r.back = 0; Ce = r.lencode[f & (1 << r.lenbits) - 1],
                        _e = Ce >>> 24,
                        ge = Ce >>> 16 & 255,
                        be = 65535 & Ce,
                        !(_e <= le); ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if (ge && 0 == (240 & ge)) {
                            for (ve = _e,
                            we = ge,
                            ye = be; Ce = r.lencode[ye + ((f & (1 << ve + we) - 1) >> ve)],
                            _e = Ce >>> 24,
                            ge = Ce >>> 16 & 255,
                            be = 65535 & Ce,
                            !(ve + _e <= le); ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            f >>>= ve,
                            le -= ve,
                            r.back += ve
                        }
                        if (f >>>= _e,
                        le -= _e,
                        r.back += _e,
                        r.length = be,
                        0 === ge) {
                            r.mode = ne;
                            break
                        }
                        if (32 & ge) {
                            r.back = -1,
                            r.mode = M;
                            break
                        }
                        if (64 & ge) {
                            e.msg = "invalid literal/length code",
                            r.mode = oe;
                            break
                        }
                        r.extra = 15 & ge,
                        r.mode = $;
                    case $:
                        if (r.extra) {
                            for (ze = r.extra; le < ze; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            r.length += f & (1 << r.extra) - 1,
                            f >>>= r.extra,
                            le -= r.extra,
                            r.back += r.extra
                        }
                        r.was = r.length,
                        r.mode = ee;
                    case ee:
                        for (; Ce = r.distcode[f & (1 << r.distbits) - 1],
                        _e = Ce >>> 24,
                        ge = Ce >>> 16 & 255,
                        be = 65535 & Ce,
                        !(_e <= le); ) {
                            if (0 === u)
                                break e;
                            u--,
                            f += i[a++] << le,
                            le += 8
                        }
                        if (0 == (240 & ge)) {
                            for (ve = _e,
                            we = ge,
                            ye = be; Ce = r.distcode[ye + ((f & (1 << ve + we) - 1) >> ve)],
                            _e = Ce >>> 24,
                            ge = Ce >>> 16 & 255,
                            be = 65535 & Ce,
                            !(ve + _e <= le); ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            f >>>= ve,
                            le -= ve,
                            r.back += ve
                        }
                        if (f >>>= _e,
                        le -= _e,
                        r.back += _e,
                        64 & ge) {
                            e.msg = "invalid distance code",
                            r.mode = oe;
                            break
                        }
                        r.offset = be,
                        r.extra = 15 & ge,
                        r.mode = te;
                    case te:
                        if (r.extra) {
                            for (ze = r.extra; le < ze; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            r.offset += f & (1 << r.extra) - 1,
                            f >>>= r.extra,
                            le -= r.extra,
                            r.back += r.extra
                        }
                        if (r.offset > r.dmax) {
                            e.msg = "invalid distance too far back",
                            r.mode = oe;
                            break
                        }
                        r.mode = re;
                    case re:
                        if (0 === c)
                            break e;
                        if (de = fe - c,
                        r.offset > de) {
                            if ((de = r.offset - de) > r.whave && r.sane) {
                                e.msg = "invalid distance too far back",
                                r.mode = oe;
                                break
                            }
                            de > r.wnext ? (de -= r.wnext,
                            pe = r.wsize - de) : pe = r.wnext - de,
                            de > r.length && (de = r.length),
                            me = r.window
                        } else
                            me = s,
                            pe = o - r.offset,
                            de = r.length;
                        de > c && (de = c),
                        c -= de,
                        r.length -= de;
                        do {
                            s[o++] = me[pe++]
                        } while (--de);
                        0 === r.length && (r.mode = Q);
                        break;
                    case ne:
                        if (0 === c)
                            break e;
                        s[o++] = r.length,
                        c--,
                        r.mode = Q;
                        break;
                    case ie:
                        if (r.wrap) {
                            for (; le < 32; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f |= i[a++] << le,
                                le += 8
                            }
                            if (fe -= c,
                            e.total_out += fe,
                            r.total += fe,
                            fe && (e.adler = r.check = r.flags ? m(r.check, s, fe, o - fe) : p(r.check, s, fe, o - fe)),
                            fe = c,
                            (r.flags ? f : n(f)) !== r.check) {
                                e.msg = "incorrect data check",
                                r.mode = oe;
                                break
                            }
                            f = 0,
                            le = 0
                        }
                        r.mode = se;
                    case se:
                        if (r.wrap && r.flags) {
                            for (; le < 32; ) {
                                if (0 === u)
                                    break e;
                                u--,
                                f += i[a++] << le,
                                le += 8
                            }
                            if (f !== (4294967295 & r.total)) {
                                e.msg = "incorrect length check",
                                r.mode = oe;
                                break
                            }
                            f = 0,
                            le = 0
                        }
                        r.mode = ae;
                    case ae:
                        xe = z;
                        break e;
                    case oe:
                        xe = A;
                        break e;
                    case ue:
                        return I;
                    case he:
                    default:
                        return E
                    }
                return e.next_out = o,
                e.avail_out = c,
                e.next_in = a,
                e.avail_in = u,
                r.hold = f,
                r.bits = le,
                (r.wsize || fe !== e.avail_out && r.mode < oe && (r.mode < ie || t !== y)) && l(e, e.output, e.next_out, fe - e.avail_out) ? (r.mode = ue,
                I) : (ce -= e.avail_in,
                fe -= e.avail_out,
                e.total_in += ce,
                e.total_out += fe,
                r.total += fe,
                r.wrap && fe && (e.adler = r.check = r.flags ? m(r.check, s, fe, e.next_out - fe) : p(r.check, s, fe, e.next_out - fe)),
                e.data_type = r.bits + (r.last ? 64 : 0) + (r.mode === M ? 128 : 0) + (r.mode === J || r.mode === K ? 256 : 0),
                (0 === ce && 0 === fe || t === y) && xe === S && (xe = O),
                xe)
            }
            ,
            r.inflateEnd = function(e) {
                if (!e || !e.state)
                    return E;
                var t = e.state;
                return t.window && (t.window = null),
                e.state = null,
                S
            }
            ,
            r.inflateGetHeader = function(e, t) {
                var r;
                return e && e.state ? 0 == (2 & (r = e.state).wrap) ? E : (r.head = t,
                t.done = !1,
                S) : E
            }
            ,
            r.inflateSetDictionary = function(e, t) {
                var r, n, i = t.length;
                return e && e.state ? 0 !== (r = e.state).wrap && r.mode !== W ? E : r.mode === W && (n = 1,
                (n = p(n, t, i, 0)) !== r.check) ? A : l(e, t, i, i) ? (r.mode = ue,
                I) : (r.havedict = 1,
                S) : E
            }
            ,
            r.inflateInfo = "pako inflate (from Nodeca project)"
        }
        , {
            "../utils/common": 62,
            "./adler32": 64,
            "./crc32": 66,
            "./inffast": 69,
            "./inftrees": 71
        }],
        71: [function(e, t, r) {
            "use strict";
            var n = e("../utils/common")
              , i = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]
              , s = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]
              , a = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]
              , o = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
            t.exports = function(e, t, r, u, h, l, c, f) {
                var d, p, m, _, g, b, v, w, y, k = f.bits, x = 0, S = 0, z = 0, C = 0, E = 0, A = 0, I = 0, O = 0, B = 0, R = 0, T = null, D = 0, F = new n.Buf16(16), N = new n.Buf16(16), P = null, U = 0;
                for (x = 0; x <= 15; x++)
                    F[x] = 0;
                for (S = 0; S < u; S++)
                    F[t[r + S]]++;
                for (E = k,
                C = 15; C >= 1 && 0 === F[C]; C--)
                    ;
                if (E > C && (E = C),
                0 === C)
                    return h[l++] = 20971520,
                    h[l++] = 20971520,
                    f.bits = 1,
                    0;
                for (z = 1; z < C && 0 === F[z]; z++)
                    ;
                for (E < z && (E = z),
                O = 1,
                x = 1; x <= 15; x++)
                    if (O <<= 1,
                    (O -= F[x]) < 0)
                        return -1;
                if (O > 0 && (0 === e || 1 !== C))
                    return -1;
                for (N[1] = 0,
                x = 1; x < 15; x++)
                    N[x + 1] = N[x] + F[x];
                for (S = 0; S < u; S++)
                    0 !== t[r + S] && (c[N[t[r + S]]++] = S);
                if (0 === e ? (T = P = c,
                b = 19) : 1 === e ? (T = i,
                D -= 257,
                P = s,
                U -= 257,
                b = 256) : (T = a,
                P = o,
                b = -1),
                R = 0,
                S = 0,
                x = z,
                g = l,
                A = E,
                I = 0,
                m = -1,
                B = 1 << E,
                _ = B - 1,
                1 === e && B > 852 || 2 === e && B > 592)
                    return 1;
                for (; ; ) {
                    v = x - I,
                    c[S] < b ? (w = 0,
                    y = c[S]) : c[S] > b ? (w = P[U + c[S]],
                    y = T[D + c[S]]) : (w = 96,
                    y = 0),
                    d = 1 << x - I,
                    z = p = 1 << A;
                    do {
                        h[g + (R >> I) + (p -= d)] = v << 24 | w << 16 | y | 0
                    } while (0 !== p);
                    for (d = 1 << x - 1; R & d; )
                        d >>= 1;
                    if (0 !== d ? (R &= d - 1,
                    R += d) : R = 0,
                    S++,
                    0 == --F[x]) {
                        if (x === C)
                            break;
                        x = t[r + c[S]]
                    }
                    if (x > E && (R & _) !== m) {
                        for (0 === I && (I = E),
                        g += z,
                        O = 1 << (A = x - I); A + I < C && !((O -= F[A + I]) <= 0); )
                            A++,
                            O <<= 1;
                        if (B += 1 << A,
                        1 === e && B > 852 || 2 === e && B > 592)
                            return 1;
                        h[m = R & _] = E << 24 | A << 16 | g - l | 0
                    }
                }
                return 0 !== R && (h[g + R] = x - I << 24 | 64 << 16 | 0),
                f.bits = E,
                0
            }
        }
        , {
            "../utils/common": 62
        }],
        72: [function(e, t, r) {
            "use strict";
            t.exports = {
                2: "need dictionary",
                1: "stream end",
                0: "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            }
        }
        , {}],
        73: [function(e, t, r) {
            "use strict";
            function n(e) {
                for (var t = e.length; --t >= 0; )
                    e[t] = 0
            }
            function i(e, t, r, n, i) {
                this.static_tree = e,
                this.extra_bits = t,
                this.extra_base = r,
                this.elems = n,
                this.max_length = i,
                this.has_stree = e && e.length
            }
            function s(e, t) {
                this.dyn_tree = e,
                this.max_code = 0,
                this.stat_desc = t
            }
            function a(e) {
                return e < 256 ? te[e] : te[256 + (e >>> 7)]
            }
            function o(e, t) {
                e.pending_buf[e.pending++] = 255 & t,
                e.pending_buf[e.pending++] = t >>> 8 & 255
            }
            function u(e, t, r) {
                e.bi_valid > M - r ? (e.bi_buf |= t << e.bi_valid & 65535,
                o(e, e.bi_buf),
                e.bi_buf = t >> M - e.bi_valid,
                e.bi_valid += r - M) : (e.bi_buf |= t << e.bi_valid & 65535,
                e.bi_valid += r)
            }
            function h(e, t, r) {
                u(e, r[2 * t], r[2 * t + 1])
            }
            function l(e, t) {
                var r = 0;
                do {
                    r |= 1 & e,
                    e >>>= 1,
                    r <<= 1
                } while (--t > 0);
                return r >>> 1
            }
            function c(e) {
                16 === e.bi_valid ? (o(e, e.bi_buf),
                e.bi_buf = 0,
                e.bi_valid = 0) : e.bi_valid >= 8 && (e.pending_buf[e.pending++] = 255 & e.bi_buf,
                e.bi_buf >>= 8,
                e.bi_valid -= 8)
            }
            function f(e, t) {
                var r, n, i, s, a, o, u = t.dyn_tree, h = t.max_code, l = t.stat_desc.static_tree, c = t.stat_desc.has_stree, f = t.stat_desc.extra_bits, d = t.stat_desc.extra_base, p = t.stat_desc.max_length, m = 0;
                for (s = 0; s <= W; s++)
                    e.bl_count[s] = 0;
                for (u[2 * e.heap[e.heap_max] + 1] = 0,
                r = e.heap_max + 1; r < Z; r++)
                    (s = u[2 * u[2 * (n = e.heap[r]) + 1] + 1] + 1) > p && (s = p,
                    m++),
                    u[2 * n + 1] = s,
                    n > h || (e.bl_count[s]++,
                    a = 0,
                    n >= d && (a = f[n - d]),
                    o = u[2 * n],
                    e.opt_len += o * (s + a),
                    c && (e.static_len += o * (l[2 * n + 1] + a)));
                if (0 !== m) {
                    do {
                        for (s = p - 1; 0 === e.bl_count[s]; )
                            s--;
                        e.bl_count[s]--,
                        e.bl_count[s + 1] += 2,
                        e.bl_count[p]--,
                        m -= 2
                    } while (m > 0);
                    for (s = p; 0 !== s; s--)
                        for (n = e.bl_count[s]; 0 !== n; )
                            (i = e.heap[--r]) > h || (u[2 * i + 1] !== s && (e.opt_len += (s - u[2 * i + 1]) * u[2 * i],
                            u[2 * i + 1] = s),
                            n--)
                }
            }
            function d(e, t, r) {
                var n, i, s = new Array(W + 1), a = 0;
                for (n = 1; n <= W; n++)
                    s[n] = a = a + r[n - 1] << 1;
                for (i = 0; i <= t; i++) {
                    var o = e[2 * i + 1];
                    0 !== o && (e[2 * i] = l(s[o]++, o))
                }
            }
            function p() {
                var e, t, r, n, s, a = new Array(W + 1);
                for (r = 0,
                n = 0; n < N - 1; n++)
                    for (ne[n] = r,
                    e = 0; e < 1 << V[n]; e++)
                        re[r++] = n;
                for (re[r - 1] = n,
                s = 0,
                n = 0; n < 16; n++)
                    for (ie[n] = s,
                    e = 0; e < 1 << q[n]; e++)
                        te[s++] = n;
                for (s >>= 7; n < j; n++)
                    for (ie[n] = s << 7,
                    e = 0; e < 1 << q[n] - 7; e++)
                        te[256 + s++] = n;
                for (t = 0; t <= W; t++)
                    a[t] = 0;
                for (e = 0; e <= 143; )
                    $[2 * e + 1] = 8,
                    e++,
                    a[8]++;
                for (; e <= 255; )
                    $[2 * e + 1] = 9,
                    e++,
                    a[9]++;
                for (; e <= 279; )
                    $[2 * e + 1] = 7,
                    e++,
                    a[7]++;
                for (; e <= 287; )
                    $[2 * e + 1] = 8,
                    e++,
                    a[8]++;
                for (d($, U + 1, a),
                e = 0; e < j; e++)
                    ee[2 * e + 1] = 5,
                    ee[2 * e] = l(e, 5);
                se = new i($,V,P + 1,U,W),
                ae = new i(ee,q,0,j,W),
                oe = new i(new Array(0),J,0,L,H)
            }
            function m(e) {
                var t;
                for (t = 0; t < U; t++)
                    e.dyn_ltree[2 * t] = 0;
                for (t = 0; t < j; t++)
                    e.dyn_dtree[2 * t] = 0;
                for (t = 0; t < L; t++)
                    e.bl_tree[2 * t] = 0;
                e.dyn_ltree[2 * G] = 1,
                e.opt_len = e.static_len = 0,
                e.last_lit = e.matches = 0
            }
            function _(e) {
                e.bi_valid > 8 ? o(e, e.bi_buf) : e.bi_valid > 0 && (e.pending_buf[e.pending++] = e.bi_buf),
                e.bi_buf = 0,
                e.bi_valid = 0
            }
            function g(e, t, r, n) {
                _(e),
                n && (o(e, r),
                o(e, ~r)),
                A.arraySet(e.pending_buf, e.window, t, r, e.pending),
                e.pending += r
            }
            function b(e, t, r, n) {
                var i = 2 * t
                  , s = 2 * r;
                return e[i] < e[s] || e[i] === e[s] && n[t] <= n[r]
            }
            function v(e, t, r) {
                for (var n = e.heap[r], i = r << 1; i <= e.heap_len && (i < e.heap_len && b(t, e.heap[i + 1], e.heap[i], e.depth) && i++,
                !b(t, n, e.heap[i], e.depth)); )
                    e.heap[r] = e.heap[i],
                    r = i,
                    i <<= 1;
                e.heap[r] = n
            }
            function w(e, t, r) {
                var n, i, s, o, l = 0;
                if (0 !== e.last_lit)
                    do {
                        n = e.pending_buf[e.d_buf + 2 * l] << 8 | e.pending_buf[e.d_buf + 2 * l + 1],
                        i = e.pending_buf[e.l_buf + l],
                        l++,
                        0 === n ? h(e, i, t) : (h(e, (s = re[i]) + P + 1, t),
                        0 !== (o = V[s]) && u(e, i -= ne[s], o),
                        h(e, s = a(--n), r),
                        0 !== (o = q[s]) && u(e, n -= ie[s], o))
                    } while (l < e.last_lit);
                h(e, G, t)
            }
            function y(e, t) {
                var r, n, i, s = t.dyn_tree, a = t.stat_desc.static_tree, o = t.stat_desc.has_stree, u = t.stat_desc.elems, h = -1;
                for (e.heap_len = 0,
                e.heap_max = Z,
                r = 0; r < u; r++)
                    0 !== s[2 * r] ? (e.heap[++e.heap_len] = h = r,
                    e.depth[r] = 0) : s[2 * r + 1] = 0;
                for (; e.heap_len < 2; )
                    s[2 * (i = e.heap[++e.heap_len] = h < 2 ? ++h : 0)] = 1,
                    e.depth[i] = 0,
                    e.opt_len--,
                    o && (e.static_len -= a[2 * i + 1]);
                for (t.max_code = h,
                r = e.heap_len >> 1; r >= 1; r--)
                    v(e, s, r);
                i = u;
                do {
                    r = e.heap[1],
                    e.heap[1] = e.heap[e.heap_len--],
                    v(e, s, 1),
                    n = e.heap[1],
                    e.heap[--e.heap_max] = r,
                    e.heap[--e.heap_max] = n,
                    s[2 * i] = s[2 * r] + s[2 * n],
                    e.depth[i] = (e.depth[r] >= e.depth[n] ? e.depth[r] : e.depth[n]) + 1,
                    s[2 * r + 1] = s[2 * n + 1] = i,
                    e.heap[1] = i++,
                    v(e, s, 1)
                } while (e.heap_len >= 2);
                e.heap[--e.heap_max] = e.heap[1],
                f(e, t),
                d(s, h, e.bl_count)
            }
            function k(e, t, r) {
                var n, i, s = -1, a = t[1], o = 0, u = 7, h = 4;
                for (0 === a && (u = 138,
                h = 3),
                t[2 * (r + 1) + 1] = 65535,
                n = 0; n <= r; n++)
                    i = a,
                    a = t[2 * (n + 1) + 1],
                    ++o < u && i === a || (o < h ? e.bl_tree[2 * i] += o : 0 !== i ? (i !== s && e.bl_tree[2 * i]++,
                    e.bl_tree[2 * K]++) : o <= 10 ? e.bl_tree[2 * Y]++ : e.bl_tree[2 * X]++,
                    o = 0,
                    s = i,
                    0 === a ? (u = 138,
                    h = 3) : i === a ? (u = 6,
                    h = 3) : (u = 7,
                    h = 4))
            }
            function x(e, t, r) {
                var n, i, s = -1, a = t[1], o = 0, l = 7, c = 4;
                for (0 === a && (l = 138,
                c = 3),
                n = 0; n <= r; n++)
                    if (i = a,
                    a = t[2 * (n + 1) + 1],
                    !(++o < l && i === a)) {
                        if (o < c)
                            do {
                                h(e, i, e.bl_tree)
                            } while (0 != --o);
                        else
                            0 !== i ? (i !== s && (h(e, i, e.bl_tree),
                            o--),
                            h(e, K, e.bl_tree),
                            u(e, o - 3, 2)) : o <= 10 ? (h(e, Y, e.bl_tree),
                            u(e, o - 3, 3)) : (h(e, X, e.bl_tree),
                            u(e, o - 11, 7));
                        o = 0,
                        s = i,
                        0 === a ? (l = 138,
                        c = 3) : i === a ? (l = 6,
                        c = 3) : (l = 7,
                        c = 4)
                    }
            }
            function S(e) {
                var t;
                for (k(e, e.dyn_ltree, e.l_desc.max_code),
                k(e, e.dyn_dtree, e.d_desc.max_code),
                y(e, e.bl_desc),
                t = L - 1; t >= 3 && 0 === e.bl_tree[2 * Q[t] + 1]; t--)
                    ;
                return e.opt_len += 3 * (t + 1) + 5 + 5 + 4,
                t
            }
            function z(e, t, r, n) {
                var i;
                for (u(e, t - 257, 5),
                u(e, r - 1, 5),
                u(e, n - 4, 4),
                i = 0; i < n; i++)
                    u(e, e.bl_tree[2 * Q[i] + 1], 3);
                x(e, e.dyn_ltree, t - 1),
                x(e, e.dyn_dtree, r - 1)
            }
            function C(e) {
                var t, r = 4093624447;
                for (t = 0; t <= 31; t++,
                r >>>= 1)
                    if (1 & r && 0 !== e.dyn_ltree[2 * t])
                        return O;
                if (0 !== e.dyn_ltree[18] || 0 !== e.dyn_ltree[20] || 0 !== e.dyn_ltree[26])
                    return B;
                for (t = 32; t < P; t++)
                    if (0 !== e.dyn_ltree[2 * t])
                        return B;
                return O
            }
            function E(e, t, r, n) {
                u(e, (T << 1) + (n ? 1 : 0), 3),
                g(e, t, r, !0)
            }
            var A = e("../utils/common")
              , I = 4
              , O = 0
              , B = 1
              , R = 2
              , T = 0
              , D = 1
              , F = 2
              , N = 29
              , P = 256
              , U = P + 1 + N
              , j = 30
              , L = 19
              , Z = 2 * U + 1
              , W = 15
              , M = 16
              , H = 7
              , G = 256
              , K = 16
              , Y = 17
              , X = 18
              , V = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]
              , q = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]
              , J = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]
              , Q = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]
              , $ = new Array(2 * (U + 2));
            n($);
            var ee = new Array(2 * j);
            n(ee);
            var te = new Array(512);
            n(te);
            var re = new Array(256);
            n(re);
            var ne = new Array(N);
            n(ne);
            var ie = new Array(j);
            n(ie);
            var se, ae, oe, ue = !1;
            r._tr_init = function(e) {
                ue || (p(),
                ue = !0),
                e.l_desc = new s(e.dyn_ltree,se),
                e.d_desc = new s(e.dyn_dtree,ae),
                e.bl_desc = new s(e.bl_tree,oe),
                e.bi_buf = 0,
                e.bi_valid = 0,
                m(e)
            }
            ,
            r._tr_stored_block = E,
            r._tr_flush_block = function(e, t, r, n) {
                var i, s, a = 0;
                e.level > 0 ? (e.strm.data_type === R && (e.strm.data_type = C(e)),
                y(e, e.l_desc),
                y(e, e.d_desc),
                a = S(e),
                i = e.opt_len + 3 + 7 >>> 3,
                (s = e.static_len + 3 + 7 >>> 3) <= i && (i = s)) : i = s = r + 5,
                r + 4 <= i && -1 !== t ? E(e, t, r, n) : e.strategy === I || s === i ? (u(e, (D << 1) + (n ? 1 : 0), 3),
                w(e, $, ee)) : (u(e, (F << 1) + (n ? 1 : 0), 3),
                z(e, e.l_desc.max_code + 1, e.d_desc.max_code + 1, a + 1),
                w(e, e.dyn_ltree, e.dyn_dtree)),
                m(e),
                n && _(e)
            }
            ,
            r._tr_tally = function(e, t, r) {
                return e.pending_buf[e.d_buf + 2 * e.last_lit] = t >>> 8 & 255,
                e.pending_buf[e.d_buf + 2 * e.last_lit + 1] = 255 & t,
                e.pending_buf[e.l_buf + e.last_lit] = 255 & r,
                e.last_lit++,
                0 === t ? e.dyn_ltree[2 * r]++ : (e.matches++,
                t--,
                e.dyn_ltree[2 * (re[r] + P + 1)]++,
                e.dyn_dtree[2 * a(t)]++),
                e.last_lit === e.lit_bufsize - 1
            }
            ,
            r._tr_align = function(e) {
                u(e, D << 1, 3),
                h(e, G, $),
                c(e)
            }
        }
        , {
            "../utils/common": 62
        }],
        74: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                this.input = null,
                this.next_in = 0,
                this.avail_in = 0,
                this.total_in = 0,
                this.output = null,
                this.next_out = 0,
                this.avail_out = 0,
                this.total_out = 0,
                this.msg = "",
                this.state = null,
                this.data_type = 2,
                this.adler = 0
            }
        }
        , {}]
    }, {}, [10])(10)
});
"use strict";
!function(e) {
    function t(e) {
        this.data = null,
        this.length = 0,
        this.index = 0
    }
    function r(e, t) {
        this.data = e,
        t || (this.data = d.utils.string2binary(this.data)),
        this.length = this.data.length,
        this.index = 0
    }
    function i(e) {
        e && (this.data = e,
        this.length = this.data.length,
        this.index = 0)
    }
    function s(e) {
        this.data = e,
        this.length = this.data.length,
        this.index = 0
    }
    function n(e, t) {
        this.options = e,
        this.loadOptions = t
    }
    function a(e, t) {
        this.files = [],
        this.loadOptions = t,
        e && this.load(e)
    }
    var d = e.JSZip
      , h = function(e) {
        var t, r, i = "";
        for (r = 0; r < (e || "").length; r++)
            i += "\\x" + ((t = e.charCodeAt(r)) < 16 ? "0" : "") + t.toString(16).toUpperCase();
        return i
    }
      , o = function(e) {
        for (var t in d.compressions)
            if (d.compressions.hasOwnProperty(t) && d.compressions[t].magic === e)
                return d.compressions[t];
        return null
    };
    t.prototype = {
        checkOffset: function(e) {
            this.checkIndex(this.index + e)
        },
        checkIndex: function(e) {
            if (this.length < e || e < 0)
                throw new Error("Error " + this.length + ", indice = " + e + ").")
        },
        setIndex: function(e) {
            this.checkIndex(e),
            this.index = e
        },
        skip: function(e) {
            this.setIndex(this.index + e)
        },
        byteAt: function(e) {},
        readInt: function(e) {
            var t, r = 0;
            for (this.checkOffset(e),
            t = this.index + e - 1; t >= this.index; t--)
                r = (r << 8) + this.byteAt(t);
            return this.index += e,
            r
        },
        readString: function(e) {
            return d.utils.transformTo("string", this.readData(e))
        },
        readData: function(e) {},
        lastIndexOfSignature: function(e) {},
        readDate: function() {
            var e = this.readInt(4);
            return new Date(1980 + (e >> 25 & 127),(e >> 21 & 15) - 1,e >> 16 & 31,e >> 11 & 31,e >> 5 & 63,(31 & e) << 1)
        }
    },
    (r.prototype = new t).byteAt = function(e) {
        return this.data.charCodeAt(e)
    }
    ,
    r.prototype.lastIndexOfSignature = function(e) {
        return this.data.lastIndexOf(e)
    }
    ,
    r.prototype.readData = function(e) {
        this.checkOffset(e);
        var t = this.data.slice(this.index, this.index + e);
        return this.index += e,
        t
    }
    ,
    (i.prototype = new t).byteAt = function(e) {
        return this.data[e]
    }
    ,
    i.prototype.lastIndexOfSignature = function(e) {
        for (var t = e.charCodeAt(0), r = e.charCodeAt(1), i = e.charCodeAt(2), s = e.charCodeAt(3), n = this.length - 4; n >= 0; --n)
            if (this.data[n] === t && this.data[n + 1] === r && this.data[n + 2] === i && this.data[n + 3] === s)
                return n;
        return -1
    }
    ,
    i.prototype.readData = function(e) {
        this.checkOffset(e);
        var t = this.data.subarray(this.index, this.index + e);
        return this.index += e,
        t
    }
    ,
    (s.prototype = new i).readData = function(e) {
        this.checkOffset(e);
        var t = this.data.slice(this.index, this.index + e);
        return this.index += e,
        t
    }
    ,
    n.prototype = {
        isEncrypted: function() {
            return 1 == (1 & this.bitFlag)
        },
        useUTF8: function() {
            return 2048 == (2048 & this.bitFlag)
        },
        prepareCompressedContent: function(e, t, r) {
            return function() {
                var i = e.index;
                e.setIndex(t);
                var s = e.readData(r);
                return e.setIndex(i),
                s
            }
        },
        prepareContent: function(e, t, r, i, s) {
            return function() {
                var e = d.utils.transformTo(i.uncompressInputType, this.getCompressedContent())
                  , t = i.uncompress(e);
                if (t.length !== s)
                    throw new Error("Error");
                return t
            }
        },
        readLocalPart: function(e) {
            var t, r;
            if (e.skip(22),
            this.fileNameLength = e.readInt(2),
            r = e.readInt(2),
            this.fileName = e.readString(this.fileNameLength),
            e.skip(r),
            -1 == this.compressedSize || -1 == this.uncompressedSize)
                throw new Error("Error");
            if (null === (t = o(this.compressionMethod)))
                throw new Error("Error " + h(this.compressionMethod) + " error " + this.fileName + ")");
            if (this.decompressed = new d.CompressedObject,
            this.decompressed.compressedSize = this.compressedSize,
            this.decompressed.uncompressedSize = this.uncompressedSize,
            this.decompressed.crc32 = this.crc32,
            this.decompressed.compressionMethod = this.compressionMethod,
            this.decompressed.getCompressedContent = this.prepareCompressedContent(e, e.index, this.compressedSize, t),
            this.decompressed.getContent = this.prepareContent(e, e.index, this.compressedSize, t, this.uncompressedSize),
            this.loadOptions.checkCRC32 && (this.decompressed = d.utils.transformTo("string", this.decompressed.getContent()),
            d.prototype.crc32(this.decompressed) !== this.crc32))
                throw new Error("Error")
        },
        readCentralPart: function(e) {
            if (this.versionMadeBy = e.readString(2),
            this.versionNeeded = e.readInt(2),
            this.bitFlag = e.readInt(2),
            this.compressionMethod = e.readString(2),
            this.date = e.readDate(),
            this.crc32 = e.readInt(4),
            this.compressedSize = e.readInt(4),
            this.uncompressedSize = e.readInt(4),
            this.fileNameLength = e.readInt(2),
            this.extraFieldsLength = e.readInt(2),
            this.fileCommentLength = e.readInt(2),
            this.diskNumberStart = e.readInt(2),
            this.internalFileAttributes = e.readInt(2),
            this.externalFileAttributes = e.readInt(4),
            this.localHeaderOffset = e.readInt(4),
            this.isEncrypted())
                throw new Error("No soportado");
            this.fileName = e.readString(this.fileNameLength),
            this.readExtraFields(e),
            this.parseZIP64ExtraField(e),
            this.fileComment = e.readString(this.fileCommentLength),
            this.dir = !!(16 & this.externalFileAttributes)
        },
        parseZIP64ExtraField: function(e) {
            if (this.extraFields[1]) {
                var t = new r(this.extraFields[1].value);
                -1 === this.uncompressedSize && (this.uncompressedSize = t.readInt(8)),
                -1 === this.compressedSize && (this.compressedSize = t.readInt(8)),
                -1 === this.localHeaderOffset && (this.localHeaderOffset = t.readInt(8)),
                -1 === this.diskNumberStart && (this.diskNumberStart = t.readInt(4))
            }
        },
        readExtraFields: function(e) {
            var t, r, i, s = e.index;
            for (this.extraFields = this.extraFields || {}; e.index < s + this.extraFieldsLength; )
                t = e.readInt(2),
                r = e.readInt(2),
                i = e.readString(r),
                this.extraFields[t] = {
                    id: t,
                    length: r,
                    value: i
                }
        },
        handleUTF8: function() {
            this.useUTF8() && (this.fileName = d.prototype.utf8decode(this.fileName),
            this.fileComment = d.prototype.utf8decode(this.fileComment))
        }
    },
    a.prototype = {
        checkSignature: function(e) {
            var t = this.reader.readString(4);
            if (t !== e)
                throw new Error("Error" + h(t) + ", y " + h(e) + ")")
        },
        readBlockEndOfCentral: function() {
            this.diskNumber = this.reader.readInt(2),
            this.diskWithCentralDirStart = this.reader.readInt(2),
            this.centralDirRecordsOnThisDisk = this.reader.readInt(2),
            this.centralDirRecords = this.reader.readInt(2),
            this.centralDirSize = this.reader.readInt(4),
            this.centralDirOffset = this.reader.readInt(4),
            this.zipCommentLength = this.reader.readInt(2),
            this.zipComment = this.reader.readString(this.zipCommentLength)
        },
        readBlockZip64EndOfCentral: function() {
            this.zip64EndOfCentralSize = this.reader.readInt(8),
            this.versionMadeBy = this.reader.readString(2),
            this.versionNeeded = this.reader.readInt(2),
            this.diskNumber = this.reader.readInt(4),
            this.diskWithCentralDirStart = this.reader.readInt(4),
            this.centralDirRecordsOnThisDisk = this.reader.readInt(8),
            this.centralDirRecords = this.reader.readInt(8),
            this.centralDirSize = this.reader.readInt(8),
            this.centralDirOffset = this.reader.readInt(8),
            this.zip64ExtensibleData = {};
            for (var e, t, r, i = this.zip64EndOfCentralSize - 44; 0 < i; )
                e = this.reader.readInt(2),
                t = this.reader.readInt(4),
                r = this.reader.readString(t),
                this.zip64ExtensibleData[e] = {
                    id: e,
                    length: t,
                    value: r
                }
        },
        readBlockZip64EndOfCentralLocator: function() {
            if (this.diskWithZip64CentralDirStart = this.reader.readInt(4),
            this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8),
            this.disksCount = this.reader.readInt(4),
            this.disksCount > 1)
                throw new Error("Error")
        },
        readLocalFiles: function() {
            var e, t;
            for (e = 0; e < this.files.length; e++)
                t = this.files[e],
                this.reader.setIndex(t.localHeaderOffset),
                this.checkSignature(d.signature.LOCAL_FILE_HEADER),
                t.readLocalPart(this.reader),
                t.handleUTF8()
        },
        readCentralDir: function() {
            var e;
            for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === d.signature.CENTRAL_FILE_HEADER; )
                (e = new n({
                    zip64: this.zip64
                },this.loadOptions)).readCentralPart(this.reader),
                this.files.push(e)
        },
        readEndOfCentral: function() {
            var e = this.reader.lastIndexOfSignature(d.signature.CENTRAL_DIRECTORY_END);
            if (-1 === e)
                throw new Error("Error");
            if (this.reader.setIndex(e),
            this.checkSignature(d.signature.CENTRAL_DIRECTORY_END),
            this.readBlockEndOfCentral(),
            65535 === this.diskNumber || 65535 === this.diskWithCentralDirStart || 65535 === this.centralDirRecordsOnThisDisk || 65535 === this.centralDirRecords || -1 === this.centralDirSize || -1 === this.centralDirOffset) {
                if (this.zip64 = !0,
                -1 === (e = this.reader.lastIndexOfSignature(d.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))
                    throw new Error("Error");
                this.reader.setIndex(e),
                this.checkSignature(d.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR),
                this.readBlockZip64EndOfCentralLocator(),
                this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),
                this.checkSignature(d.signature.ZIP64_CENTRAL_DIRECTORY_END),
                this.readBlockZip64EndOfCentral()
            }
        },
        prepareReader: function(e) {
            var t = d.utils.getTypeOf(e);
            "string" !== t || d.support.uint8array ? this.reader = "nodebuffer" === t ? new s(e) : new i(d.utils.transformTo("uint8array", e)) : this.reader = new r(e,this.loadOptions.optimizedBinaryString)
        },
        load: function(e) {
            this.prepareReader(e),
            this.readEndOfCentral(),
            this.readCentralDir(),
            this.readLocalFiles()
        }
    },
    d.prototype.load = function(e, t) {
        var r, i, s;
        for ((t = t || {}).base64 && (e = d.base64.decode(e)),
        r = new a(e,t).files,
        i = 0; i < r.length; i++)
            s = r[i],
            this.file(s.fileName, s.decompressed, {
                binary: !0,
                optimizedBinaryString: !0,
                date: s.date,
                dir: s.dir
            });
        return this
    }
}(this);
!function() {
    var t = !0
      , e = null;
    !function(r) {
        function n(r) {
            if ("bug-string-char-index" == r)
                return "a" != "a"[0];
            var n, o = "json" == r;
            if (o || "json-stringify" == r || "json-parse" == r) {
                if ("json-stringify" == r || o) {
                    var c = l.stringify
                      , f = "function" == typeof c && s;
                    if (f) {
                        (n = function() {
                            return 1
                        }
                        ).toJSON = n;
                        try {
                            f = "0" === c(0) && "0" === c(new Number) && '""' == c(new String) && c(a) === i && c(i) === i && c() === i && "1" === c(n) && "[1]" == c([n]) && "[null]" == c([i]) && "null" == c(e) && "[null,null,null]" == c([i, a, e]) && '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}' == c({
                                a: [n, t, !1, e, "\0\b\n\f\r\t"]
                            }) && "1" === c(e, n) && "[\n 1,\n 2\n]" == c([1, 2], e, 1) && '"-271821-04-20T00:00:00.000Z"' == c(new Date(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == c(new Date(864e13)) && '"-000001-01-01T00:00:00.000Z"' == c(new Date(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == c(new Date(-1))
                        } catch (t) {
                            f = !1
                        }
                    }
                    if (!o)
                        return f
                }
                if ("json-parse" == r || o) {
                    if ("function" == typeof (r = l.parse))
                        try {
                            if (0 === r("0") && !r(!1)) {
                                var u = 5 == (n = r('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}')).a.length && 1 === n.a[0];
                                if (u) {
                                    try {
                                        u = !r('"\t"')
                                    } catch (t) {}
                                    if (u)
                                        try {
                                            u = 1 !== r("01")
                                        } catch (t) {}
                                }
                            }
                        } catch (t) {
                            u = !1
                        }
                    if (!o)
                        return u
                }
                return f && u
            }
        }
        var o, c, i, a = {}.toString, f = "function" == typeof define && define.amd, l = "object" == typeof exports && exports;
        l || f ? "object" == typeof JSON && JSON ? l ? (l.stringify = JSON.stringify,
        l.parse = JSON.parse) : l = JSON : f && (l = r.JSON = {}) : l = r.JSON || (r.JSON = {});
        var s = new Date(-0xc782b5b800cec);
        try {
            s = -109252 == s.getUTCFullYear() && 0 === s.getUTCMonth() && 1 === s.getUTCDate() && 10 == s.getUTCHours() && 37 == s.getUTCMinutes() && 6 == s.getUTCSeconds() && 708 == s.getUTCMilliseconds()
        } catch (t) {}
        if (!n("json")) {
            var u = n("bug-string-char-index");
            if (!s)
                var h = Math.floor
                  , p = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334]
                  , g = function(t, e) {
                    return p[e] + 365 * (t - 1970) + h((t - 1969 + (e = +(e > 1))) / 4) - h((t - 1901 + e) / 100) + h((t - 1601 + e) / 400)
                };
            (o = {}.hasOwnProperty) || (o = function(t) {
                var r, n = {};
                return (n.__proto__ = e,
                n.__proto__ = {
                    toString: 1
                },
                n).toString != a ? o = function(t) {
                    var r = this.__proto__
                      , t = t in (this.__proto__ = e,
                    this);
                    return this.__proto__ = r,
                    t
                }
                : (r = n.constructor,
                o = function(t) {
                    var e = (this.constructor || r).prototype;
                    return t in this && !(t in e && this[t] === e[t])
                }
                ),
                n = e,
                o.call(this, t)
            }
            );
            var b = {
                boolean: 1,
                number: 1,
                string: 1,
                undefined: 1
            };
            if (c = function(t, r) {
                var n, c, i, f = 0;
                (n = function() {
                    this.valueOf = 0
                }
                ).prototype.valueOf = 0,
                c = new n;
                for (i in c)
                    o.call(c, i) && f++;
                n = c = e,
                f ? f = 2 == f ? function(t, e) {
                    var r, n = {}, c = "[object Function]" == a.call(t);
                    for (r in t)
                        !(c && "prototype" == r) && !o.call(n, r) && (n[r] = 1) && o.call(t, r) && e(r)
                }
                : function(t, e) {
                    var r, n, c = "[object Function]" == a.call(t);
                    for (r in t)
                        !(c && "prototype" == r) && o.call(t, r) && !(n = "constructor" === r) && e(r);
                    (n || o.call(t, r = "constructor")) && e(r)
                }
                : (c = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"],
                f = function(t, e) {
                    var r, n, i = "[object Function]" == a.call(t);
                    (n = !i) && (n = "function" != typeof t.constructor) && (n = "object" == (n = typeof t.hasOwnProperty) ? !!t.hasOwnProperty : !b[n]),
                    n = n ? t.hasOwnProperty : o;
                    for (r in t)
                        !(i && "prototype" == r) && n.call(t, r) && e(r);
                    for (i = c.length; r = c[--i]; n.call(t, r) && e(r))
                        ;
                }
                ),
                f(t, r)
            }
            ,
            !n("json-stringify")) {
                var y = {
                    92: "\\\\",
                    34: '\\"',
                    8: "\\b",
                    12: "\\f",
                    10: "\\n",
                    13: "\\r",
                    9: "\\t"
                }
                  , j = function(t, e) {
                    return ("000000" + (e || 0)).slice(-t)
                }
                  , d = function(t) {
                    var e, r = '"', n = 0, o = t.length, c = o > 10 && u;
                    for (c && (e = t.split("")); n < o; n++) {
                        var i = t.charCodeAt(n);
                        switch (i) {
                        case 8:
                        case 9:
                        case 10:
                        case 12:
                        case 13:
                        case 34:
                        case 92:
                            r += y[i];
                            break;
                        default:
                            if (i < 32) {
                                r = r + "\\u00" + j(2, i.toString(16));
                                break
                            }
                            r += c ? e[n] : u ? t.charAt(n) : t[n]
                        }
                    }
                    return r + '"'
                }
                  , C = function(r, n, f, l, s, u, p) {
                    var b, y, v, S, A, O, T, _, w, N = n[r];
                    try {
                        N = n[r]
                    } catch (t) {}
                    if ("object" == typeof N && N)
                        if ("[object Date]" != (b = a.call(N)) || o.call(N, "toJSON"))
                            "function" == typeof N.toJSON && ("[object Number]" != b && "[object String]" != b && "[object Array]" != b || o.call(N, "toJSON")) && (N = N.toJSON(r));
                        else if (N > -1 / 0 && N < 1 / 0) {
                            if (g) {
                                for (v = h(N / 864e5),
                                b = h(v / 365.2425) + 1970 - 1; g(b + 1, 0) <= v; b++)
                                    ;
                                for (y = h((v - g(b, 0)) / 30.42); g(b, y + 1) <= v; y++)
                                    ;
                                v = 1 + v - g(b, y),
                                A = h((S = (N % 864e5 + 864e5) % 864e5) / 36e5) % 24,
                                O = h(S / 6e4) % 60,
                                T = h(S / 1e3) % 60,
                                S %= 1e3
                            } else
                                b = N.getUTCFullYear(),
                                y = N.getUTCMonth(),
                                v = N.getUTCDate(),
                                A = N.getUTCHours(),
                                O = N.getUTCMinutes(),
                                T = N.getUTCSeconds(),
                                S = N.getUTCMilliseconds();
                            N = (b <= 0 || b >= 1e4 ? (b < 0 ? "-" : "+") + j(6, b < 0 ? -b : b) : j(4, b)) + "-" + j(2, y + 1) + "-" + j(2, v) + "T" + j(2, A) + ":" + j(2, O) + ":" + j(2, T) + "." + j(3, S) + "Z"
                        } else
                            N = e;
                    if (f && (N = f.call(n, r, N)),
                    N === e)
                        return "null";
                    if ("[object Boolean]" == (b = a.call(N)))
                        return "" + N;
                    if ("[object Number]" == b)
                        return N > -1 / 0 && N < 1 / 0 ? "" + N : "null";
                    if ("[object String]" == b)
                        return d("" + N);
                    if ("object" == typeof N) {
                        for (r = p.length; r--; )
                            if (p[r] === N)
                                throw TypeError();
                        if (p.push(N),
                        _ = [],
                        n = u,
                        u += s,
                        "[object Array]" == b) {
                            for (y = 0,
                            r = N.length; y < r; w || (w = t),
                            y++)
                                b = C(y, N, f, l, s, u, p),
                                _.push(b === i ? "null" : b);
                            r = w ? s ? "[\n" + u + _.join(",\n" + u) + "\n" + n + "]" : "[" + _.join(",") + "]" : "[]"
                        } else
                            c(l || N, function(e) {
                                var r = C(e, N, f, l, s, u, p);
                                r !== i && _.push(d(e) + ":" + (s ? " " : "") + r),
                                w || (w = t)
                            }),
                            r = w ? s ? "{\n" + u + _.join(",\n" + u) + "\n" + n + "}" : "{" + _.join(",") + "}" : "{}";
                        return p.pop(),
                        r
                    }
                };
                l.stringify = function(t, e, r) {
                    var n, o, c;
                    if ("function" == typeof e || "object" == typeof e && e)
                        if ("[object Function]" == a.call(e))
                            o = e;
                        else if ("[object Array]" == a.call(e)) {
                            c = {};
                            for (var i, f = 0, l = e.length; f < l; i = e[f++],
                            ("[object String]" == a.call(i) || "[object Number]" == a.call(i)) && (c[i] = 1))
                                ;
                        }
                    if (r)
                        if ("[object Number]" == a.call(r)) {
                            if ((r -= r % 1) > 0)
                                for (n = "",
                                r > 10 && (r = 10); n.length < r; n += " ")
                                    ;
                        } else
                            "[object String]" == a.call(r) && (n = r.length <= 10 ? r : r.slice(0, 10));
                    return C("", (i = {},
                    i[""] = t,
                    i), o, c, n, "", [])
                }
            }
            if (!n("json-parse")) {
                var v, S, A = String.fromCharCode, O = {
                    92: "\\",
                    34: '"',
                    47: "/",
                    98: "\b",
                    116: "\t",
                    110: "\n",
                    102: "\f",
                    114: "\r"
                }, T = function() {
                    throw v = S = e,
                    SyntaxError()
                }, _ = function() {
                    for (var r, n, o, c, i, a = S, f = a.length; v < f; )
                        switch (i = a.charCodeAt(v)) {
                        case 9:
                        case 10:
                        case 13:
                        case 32:
                            v++;
                            break;
                        case 123:
                        case 125:
                        case 91:
                        case 93:
                        case 58:
                        case 44:
                            return r = u ? a.charAt(v) : a[v],
                            v++,
                            r;
                        case 34:
                            for (r = "@",
                            v++; v < f; )
                                if ((i = a.charCodeAt(v)) < 32)
                                    T();
                                else if (92 == i)
                                    switch (i = a.charCodeAt(++v)) {
                                    case 92:
                                    case 34:
                                    case 47:
                                    case 98:
                                    case 116:
                                    case 110:
                                    case 102:
                                    case 114:
                                        r += O[i],
                                        v++;
                                        break;
                                    case 117:
                                        for (n = ++v,
                                        o = v + 4; v < o; v++)
                                            (i = a.charCodeAt(v)) >= 48 && i <= 57 || i >= 97 && i <= 102 || i >= 65 && i <= 70 || T();
                                        r += A("0x" + a.slice(n, v));
                                        break;
                                    default:
                                        T()
                                    }
                                else {
                                    if (34 == i)
                                        break;
                                    for (i = a.charCodeAt(v),
                                    n = v; i >= 32 && 92 != i && 34 != i; )
                                        i = a.charCodeAt(++v);
                                    r += a.slice(n, v)
                                }
                            if (34 == a.charCodeAt(v))
                                return v++,
                                r;
                            T();
                        default:
                            if (n = v,
                            45 == i && (c = t,
                            i = a.charCodeAt(++v)),
                            i >= 48 && i <= 57) {
                                for (48 == i && (i = a.charCodeAt(v + 1)) >= 48 && i <= 57 && T(); v < f && (i = a.charCodeAt(v)) >= 48 && i <= 57; v++)
                                    ;
                                if (46 == a.charCodeAt(v)) {
                                    for (o = ++v; o < f && (i = a.charCodeAt(o)) >= 48 && i <= 57; o++)
                                        ;
                                    o == v && T(),
                                    v = o
                                }
                                if (101 == (i = a.charCodeAt(v)) || 69 == i) {
                                    for ((43 == (i = a.charCodeAt(++v)) || 45 == i) && v++,
                                    o = v; o < f && (i = a.charCodeAt(o)) >= 48 && i <= 57; o++)
                                        ;
                                    o == v && T(),
                                    v = o
                                }
                                return +a.slice(n, v)
                            }
                            if (c && T(),
                            "true" == a.slice(v, v + 4))
                                return v += 4,
                                t;
                            if ("false" == a.slice(v, v + 5))
                                return v += 5,
                                !1;
                            if ("null" == a.slice(v, v + 4))
                                return v += 4,
                                e;
                            T()
                        }
                    return "$"
                }, w = function(e) {
                    var r, n;
                    if ("$" == e && T(),
                    "string" == typeof e) {
                        if ("@" == (u ? e.charAt(0) : e[0]))
                            return e.slice(1);
                        if ("[" == e) {
                            for (r = []; "]" != (e = _()); n || (n = t))
                                n && ("," == e ? "]" == (e = _()) && T() : T()),
                                "," == e && T(),
                                r.push(w(e));
                            return r
                        }
                        if ("{" == e) {
                            for (r = {}; "}" != (e = _()); n || (n = t))
                                n && ("," == e ? "}" == (e = _()) && T() : T()),
                                ("," == e || "string" != typeof e || "@" != (u ? e.charAt(0) : e[0]) || ":" != _()) && T(),
                                r[e.slice(1)] = w(_());
                            return r
                        }
                        T()
                    }
                    return e
                }, N = function(t, e, r) {
                    (r = U(t, e, r)) === i ? delete t[e] : t[e] = r
                }, U = function(t, e, r) {
                    var n, o = t[e];
                    if ("object" == typeof o && o)
                        if ("[object Array]" == a.call(o))
                            for (n = o.length; n--; )
                                N(o, n, r);
                        else
                            c(o, function(t) {
                                N(o, t, r)
                            });
                    return r.call(t, e, o)
                };
                l.parse = function(t, r) {
                    var n, o;
                    return v = 0,
                    S = "" + t,
                    n = w(_()),
                    "$" != _() && T(),
                    v = S = e,
                    r && "[object Function]" == a.call(r) ? U((o = {},
                    o[""] = n,
                    o), "", r) : n
                }
            }
        }
        f && define(function() {
            return l
        })
    }(this)
}();
var LZString = LZString || {}
  , JSZip = JSZip || {}
  , LFS = LFS || function(n) {
    "use strict";
    var r, t = null, e = function(r, t) {
        n[r] = LZString.compressToUTF16(JSON.stringify(t))
    }, i = function(r) {
        return n[r] ? JSON.parse(LZString.decompressFromUTF16(n[r])) : null
    }, u = "/", f = {}, o = function(n) {
        return "/" === n[0] ? n : u + n
    }, a = function() {
        return n.clear(),
        e("LFS", []),
        u = "/",
        !0
    }, c = function(n, t, e) {
        n.file(t).async("string").then(function(n) {
            s(t, n),
            --r || e()
        }, function(n) {
            throw n
        })
    }, s = function(n, r) {
        n = o(n);
        var u = i("LFS");
        return u.indexOf(n) < 0 && (u.push(n),
        e("LFS", u)),
        e(n, r),
        t && t(),
        !0
    }, l = function(n) {
        if (n = o(n),
        i("LFS").indexOf(n) < 0) {
            for (var r in f)
                if (1 === n.indexOf(r)) {
                    var t = n.substring(r.length + 1);
                    return f[r].load(t)
                }
            return null
        }
        return i(n)
    };
    return {
        clear: a,
        filesCount: function() {
            return i("LFS").length
        },
        dir: function(n) {
            if ("/" !== (n = n ? o(n) : u)[n.length - 1] && (n += "/"),
            !(r = i("LFS"))) {
                a();
                var r = i("LFS")
            }
            for (var t in f)
                for (var e = f[t].dir(), c = 0; c < e.length; c++)
                    r.push("/" + t + "/" + e[c]);
            for (var s = [], l = 0; l < r.length; l++)
                0 === r[l].indexOf(n) && s.push(r[l].substr(n.length));
            return s
        },
        save: s,
        load: l,
        rm: function(r) {
            r = o(r);
            var u = i("LFS");
            if (u.indexOf(r) < 0)
                return null;
            for (var f = [], a = 0; a < u.length; a++)
                u[a] != r && f.push(u[a]);
            return e("LFS", f),
            delete n[r],
            t && t(),
            !0
        },
        pwd: function() {
            return u
        },
        cd: function(n) {
            for ("/" !== (n = n ? o(n) : u)[n.length - 1] && (n += "/"); n.indexOf("/../") > 0; ) {
                var r = n.indexOf("/../")
                  , t = n.lastIndexOf("/", r - 1);
                n = n.substr(0, t) + n.substr(r + 3)
            }
            return u = n,
            !0
        },
        backup: function() {
            return JSON.stringify(n)
        },
        restore: function(r) {
            n.clear();
            var t = JSON.parse(r);
            for (var e in t)
                n[e] = t[e];
            return !0
        },
        zip: function(n) {
            for (var r = new JSZip, t = i("LFS"), e = 0; e < t.length; e++) {
                var u = t[e];
                if ("/disk.cpm" != u && !(u.indexOf("__dbg__") > 0)) {
                    var f = l(u);
                    "object" == typeof f && (f = JSON.stringify(f)),
                    r.file(u, f)
                }
            }
            r.generateAsync({
                type: "base64",
                compression: "DEFLATE"
            }).then(function(r) {
                n(r)
            })
        },
        unzip: function(n, t) {
            return (new JSZip).loadAsync(n, {
                base64: !0
            }).then(function(n) {
                var e = n.file(/.*/);
                r = e.length;
                for (var i = 0; i < e.length; i++) {
                    var u = e[i].name;
                    c(n, u, t)
                }
            }, function(n) {
                throw n
            }),
            !0
        },
        onChange: function(n) {
            t = n
        },
        link: function(n, r) {
            var t = {};
            t.clear = function() {
                for (var n in this)
                    "clear" !== n && delete this[n]
            }
            ;
            var e = new LFS(t);
            e.restore(r),
            f[n] = e
        },
        unlink: function(n) {
            return !!f[n] && (delete f[n],
            !0)
        }
    }
}
;
var promise = function(e, n, t) {
    e().then(n).catch(t)
}
  , idbKeyval = function(e) {
    "use strict";
    function c(t) {
        return new Promise(function(e, n) {
            t.oncomplete = t.onsuccess = function() {
                return e(t.result)
            }
            ,
            t.onabort = t.onerror = function() {
                return n(t.error)
            }
        }
        )
    }
    function n(n, r) {
        var t, e = (!navigator.userAgentData && /Safari\//.test(navigator.userAgent) && !/Chrom(e|ium)\//.test(navigator.userAgent) && indexedDB.databases ? new Promise(function(e) {
            function n() {
                return indexedDB.databases().finally(e)
            }
            t = setInterval(n, 100),
            n()
        }
        ).finally(function() {
            return clearInterval(t)
        }) : Promise.resolve()).then(function() {
            var e = indexedDB.open(n);
            return e.onupgradeneeded = function() {
                return e.result.createObjectStore(r)
            }
            ,
            c(e)
        });
        return function(n, t) {
            return e.then(function(e) {
                return t(e.transaction(r, n).objectStore(r))
            })
        }
    }
    var t;
    function o() {
        return t = t || n("keyval-store", "keyval")
    }
    function r(e, n) {
        return e("readonly", function(e) {
            return e.openCursor().onsuccess = function() {
                this.result && (n(this.result),
                this.result.continue())
            }
            ,
            c(e.transaction)
        })
    }
    return e.clear = function() {
        return (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : o())("readwrite", function(e) {
            return e.clear(),
            c(e.transaction)
        })
    }
    ,
    e.createStore = n,
    e.del = function(n) {
        return (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : o())("readwrite", function(e) {
            return e.delete(n),
            c(e.transaction)
        })
    }
    ,
    e.entries = function() {
        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : o()
          , n = [];
        return r(e, function(e) {
            return n.push([e.key, e.value])
        }).then(function() {
            return n
        })
    }
    ,
    e.get = function(n) {
        return (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : o())("readonly", function(e) {
            return c(e.get(n))
        })
    }
    ,
    e.getMany = function(e) {
        return (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : o())("readonly", function(n) {
            return Promise.all(e.map(function(e) {
                return c(n.get(e))
            }))
        })
    }
    ,
    e.keys = function() {
        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : o()
          , n = [];
        return r(e, function(e) {
            return n.push(e.key)
        }).then(function() {
            return n
        })
    }
    ,
    e.promisifyRequest = c,
    e.set = function(n, t) {
        return (2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : o())("readwrite", function(e) {
            return e.put(t, n),
            c(e.transaction)
        })
    }
    ,
    e.setMany = function(e) {
        return (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : o())("readwrite", function(n) {
            return e.forEach(function(e) {
                return n.put(e[1], e[0])
            }),
            c(n.transaction)
        })
    }
    ,
    e.update = function(r, i) {
        return (2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : o())("readwrite", function(t) {
            return new Promise(function(e, n) {
                t.get(r).onsuccess = function() {
                    try {
                        t.put(i(this.result), r),
                        e(c(t.transaction))
                    } catch (e) {
                        n(e)
                    }
                }
            }
            )
        })
    }
    ,
    e.values = function() {
        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : o()
          , n = [];
        return r(e, function(e) {
            return n.push(e.value)
        }).then(function() {
            return n
        })
    }
    ,
    e
}({})
  , localCache = {}
  , doCache = async function() {
    var e;
    for (e of await fileAccess.getFiles()) {
        var n = e[0];
        localCache[n] = await fileAccess.openFile(n)
    }
}
  , fileAccess = {
    test: function() {
        return "function" == typeof window.showOpenFilePicker
    },
    workdir: null,
    wksp: null,
    perm: async function() {
        var e = await fileAccess.workdir.requestPermission({
            mode: "readwrite"
        });
        if (console.log("perm", e),
        "granted" == e)
            return await doCache(),
            "OK";
        throw "no perm"
    },
    removeDirHandle: function() {
        idbKeyval.del("dir")
    },
    setDirHandle: async function(e) {
        var n = await window.showDirectoryPicker();
        return console.log(n, JSON.stringify(n)),
        fileAccess.workdir = n,
        fileAccess.wksp = n,
        "function" == typeof e && (e = e()),
        await idbKeyval.set(e, n),
        n
    },
    getDirHandle: async function(e) {
        let n = await idbKeyval.get(e);
        n = n || await fileAccess.setDirHandle(e),
        fileAccess.workdir = n,
        fileAccess.wksp = n,
        console.log("saved hndl", n);
        try {
            return await fileAccess.perm()
        } catch (e) {
            console.log(e)
        }
    },
    openFile: async function(e) {
        if (!fileAccess.workdir || !fileAccess.wksp)
            return null;
        let n = await fileAccess.wksp.getFileHandle(e)
          , t = await n.getFile();
        return await t.text()
    },
    load: function(e) {
        return localCache[e]
    },
    save: async function(e, n) {
        if (!fileAccess.workdir || !fileAccess.wksp)
            return null;
        let t = await fileAccess.wksp.getFileHandle(e, {
            create: !0
        });
        const r = await t.createWritable();
        await r.write(n),
        await r.close(),
        localCache[e] = n
    },
    setWorkspace: async function(e) {
        e = await fileAccess.workdir.getDirectoryHandle(e, {
            create: !0
        });
        fileAccess.wksp = e
    },
    getFiles: async function() {
        if (!fileAccess.workdir || !fileAccess.wksp)
            return [];
        var e = fileAccess.workdir.entries();
        let n = [];
        for (var t = await e.next(); !t.done; )
            t.value.push(t.value[1].constructor.name),
            n.push(t.value),
            t = await e.next();
        return n
    },
    rm: async function(e) {
        return await fileAccess.wksp.removeEntry(e),
        !0
    },
    type: "local"
};
"undefined" != typeof module && (module.exports = fileAccess);
!function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}(function(m) {
    "use strict";
    var a;
    m.support.htmlMenuitem = "HTMLMenuItemElement"in window,
    m.support.htmlCommand = "HTMLCommandElement"in window,
    m.support.eventSelectstart = "onselectstart"in document.documentElement,
    m.ui && m.widget || (m.cleanData = (a = m.cleanData,
    function(e) {
        for (var t, n, o = 0; null != e[o]; o++) {
            n = e[o];
            try {
                (t = m._data(n, "events")) && t.remove && m(n).triggerHandler("remove")
            } catch (e) {}
        }
        a(e)
    }
    ));
    var c = null
      , d = !1
      , p = m(window)
      , h = 0
      , f = {}
      , x = {}
      , g = {}
      , v = {
        selector: null,
        appendTo: null,
        trigger: "right",
        autoHide: !1,
        delay: 200,
        reposition: !0,
        hideOnSecondTrigger: !1,
        selectableSubMenu: !1,
        classNames: {
            hover: "context-menu-hover",
            disabled: "context-menu-disabled",
            visible: "context-menu-visible",
            notSelectable: "context-menu-not-selectable",
            icon: "context-menu-icon",
            iconEdit: "context-menu-icon-edit",
            iconCut: "context-menu-icon-cut",
            iconCopy: "context-menu-icon-copy",
            iconPaste: "context-menu-icon-paste",
            iconDelete: "context-menu-icon-delete",
            iconAdd: "context-menu-icon-add",
            iconQuit: "context-menu-icon-quit",
            iconLoadingClass: "context-menu-icon-loading"
        },
        determinePosition: function(e) {
            var t;
            m.ui && m.ui.position ? e.css("display", "block").position({
                my: "center top",
                at: "center bottom",
                of: this,
                offset: "0 5",
                collision: "fit"
            }).css("display", "none") : ((t = this.offset()).top += this.outerHeight(),
            t.left += this.outerWidth() / 2 - e.outerWidth() / 2,
            e.css(t))
        },
        position: function(e, t, n) {
            var o, a, s, i, c, l;
            t || n ? (a = "maintain" === t && "maintain" === n ? e.$menu.position() : {
                top: n - (o = e.$menu.offsetParent().offset()).top,
                left: t - o.left
            },
            s = p.scrollTop() + p.height(),
            i = p.scrollLeft() + p.width(),
            c = e.$menu.outerHeight(),
            l = e.$menu.outerWidth(),
            a.top + c > s && (a.top -= c),
            a.top < 0 && (a.top = 0),
            a.left + l > i && (a.left -= l),
            a.left < 0 && (a.left = 0),
            e.$menu.css(a)) : e.determinePosition.call(this, e.$menu)
        },
        positionSubmenu: function(e) {
            var t;
            void 0 !== e && (m.ui && m.ui.position ? e.css("display", "block").position({
                my: "left top-5",
                at: "right top",
                of: this,
                collision: "flipfit fit"
            }).css("display", "") : (t = {
                top: -9,
                left: this.outerWidth() - 5
            },
            e.css(t)))
        },
        zIndex: 1,
        animation: {
            duration: 50,
            show: "slideDown",
            hide: "slideUp"
        },
        events: {
            preShow: m.noop,
            show: m.noop,
            hide: m.noop,
            activated: m.noop
        },
        callback: null,
        items: {}
    }
      , s = {
        timer: null,
        pageX: null,
        pageY: null
    }
      , b = {
        abortevent: function(e) {
            e.preventDefault(),
            e.stopImmediatePropagation()
        },
        contextmenu: function(e) {
            var t = m(this);
            if (!1 !== e.data.events.preShow(t, e) && ("right" === e.data.trigger && (e.preventDefault(),
            e.stopImmediatePropagation()),
            !("right" !== e.data.trigger && "demand" !== e.data.trigger && e.originalEvent || !(void 0 === e.mouseButton || !e.data || "left" === e.data.trigger && 0 === e.mouseButton || "right" === e.data.trigger && 2 === e.mouseButton) || t.hasClass("context-menu-active") || t.hasClass("context-menu-disabled")))) {
                if (c = t,
                e.data.build) {
                    var n = e.data.build(c, e);
                    if (!1 === n)
                        return;
                    if (e.data = m.extend(!0, {}, v, e.data, n || {}),
                    !e.data.items || m.isEmptyObject(e.data.items))
                        throw window.console && (console.error || console.log).call(console, "No especificado"),
                        new Error("No especificado");
                    e.data.$trigger = c,
                    $.create(e.data)
                }
                $.show.call(t, e.data, e.pageX, e.pageY)
            }
        },
        click: function(e) {
            e.preventDefault(),
            e.stopImmediatePropagation(),
            m(this).trigger(m.Event("contextmenu", {
                data: e.data,
                pageX: e.pageX,
                pageY: e.pageY
            }))
        },
        mousedown: function(e) {
            var t = m(this);
            c && c.length && !c.is(t) && c.data("contextMenu").$menu.trigger("contextmenu:hide"),
            2 === e.button && (c = t.data("contextMenuActive", !0))
        },
        mouseup: function(e) {
            var t = m(this);
            t.data("contextMenuActive") && c && c.length && c.is(t) && !t.hasClass("context-menu-disabled") && (e.preventDefault(),
            e.stopImmediatePropagation(),
            (c = t).trigger(m.Event("contextmenu", {
                data: e.data,
                pageX: e.pageX,
                pageY: e.pageY
            }))),
            t.removeData("contextMenuActive")
        },
        mouseenter: function(e) {
            var t = m(this)
              , n = m(e.relatedTarget)
              , o = m(document);
            n.is(".context-menu-list") || n.closest(".context-menu-list").length || c && c.length || (s.pageX = e.pageX,
            s.pageY = e.pageY,
            s.data = e.data,
            o.on("mousemove.contextMenuShow", b.mousemove),
            s.timer = setTimeout(function() {
                s.timer = null,
                o.off("mousemove.contextMenuShow"),
                (c = t).trigger(m.Event("contextmenu", {
                    data: s.data,
                    pageX: s.pageX,
                    pageY: s.pageY
                }))
            }, e.data.delay))
        },
        mousemove: function(e) {
            s.pageX = e.pageX,
            s.pageY = e.pageY
        },
        mouseleave: function(e) {
            var t = m(e.relatedTarget);
            if (!t.is(".context-menu-list") && !t.closest(".context-menu-list").length) {
                try {
                    clearTimeout(s.timer)
                } catch (e) {}
                s.timer = null
            }
        },
        layerClick: function(a) {
            var s, i, c = m(this).data("contextMenuRoot"), l = a.button, r = a.pageX, u = a.pageY, d = void 0 === r;
            a.preventDefault(),
            setTimeout(function() {
                if (d)
                    null != c && null !== c.$menu && void 0 !== c.$menu && c.$menu.trigger("contextmenu:hide");
                else {
                    var e, t, n, o = "left" === c.trigger && 0 === l || "right" === c.trigger && 2 === l;
                    if (document.elementFromPoint && c.$layer && (c.$layer.hide(),
                    null !== (s = document.elementFromPoint(r - p.scrollLeft(), u - p.scrollTop())) && s.isContentEditable && (t = document.createRange(),
                    n = window.getSelection(),
                    t.selectNode(s),
                    t.collapse(!0),
                    n.removeAllRanges(),
                    n.addRange(t)),
                    m(s).trigger(a),
                    c.$layer.show()),
                    c.hideOnSecondTrigger && o && null !== c.$menu && void 0 !== c.$menu)
                        c.$menu.trigger("contextmenu:hide");
                    else {
                        if (c.reposition && o)
                            if (document.elementFromPoint) {
                                if (c.$trigger.is(s))
                                    return void c.position.call(c.$trigger, c, r, u)
                            } else if (i = c.$trigger.offset(),
                            e = m(window),
                            i.top += e.scrollTop(),
                            i.top <= a.pageY && (i.left += e.scrollLeft(),
                            i.left <= a.pageX && (i.bottom = i.top + c.$trigger.outerHeight(),
                            i.bottom >= a.pageY && (i.right = i.left + c.$trigger.outerWidth(),
                            i.right >= a.pageX))))
                                return void c.position.call(c.$trigger, c, r, u);
                        s && o && c.$trigger.one("contextmenu:hidden", function() {
                            m(s).contextMenu({
                                x: r,
                                y: u,
                                button: l
                            })
                        }),
                        null != c && null !== c.$menu && void 0 !== c.$menu && c.$menu.trigger("contextmenu:hide")
                    }
                }
            }, 50)
        },
        keyStop: function(e, t) {
            t.isInput || e.preventDefault(),
            e.stopPropagation()
        },
        key: function(e) {
            var t = {};
            c && (t = c.data("contextMenu") || {}),
            void 0 === t.zIndex && (t.zIndex = 0);
            var n = 0
              , o = function(e) {
                "" !== e.style.zIndex ? n = e.style.zIndex : null !== e.offsetParent && void 0 !== e.offsetParent ? o(e.offsetParent) : null !== e.parentElement && void 0 !== e.parentElement && o(e.parentElement)
            };
            if (o(e.target),
            !(t.$menu && parseInt(n, 10) > parseInt(t.$menu.css("zIndex"), 10))) {
                switch (e.keyCode) {
                case 9:
                case 38:
                    if (b.keyStop(e, t),
                    t.isInput) {
                        if (9 === e.keyCode && e.shiftKey)
                            return e.preventDefault(),
                            t.$selected && t.$selected.find("input, textarea, select").blur(),
                            void (null !== t.$menu && void 0 !== t.$menu && t.$menu.trigger("prevcommand"));
                        if (38 === e.keyCode && "checkbox" === t.$selected.find("input, textarea, select").prop("type"))
                            return void e.preventDefault()
                    } else if (9 !== e.keyCode || e.shiftKey)
                        return void (null !== t.$menu && void 0 !== t.$menu && t.$menu.trigger("prevcommand"));
                    break;
                case 40:
                    if (b.keyStop(e, t),
                    !t.isInput)
                        return void (null !== t.$menu && void 0 !== t.$menu && t.$menu.trigger("nextcommand"));
                    if (9 === e.keyCode)
                        return e.preventDefault(),
                        t.$selected && t.$selected.find("input, textarea, select").blur(),
                        void (null !== t.$menu && void 0 !== t.$menu && t.$menu.trigger("nextcommand"));
                    if (40 === e.keyCode && "checkbox" === t.$selected.find("input, textarea, select").prop("type"))
                        return void e.preventDefault();
                    break;
                case 37:
                    if (b.keyStop(e, t),
                    t.isInput || !t.$selected || !t.$selected.length)
                        break;
                    if (t.$selected.parent().hasClass("context-menu-root"))
                        break;
                    var a = t.$selected.parent().parent();
                    return t.$selected.trigger("contextmenu:blur"),
                    void (t.$selected = a);
                case 39:
                    if (b.keyStop(e, t),
                    t.isInput || !t.$selected || !t.$selected.length)
                        break;
                    var s = t.$selected.data("contextMenu") || {};
                    if (s.$menu && t.$selected.hasClass("context-menu-submenu"))
                        return t.$selected = null,
                        s.$selected = null,
                        void s.$menu.trigger("nextcommand");
                    break;
                case 35:
                case 36:
                    return t.$selected && t.$selected.find("input, textarea, select").length ? void 0 : ((t.$selected && t.$selected.parent() || t.$menu).children(":not(." + t.classNames.disabled + ", ." + t.classNames.notSelectable + ")")[36 === e.keyCode ? "first" : "last"]().trigger("contextmenu:focus"),
                    void e.preventDefault());
                case 13:
                    if (b.keyStop(e, t),
                    t.isInput) {
                        if (t.$selected && !t.$selected.is("textarea, select"))
                            return void e.preventDefault();
                        break
                    }
                    return void (void 0 !== t.$selected && null !== t.$selected && t.$selected.trigger("mouseup"));
                case 32:
                case 33:
                case 34:
                    return void b.keyStop(e, t);
                case 27:
                    return b.keyStop(e, t),
                    void (null !== t.$menu && void 0 !== t.$menu && t.$menu.trigger("contextmenu:hide"));
                default:
                    var i = String.fromCharCode(e.keyCode).toUpperCase();
                    if (t.accesskeys && t.accesskeys[i])
                        return void t.accesskeys[i].$node.trigger(t.accesskeys[i].$menu ? "contextmenu:focus" : "mouseup")
                }
                e.stopPropagation(),
                void 0 !== t.$selected && null !== t.$selected && t.$selected.trigger(e)
            }
        },
        prevItem: function(e) {
            e.stopPropagation();
            var t, n = m(this).data("contextMenu") || {}, o = m(this).data("contextMenuRoot") || {};
            n.$selected && (t = n.$selected,
            (n = n.$selected.parent().data("contextMenu") || {}).$selected = t);
            for (var a = n.$menu.children(), s = n.$selected && n.$selected.prev().length ? n.$selected.prev() : a.last(), i = s; s.hasClass(o.classNames.disabled) || s.hasClass(o.classNames.notSelectable) || s.is(":hidden"); )
                if ((s = s.prev().length ? s.prev() : a.last()).is(i))
                    return;
            n.$selected && b.itemMouseleave.call(n.$selected.get(0), e),
            b.itemMouseenter.call(s.get(0), e);
            var c = s.find("input, textarea, select");
            c.length && c.focus()
        },
        nextItem: function(e) {
            e.stopPropagation();
            var t, n = m(this).data("contextMenu") || {}, o = m(this).data("contextMenuRoot") || {};
            n.$selected && (t = n.$selected,
            (n = n.$selected.parent().data("contextMenu") || {}).$selected = t);
            for (var a = n.$menu.children(), s = n.$selected && n.$selected.next().length ? n.$selected.next() : a.first(), i = s; s.hasClass(o.classNames.disabled) || s.hasClass(o.classNames.notSelectable) || s.is(":hidden"); )
                if ((s = s.next().length ? s.next() : a.first()).is(i))
                    return;
            n.$selected && b.itemMouseleave.call(n.$selected.get(0), e),
            b.itemMouseenter.call(s.get(0), e);
            var c = s.find("input, textarea, select");
            c.length && c.focus()
        },
        focusInput: function() {
            var e = m(this).closest(".context-menu-item")
              , t = e.data()
              , n = t.contextMenu
              , o = t.contextMenuRoot;
            o.$selected = n.$selected = e,
            o.isInput = n.isInput = !0
        },
        blurInput: function() {
            var e = m(this).closest(".context-menu-item").data()
              , t = e.contextMenu;
            e.contextMenuRoot.isInput = t.isInput = !1
        },
        menuMouseenter: function() {
            m(this).data().contextMenuRoot.hovering = !0
        },
        menuMouseleave: function(e) {
            var t = m(this).data().contextMenuRoot;
            t.$layer && t.$layer.is(e.relatedTarget) && (t.hovering = !1)
        },
        itemMouseenter: function(e) {
            var t = m(this)
              , n = t.data()
              , o = n.contextMenu
              , a = n.contextMenuRoot;
            a.hovering = !0,
            e && a.$layer && a.$layer.is(e.relatedTarget) && (e.preventDefault(),
            e.stopImmediatePropagation()),
            (o.$menu ? o : a).$menu.children("." + a.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),
            t.hasClass(a.classNames.disabled) || t.hasClass(a.classNames.notSelectable) ? o.$selected = null : t.trigger("contextmenu:focus")
        },
        itemMouseleave: function(e) {
            var t = m(this)
              , n = t.data()
              , o = n.contextMenu
              , a = n.contextMenuRoot;
            if (a !== o && a.$layer && a.$layer.is(e.relatedTarget))
                return void 0 !== a.$selected && null !== a.$selected && a.$selected.trigger("contextmenu:blur"),
                e.preventDefault(),
                e.stopImmediatePropagation(),
                void (a.$selected = o.$selected = o.$node);
            o && o.$menu && o.$menu.hasClass("context-menu-visible") || t.trigger("contextmenu:blur")
        },
        itemClick: function(e) {
            var t, n = m(this), o = n.data(), a = o.contextMenu, s = o.contextMenuRoot, i = o.contextMenuKey;
            if (!(!a.items[i] || n.is("." + s.classNames.disabled + ", .context-menu-separator, ." + s.classNames.notSelectable) || n.is(".context-menu-submenu") && !1 === s.selectableSubMenu)) {
                if (e.preventDefault(),
                e.stopImmediatePropagation(),
                m.isFunction(a.callbacks[i]) && Object.prototype.hasOwnProperty.call(a.callbacks, i))
                    t = a.callbacks[i];
                else {
                    if (!m.isFunction(s.callback))
                        return;
                    t = s.callback
                }
                !1 !== t.call(s.$trigger, i, s, e) ? s.$menu.trigger("contextmenu:hide") : s.$menu.parent().length && $.update.call(s.$trigger, s)
            }
        },
        inputClick: function(e) {
            e.stopImmediatePropagation()
        },
        hideMenu: function(e, t) {
            var n = m(this).data("contextMenuRoot");
            $.hide.call(n.$trigger, n, t && t.force)
        },
        focusItem: function(e) {
            e.stopPropagation();
            var t = m(this)
              , n = t.data()
              , o = n.contextMenu
              , a = n.contextMenuRoot;
            t.hasClass(a.classNames.disabled) || t.hasClass(a.classNames.notSelectable) || (t.addClass([a.classNames.hover, a.classNames.visible].join(" ")).parent().find(".context-menu-item").not(t).removeClass(a.classNames.visible).filter("." + a.classNames.hover).trigger("contextmenu:blur"),
            o.$selected = a.$selected = t,
            o && o.$node && o.$node.hasClass("context-menu-submenu") && o.$node.addClass(a.classNames.hover),
            o.$node && a.positionSubmenu.call(o.$node, o.$menu))
        },
        blurItem: function(e) {
            e.stopPropagation();
            var t = m(this)
              , n = t.data()
              , o = n.contextMenu
              , a = n.contextMenuRoot;
            o.autoHide && t.removeClass(a.classNames.visible),
            t.removeClass(a.classNames.hover),
            o.$selected = null
        }
    }
      , $ = {
        show: function(n, e, t) {
            var o, a = m(this), s = {};
            m("#context-menu-layer").trigger("mousedown"),
            n.$trigger = a,
            !1 !== n.events.show.call(a, n) && !1 !== $.update.call(a, n) ? (n.position.call(a, n, e, t),
            n.zIndex && (o = n.zIndex,
            "function" == typeof n.zIndex && (o = n.zIndex.call(a, n)),
            s.zIndex = function(e) {
                for (var t = 0, n = e; t = Math.max(t, parseInt(n.css("z-index"), 10) || 0),
                (n = n.parent()) && n.length && !(-1 < "html body".indexOf(n.prop("nodeName").toLowerCase())); )
                    ;
                return t
            }(a) + o),
            $.layer.call(n.$menu, n, s.zIndex),
            n.$menu.find("ul").css("zIndex", s.zIndex + 1),
            n.$menu.css(s)[n.animation.show](n.animation.duration, function() {
                a.trigger("contextmenu:visible"),
                $.activated(n),
                n.events.activated(n)
            }),
            a.data("contextMenu", n).addClass("context-menu-active"),
            m(document).off("keydown.contextMenu").on("keydown.contextMenu", b.key),
            n.autoHide && m(document).on("mousemove.contextMenuAutoHide", function(e) {
                var t = a.offset();
                t.right = t.left + a.outerWidth(),
                t.bottom = t.top + a.outerHeight(),
                !n.$layer || n.hovering || e.pageX >= t.left && e.pageX <= t.right && e.pageY >= t.top && e.pageY <= t.bottom || setTimeout(function() {
                    n.hovering || null === n.$menu || void 0 === n.$menu || n.$menu.trigger("contextmenu:hide")
                }, 50)
            })) : c = null
        },
        hide: function(t, e) {
            var n, o = m(this);
            if (t = t || (o.data("contextMenu") || {}),
            e || !t.events || !1 !== t.events.hide.call(o, t)) {
                if (o.removeData("contextMenu").removeClass("context-menu-active"),
                t.$layer) {
                    setTimeout((n = t.$layer,
                    function() {
                        n.remove()
                    }
                    ), 10);
                    try {
                        delete t.$layer
                    } catch (e) {
                        t.$layer = null
                    }
                }
                c = null,
                t.$menu.find("." + t.classNames.hover).trigger("contextmenu:blur"),
                t.$selected = null,
                t.$menu.find("." + t.classNames.visible).removeClass(t.classNames.visible),
                m(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),
                t.$menu && t.$menu[t.animation.hide](t.animation.duration, function() {
                    t.build && (t.$menu.remove(),
                    m.each(t, function(e) {
                        switch (e) {
                        case "ns":
                        case "selector":
                        case "build":
                        case "trigger":
                            return !0;
                        default:
                            t[e] = void 0;
                            try {
                                delete t[e]
                            } catch (e) {}
                            return !0
                        }
                    })),
                    setTimeout(function() {
                        o.trigger("contextmenu:hidden")
                    }, 10)
                })
            }
        },
        create: function(r, u) {
            function d(e) {
                var t = m("<span></span>");
                if (e._accesskey)
                    e._beforeAccesskey && t.append(document.createTextNode(e._beforeAccesskey)),
                    m("<span></span>").addClass("context-menu-accesskey").text(e._accesskey).appendTo(t),
                    e._afterAccesskey && t.append(document.createTextNode(e._afterAccesskey));
                else if (e.isHtmlName) {
                    if (void 0 !== e.accesskey)
                        throw new Error("Error");
                    t.html(e.name)
                } else
                    t.text(e.name);
                return t
            }
            void 0 === u && (u = r),
            r.$menu = m('<ul class="context-menu-list"></ul>').addClass(r.className || "").data({
                contextMenu: r,
                contextMenuRoot: u
            }),
            r.dataAttr && m.each(r.dataAttr, function(e, t) {
                r.$menu.attr("data-" + r.key, t)
            }),
            m.each(["callbacks", "commands", "inputs"], function(e, t) {
                r[t] = {},
                u[t] || (u[t] = {})
            }),
            u.accesskeys || (u.accesskeys = {}),
            m.each(r.items, function(n, o) {
                var e = m('<li class="context-menu-item"></li>').addClass(o.className || "")
                  , t = null
                  , a = null;
                if (e.on("click", m.noop),
                "string" != typeof o && "cm_separator" !== o.type || (o = {
                    type: "cm_seperator"
                }),
                o.$node = e.data({
                    contextMenu: r,
                    contextMenuRoot: u,
                    contextMenuKey: n
                }),
                void 0 !== o.accesskey)
                    for (var s, i = function(e) {
                        for (var t, n = e.split(/\s+/), o = [], a = 0; t = n[a]; a++)
                            t = t.charAt(0).toUpperCase(),
                            o.push(t);
                        return o
                    }(o.accesskey), c = 0; s = i[c]; c++)
                        if (!u.accesskeys[s]) {
                            var l = (u.accesskeys[s] = o).name.match(new RegExp("^(.*?)(" + s + ")(.*)$","i"));
                            l && (o._beforeAccesskey = l[1],
                            o._accesskey = l[2],
                            o._afterAccesskey = l[3]);
                            break
                        }
                if (o.type && g[o.type])
                    g[o.type].call(e, o, r, u),
                    m.each([r, u], function(e, t) {
                        t.commands[n] = o,
                        !m.isFunction(o.callback) || void 0 !== t.callbacks[n] && void 0 !== r.type || (t.callbacks[n] = o.callback)
                    });
                else {
                    switch ("cm_seperator" === o.type ? e.addClass("context-menu-separator " + u.classNames.notSelectable) : "html" === o.type ? e.addClass("context-menu-html " + u.classNames.notSelectable) : "sub" !== o.type && o.type ? (t = m("<label></label>").appendTo(e),
                    d(o).appendTo(t),
                    e.addClass("context-menu-input"),
                    r.hasTypes = !0,
                    m.each([r, u], function(e, t) {
                        t.commands[n] = o,
                        t.inputs[n] = o
                    })) : o.items && (o.type = "sub"),
                    o.type) {
                    case "cm_seperator":
                        break;
                    case "text":
                        a = m('<input type="text" value="1" name="" />').attr("name", "context-menu-input-" + n).val(o.value || "").appendTo(t);
                        break;
                    case "textarea":
                        a = m('<textarea name=""></textarea>').attr("name", "context-menu-input-" + n).val(o.value || "").appendTo(t),
                        o.height && a.height(o.height);
                        break;
                    case "checkbox":
                        a = m('<input type="checkbox" value="1" name="" />').attr("name", "context-menu-input-" + n).val(o.value || "").prop("checked", !!o.selected).prependTo(t);
                        break;
                    case "radio":
                        a = m('<input type="radio" value="1" name="" />').attr("name", "context-menu-input-" + o.radio).val(o.value || "").prop("checked", !!o.selected).prependTo(t);
                        break;
                    case "select":
                        a = m('<select name=""></select>').attr("name", "context-menu-input-" + n).appendTo(t),
                        o.options && (m.each(o.options, function(e, t) {
                            m("<option></option>").val(e).text(t).appendTo(a)
                        }),
                        a.val(o.selected));
                        break;
                    case "sub":
                        d(o).appendTo(e),
                        o.appendTo = o.$node,
                        e.data("contextMenu", o).addClass("context-menu-submenu"),
                        o.callback = null,
                        "function" == typeof o.items.then ? $.processPromises(o, u, o.items) : $.create(o, u);
                        break;
                    case "html":
                        m(o.html).appendTo(e);
                        break;
                    default:
                        m.each([r, u], function(e, t) {
                            t.commands[n] = o,
                            !m.isFunction(o.callback) || void 0 !== t.callbacks[n] && void 0 !== r.type || (t.callbacks[n] = o.callback)
                        }),
                        d(o).appendTo(e)
                    }
                    o.type && "sub" !== o.type && "html" !== o.type && "cm_seperator" !== o.type && (a.on("focus", b.focusInput).on("blur", b.blurInput),
                    o.events && a.on(o.events, r)),
                    o.icon && (m.isFunction(o.icon) ? o._icon = o.icon.call(this, this, e, n, o) : "string" != typeof o.icon || "fab " !== o.icon.substring(0, 4) && "fas " !== o.icon.substring(0, 4) && "fad " !== o.icon.substring(0, 4) && "far " !== o.icon.substring(0, 4) && "fal " !== o.icon.substring(0, 4) ? "string" == typeof o.icon && "fa-" === o.icon.substring(0, 3) ? o._icon = u.classNames.icon + " " + u.classNames.icon + "--fa fa " + o.icon : o._icon = u.classNames.icon + " " + u.classNames.icon + "-" + o.icon : (e.addClass(u.classNames.icon + " " + u.classNames.icon + "--fa5"),
                    o._icon = m('<i class="' + o.icon + '"></i>')),
                    "string" == typeof o._icon ? e.addClass(o._icon) : e.prepend(o._icon))
                }
                o.$input = a,
                o.$label = t,
                e.appendTo(r.$menu),
                !r.hasTypes && m.support.eventSelectstart && e.on("selectstart.disableTextSelect", b.abortevent)
            }),
            r.$node || r.$menu.css("display", "none").addClass("context-menu-root"),
            r.$menu.appendTo(r.appendTo || document.body)
        },
        resize: function(e, t) {
            var n;
            e.css({
                position: "absolute",
                display: "block"
            }),
            e.data("width", (n = e.get(0)).getBoundingClientRect ? Math.ceil(n.getBoundingClientRect().width) : e.outerWidth() + 1),
            e.css({
                position: "static",
                minWidth: "0px",
                maxWidth: "100000px"
            }),
            e.find("> li > ul").each(function() {
                $.resize(m(this), !0)
            }),
            t || e.find("ul").addBack().css({
                position: "",
                display: "",
                minWidth: "",
                maxWidth: ""
            }).outerWidth(function() {
                return m(this).data("width")
            })
        },
        update: function(i, c) {
            var l = this;
            void 0 === c && (c = i,
            $.resize(i.$menu));
            var r = !1;
            return i.$menu.children().each(function() {
                var e, t = m(this), n = t.data("contextMenuKey"), o = i.items[n], a = m.isFunction(o.disabled) && o.disabled.call(l, n, c) || !0 === o.disabled, s = m.isFunction(o.visible) ? o.visible.call(l, n, c) : void 0 === o.visible || !0 === o.visible;
                if (s && (r = !0),
                t[s ? "show" : "hide"](),
                t[a ? "addClass" : "removeClass"](c.classNames.disabled),
                m.isFunction(o.icon) && (t.removeClass(o._icon),
                "string" == typeof (e = o.icon.call(this, l, t, n, o)) ? t.addClass(e) : t.prepend(e)),
                o.type)
                    switch (t.find("input, select, textarea").prop("disabled", a),
                    o.type) {
                    case "text":
                    case "textarea":
                        o.$input.val(o.value || "");
                        break;
                    case "checkbox":
                    case "radio":
                        o.$input.val(o.value || "").prop("checked", !!o.selected);
                        break;
                    case "select":
                        o.$input.val((0 === o.selected ? "0" : o.selected) || "")
                    }
                o.$menu && $.update.call(l, o, c) && (r = !0)
            }),
            r
        },
        layer: function(e, t) {
            var n = e.$layer = m('<div id="context-menu-layer"></div>').css({
                height: p.height(),
                width: p.width(),
                display: "block",
                position: "fixed",
                "z-index": t - 1,
                top: 0,
                left: 0,
                opacity: 0,
                filter: "alpha(opacity=0)",
                "background-color": "#000"
            }).data("contextMenuRoot", e).appendTo(document.body).on("contextmenu", b.abortevent).on("mousedown", b.layerClick);
            return void 0 === document.body.style.maxWidth && n.css({
                position: "absolute",
                height: m(document).height()
            }),
            n
        },
        processPromises: function(e, t, n) {
            function o(e, t, n) {
                void 0 === n ? (n = {
                    error: {
                        name: "No items and no error item",
                        icon: "context-menu-icon context-menu-icon-quit"
                    }
                },
                window.console && (console.error || console.log).call(console, 'When you reject a promise, provide an "items" object, equal to normal sub-menu items')) : "string" == typeof n && (n = {
                    error: {
                        name: n
                    }
                }),
                a(e, t, n)
            }
            function a(e, t, n) {
                void 0 !== t.$menu && t.$menu.is(":visible") && (e.$node.removeClass(t.classNames.iconLoadingClass),
                e.items = n,
                $.create(e, t, !0),
                $.update(e, t),
                t.positionSubmenu.call(e.$node, e.$menu))
            }
            e.$node.addClass(t.classNames.iconLoadingClass),
            n.then(function(e, t, n) {
                void 0 === n && o(void 0),
                a(e, t, n)
            }
            .bind(this, e, t), o.bind(this, e, t))
        },
        activated: function(e) {
            var t = e.$menu
              , n = t.offset()
              , o = m(window).height()
              , a = m(window).scrollTop()
              , s = t.height();
            o < s ? t.css({
                height: o + "px",
                "overflow-x": "hidden",
                "overflow-y": "auto",
                top: a + "px"
            }) : (n.top < a || n.top + s > a + o) && t.css({
                top: a + "px"
            })
        }
    };
    function l(e) {
        return e.id && m('label[for="' + e.id + '"]').val() || e.name
    }
    m.fn.contextMenu = function(e) {
        var t, n = this, o = e;
        return 0 < this.length ? void 0 === e ? this.first().trigger("contextmenu") : void 0 !== e.x && void 0 !== e.y ? this.first().trigger(m.Event("contextmenu", {
            pageX: e.x,
            pageY: e.y,
            mouseButton: e.button
        })) : "hide" === e ? (t = this.first().data("contextMenu") ? this.first().data("contextMenu").$menu : null) && t.trigger("contextmenu:hide") : "destroy" === e ? m.contextMenu("destroy", {
            context: this
        }) : m.isPlainObject(e) ? (e.context = this,
        m.contextMenu("create", e)) : e ? this.removeClass("context-menu-disabled") : e || this.addClass("context-menu-disabled") : (m.each(x, function() {
            this.selector === n.selector && (o.data = this,
            m.extend(o.data, {
                trigger: "demand"
            }))
        }),
        b.contextmenu.call(o.target, o)),
        this
    }
    ,
    m.contextMenu = function(e, t) {
        "string" != typeof e && (t = e,
        e = "create"),
        "string" == typeof t ? t = {
            selector: t
        } : void 0 === t && (t = {});
        var n, o, a, s = m.extend(!0, {}, v, t || {}), i = m(document), c = i, l = !1;
        switch (s.context && s.context.length ? (c = m(s.context).first(),
        s.context = c.get(0),
        l = !m(s.context).is(document)) : s.context = document,
        e) {
        case "update":
            if (l)
                $.update(c);
            else
                for (var r in x)
                    x.hasOwnProperty(r) && $.update(x[r]);
            break;
        case "create":
            if (!s.selector)
                throw new Error("Error");
            if (s.selector.match(/.context-menu-(list|item|input)($|\s)/))
                throw new Error('Error "' + s.selector + '" no contenido');
            if (!s.build && (!s.items || m.isEmptyObject(s.items)))
                throw new Error("No especificado");
            switch (h++,
            s.ns = ".contextMenu" + h,
            l || (f[s.selector] = s.ns),
            (x[s.ns] = s).trigger || (s.trigger = "right"),
            d || (n = "click" === s.itemClickEvent ? "click.contextMenu" : "mouseup.contextMenu",
            (o = {
                "contextmenu:focus.contextMenu": b.focusItem,
                "contextmenu:blur.contextMenu": b.blurItem,
                "contextmenu.contextMenu": b.abortevent,
                "mouseenter.contextMenu": b.itemMouseenter,
                "mouseleave.contextMenu": b.itemMouseleave
            })[n] = b.itemClick,
            i.on({
                "contextmenu:hide.contextMenu": b.hideMenu,
                "prevcommand.contextMenu": b.prevItem,
                "nextcommand.contextMenu": b.nextItem,
                "contextmenu.contextMenu": b.abortevent,
                "mouseenter.contextMenu": b.menuMouseenter,
                "mouseleave.contextMenu": b.menuMouseleave
            }, ".context-menu-list").on("mouseup.contextMenu", ".context-menu-input", b.inputClick).on(o, ".context-menu-item"),
            d = !0),
            c.on("contextmenu" + s.ns, s.selector, s, b.contextmenu),
            l && c.on("remove" + s.ns, function() {
                m(this).contextMenu("destroy")
            }),
            s.trigger) {
            case "hover":
                c.on("mouseenter" + s.ns, s.selector, s, b.mouseenter).on("mouseleave" + s.ns, s.selector, s, b.mouseleave);
                break;
            case "left":
                c.on("click" + s.ns, s.selector, s, b.click);
                break;
            case "touchstart":
                c.on("touchstart" + s.ns, s.selector, s, b.click)
            }
            s.build || $.create(s);
            break;
        case "destroy":
            if (l) {
                var u = s.context;
                m.each(x, function(e, t) {
                    if (!t)
                        return !0;
                    if (!m(u).is(t.selector))
                        return !0;
                    (a = m(".context-menu-list").filter(":visible")).length && a.data().contextMenuRoot.$trigger.is(m(t.context).find(t.selector)) && a.trigger("contextmenu:hide", {
                        force: !0
                    });
                    try {
                        x[t.ns].$menu && x[t.ns].$menu.remove(),
                        delete x[t.ns]
                    } catch (e) {
                        x[t.ns] = null
                    }
                    return m(t.context).off(t.ns),
                    !0
                })
            } else if (s.selector) {
                if (f[s.selector]) {
                    (a = m(".context-menu-list").filter(":visible")).length && a.data().contextMenuRoot.$trigger.is(s.selector) && a.trigger("contextmenu:hide", {
                        force: !0
                    });
                    try {
                        x[f[s.selector]].$menu && x[f[s.selector]].$menu.remove(),
                        delete x[f[s.selector]]
                    } catch (e) {
                        x[f[s.selector]] = null
                    }
                    i.off(f[s.selector])
                }
            } else
                i.off(".contextMenu .contextMenuAutoHide"),
                m.each(x, function(e, t) {
                    m(t.context).off(t.ns)
                }),
                f = {},
                h = 0,
                d = !(x = {}),
                m("#context-menu-layer, .context-menu-list").remove();
            break;
        case "html5":
            (!m.support.htmlCommand && !m.support.htmlMenuitem || "boolean" == typeof t && t) && m('menu[type="context"]').each(function() {
                this.id && m.contextMenu({
                    selector: "[contextmenu=" + this.id + "]",
                    items: m.contextMenu.fromMenu(this)
                })
            }).css("display", "none");
            break;
        default:
            throw new Error('Error deconocido "' + e + '"')
        }
        return this
    }
    ,
    m.contextMenu.setInputValues = function(e, n) {
        void 0 === n && (n = {}),
        m.each(e.inputs, function(e, t) {
            switch (t.type) {
            case "text":
            case "textarea":
                t.value = n[e] || "";
                break;
            case "checkbox":
                t.selected = !!n[e];
                break;
            case "radio":
                t.selected = (n[t.radio] || "") === t.value;
                break;
            case "select":
                t.selected = n[e] || ""
            }
        })
    }
    ,
    m.contextMenu.getInputValues = function(e, n) {
        return void 0 === n && (n = {}),
        m.each(e.inputs, function(e, t) {
            switch (t.type) {
            case "text":
            case "textarea":
            case "select":
                n[e] = t.$input.val();
                break;
            case "checkbox":
                n[e] = t.$input.prop("checked");
                break;
            case "radio":
                t.$input.prop("checked") && (n[t.radio] = t.value)
            }
        }),
        n
    }
    ,
    m.contextMenu.fromMenu = function(e) {
        var t = {};
        return function s(i, e, c) {
            return c = c || 0,
            e.each(function() {
                var e, t, n = m(this), o = this, a = this.nodeName.toLowerCase();
                switch ("label" === a && n.find("input, textarea, select").length && (e = n.text(),
                a = (o = (n = n.children().first()).get(0)).nodeName.toLowerCase()),
                a) {
                case "menu":
                    t = {
                        name: n.attr("label"),
                        items: {}
                    },
                    c = s(t.items, n.children(), c);
                    break;
                case "a":
                case "button":
                    t = {
                        name: n.text(),
                        disabled: !!n.attr("disabled"),
                        callback: function() {
                            n.get(0).click()
                        }
                    };
                    break;
                case "menuitem":
                case "command":
                    switch (n.attr("type")) {
                    case void 0:
                    case "command":
                    case "menuitem":
                        t = {
                            name: n.attr("label"),
                            disabled: !!n.attr("disabled"),
                            icon: n.attr("icon"),
                            callback: function() {
                                n.get(0).click()
                            }
                        };
                        break;
                    case "checkbox":
                        t = {
                            type: "checkbox",
                            disabled: !!n.attr("disabled"),
                            name: n.attr("label"),
                            selected: !!n.attr("checked")
                        };
                        break;
                    case "radio":
                        t = {
                            type: "radio",
                            disabled: !!n.attr("disabled"),
                            name: n.attr("label"),
                            radio: n.attr("radiogroup"),
                            value: n.attr("id"),
                            selected: !!n.attr("checked")
                        };
                        break;
                    default:
                        t = void 0
                    }
                    break;
                case "hr":
                    t = "-------";
                    break;
                case "input":
                    switch (n.attr("type")) {
                    case "text":
                        t = {
                            type: "text",
                            name: e || l(o),
                            disabled: !!n.attr("disabled"),
                            value: n.val()
                        };
                        break;
                    case "checkbox":
                        t = {
                            type: "checkbox",
                            name: e || l(o),
                            disabled: !!n.attr("disabled"),
                            selected: !!n.attr("checked")
                        };
                        break;
                    case "radio":
                        t = {
                            type: "radio",
                            name: e || l(o),
                            disabled: !!n.attr("disabled"),
                            radio: !!n.attr("name"),
                            value: n.val(),
                            selected: !!n.attr("checked")
                        };
                        break;
                    default:
                        t = void 0
                    }
                    break;
                case "select":
                    t = {
                        type: "select",
                        name: e || l(o),
                        disabled: !!n.attr("disabled"),
                        selected: n.val(),
                        options: {}
                    },
                    n.children().each(function() {
                        t.options[this.value] = m(this).text()
                    });
                    break;
                case "textarea":
                    t = {
                        type: "textarea",
                        name: e || l(o),
                        disabled: !!n.attr("disabled"),
                        value: n.val()
                    };
                    break;
                case "label":
                    break;
                default:
                    t = {
                        type: "html",
                        html: n.clone(!0)
                    }
                }
                t && (i["key" + ++c] = t)
            }),
            c
        }(t, m(e).children()),
        t
    }
    ,
    m.contextMenu.defaults = v,
    m.contextMenu.types = g,
    m.contextMenu.handle = b,
    m.contextMenu.op = $,
    m.contextMenu.menus = x
});
var swfobject = function() {
    function e() {
        if (!W) {
            try {
                var e = $.getElementsByTagName("body")[0].appendChild(y("span"));
                e.parentNode.removeChild(e)
            } catch (e) {
                return
            }
            W = !0;
            for (var t = V.length, a = 0; a < t; a++)
                V[a]()
        }
    }
    function t(e) {
        W ? e() : V[V.length] = e
    }
    function a(e) {
        if (typeof F.addEventListener != I)
            F.addEventListener("load", e, !1);
        else if (typeof $.addEventListener != I)
            $.addEventListener("load", e, !1);
        else if (typeof F.attachEvent != I)
            h(F, "onload", e);
        else if ("function" == typeof F.onload) {
            var t = F.onload;
            F.onload = function() {
                t(),
                e()
            }
        } else
            F.onload = e
    }
    function n() {
        var e = $.getElementsByTagName("body")[0]
          , t = y(L);
        t.setAttribute("type", j);
        var a = e.appendChild(t);
        if (a) {
            var n = 0;
            !function() {
                if (typeof a.GetVariable != I) {
                    var r = a.GetVariable("$version");
                    r && (r = r.split(" ")[1].split(","),
                    J.pv = [parseInt(r[0], 10), parseInt(r[1], 10), parseInt(r[2], 10)])
                } else if (n < 10)
                    return n++,
                    void setTimeout(arguments.callee, 10);
                e.removeChild(t),
                a = null,
                i()
            }()
        } else
            i()
    }
    function i() {
        var e = P.length;
        if (e > 0)
            for (var t = 0; t < e; t++) {
                var a = P[t].id
                  , n = P[t].callbackFn
                  , i = {
                    success: !1,
                    id: a
                };
                if (J.pv[0] > 0) {
                    var c = v(a);
                    if (c)
                        if (!m(P[t].swfVersion) || J.wk && J.wk < 312)
                            if (P[t].expressInstall && o()) {
                                var f = {};
                                f.data = P[t].expressInstall,
                                f.width = c.getAttribute("width") || "0",
                                f.height = c.getAttribute("height") || "0",
                                c.getAttribute("class") && (f.styleclass = c.getAttribute("class")),
                                c.getAttribute("align") && (f.align = c.getAttribute("align"));
                                for (var d = {}, p = c.getElementsByTagName("param"), u = p.length, y = 0; y < u; y++)
                                    "movie" != p[y].getAttribute("name").toLowerCase() && (d[p[y].getAttribute("name")] = p[y].getAttribute("value"));
                                l(f, d, a, n)
                            } else
                                s(c),
                                n && n(i);
                        else
                            g(a, !0),
                            n && (i.success = !0,
                            i.ref = r(a),
                            n(i))
                } else if (g(a, !0),
                n) {
                    var h = r(a);
                    h && typeof h.SetVariable != I && (i.success = !0,
                    i.ref = h),
                    n(i)
                }
            }
    }
    function r(e) {
        var t = null
          , a = v(e);
        if (a && "OBJECT" == a.nodeName)
            if (typeof a.SetVariable != I)
                t = a;
            else {
                var n = a.getElementsByTagName(L)[0];
                n && (t = n)
            }
        return t
    }
    function o() {
        return !H && m("6.0.65") && (J.win || J.mac) && !(J.wk && J.wk < 312)
    }
    function l(e, t, a, n) {
        H = !0,
        S = n || null,
        A = {
            success: !1,
            id: a
        };
        var i = v(a);
        if (i) {
            "OBJECT" == i.nodeName ? (C = c(i),
            E = null) : (C = i,
            E = a),
            e.id = B,
            (typeof e.width == I || !/%$/.test(e.width) && parseInt(e.width, 10) < 310) && (e.width = "310"),
            (typeof e.height == I || !/%$/.test(e.height) && parseInt(e.height, 10) < 137) && (e.height = "137"),
            $.title = $.title.slice(0, 47) + " - Flash Player Installation";
            var r = J.ie && J.win ? "ActiveX" : "PlugIn"
              , o = "MMredirectURL=" + F.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + r + "&MMdoctitle=" + $.title;
            if (typeof t.flashvars != I ? t.flashvars += "&" + o : t.flashvars = o,
            J.ie && J.win && 4 != i.readyState) {
                var l = y("div");
                a += "SWFObjectNew",
                l.setAttribute("id", a),
                i.parentNode.insertBefore(l, i),
                i.style.display = "none",
                function() {
                    4 == i.readyState ? i.parentNode.removeChild(i) : setTimeout(arguments.callee, 10)
                }()
            }
            f(e, t, a)
        }
    }
    function s(e) {
        if (J.ie && J.win && 4 != e.readyState) {
            var t = y("div");
            e.parentNode.insertBefore(t, e),
            t.parentNode.replaceChild(c(e), t),
            e.style.display = "none",
            function() {
                4 == e.readyState ? e.parentNode.removeChild(e) : setTimeout(arguments.callee, 10)
            }()
        } else
            e.parentNode.replaceChild(c(e), e)
    }
    function c(e) {
        var t = y("div");
        if (J.win && J.ie)
            t.innerHTML = e.innerHTML;
        else {
            var a = e.getElementsByTagName(L)[0];
            if (a) {
                var n = a.childNodes;
                if (n)
                    for (var i = n.length, r = 0; r < i; r++)
                        1 == n[r].nodeType && "PARAM" == n[r].nodeName || 8 == n[r].nodeType || t.appendChild(n[r].cloneNode(!0))
            }
        }
        return t
    }
    function f(e, t, a) {
        var n, i = v(a);
        if (J.wk && J.wk < 312)
            return n;
        if (i)
            if (typeof e.id == I && (e.id = a),
            J.ie && J.win) {
                var r = "";
                for (var o in e)
                    e[o] != Object.prototype[o] && ("data" == o.toLowerCase() ? t.movie = e[o] : "styleclass" == o.toLowerCase() ? r += ' class="' + e[o] + '"' : "classid" != o.toLowerCase() && (r += " " + o + '="' + e[o] + '"'));
                var l = "";
                for (var s in t)
                    t[s] != Object.prototype[s] && (l += '<param name="' + s + '" value="' + t[s] + '" />');
                i.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + r + ">" + l + "</object>",
                R[R.length] = e.id,
                n = v(e.id)
            } else {
                var c = y(L);
                c.setAttribute("type", j);
                for (var f in e)
                    e[f] != Object.prototype[f] && ("styleclass" == f.toLowerCase() ? c.setAttribute("class", e[f]) : "classid" != f.toLowerCase() && c.setAttribute(f, e[f]));
                for (var p in t)
                    t[p] != Object.prototype[p] && "movie" != p.toLowerCase() && d(c, p, t[p]);
                i.parentNode.replaceChild(c, i),
                n = c
            }
        return n
    }
    function d(e, t, a) {
        var n = y("param");
        n.setAttribute("name", t),
        n.setAttribute("value", a),
        e.appendChild(n)
    }
    function p(e) {
        var t = v(e);
        t && "OBJECT" == t.nodeName && (J.ie && J.win ? (t.style.display = "none",
        function() {
            4 == t.readyState ? u(e) : setTimeout(arguments.callee, 10)
        }()) : t.parentNode.removeChild(t))
    }
    function u(e) {
        var t = v(e);
        if (t) {
            for (var a in t)
                "function" == typeof t[a] && (t[a] = null);
            t.parentNode.removeChild(t)
        }
    }
    function v(e) {
        var t = null;
        try {
            t = $.getElementById(e)
        } catch (e) {}
        return t
    }
    function y(e) {
        return $.createElement(e)
    }
    function h(e, t, a) {
        e.attachEvent(t, a),
        D[D.length] = [e, t, a]
    }
    function m(e) {
        var t = J.pv
          , a = e.split(".");
        return a[0] = parseInt(a[0], 10),
        a[1] = parseInt(a[1], 10) || 0,
        a[2] = parseInt(a[2], 10) || 0,
        t[0] > a[0] || t[0] == a[0] && t[1] > a[1] || t[0] == a[0] && t[1] == a[1] && t[2] >= a[2]
    }
    function w(e, t, a, n) {
        if (!J.ie || !J.mac) {
            var i = $.getElementsByTagName("head")[0];
            if (i) {
                var r = a && "string" == typeof a ? a : "screen";
                if (n && (N = null,
                T = null),
                !N || T != r) {
                    var o = y("style");
                    o.setAttribute("type", "text/css"),
                    o.setAttribute("media", r),
                    N = i.appendChild(o),
                    J.ie && J.win && typeof $.styleSheets != I && $.styleSheets.length > 0 && (N = $.styleSheets[$.styleSheets.length - 1]),
                    T = r
                }
                J.ie && J.win ? N && typeof N.addRule == L && N.addRule(e, t) : N && typeof $.createTextNode != I && N.appendChild($.createTextNode(e + " {" + t + "}"))
            }
        }
    }
    function g(e, t) {
        if (G) {
            var a = t ? "visible" : "hidden";
            W && v(e) ? v(e).style.visibility = a : w("#" + e, "visibility:" + a)
        }
    }
    function b(e) {
        return null != /[\\\"<>\.;]/.exec(e) && typeof encodeURIComponent != I ? encodeURIComponent(e) : e
    }
    var C, E, S, A, N, T, I = "undefined", L = "object", k = "Shockwave Flash", j = "application/x-shockwave-flash", B = "SWFObjectExprInst", O = "onreadystatechange", F = window, $ = document, x = navigator, M = !1, V = [function() {
        M ? n() : i()
    }
    ], P = [], R = [], D = [], W = !1, H = !1, G = !0, J = function() {
        var e = typeof $.getElementById != I && typeof $.getElementsByTagName != I && typeof $.createElement != I
          , t = x.userAgent.toLowerCase()
          , a = x.platform.toLowerCase()
          , n = /win/.test(a ? a : t)
          , i = /mac/.test(a ? a : t)
          , r = !!/webkit/.test(t) && parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1"))
          , o = !1
          , l = [0, 0, 0]
          , s = null;
        if (typeof x.plugins != I && typeof x.plugins[k] == L)
            !(s = x.plugins[k].description) || typeof x.mimeTypes != I && x.mimeTypes[j] && !x.mimeTypes[j].enabledPlugin || (M = !0,
            o = !1,
            s = s.replace(/^.*\s+(\S+\s+\S+$)/, "$1"),
            l[0] = parseInt(s.replace(/^(.*)\..*$/, "$1"), 10),
            l[1] = parseInt(s.replace(/^.*\.(.*)\s.*$/, "$1"), 10),
            l[2] = /[a-zA-Z]/.test(s) ? parseInt(s.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
        else if (typeof F.ActiveXObject != I)
            try {
                var c = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
                c && (s = c.GetVariable("$version")) && (o = !0,
                s = s.split(" ")[1].split(","),
                l = [parseInt(s[0], 10), parseInt(s[1], 10), parseInt(s[2], 10)])
            } catch (e) {}
        return {
            w3: e,
            pv: l,
            wk: r,
            ie: o,
            win: n,
            mac: i
        }
    }();
    J.w3 && ((typeof $.readyState != I && "complete" == $.readyState || typeof $.readyState == I && ($.getElementsByTagName("body")[0] || $.body)) && e(),
    W || (typeof $.addEventListener != I && $.addEventListener("DOMContentLoaded", e, !1),
    J.ie && J.win && ($.attachEvent(O, function() {
        "complete" == $.readyState && ($.detachEvent(O, arguments.callee),
        e())
    }),
    F == top && function() {
        if (!W) {
            try {
                $.documentElement.doScroll("left")
            } catch (e) {
                return void setTimeout(arguments.callee, 0)
            }
            e()
        }
    }()),
    J.wk && function() {
        W || (/loaded|complete/.test($.readyState) ? e() : setTimeout(arguments.callee, 0))
    }(),
    a(e))),
    J.ie && J.win && window.attachEvent("onunload", function() {
        for (var e = D.length, t = 0; t < e; t++)
            D[t][0].detachEvent(D[t][1], D[t][2]);
        for (var a = R.length, n = 0; n < a; n++)
            p(R[n]);
        for (var i in J)
            J[i] = null;
        J = null;
        for (var r in swfobject)
            swfobject[r] = null;
        swfobject = null
    });
    return {
        registerObject: function(e, t, a, n) {
            if (J.w3 && e && t) {
                var i = {};
                i.id = e,
                i.swfVersion = t,
                i.expressInstall = a,
                i.callbackFn = n,
                P[P.length] = i,
                g(e, !1)
            } else
                n && n({
                    success: !1,
                    id: e
                })
        },
        getObjectById: function(e) {
            if (J.w3)
                return r(e)
        },
        embedSWF: function(e, a, n, i, r, s, c, d, p, u) {
            var v = {
                success: !1,
                id: a
            };
            J.w3 && !(J.wk && J.wk < 312) && e && a && n && i && r ? (g(a, !1),
            t(function() {
                n += "",
                i += "";
                var t = {};
                if (p && typeof p === L)
                    for (var y in p)
                        t[y] = p[y];
                t.data = e,
                t.width = n,
                t.height = i;
                var h = {};
                if (d && typeof d === L)
                    for (var w in d)
                        h[w] = d[w];
                if (c && typeof c === L)
                    for (var b in c)
                        typeof h.flashvars != I ? h.flashvars += "&" + b + "=" + c[b] : h.flashvars = b + "=" + c[b];
                if (m(r)) {
                    var C = f(t, h, a);
                    t.id == a && g(a, !0),
                    v.success = !0,
                    v.ref = C
                } else {
                    if (s && o())
                        return t.data = s,
                        void l(t, h, a, u);
                    g(a, !0)
                }
                u && u(v)
            })) : u && u(v)
        },
        switchOffAutoHideShow: function() {
            G = !1
        },
        ua: J,
        getFlashPlayerVersion: function() {
            return {
                major: J.pv[0],
                minor: J.pv[1],
                release: J.pv[2]
            }
        },
        hasFlashPlayerVersion: m,
        createSWF: function(e, t, a) {
            return J.w3 ? f(e, t, a) : void 0
        },
        showExpressInstall: function(e, t, a, n) {
            J.w3 && o() && l(e, t, a, n)
        },
        removeSWF: function(e) {
            J.w3 && p(e)
        },
        createCSS: function(e, t, a, n) {
            J.w3 && w(e, t, a, n)
        },
        addDomLoadEvent: t,
        addLoadEvent: a,
        getQueryParamValue: function(e) {
            var t = $.location.search || $.location.hash;
            if (t) {
                if (/\?/.test(t) && (t = t.split("?")[1]),
                null == e)
                    return b(t);
                for (var a = t.split("&"), n = 0; n < a.length; n++)
                    if (a[n].substring(0, a[n].indexOf("=")) == e)
                        return b(a[n].substring(a[n].indexOf("=") + 1))
            }
            return ""
        },
        expressInstallCallback: function() {
            if (H) {
                var e = v(B);
                e && C && (e.parentNode.replaceChild(C, e),
                E && (g(E, !0),
                J.ie && J.win && (C.style.display = "block")),
                S && S(A)),
                H = !1
            }
        }
    }
}();
Downloadify = window.Downloadify = {
    queue: {},
    uid: (new Date).getTime(),
    getTextForSave: function(n) {
        var e = Downloadify.queue[n];
        return e ? e.getData() : ""
    },
    getFileNameForSave: function(n) {
        var e = Downloadify.queue[n];
        return e ? e.getFilename() : ""
    },
    getDataTypeForSave: function(n) {
        var e = Downloadify.queue[n];
        return e ? e.getDataType() : ""
    },
    saveComplete: function(n) {
        var e = Downloadify.queue[n];
        return e && e.complete(),
        !0
    },
    saveCancel: function(n) {
        var e = Downloadify.queue[n];
        return e && e.cancel(),
        !0
    },
    saveError: function(n) {
        var e = Downloadify.queue[n];
        return e && e.error(),
        !0
    },
    addToQueue: function(n) {
        Downloadify.queue[n.queue_name] = n
    },
    getUID: function(n) {
        return "" == n.id && (n.id = "downloadify_" + Downloadify.uid++),
        n.id
    }
},
Downloadify.create = function(n, e) {
    var o = "string" == typeof n ? document.getElementById(n) : n;
    return new Downloadify.Container(o,e)
}
,
Downloadify.Container = function(n, e) {
    var o = this;
    o.el = n,
    o.enabled = !0,
    o.dataCallback = null,
    o.filenameCallback = null,
    o.data = null,
    o.filename = null;
    o.enable = function() {
        document.getElementById(o.flashContainer.id).setEnabled(!0),
        o.enabled = !0
    }
    ,
    o.disable = function() {
        document.getElementById(o.flashContainer.id).setEnabled(!1),
        o.enabled = !1
    }
    ,
    o.getData = function() {
        return o.enabled ? o.dataCallback ? o.dataCallback() : o.data ? o.data : "" : ""
    }
    ,
    o.getFilename = function() {
        return o.filenameCallback ? o.filenameCallback() : o.filename ? o.filename : ""
    }
    ,
    o.getDataType = function() {
        return o.options.dataType ? o.options.dataType : "string"
    }
    ,
    o.complete = function() {
        "function" == typeof o.options.onComplete && o.options.onComplete()
    }
    ,
    o.cancel = function() {
        "function" == typeof o.options.onCancel && o.options.onCancel()
    }
    ,
    o.error = function() {
        "function" == typeof o.options.onError && o.options.onError()
    }
    ,
    function() {
        o.options = e,
        o.options.append || (o.el.innerHTML = ""),
        o.flashContainer = document.createElement("span"),
        o.el.appendChild(o.flashContainer),
        o.queue_name = Downloadify.getUID(o.flashContainer),
        "function" == typeof o.options.filename ? o.filenameCallback = o.options.filename : o.options.filename && (o.filename = o.options.filename),
        "function" == typeof o.options.data ? o.dataCallback = o.options.data : o.options.data && (o.data = o.options.data);
        var n = {
            queue_name: o.queue_name,
            width: o.options.width,
            height: o.options.height
        }
          , a = {
            allowScriptAccess: "always"
        }
          , t = {
            id: o.flashContainer.id,
            name: o.flashContainer.id
        };
        !1 === o.options.enabled && (o.enabled = !1),
        !0 === o.options.transparent && (a.wmode = "transparent"),
        o.options.downloadImage && (n.downloadImage = o.options.downloadImage),
        swfobject.embedSWF(o.options.swf, o.flashContainer.id, o.options.width, o.options.height, "10", null, n, a, t),
        Downloadify.addToQueue(o)
    }()
}
,
Downloadify.defaultOptions = {
    swf: "media/downloadify.swf",
    downloadImage: "images/download.png",
    width: 100,
    height: 30,
    transparent: !0,
    append: !1,
    dataType: "string"
},
"undefined" != typeof jQuery && function(n) {
    n.fn.downloadify = function(e) {
        return this.each(function() {
            e = n.extend({}, Downloadify.defaultOptions, e);
            var o = Downloadify.create(this, e);
            n(this).data("Downloadify", o)
        })
    }
}(jQuery),
"undefined" != typeof MooTools && Element.implement({
    downloadify: function(n) {
        return n = $merge(Downloadify.defaultOptions, n),
        this.store("Downloadify", Downloadify.create(this, n))
    }
});
/*

Multitarget assembler (C) 2013 Martin Maly, http://www.maly.cz, http://www.webscript.cz

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

 Parser is based on ndef.parser, by Raphael Graf(r@undefined.ch)
 http://www.undefined.ch/mparser/index.html

 Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)

 You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
 to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
 but don't feel like you have to let me know or ask permission.
*/

/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS = CryptoJS || function(t, e) {
    var r = {}
      , i = r.lib = {}
      , n = function() {}
      , o = i.Base = {
        extend: function(t) {
            n.prototype = this;
            var e = new n;
            return t && e.mixIn(t),
            e.hasOwnProperty("init") || (e.init = function() {
                e.$super.init.apply(this, arguments)
            }
            ),
            e.init.prototype = e,
            e.$super = this,
            e
        },
        create: function() {
            var t = this.extend();
            return t.init.apply(t, arguments),
            t
        },
        init: function() {},
        mixIn: function(t) {
            for (var e in t)
                t.hasOwnProperty(e) && (this[e] = t[e]);
            t.hasOwnProperty("toString") && (this.toString = t.toString)
        },
        clone: function() {
            return this.init.prototype.extend(this)
        }
    }
      , s = i.WordArray = o.extend({
        init: function(t, e) {
            t = this.words = t || [],
            this.sigBytes = void 0 != e ? e : 4 * t.length
        },
        toString: function(t) {
            return (t || a).stringify(this)
        },
        concat: function(t) {
            var e = this.words
              , r = t.words
              , i = this.sigBytes;
            if (t = t.sigBytes,
            this.clamp(),
            i % 4)
                for (var n = 0; n < t; n++)
                    e[i + n >>> 2] |= (r[n >>> 2] >>> 24 - n % 4 * 8 & 255) << 24 - (i + n) % 4 * 8;
            else if (65535 < r.length)
                for (n = 0; n < t; n += 4)
                    e[i + n >>> 2] = r[n >>> 2];
            else
                e.push.apply(e, r);
            return this.sigBytes += t,
            this
        },
        clamp: function() {
            var e = this.words
              , r = this.sigBytes;
            e[r >>> 2] &= 4294967295 << 32 - r % 4 * 8,
            e.length = t.ceil(r / 4)
        },
        clone: function() {
            var t = o.clone.call(this);
            return t.words = this.words.slice(0),
            t
        },
        random: function(e) {
            for (var r = [], i = 0; i < e; i += 4)
                r.push(4294967296 * t.random() | 0);
            return new s.init(r,e)
        }
    })
      , c = r.enc = {}
      , a = c.Hex = {
        stringify: function(t) {
            var e = t.words;
            t = t.sigBytes;
            for (var r = [], i = 0; i < t; i++) {
                var n = e[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                r.push((n >>> 4).toString(16)),
                r.push((15 & n).toString(16))
            }
            return r.join("")
        },
        parse: function(t) {
            for (var e = t.length, r = [], i = 0; i < e; i += 2)
                r[i >>> 3] |= parseInt(t.substr(i, 2), 16) << 24 - i % 8 * 4;
            return new s.init(r,e / 2)
        }
    }
      , f = c.Latin1 = {
        stringify: function(t) {
            var e = t.words;
            t = t.sigBytes;
            for (var r = [], i = 0; i < t; i++)
                r.push(String.fromCharCode(e[i >>> 2] >>> 24 - i % 4 * 8 & 255));
            return r.join("")
        },
        parse: function(t) {
            for (var e = t.length, r = [], i = 0; i < e; i++)
                r[i >>> 2] |= (255 & t.charCodeAt(i)) << 24 - i % 4 * 8;
            return new s.init(r,e)
        }
    }
      , h = c.Utf8 = {
        stringify: function(t) {
            try {
                return decodeURIComponent(escape(f.stringify(t)))
            } catch (t) {
                throw Error("Error")
            }
        },
        parse: function(t) {
            return f.parse(unescape(encodeURIComponent(t)))
        }
    }
      , u = i.BufferedBlockAlgorithm = o.extend({
        reset: function() {
            this._data = new s.init,
            this._nDataBytes = 0
        },
        _append: function(t) {
            "string" == typeof t && (t = h.parse(t)),
            this._data.concat(t),
            this._nDataBytes += t.sigBytes
        },
        _process: function(e) {
            var r = this._data
              , i = r.words
              , n = r.sigBytes
              , o = this.blockSize
              , c = n / (4 * o);
            if (e = (c = e ? t.ceil(c) : t.max((0 | c) - this._minBufferSize, 0)) * o,
            n = t.min(4 * e, n),
            e) {
                for (var a = 0; a < e; a += o)
                    this._doProcessBlock(i, a);
                a = i.splice(0, e),
                r.sigBytes -= n
            }
            return new s.init(a,n)
        },
        clone: function() {
            var t = o.clone.call(this);
            return t._data = this._data.clone(),
            t
        },
        _minBufferSize: 0
    });
    i.Hasher = u.extend({
        cfg: o.extend(),
        init: function(t) {
            this.cfg = this.cfg.extend(t),
            this.reset()
        },
        reset: function() {
            u.reset.call(this),
            this._doReset()
        },
        update: function(t) {
            return this._append(t),
            this._process(),
            this
        },
        finalize: function(t) {
            return t && this._append(t),
            this._doFinalize()
        },
        blockSize: 16,
        _createHelper: function(t) {
            return function(e, r) {
                return new t.init(r).finalize(e)
            }
        },
        _createHmacHelper: function(t) {
            return function(e, r) {
                return new p.HMAC.init(t,r).finalize(e)
            }
        }
    });
    var p = r.algo = {};
    return r
}(Math);
!function() {
    var t = CryptoJS
      , e = t.lib.WordArray;
    t.enc.Base64 = {
        stringify: function(t) {
            var e = t.words
              , r = t.sigBytes
              , i = this._map;
            t.clamp(),
            t = [];
            for (var n = 0; n < r; n += 3)
                for (var o = (e[n >>> 2] >>> 24 - n % 4 * 8 & 255) << 16 | (e[n + 1 >>> 2] >>> 24 - (n + 1) % 4 * 8 & 255) << 8 | e[n + 2 >>> 2] >>> 24 - (n + 2) % 4 * 8 & 255, s = 0; 4 > s && n + .75 * s < r; s++)
                    t.push(i.charAt(o >>> 6 * (3 - s) & 63));
            if (e = i.charAt(64))
                for (; t.length % 4; )
                    t.push(e);
            return t.join("")
        },
        parse: function(t) {
            var r = t.length
              , i = this._map;
            (n = i.charAt(64)) && -1 != (n = t.indexOf(n)) && (r = n);
            for (var n = [], o = 0, s = 0; s < r; s++)
                if (s % 4) {
                    var c = i.indexOf(t.charAt(s - 1)) << s % 4 * 2
                      , a = i.indexOf(t.charAt(s)) >>> 6 - s % 4 * 2;
                    n[o >>> 2] |= (c | a) << 24 - o % 4 * 8,
                    o++
                }
            return e.create(n, o)
        },
        _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
    }
}(),
function(t) {
    function e(t, e, r, i, n, o, s) {
        return ((t = t + (e & r | ~e & i) + n + s) << o | t >>> 32 - o) + e
    }
    function r(t, e, r, i, n, o, s) {
        return ((t = t + (e & i | r & ~i) + n + s) << o | t >>> 32 - o) + e
    }
    function i(t, e, r, i, n, o, s) {
        return ((t = t + (e ^ r ^ i) + n + s) << o | t >>> 32 - o) + e
    }
    function n(t, e, r, i, n, o, s) {
        return ((t = t + (r ^ (e | ~i)) + n + s) << o | t >>> 32 - o) + e
    }
    for (var o = CryptoJS, s = (a = o.lib).WordArray, c = a.Hasher, a = o.algo, f = [], h = 0; 64 > h; h++)
        f[h] = 4294967296 * t.abs(t.sin(h + 1)) | 0;
    a = a.MD5 = c.extend({
        _doReset: function() {
            this._hash = new s.init([1732584193, 4023233417, 2562383102, 271733878])
        },
        _doProcessBlock: function(t, o) {
            for (s = 0; 16 > s; s++) {
                a = t[c = o + s];
                t[c] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8)
            }
            var s = this._hash.words
              , c = t[o + 0]
              , a = t[o + 1]
              , h = t[o + 2]
              , u = t[o + 3]
              , p = t[o + 4]
              , d = t[o + 5]
              , l = t[o + 6]
              , y = t[o + 7]
              , _ = t[o + 8]
              , v = t[o + 9]
              , g = t[o + 10]
              , B = t[o + 11]
              , x = t[o + 12]
              , S = t[o + 13]
              , k = t[o + 14]
              , m = t[o + 15]
              , z = s[0]
              , C = s[1]
              , w = s[2]
              , D = s[3]
              , C = n(C = n(C = n(C = n(C = i(C = i(C = i(C = i(C = r(C = r(C = r(C = r(C = e(C = e(C = e(C = e(C, w = e(w, D = e(D, z = e(z, C, w, D, c, 7, f[0]), C, w, a, 12, f[1]), z, C, h, 17, f[2]), D, z, u, 22, f[3]), w = e(w, D = e(D, z = e(z, C, w, D, p, 7, f[4]), C, w, d, 12, f[5]), z, C, l, 17, f[6]), D, z, y, 22, f[7]), w = e(w, D = e(D, z = e(z, C, w, D, _, 7, f[8]), C, w, v, 12, f[9]), z, C, g, 17, f[10]), D, z, B, 22, f[11]), w = e(w, D = e(D, z = e(z, C, w, D, x, 7, f[12]), C, w, S, 12, f[13]), z, C, k, 17, f[14]), D, z, m, 22, f[15]), w = r(w, D = r(D, z = r(z, C, w, D, a, 5, f[16]), C, w, l, 9, f[17]), z, C, B, 14, f[18]), D, z, c, 20, f[19]), w = r(w, D = r(D, z = r(z, C, w, D, d, 5, f[20]), C, w, g, 9, f[21]), z, C, m, 14, f[22]), D, z, p, 20, f[23]), w = r(w, D = r(D, z = r(z, C, w, D, v, 5, f[24]), C, w, k, 9, f[25]), z, C, u, 14, f[26]), D, z, _, 20, f[27]), w = r(w, D = r(D, z = r(z, C, w, D, S, 5, f[28]), C, w, h, 9, f[29]), z, C, y, 14, f[30]), D, z, x, 20, f[31]), w = i(w, D = i(D, z = i(z, C, w, D, d, 4, f[32]), C, w, _, 11, f[33]), z, C, B, 16, f[34]), D, z, k, 23, f[35]), w = i(w, D = i(D, z = i(z, C, w, D, a, 4, f[36]), C, w, p, 11, f[37]), z, C, y, 16, f[38]), D, z, g, 23, f[39]), w = i(w, D = i(D, z = i(z, C, w, D, S, 4, f[40]), C, w, c, 11, f[41]), z, C, u, 16, f[42]), D, z, l, 23, f[43]), w = i(w, D = i(D, z = i(z, C, w, D, v, 4, f[44]), C, w, x, 11, f[45]), z, C, m, 16, f[46]), D, z, h, 23, f[47]), w = n(w, D = n(D, z = n(z, C, w, D, c, 6, f[48]), C, w, y, 10, f[49]), z, C, k, 15, f[50]), D, z, d, 21, f[51]), w = n(w, D = n(D, z = n(z, C, w, D, x, 6, f[52]), C, w, u, 10, f[53]), z, C, g, 15, f[54]), D, z, a, 21, f[55]), w = n(w, D = n(D, z = n(z, C, w, D, _, 6, f[56]), C, w, m, 10, f[57]), z, C, l, 15, f[58]), D, z, S, 21, f[59]), w = n(w, D = n(D, z = n(z, C, w, D, p, 6, f[60]), C, w, B, 10, f[61]), z, C, h, 15, f[62]), D, z, v, 21, f[63]);
            s[0] = s[0] + z | 0,
            s[1] = s[1] + C | 0,
            s[2] = s[2] + w | 0,
            s[3] = s[3] + D | 0
        },
        _doFinalize: function() {
            var e = this._data
              , r = e.words
              , i = 8 * this._nDataBytes
              , n = 8 * e.sigBytes;
            r[n >>> 5] |= 128 << 24 - n % 32;
            var o = t.floor(i / 4294967296);
            for (r[15 + (n + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
            r[14 + (n + 64 >>> 9 << 4)] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8),
            e.sigBytes = 4 * (r.length + 1),
            this._process(),
            r = (e = this._hash).words,
            i = 0; 4 > i; i++)
                n = r[i],
                r[i] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8);
            return e
        },
        clone: function() {
            var t = c.clone.call(this);
            return t._hash = this._hash.clone(),
            t
        }
    }),
    o.MD5 = c._createHelper(a),
    o.HmacMD5 = c._createHmacHelper(a)
}(Math),
function() {
    var t = CryptoJS
      , e = t.lib
      , r = e.Base
      , i = e.WordArray
      , n = (e = t.algo).EvpKDF = r.extend({
        cfg: r.extend({
            keySize: 4,
            hasher: e.MD5,
            iterations: 1
        }),
        init: function(t) {
            this.cfg = this.cfg.extend(t)
        },
        compute: function(t, e) {
            for (var r = (c = this.cfg).hasher.create(), n = i.create(), o = n.words, s = c.keySize, c = c.iterations; o.length < s; ) {
                a && r.update(a);
                var a = r.update(t).finalize(e);
                r.reset();
                for (var f = 1; f < c; f++)
                    a = r.finalize(a),
                    r.reset();
                n.concat(a)
            }
            return n.sigBytes = 4 * s,
            n
        }
    });
    t.EvpKDF = function(t, e, r) {
        return n.create(r).compute(t, e)
    }
}(),
CryptoJS.lib.Cipher || function(t) {
    var e = (d = CryptoJS).lib
      , r = e.Base
      , i = e.WordArray
      , n = e.BufferedBlockAlgorithm
      , o = d.enc.Base64
      , s = d.algo.EvpKDF
      , c = e.Cipher = n.extend({
        cfg: r.extend(),
        createEncryptor: function(t, e) {
            return this.create(this._ENC_XFORM_MODE, t, e)
        },
        createDecryptor: function(t, e) {
            return this.create(this._DEC_XFORM_MODE, t, e)
        },
        init: function(t, e, r) {
            this.cfg = this.cfg.extend(r),
            this._xformMode = t,
            this._key = e,
            this.reset()
        },
        reset: function() {
            n.reset.call(this),
            this._doReset()
        },
        process: function(t) {
            return this._append(t),
            this._process()
        },
        finalize: function(t) {
            return t && this._append(t),
            this._doFinalize()
        },
        keySize: 4,
        ivSize: 4,
        _ENC_XFORM_MODE: 1,
        _DEC_XFORM_MODE: 2,
        _createHelper: function(t) {
            return {
                encrypt: function(e, r, i) {
                    return ("string" == typeof r ? l : p).encrypt(t, e, r, i)
                },
                decrypt: function(e, r, i) {
                    return ("string" == typeof r ? l : p).decrypt(t, e, r, i)
                }
            }
        }
    });
    e.StreamCipher = c.extend({
        _doFinalize: function() {
            return this._process(!0)
        },
        blockSize: 1
    });
    var a = d.mode = {}
      , f = function(t, e, r) {
        var i = this._iv;
        i ? this._iv = void 0 : i = this._prevBlock;
        for (var n = 0; n < r; n++)
            t[e + n] ^= i[n]
    }
      , h = (e.BlockCipherMode = r.extend({
        createEncryptor: function(t, e) {
            return this.Encryptor.create(t, e)
        },
        createDecryptor: function(t, e) {
            return this.Decryptor.create(t, e)
        },
        init: function(t, e) {
            this._cipher = t,
            this._iv = e
        }
    })).extend();
    h.Encryptor = h.extend({
        processBlock: function(t, e) {
            var r = this._cipher
              , i = r.blockSize;
            f.call(this, t, e, i),
            r.encryptBlock(t, e),
            this._prevBlock = t.slice(e, e + i)
        }
    }),
    h.Decryptor = h.extend({
        processBlock: function(t, e) {
            var r = this._cipher
              , i = r.blockSize
              , n = t.slice(e, e + i);
            r.decryptBlock(t, e),
            f.call(this, t, e, i),
            this._prevBlock = n
        }
    }),
    a = a.CBC = h,
    h = (d.pad = {}).Pkcs7 = {
        pad: function(t, e) {
            for (var r = 4 * e, n = (r = r - t.sigBytes % r) << 24 | r << 16 | r << 8 | r, o = [], s = 0; s < r; s += 4)
                o.push(n);
            r = i.create(o, r),
            t.concat(r)
        },
        unpad: function(t) {
            t.sigBytes -= 255 & t.words[t.sigBytes - 1 >>> 2]
        }
    },
    e.BlockCipher = c.extend({
        cfg: c.cfg.extend({
            mode: a,
            padding: h
        }),
        reset: function() {
            c.reset.call(this);
            var t = (e = this.cfg).iv
              , e = e.mode;
            if (this._xformMode == this._ENC_XFORM_MODE)
                var r = e.createEncryptor;
            else
                r = e.createDecryptor,
                this._minBufferSize = 1;
            this._mode = r.call(e, this, t && t.words)
        },
        _doProcessBlock: function(t, e) {
            this._mode.processBlock(t, e)
        },
        _doFinalize: function() {
            var t = this.cfg.padding;
            if (this._xformMode == this._ENC_XFORM_MODE) {
                t.pad(this._data, this.blockSize);
                var e = this._process(!0)
            } else
                e = this._process(!0),
                t.unpad(e);
            return e
        },
        blockSize: 4
    });
    var u = e.CipherParams = r.extend({
        init: function(t) {
            this.mixIn(t)
        },
        toString: function(t) {
            return (t || this.formatter).stringify(this)
        }
    })
      , a = (d.format = {}).OpenSSL = {
        stringify: function(t) {
            var e = t.ciphertext;
            return ((t = t.salt) ? i.create([1398893684, 1701076831]).concat(t).concat(e) : e).toString(o)
        },
        parse: function(t) {
            var e = (t = o.parse(t)).words;
            if (1398893684 == e[0] && 1701076831 == e[1]) {
                var r = i.create(e.slice(2, 4));
                e.splice(0, 4),
                t.sigBytes -= 16
            }
            return u.create({
                ciphertext: t,
                salt: r
            })
        }
    }
      , p = e.SerializableCipher = r.extend({
        cfg: r.extend({
            format: a
        }),
        encrypt: function(t, e, r, i) {
            i = this.cfg.extend(i);
            var n = t.createEncryptor(r, i);
            return e = n.finalize(e),
            n = n.cfg,
            u.create({
                ciphertext: e,
                key: r,
                iv: n.iv,
                algorithm: t,
                mode: n.mode,
                padding: n.padding,
                blockSize: t.blockSize,
                formatter: i.format
            })
        },
        decrypt: function(t, e, r, i) {
            return i = this.cfg.extend(i),
            e = this._parse(e, i.format),
            t.createDecryptor(r, i).finalize(e.ciphertext)
        },
        _parse: function(t, e) {
            return "string" == typeof t ? e.parse(t, this) : t
        }
    })
      , d = (d.kdf = {}).OpenSSL = {
        execute: function(t, e, r, n) {
            return n || (n = i.random(8)),
            t = s.create({
                keySize: e + r
            }).compute(t, n),
            r = i.create(t.words.slice(e), 4 * r),
            t.sigBytes = 4 * e,
            u.create({
                key: t,
                iv: r,
                salt: n
            })
        }
    }
      , l = e.PasswordBasedCipher = p.extend({
        cfg: p.cfg.extend({
            kdf: d
        }),
        encrypt: function(t, e, r, i) {
            return i = this.cfg.extend(i),
            r = i.kdf.execute(r, t.keySize, t.ivSize),
            i.iv = r.iv,
            (t = p.encrypt.call(this, t, e, r.key, i)).mixIn(r),
            t
        },
        decrypt: function(t, e, r, i) {
            return i = this.cfg.extend(i),
            e = this._parse(e, i.format),
            r = i.kdf.execute(r, t.keySize, t.ivSize, e.salt),
            i.iv = r.iv,
            p.decrypt.call(this, t, e, r.key, i)
        }
    })
}(),
function() {
    for (var t = CryptoJS, e = t.lib.BlockCipher, r = t.algo, i = [], n = [], o = [], s = [], c = [], a = [], f = [], h = [], u = [], p = [], d = [], l = 0; 256 > l; l++)
        d[l] = 128 > l ? l << 1 : l << 1 ^ 283;
    for (var y = 0, _ = 0, l = 0; 256 > l; l++) {
        var v = (v = _ ^ _ << 1 ^ _ << 2 ^ _ << 3 ^ _ << 4) >>> 8 ^ 255 & v ^ 99;
        i[y] = v,
        n[v] = y;
        var g = d[y]
          , B = d[g]
          , x = d[B]
          , S = 257 * d[v] ^ 16843008 * v;
        o[y] = S << 24 | S >>> 8,
        s[y] = S << 16 | S >>> 16,
        c[y] = S << 8 | S >>> 24,
        a[y] = S,
        S = 16843009 * x ^ 65537 * B ^ 257 * g ^ 16843008 * y,
        f[v] = S << 24 | S >>> 8,
        h[v] = S << 16 | S >>> 16,
        u[v] = S << 8 | S >>> 24,
        p[v] = S,
        y ? (y = g ^ d[d[d[x ^ g]]],
        _ ^= d[d[_]]) : y = _ = 1
    }
    var k = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]
      , r = r.AES = e.extend({
        _doReset: function() {
            for (var t = (r = this._key).words, e = r.sigBytes / 4, r = 4 * ((this._nRounds = e + 6) + 1), n = this._keySchedule = [], o = 0; o < r; o++)
                if (o < e)
                    n[o] = t[o];
                else {
                    var s = n[o - 1];
                    o % e ? 6 < e && 4 == o % e && (s = i[s >>> 24] << 24 | i[s >>> 16 & 255] << 16 | i[s >>> 8 & 255] << 8 | i[255 & s]) : (s = s << 8 | s >>> 24,
                    s = i[s >>> 24] << 24 | i[s >>> 16 & 255] << 16 | i[s >>> 8 & 255] << 8 | i[255 & s],
                    s ^= k[o / e | 0] << 24),
                    n[o] = n[o - e] ^ s
                }
            for (t = this._invKeySchedule = [],
            e = 0; e < r; e++)
                o = r - e,
                s = e % 4 ? n[o] : n[o - 4],
                t[e] = 4 > e || 4 >= o ? s : f[i[s >>> 24]] ^ h[i[s >>> 16 & 255]] ^ u[i[s >>> 8 & 255]] ^ p[i[255 & s]]
        },
        encryptBlock: function(t, e) {
            this._doCryptBlock(t, e, this._keySchedule, o, s, c, a, i)
        },
        decryptBlock: function(t, e) {
            var r = t[e + 1];
            t[e + 1] = t[e + 3],
            t[e + 3] = r,
            this._doCryptBlock(t, e, this._invKeySchedule, f, h, u, p, n),
            r = t[e + 1],
            t[e + 1] = t[e + 3],
            t[e + 3] = r
        },
        _doCryptBlock: function(t, e, r, i, n, o, s, c) {
            for (var a = this._nRounds, f = t[e] ^ r[0], h = t[e + 1] ^ r[1], u = t[e + 2] ^ r[2], p = t[e + 3] ^ r[3], d = 4, l = 1; l < a; l++)
                var y = i[f >>> 24] ^ n[h >>> 16 & 255] ^ o[u >>> 8 & 255] ^ s[255 & p] ^ r[d++]
                  , _ = i[h >>> 24] ^ n[u >>> 16 & 255] ^ o[p >>> 8 & 255] ^ s[255 & f] ^ r[d++]
                  , v = i[u >>> 24] ^ n[p >>> 16 & 255] ^ o[f >>> 8 & 255] ^ s[255 & h] ^ r[d++]
                  , p = i[p >>> 24] ^ n[f >>> 16 & 255] ^ o[h >>> 8 & 255] ^ s[255 & u] ^ r[d++]
                  , f = y
                  , h = _
                  , u = v;
            y = (c[f >>> 24] << 24 | c[h >>> 16 & 255] << 16 | c[u >>> 8 & 255] << 8 | c[255 & p]) ^ r[d++],
            _ = (c[h >>> 24] << 24 | c[u >>> 16 & 255] << 16 | c[p >>> 8 & 255] << 8 | c[255 & f]) ^ r[d++],
            v = (c[u >>> 24] << 24 | c[p >>> 16 & 255] << 16 | c[f >>> 8 & 255] << 8 | c[255 & h]) ^ r[d++],
            p = (c[p >>> 24] << 24 | c[f >>> 16 & 255] << 16 | c[h >>> 8 & 255] << 8 | c[255 & u]) ^ r[d++],
            t[e] = y,
            t[e + 1] = _,
            t[e + 2] = v,
            t[e + 3] = p
        },
        keySize: 8
    });
    t.AES = e._createHelper(r)
}();
var CryptoJS = CryptoJS || function(t, n) {
    var i = {}
      , e = i.lib = {}
      , r = function() {}
      , s = e.Base = {
        extend: function(t) {
            r.prototype = this;
            var n = new r;
            return t && n.mixIn(t),
            n.hasOwnProperty("init") || (n.init = function() {
                n.$super.init.apply(this, arguments)
            }
            ),
            n.init.prototype = n,
            n.$super = this,
            n
        },
        create: function() {
            var t = this.extend();
            return t.init.apply(t, arguments),
            t
        },
        init: function() {},
        mixIn: function(t) {
            for (var n in t)
                t.hasOwnProperty(n) && (this[n] = t[n]);
            t.hasOwnProperty("toString") && (this.toString = t.toString)
        },
        clone: function() {
            return this.init.prototype.extend(this)
        }
    }
      , o = e.WordArray = s.extend({
        init: function(t, n) {
            t = this.words = t || [],
            this.sigBytes = void 0 != n ? n : 4 * t.length
        },
        toString: function(t) {
            return (t || c).stringify(this)
        },
        concat: function(t) {
            var n = this.words
              , i = t.words
              , e = this.sigBytes;
            if (t = t.sigBytes,
            this.clamp(),
            e % 4)
                for (var r = 0; r < t; r++)
                    n[e + r >>> 2] |= (i[r >>> 2] >>> 24 - r % 4 * 8 & 255) << 24 - (e + r) % 4 * 8;
            else if (65535 < i.length)
                for (r = 0; r < t; r += 4)
                    n[e + r >>> 2] = i[r >>> 2];
            else
                n.push.apply(n, i);
            return this.sigBytes += t,
            this
        },
        clamp: function() {
            var n = this.words
              , i = this.sigBytes;
            n[i >>> 2] &= 4294967295 << 32 - i % 4 * 8,
            n.length = t.ceil(i / 4)
        },
        clone: function() {
            var t = s.clone.call(this);
            return t.words = this.words.slice(0),
            t
        },
        random: function(n) {
            for (var i = [], e = 0; e < n; e += 4)
                i.push(4294967296 * t.random() | 0);
            return new o.init(i,n)
        }
    })
      , a = i.enc = {}
      , c = a.Hex = {
        stringify: function(t) {
            var n = t.words;
            t = t.sigBytes;
            for (var i = [], e = 0; e < t; e++) {
                var r = n[e >>> 2] >>> 24 - e % 4 * 8 & 255;
                i.push((r >>> 4).toString(16)),
                i.push((15 & r).toString(16))
            }
            return i.join("")
        },
        parse: function(t) {
            for (var n = t.length, i = [], e = 0; e < n; e += 2)
                i[e >>> 3] |= parseInt(t.substr(e, 2), 16) << 24 - e % 8 * 4;
            return new o.init(i,n / 2)
        }
    }
      , h = a.Latin1 = {
        stringify: function(t) {
            var n = t.words;
            t = t.sigBytes;
            for (var i = [], e = 0; e < t; e++)
                i.push(String.fromCharCode(n[e >>> 2] >>> 24 - e % 4 * 8 & 255));
            return i.join("")
        },
        parse: function(t) {
            for (var n = t.length, i = [], e = 0; e < n; e++)
                i[e >>> 2] |= (255 & t.charCodeAt(e)) << 24 - e % 4 * 8;
            return new o.init(i,n)
        }
    }
      , u = a.Utf8 = {
        stringify: function(t) {
            try {
                return decodeURIComponent(escape(h.stringify(t)))
            } catch (t) {
                throw Error("Error")
            }
        },
        parse: function(t) {
            return h.parse(unescape(encodeURIComponent(t)))
        }
    }
      , f = e.BufferedBlockAlgorithm = s.extend({
        reset: function() {
            this._data = new o.init,
            this._nDataBytes = 0
        },
        _append: function(t) {
            "string" == typeof t && (t = u.parse(t)),
            this._data.concat(t),
            this._nDataBytes += t.sigBytes
        },
        _process: function(n) {
            var i = this._data
              , e = i.words
              , r = i.sigBytes
              , s = this.blockSize
              , a = r / (4 * s);
            if (n = (a = n ? t.ceil(a) : t.max((0 | a) - this._minBufferSize, 0)) * s,
            r = t.min(4 * n, r),
            n) {
                for (var c = 0; c < n; c += s)
                    this._doProcessBlock(e, c);
                c = e.splice(0, n),
                i.sigBytes -= r
            }
            return new o.init(c,r)
        },
        clone: function() {
            var t = s.clone.call(this);
            return t._data = this._data.clone(),
            t
        },
        _minBufferSize: 0
    });
    e.Hasher = f.extend({
        cfg: s.extend(),
        init: function(t) {
            this.cfg = this.cfg.extend(t),
            this.reset()
        },
        reset: function() {
            f.reset.call(this),
            this._doReset()
        },
        update: function(t) {
            return this._append(t),
            this._process(),
            this
        },
        finalize: function(t) {
            return t && this._append(t),
            this._doFinalize()
        },
        blockSize: 16,
        _createHelper: function(t) {
            return function(n, i) {
                return new t.init(i).finalize(n)
            }
        },
        _createHmacHelper: function(t) {
            return function(n, i) {
                return new l.HMAC.init(t,i).finalize(n)
            }
        }
    });
    var l = i.algo = {};
    return i
}(Math);
!function() {
    var t = CryptoJS
      , n = (r = t.lib).WordArray
      , i = r.Hasher
      , e = []
      , r = t.algo.SHA1 = i.extend({
        _doReset: function() {
            this._hash = new n.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
        },
        _doProcessBlock: function(t, n) {
            for (var i = this._hash.words, r = i[0], s = i[1], o = i[2], a = i[3], c = i[4], h = 0; 80 > h; h++) {
                if (16 > h)
                    e[h] = 0 | t[n + h];
                else {
                    var u = e[h - 3] ^ e[h - 8] ^ e[h - 14] ^ e[h - 16];
                    e[h] = u << 1 | u >>> 31
                }
                u = (r << 5 | r >>> 27) + c + e[h],
                u = 20 > h ? u + (1518500249 + (s & o | ~s & a)) : 40 > h ? u + (1859775393 + (s ^ o ^ a)) : 60 > h ? u + ((s & o | s & a | o & a) - 1894007588) : u + ((s ^ o ^ a) - 899497514),
                c = a,
                a = o,
                o = s << 30 | s >>> 2,
                s = r,
                r = u
            }
            i[0] = i[0] + r | 0,
            i[1] = i[1] + s | 0,
            i[2] = i[2] + o | 0,
            i[3] = i[3] + a | 0,
            i[4] = i[4] + c | 0
        },
        _doFinalize: function() {
            var t = this._data
              , n = t.words
              , i = 8 * this._nDataBytes
              , e = 8 * t.sigBytes;
            return n[e >>> 5] |= 128 << 24 - e % 32,
            n[14 + (e + 64 >>> 9 << 4)] = Math.floor(i / 4294967296),
            n[15 + (e + 64 >>> 9 << 4)] = i,
            t.sigBytes = 4 * n.length,
            this._process(),
            this._hash
        },
        clone: function() {
            var t = i.clone.call(this);
            return t._hash = this._hash.clone(),
            t
        }
    });
    t.SHA1 = i._createHelper(r),
    t.HmacSHA1 = i._createHmacHelper(r)
}();
!function(t) {
    var n = "."
      , o = "/backend.php"
      , r = function(t, n, o) {
        return $.ajax({
            type: "POST",
            url: t,
            data: n,
            success: o,
            fail: function(t) {
                console.log(t)
            },
            xhrFields: {
                withCredentials: !0
            }
        })
    }
      , i = function(t, i) {
        var e = r(n + o, {
            m: "getToken",
            u: t
        }, function(t, n, o) {
            i(!1, t)
        }).fail(function() {
            i(!0, e.responseText)
        })
    }
      , e = function(t, e, f, u, a) {
        i(t, function(i, c) {
            if (i)
                a(i, c);
            else
                var s = CryptoJS.SHA1(e + t).toString()
                  , $ = CryptoJS.SHA1("$$" + c + "$" + t + "$$" + s + "$" + u + "$$" + f).toString()
                  , S = r(n + o, {
                    m: "save",
                    u: t,
                    p: $,
                    t: c,
                    d: u,
                    f: f,
                    priv: !0
                }, function(t) {
                    a(!1, t)
                }).fail(function() {
                    a(!0, S.responseText)
                })
        })
    }
      , f = function(t, e, f, u) {
        i(t, function(i, a) {
            if (i)
                u(i, a);
            else
                var c = CryptoJS.SHA1(e + t).toString()
                  , s = CryptoJS.SHA1("$$" + a + "$" + t + "$$" + c + "$$" + f).toString()
                  , $ = r(n + o, {
                    m: "loadP",
                    u: t,
                    p: s,
                    t: a,
                    f: f,
                    priv: !0
                }, function(t) {
                    u(!1, t)
                }).fail(function() {
                    u(!0, $.responseText)
                })
        })
    };
    t.JST = {
        init: function(t) {
            n = t
        },
        user: {
            create: function(t, i, e) {
                var f = r(n + o, {
                    m: "createUser",
                    u: t,
                    p: i
                }, function(t) {
                    e(!1, t)
                }).fail(function() {
                    e(!0, f.responseText)
                })
            },
            signPayload: function(t, n, o, r, e) {
                i(t, function(i, f) {
                    if (i)
                        e(i, f);
                    else {
                        var u = CryptoJS.SHA1(n + t).toString()
                          , a = CryptoJS.SHA1("$$" + f + "$" + t + "$$" + u + "$" + r + "$$" + o).toString();
                        e(!1, {
                            u: t,
                            p: a,
                            t: f,
                            d: r,
                            f: o
                        })
                    }
                })
            },
            workspaces: function(t, i) {
                if (firebase && firebase.auth().currentUser) {
                    var e = firebase.auth().currentUser.uid;
                    return firebase.database().ref("/user/" + e).once("value").then(function(t) {
                        var n = t.val();
                        out = [];
                        for (k in n)
                            out.push(k);
                        i(!1, JSON.stringify(out))
                    })
                }
                var f = r(n + o, {
                    m: "workspaces",
                    u: t
                }, function(t) {
                    i(!1, t)
                }).fail(function() {
                    i(!0, f.responseText)
                })
            },
            token: i
        },
        file: {
            save: function(t, e, f, u, a) {
                i(t, function(i, c) {
                    if (i)
                        a(i, c);
                    else
                        var s = CryptoJS.SHA1(e + t).toString()
                          , $ = CryptoJS.SHA1("$$" + c + "$" + t + "$$" + s + "$" + u + "$$" + f).toString()
                          , S = r(n + o, {
                            m: "save",
                            u: t,
                            p: $,
                            t: c,
                            d: u,
                            f: f
                        }, function(t) {
                            a(!1, t)
                        }).fail(function() {
                            a(!0, S.responseText)
                        })
                })
            },
            savePrivate: e,
            saveEncrypted: function(t, n, o, r, i) {
                var f = CryptoJS.SHA1("$" + t + "$$" + n + "$$" + o).toString()
                  , u = CryptoJS.AES.encrypt(r, f).toString();
                e(t, n, o, u, i)
            },
            load: function(t, i, e) {
                if (!t) {
                    var f = i.match(/(.*?)\/(.*)/);
                    t = f[1],
                    i = f[2]
                }
                var u = r(n + o, {
                    m: "load",
                    u: t,
                    f: i
                }, function(t) {
                    e(!1, t)
                }).fail(function() {
                    e(!0, u.responseText)
                })
            },
            loadPrivate: f,
            loadEncrypted: function(t, n, o, r) {
                var i = CryptoJS.SHA1("$" + t + "$$" + n + "$$" + o).toString();
                f(t, n, o, function(t, n) {
                    t ? r(t, n) : r(t, CryptoJS.AES.decrypt(n, i).toString(CryptoJS.enc.Utf8))
                })
            }
        },
        test: function(t, i, e, f, u) {
            var a = CryptoJS.SHA1(e + i).toString()
              , c = CryptoJS.SHA1("$$" + t + "$" + i + "$$" + a + "$" + f).toString()
              , s = r(n + o, {
                m: "test",
                u: i,
                p: c,
                t: t,
                d: f
            }, function(t) {
                u(!1, t)
            }).fail(function() {
                u(!0, s.responseText)
            })
        }
    }
}(window);
!function(e) {
    var t = "."
      , n = null
      , i = null
      , r = e.sessionStorage
      , a = null
      , o = null
      , u = {
        name: "Name",
        mail: "Mail",
        pass: "Password",
        perm: "Log permanently",
        login: "Login",
        register: "Sign up",
        E: {
            badpwd: "Bad password",
            baduser: "Unrecognized user name"
        }
    }
      , c = function(e) {
        firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL),
        n.html(""),
        n.removeClass(),
        n.append("<button id=fireLogGit>Login via GitHub</button>"),
        n.append("<button id=fireLogGoogle>Login via Google</button>"),
        n.append("<button id=fireLogTwitter>Login via Twitter</button>"),
        n.append("<button id=fireLogFb>Login via Facebook</button>"),
        n.addClass("jserslogin"),
        $("#fireLogGit").click(function() {
            var t = new firebase.auth.GithubAuthProvider;
            t.addScope("repo"),
            firebase.auth().signInWithPopup(t).then(function(t) {
                t.credential.accessToken;
                var n = t.user;
                e(null, [n.displayName, n.uid])
            }).catch(function(e) {
                e.code;
                var t = e.message;
                e.email,
                e.credential;
                console.log(t)
            })
        }),
        $("#fireLogGoogle").click(function() {
            var t = new firebase.auth.GoogleAuthProvider;
            firebase.auth().signInWithPopup(t).then(function(t) {
                t.credential.accessToken;
                var n = t.user;
                e(null, [n.displayName, n.uid])
            }).catch(function(e) {
                e.code;
                var t = e.message;
                e.email,
                e.credential;
                console.log(t)
            })
        }),
        $("#fireLogTwitter").click(function() {
            var t = new firebase.auth.TwitterAuthProvider;
            firebase.auth().signInWithPopup(t).then(function(t) {
                t.credential.accessToken;
                var n = t.user;
                e(null, [n.displayName, n.uid])
            }).catch(function(e) {
                e.code;
                var t = e.message;
                e.email,
                e.credential;
                console.log(t)
            })
        }),
        $("#fireLogFb").click(function() {
            var t = new firebase.auth.FacebookAuthProvider;
            firebase.auth().signInWithPopup(t).then(function(t) {
                t.credential.accessToken;
                var n = t.user;
                e(null, [n.displayName, n.uid])
            }).catch(function(e) {
                e.code;
                var t = e.message;
                e.email,
                e.credential;
                console.log(t)
            })
        }),
        $("#jsersBlogin").click(function() {
            var t = $("#jsersname").val()
              , n = $("#jserspwd").val();
            r = $("#jsersperm").prop("checked") ? localStorage : sessionStorage,
            k(t, function(i, a) {
                i ? e(i, u.E.baduser) : v(a, t, n, a, function(o, c) {
                    a == c || i ? (l(r, t, n, a),
                    e(o, [t, n, a])) : e(!0, u.E.badpwd)
                })
            })
        }),
        $("#jsersBTregister").click(function() {
            widgetRegister(e)
        })
    }
      , s = function(e) {
        if (n.html(""),
        n.removeClass(),
        n.append("<legend id=jserlogged>Logged as " + i[0] + "</legend>"),
        n.append("<button id=jsersBlogout>Logout</button>"),
        firebase && firebase.auth().currentUser) {
            var t = firebase.auth().currentUser.providerData.map(function(e) {
                return e.providerId
            });
            t.length > 1 && n.append("<h4>Unlink from this account</h4>"),
            t.indexOf("github.com") >= 0 && n.append("<button id=unlkgit>Unlink Github</button>"),
            t.indexOf("google.com") >= 0 && n.append("<button id=unlkgoogle>Unlink Google</button>"),
            t.indexOf("twitter.com") >= 0 && n.append("<button id=unlktwitter>Unlink Twitter</button>"),
            t.indexOf("facebook.com") >= 0 && n.append("<button id=unlkfb>Unlink Facebook</button>"),
            t.length < 4 && n.append("<h4>Link new provider</h4>"),
            t.indexOf("github.com") < 0 && n.append("<button id=lkgit>Link Github</button>"),
            t.indexOf("google.com") < 0 && n.append("<button id=lkgoogle>Link Google</button>"),
            t.indexOf("twitter.com") < 0 && n.append("<button id=lktwitter>Link Twitter</button>"),
            t.indexOf("facebook.com") < 0 && n.append("<button id=lkfb>Link Facebook</button>"),
            t.indexOf("github.com") >= 0 && n.append("<button id=gittoken>Save GitHub token</button>")
        }
        n.addClass("jserslogged"),
        $("#gittoken").click(function() {
            var e = prompt("Enter your GitHub user name")
              , t = prompt("Enter your GitHub token")
              , n = {};
            n["/tokens/" + firebase.auth().currentUser.uid] = e + ":" + t,
            firebase.database().ref().update(n)
        }),
        $("#unlkgit").click(function() {
            firebase.auth().currentUser.unlink("github.com").then(function() {
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#unlkgoogle").click(function() {
            firebase.auth().currentUser.unlink("google.com").then(function() {
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#unlktwitter").click(function() {
            firebase.auth().currentUser.unlink("twitter.com").then(function() {
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#unlkfb").click(function() {
            firebase.auth().currentUser.unlink("facebook.com").then(function() {
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#lkgit").click(function() {
            var t = new firebase.auth.GithubAuthProvider;
            firebase.auth().currentUser.linkWithPopup(t).then(function(t) {
                t.credential,
                t.user;
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#lkgoogle").click(function() {
            var t = new firebase.auth.GoogleAuthProvider;
            firebase.auth().currentUser.linkWithPopup(t).then(function(t) {
                t.credential,
                t.user;
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#lktwitter").click(function() {
            var t = new firebase.auth.TwitterAuthProvider;
            firebase.auth().currentUser.linkWithPopup(t).then(function(t) {
                t.credential,
                t.user;
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#lkfb").click(function() {
            var t = new firebase.auth.FacebookAuthProvider;
            firebase.auth().currentUser.linkWithPopup(t).then(function(t) {
                t.credential,
                t.user;
                s(e)
            }).catch(function(e) {
                UI_alert(e)
            })
        }),
        $("#jsersBlogout").click(function() {
            localStorage["***credentials"] = null,
            sessionStorage["***credentials"] = null,
            firebase && firebase.auth().currentUser && firebase.auth().signOut(),
            e()
        })
    }
      , l = function(e, t, n, i) {
        var r = {
            u: t,
            t: i
        }
          , a = CryptoJS.SHA1("$" + t + "$$" + i).toString();
        r.encpwd = CryptoJS.AES.encrypt(n, a).toString(),
        e["***credentials"] = JSON.stringify(r)
    }
      , f = function(e) {
        if (firebase) {
            var t = firebase.auth().currentUser;
            if (t)
                return [t.displayName, t.uid]
        }
        if (!e["***credentials"])
            return !1;
        var n = JSON.parse(e["***credentials"]);
        if (!n)
            return !1;
        var i = CryptoJS.SHA1("$" + n.u + "$$" + n.t).toString()
          , r = CryptoJS.AES.decrypt(n.encpwd, i).toString(CryptoJS.enc.Utf8);
        return [n.u, r]
    }
      , d = function(e, t) {
        e ? alert(t) : (i = f(r),
        s(b),
        a && a())
    }
      , p = function() {
        var e = f(r);
        return e || (e = f(localStorage)) && (sessionStorage["***credentials"] = localStorage["***credentials"]),
        e
    }
      , g = function() {
        return (i = p()) ? (a && a(),
        !0) : (o && o(),
        !1)
    }
      , b = function() {
        alert("Logged out"),
        c(d),
        o && o()
    }
      , h = function(e, t, n) {
        return $.ajax({
            type: "POST",
            url: e,
            data: t,
            success: n,
            fail: function(e) {
                console.log(e)
            },
            xhrFields: {
                withCredentials: !0
            }
        })
    }
      , k = function(e, n) {
        var i = h(t + "/backend.php", {
            m: "getToken",
            u: e
        }, function(e, t, i) {
            n(!1, e)
        }).fail(function() {
            n(!0, i.responseText)
        })
    }
      , v = function(e, n, i, r, a) {
        var o = CryptoJS.SHA1(i + n).toString()
          , u = CryptoJS.SHA1("$$" + e + "$" + n + "$$" + o + "$" + r).toString()
          , c = h(t, {
            m: "test",
            u: n,
            p: u,
            t: e,
            d: r
        }, function(e) {
            a(!1, e)
        }).fail(function() {
            a(!0, c.responseText)
        })
    };
    e.JSERS = {
        init: function(e, i, r, u) {
            return JST && JST.init(e),
            t = e + "/backend.php",
            a = r,
            o = u,
            firebase && firebase.auth().onAuthStateChanged(function(e) {
                e && (r(null, [e.displayName, e.uid]),
                d(),
                s(b))
            }),
            n = $(i),
            g() ? s(b) : c(d),
            !0
        },
        signPayload: function(e, t, n) {
            JST.user.signPayload(i[0], i[1], e, t, n)
        },
        fileSave: function(e, t, n) {
            var i = p()[1]
              , r = i + "-" + e.replace(".workspace", "");
            firebase.storage().ref().child(r).putString(t).then(function(t) {
                var a = {};
                a["/user/" + i + "/" + e.replace(".workspace", "")] = r,
                firebase.database().ref().update(a),
                n(null, "")
            })
        },
        fileSavePrivate: function(e, t, n) {
            JST.file.savePrivate(i[0], i[1], e, t, n)
        },
        fileLoad: function(e, t) {
            if (firebase && firebase.auth().currentUser) {
                var n = firebase.auth().currentUser.uid + "-" + e.replace(".workspace", "");
                firebase.storage().ref().child(n).getDownloadURL().then(function(e) {
                    var n = new XMLHttpRequest;
                    n.onload = function(e) {
                        var i = n.response;
                        t(!1, i)
                    }
                    ,
                    n.open("GET", e),
                    n.send()
                }).catch(function(e) {
                    t(!0, e)
                })
            } else
                JST.file.load(i[0], e, t)
        },
        fileDelete: function(e, t) {
            if (firebase && firebase.auth().currentUser) {
                var n = firebase.auth().currentUser.uid
                  , r = n + "-" + e.replace(".workspace", "");
                firebase.storage().ref().child(r).delete().then(function() {
                    var i = {};
                    i["/user/" + n + "/" + e.replace(".workspace", "")] = null,
                    firebase.database().ref().update(i),
                    t(null, "")
                })
            } else
                JST.file.load(i[0], e, t)
        },
        fileLoadPrivate: function(e, t) {
            JST.file.loadPrivate(i[0], i[1], e, t)
        },
        isLoggedIn: function() {
            var e = p();
            return e ? e[0] : null
        }
    }
}(window);
!function(n) {
    function t(e, n) {
        for (var t = e.toString(16); t.length < n; )
            t = "0" + t;
        return t.toUpperCase()
    }
    function m(e) {
        return t(255 & e, 2)
    }
    function a(e) {
        return t(15 & e, 1)
    }
    function r(e) {
        return t(e, 4)
    }
    function s(e) {
        if (":" == e[0]) {
            var n = parseInt(e[1] + e[2], 16)
              , t = parseInt(e[3] + e[4] + e[5] + e[6], 16);
            if (0 == parseInt(e[7] + e[8], 16))
                for (i = 0; i < n; i++)
                    b[t + i] = parseInt(e[9 + 2 * i] + e[10 + 2 * i], 16)
        }
    }
    function d(e) {
        var n = ""
          , t = 1
          , a = BRK.getBRK();
        for (i = 0; i < a.length; i++)
            n += t + ". PC=$" + r(a[i]) + " [<a href='#' onclick='DBG.killbrk(" + a[i] + ")'>X</a>]<br>",
            t++;
        for (a = BRK.getMRD(),
        i = 0; i < a.length; i++)
            n += t + ". READ($" + r(a[i]) + ") [<a href='#' onclick='DBG.killmrd(" + a[i] + ")'>X</a>]<br>",
            t++;
        for (a = BRK.getMWR(),
        i = 0; i < a.length; i++)
            n += t + ". WRITE($" + r(a[i]) + ") [<a href='#' onclick='DBG.killmwr(" + a[i] + ")'>X</a>]<br>",
            t++;
        for (var s in a = BRK.getWatch())
            n += t + ". ($" + r(parseInt(s)) + ")=$" + m(a[s]) + " [<a href='#' onclick='DBG.killwatch(" + s + ")'>X</a>]<br>",
            t++;
        $(R + " #breaklist").html(n)
    }
    function p(e) {
        var n, t, i, a, s, m;
        return BRK.mig(!0),
        s = y ? (n = y.memr(e),
        t = y.memr(e + 1),
        i = y.memr(e + 2),
        a = y.memr(e + 3),
        y.memr(e + 4)) : (n = b[e] || 0,
        t = b[e + 1 & 65535] || 0,
        i = b[e + 2 & 65535] || 0,
        a = b[e + 3 & 65535] || 0,
        b[e + 4 & 65535] || 0),
        BRK.mig(!1),
        "undefined" != typeof CPU6502 && y === CPU6502 && (m = CPU6502.disasm(n, t, i, e)),
        "undefined" != typeof CPU6800 && y === CPU6800 && (m = CPU6800.disasm(n, t, i, e)),
        "undefined" != typeof CPU1802 && y === CPU1802 && (m = CPU1802.disasm(n, t, i, e)),
        "undefined" != typeof CPU6809 && y === CPU6809 && (m = CPU6809.disasm(n, t, i, a, s, e)),
        "undefined" != typeof CPU8080 && y === CPU8080 && (m = CPUD8080.disasm(n, t, i)),
        "undefined" != typeof CPU8008 && y === CPU8008 && (m = CPU8008.disasm(n, t, i)),
        "undefined" != typeof CPUZ80 && y === CPUZ80 && "undefined" != typeof CPUDZ80 && (m = CPUDZ80.disasm(n, t, i, a, s, e)),
        m
    }
    function l(e) {
        var n = e || 1;
        y.set("PC", parseInt($(R + " #emPC").val(), 16)),
        y.set("SP", parseInt($(R + " #emSP").val(), 16)),
        "undefined" != typeof CPU6502 && y === CPU6502 && (y.set("A", parseInt($(R + " #em65A").val(), 16)),
        y.set("X", parseInt($(R + " #em65X").val(), 16)),
        y.set("Y", parseInt($(R + " #em65Y").val(), 16))),
        "undefined" != typeof CPU6800 && y === CPU6800 && (y.set("A", parseInt($(R + " #em6800A").val(), 16)),
        y.set("B", parseInt($(R + " #em6800B").val(), 16)),
        y.set("X", parseInt($(R + " #em6800X").val(), 16))),
        "undefined" != typeof CPU1802 && y === CPU1802 && (y.set("D", parseInt($(R + " #em1802D").val(), 16)),
        y.set("P", parseInt($(R + " #em1802P").val(), 16)),
        y.set("X", parseInt($(R + " #em1802X").val(), 16)),
        y.set("Q", parseInt($(R + " #em1802Q").val(), 16)),
        y.set("EF1", parseInt($(R + " #em1802EF1").val(), 16)),
        y.set("EF2", parseInt($(R + " #em1802EF2").val(), 16)),
        y.set("EF3", parseInt($(R + " #em1802EF3").val(), 16)),
        y.set("EF4", parseInt($(R + " #em1802EF4").val(), 16)),
        y.set("R0", parseInt($(R + " #em1802R0").val(), 16)),
        y.set("R1", parseInt($(R + " #em1802R1").val(), 16)),
        y.set("R2", parseInt($(R + " #em1802R2").val(), 16)),
        y.set("R3", parseInt($(R + " #em1802R3").val(), 16)),
        y.set("R4", parseInt($(R + " #em1802R4").val(), 16)),
        y.set("R5", parseInt($(R + " #em1802R5").val(), 16)),
        y.set("R6", parseInt($(R + " #em1802R6").val(), 16)),
        y.set("R7", parseInt($(R + " #em1802R7").val(), 16)),
        y.set("R8", parseInt($(R + " #em1802R8").val(), 16)),
        y.set("R9", parseInt($(R + " #em1802R9").val(), 16)),
        y.set("RA", parseInt($(R + " #em1802RA").val(), 16)),
        y.set("RB", parseInt($(R + " #em1802RB").val(), 16)),
        y.set("RC", parseInt($(R + " #em1802RC").val(), 16)),
        y.set("RD", parseInt($(R + " #em1802RD").val(), 16)),
        y.set("RE", parseInt($(R + " #em1802RE").val(), 16)),
        y.set("RF", parseInt($(R + " #em1802RF").val(), 16))),
        "undefined" != typeof CPU6809 && y === CPU6809 && (y.set("A", parseInt($(R + " #em6809A").val(), 16)),
        y.set("B", parseInt($(R + " #em6809B").val(), 16)),
        y.set("X", parseInt($(R + " #em6809X").val(), 16)),
        y.set("Y", parseInt($(R + " #em6809Y").val(), 16)),
        y.set("U", parseInt($(R + " #em6809U").val(), 16)),
        y.set("DP", parseInt($(R + " #em6809DP").val(), 16))),
        "undefined" != typeof CPU8080 && y === CPU8080 && (y.set("A", parseInt($(R + " #emI80A").val(), 16)),
        y.set("F", parseInt($(R + " #emI80F").val(), 16)),
        y.set("B", parseInt($(R + " #emI80B").val(), 16)),
        y.set("C", parseInt($(R + " #emI80C").val(), 16)),
        y.set("D", parseInt($(R + " #emI80D").val(), 16)),
        y.set("E", parseInt($(R + " #emI80E").val(), 16)),
        y.set("H", parseInt($(R + " #emI80H").val(), 16)),
        y.set("L", parseInt($(R + " #emI80L").val(), 16))),
        "undefined" != typeof CPU8008 && y === CPU8008 && (y.set("A", parseInt($(R + " #emI08A").val(), 16)),
        y.set("F", parseInt($(R + " #emI08F").val(), 16)),
        y.set("B", parseInt($(R + " #emI08B").val(), 16)),
        y.set("C", parseInt($(R + " #emI08C").val(), 16)),
        y.set("D", parseInt($(R + " #emI08D").val(), 16)),
        y.set("E", parseInt($(R + " #emI08E").val(), 16)),
        y.set("H", parseInt($(R + " #emI08H").val(), 16)),
        y.set("L", parseInt($(R + " #emI08L").val(), 16)),
        y.set("SP", JSON.parse($(R + " #emSP").val()))),
        "undefined" != typeof CPUZ80 && y === CPUZ80 && (y.set("AF", parseInt($(R + " #emZ80AF").val(), 16)),
        y.set("BC", parseInt($(R + " #emZ80BC").val(), 16)),
        y.set("DE", parseInt($(R + " #emZ80DE").val(), 16)),
        y.set("HL", parseInt($(R + " #emZ80HL").val(), 16)),
        y.set("IX", parseInt($(R + " #emZ80IX").val(), 16)),
        y.set("AF_", parseInt($(R + " #emZ80AF2").val(), 16)),
        y.set("BC_", parseInt($(R + " #emZ80BC2").val(), 16)),
        y.set("DE_", parseInt($(R + " #emZ80DE2").val(), 16)),
        y.set("HL_", parseInt($(R + " #emZ80HL2").val(), 16)),
        y.set("IY", parseInt($(R + " #emZ80IY").val(), 16)),
        y.set("I", parseInt($(R + " #emZ80I").val(), 16)),
        y.set("R", parseInt($(R + " #emZ80R").val(), 16)));
        for (var t = 0; t < n; t++) {
            y.steps(1),
            DBG.T = y.T();
            var i = y.status().pc;
            if (BRK.isBreak(i))
                return P(),
                1
        }
        return (!B || U < 100) && P(),
        0
    }
    function u(e) {
        $(e).html('<div id="dbgpanel1"><h2 class="infoText">Memoria</h2><div id="memdump"><div id="memory"></div><br><hr><h2 class="infoText">Limpiar o rellenar</h2><input id="memfillfrom" style="width:3em" value="0000">-<input id="memfillto" style="width:3em" value="0000"> <h5 class="infoTextA">con</h5><input id="memfillval" style="width:2em" value="00"><button style="padding:0" id="memfillgo">Aplicar</button><br><hr><h2 class="infoText">Buscar</h2><input id="newmem" style="width:3em"><button id="newmemgo">Dirigir</button><br><hr></div><h2 class="infoText">Registros</h2><div class="emreg"><a data-val="emPC">PC</a>: <input id="emPC"> <span id="disasm"></span><br><a data-val="emSP">SP</a>: <input id="emSP"><div id="em6502" class="spregs">&nbsp;A: <input id="em65A"><br>&nbsp;X: <input id="em65X"><br>&nbsp;Y: <input id="em65Y"><br></div><div id="em6800" class="spregs">&nbsp;A: <input id="em6800A"><br>&nbsp;B: <input id="em6800B"><br>&nbsp;X: <input id="em6800X"><br></div><div id="em6809" class="spregs">&nbsp;A: <input id="em6809A"><br>&nbsp;B: <input id="em6809B"><br>&nbsp;X: <input id="em6809X"><br>&nbsp;Y: <input id="em6809Y"><br>&nbsp;DP: <input id="em6809DP"><br>&nbsp;U: <input id="em6809U"><br></div><div id="em1802" class="spregs">&nbsp;D: <input id="em1802D"><br>&nbsp;P: <input id="em1802P" style="width:10px">&nbsp;&nbsp;X: <input id="em1802X" style="width:10px">&nbsp;Q: <input id="em1802Q" style="width:10px"><br>EF1:<input id="em1802EF1" style="width:10px">&nbsp;EF2:<input id="em1802EF2" style="width:10px">&nbsp;EF3:<input id="em1802EF3" style="width:10px">&nbsp;EF4:<input id="em1802EF4" style="width:10px"><br>R0: <input id="em1802R0">&nbsp;R1: <input id="em1802R1"><br>R2: <input id="em1802R2">&nbsp;R3: <input id="em1802R3"><br>R4: <input id="em1802R4">&nbsp;R5: <input id="em1802R5"><br>R6: <input id="em1802R6">&nbsp;R7: <input id="em1802R7"><br>R8: <input id="em1802R8">&nbsp;R9: <input id="em1802R9"><br>RA: <input id="em1802RA">&nbsp;RB: <input id="em1802RB"><br>RC: <input id="em1802RC">&nbsp;RD: <input id="em1802RD"><br>RE: <input id="em1802RE">&nbsp;RF: <input id="em1802RF"><br></div><div id="em8080" class="spregs">&nbsp;A: <input id="emI80A">&nbsp;F: <input id="emI80F"><br>&nbsp;B: <input id="emI80B">&nbsp;C: <input id="emI80C"><br>&nbsp;D: <input id="emI80D">&nbsp;E: <input id="emI80E"><br>&nbsp;H: <input id="emI80H">&nbsp;L: <input id="emI80L"><br></div><div id="em8008" class="spregs">&nbsp;A: <input id="emI08A">&nbsp;F: <input id="emI08F"><br>&nbsp;B: <input id="emI08B">&nbsp;C: <input id="emI08C"><br>&nbsp;D: <input id="emI08D">&nbsp;E: <input id="emI08E"><br>&nbsp;H: <input id="emI08H">&nbsp;L: <input id="emI08L"><br></div><div id="emz80" class="spregs">AF: <input id="emZ80AF">&nbsp;AF\': <input id="emZ80AF2"><br><a data-val="emZ80BC">BC</a>: <input id="emZ80BC">&nbsp;<a data-val="emZ80BC2">BC\'</a>: <input id="emZ80BC2"><br><a data-val="emZ80DE">DE</a>: <input id="emZ80DE">&nbsp;<a data-val="emZ80DE2">DE\'</a>: <input id="emZ80DE2"><br><a data-val="emZ80HL">HL</a>: <input id="emZ80HL">&nbsp;<a data-val="emZ80HL2">HL\'</a>: <input id="emZ80HL2"><br><a data-val="emZ80IX">IX</a>: <input id="emZ80IX">&nbsp;&nbsp;<a data-val="emZ80IY">IY</a>: <input id="emZ80IY"><br>&nbsp;I: <input id="emZ80I">&nbsp;&nbsp; R: <input id="emZ80R"><br></div>&nbsp;F: <span id="emF"></span><br></div><div id="emuaction"><br><button id="emustep1">Ejecuci√≥n paso a paso</button><br><br><button id="animate">Ejecuci√≥n total</button><br><br><button id="anistop">Detener</button></div><br><button id="rst">Reiniciar PC</button></div>'),
        R = e,
        $(R + " #dbgpanel1").show(),
        $(R + " #dbgpanel2").hide(),
        $(R + " #brks").click(function() {
            "none" == $(R + " #dbgpanel2").css("display") ? ($(R + " #dbgpanel2").show(),
            $(R + " #dbgpanel1").hide()) : ($(R + " #dbgpanel1").show(),
            $(R + " #dbgpanel2").hide())
        }),
        $(R + " #memdump").bind("mousewheel", function(e) {
            var n = parseInt($(R + " #newmem").val(), 16);
            0 < e.originalEvent.wheelDelta / 120 ? n -= 32 : n += 32,
            n < 0 && (n = 0),
            65535 < n && (n = 65408),
            $(R + " #newmem").val(r(n)),
            I()
        }),
        $(R + " #newbrkgo").click(function() {
            var e = parseInt($(R + " #newbrk").val(), 16);
            isNaN(e) || (BRK.addBRK(e),
            d())
        }),
        $(R + " #newwgo").click(function() {
            var e = parseInt($(R + " #newwad").val(), 16)
              , n = parseInt($(R + " #newwda").val(), 16);
            isNaN(e) || isNaN(n) || (BRK.addWatch(e, n),
            d())
        }),
        $(R + " #newmrdgo").click(function() {
            var e = parseInt($(R + " #newmrd").val(), 16);
            isNaN(e) || (BRK.addMRD(e),
            d())
        }),
        $(R + " #newmwrgo").click(function() {
            var e = parseInt($(R + " #newmwr").val(), 16);
            isNaN(e) || (BRK.addMWR(e),
            d())
        }),
        $(R + " #emPC").change(function() {
            var e = parseInt($(R + " #emPC").val(), 16)
              , n = p(e);
            $(R + " #disasm").html(n[0])
        }),
        $(R + " #newmemgo").click(I),
        $(R + " #newmem").on("keydown", function(e) {
            "Enter" === e.key && I()
        }),
        $(R + " a[data-val]").click(function() {
            var e = $(this).attr("data-val");
            $(R + " #newmem").val($(R + " #" + e).val()),
            I()
        }),
        $(R + " #memfillgo").click(function() {
            !function(e, n, t) {
                var i;
                n < e && (i = e,
                e = n,
                n = i);
                for (var a = e; a <= n; a++)
                    b[a] = t;
                I()
            }(parseInt($(R + " #memfillfrom").val(), 16), parseInt($(R + " #memfillto").val(), 16), parseInt($(R + " #memfillval").val(), 16))
        }),
        $(R + " #entn").click(function() {
            var e = parseInt($(R + " #entmem").val(), 16)
              , n = prompt("Enter values (comma separated list) which you wish to store at addr 0x" + $(R + " #entmem").val() + ". Decimals are simple, hexadecimals starts with 0x");
            if (n) {
                for (var t = n.split(","), i = 0; i < t.length; i++)
                    b[e + i] = parseInt(t[i]);
                P(),
                I()
            }
        }),
        $(R + " #ents").click(function() {
            var e = parseInt($(R + " #entmem").val(), 16)
              , n = prompt("Enter string you wish to store at addr 0x" + $(R + " #entmem").val() + ".");
            if (n) {
                for (var t = 0; t < n.length; t++)
                    b[e + t] = n.charCodeAt(t);
                P(),
                I()
            }
        }),
        $(R + " #emustep1").click(function() {
            l(1)
        }),
        $(R + " #irq").click(function() {
            y.interrupt && (y.interrupt(),
            P())
        }),
        $(R + " #rst").click(function() {
            y.reset && (y.reset(),
            P())
        }),
        $(R + " #nmi").click(function() {
            y.nmi && (y.nmi(),
            P())
        }),
        $(R + " #emustep50").click(function() {
            l(50)
        }),
        $(R + " #emustepover").click(function() {
            var e = y.status().pc
              , n = p(e);
            BRK.setQBRK(e + n[1]),
            B = !0,
            U = 1e5,
            setTimeout(w, 50)
        }),
        $(R + " #animate").click(function() {
            B && U < 1e4 ? U *= 10 : (B = !0,
            U = 1,
            setTimeout(w, 50))
        }),
        $(R + " #run").click(function() {
            B = !0,
            U = 1e6,
            setTimeout(w, 50)
        }),
        $(R + " #anistop").click(function() {
            h = !0
        }),
        I()
    }
    function o(e, n) {
        BRK.memwr(e),
        b[e] = 255 & n
    }
    function v(e) {
        return BRK.memrd(e),
        b[e] || 0
    }
    function f(e, n) {}
    function c(e) {
        return 255
    }
    var b = []
      , R = null
      , I = function(e) {
        DBG.MEMDUMP = parseInt($(R + " #newmem").val(), 16);
        var n = ""
          , t = 65528 & DBG.MEMDUMP;
        BRK.mig(!0);
        for (var i = 0; i < 16; i++) {
            n += r(t);
            for (var a = 0; a < 4; a++)
                n += y ? ' <span class="ermem" data-addr="' + (t + a) + '">' + m(y.memr(t + a)) + "</span>" : " " + m(b[t + a]);
            n += "|";
            for (a = 4; a < 8; a++)
                n += y ? ' <span class="ermem" data-addr="' + (t + a) + '">' + m(y.memr(t + a)) + "</span>" : " " + m(b[t + a]);
            n += "<br>",
            t += 8,
            t &= 65535
        }
        BRK.mig(!1),
        $(R + " #memory").html(n),
        $(R + " #newmem").val(r(DBG.MEMDUMP)),
        $(R + " span.ermem").on("click", function(e) {
            var n = +$(this).attr("data-addr")
              , t = prompt("Agrega un valor en la direcci√≥n 0x" + r(n) + " (forma hexadecimal)", m(b[n]));
            t && (b[n] = parseInt(t, 16),
            P(),
            I())
        })
    }
      , C = null
      , P = function(e) {
        var n, t = y.status();
        $(R + " #emPC").val(r(t.pc)),
        $(R + " #emT").html(DBG.T),
        $(R + " #emF").html(y.flagsToString()),
        n = p(t.pc),
        "undefined" != typeof CPU6502 && y === CPU6502 && ($(R + " #emSP").val(m(t.sp)),
        $(R + " #em65A").val(m(t.a)),
        $(R + " #em65X").val(m(t.x)),
        $(R + " #em65Y").val(m(t.y)),
        $("#disasm").html(n[0])),
        "undefined" != typeof CPU6800 && y === CPU6800 && ($(R + " #emSP").val(r(t.sp)),
        $(R + " #em6800A").val(m(t.a)),
        $(R + " #em6800B").val(m(t.b)),
        $(R + " #em6800X").val(r(t.x)),
        $("#disasm").html(n[0])),
        "undefined" != typeof CPU1802 && y === CPU1802 && ($(R + " #emSP").val(r(t.sp)),
        $(R + " #em1802D").val(m(t.d)),
        $(R + " #em1802P").val(a(t.p)),
        $(R + " #em1802X").val(a(t.x)),
        $(R + " #em1802R0").val(r(t.r0)),
        $(R + " #em1802R1").val(r(t.r1)),
        $(R + " #em1802R2").val(r(t.r2)),
        $(R + " #em1802R3").val(r(t.r3)),
        $(R + " #em1802R4").val(r(t.r4)),
        $(R + " #em1802R5").val(r(t.r5)),
        $(R + " #em1802R6").val(r(t.r6)),
        $(R + " #em1802R7").val(r(t.r7)),
        $(R + " #em1802R8").val(r(t.r8)),
        $(R + " #em1802R9").val(r(t.r9)),
        $(R + " #em1802RA").val(r(t.ra)),
        $(R + " #em1802RB").val(r(t.rb)),
        $(R + " #em1802RC").val(r(t.rc)),
        $(R + " #em1802RD").val(r(t.rd)),
        $(R + " #em1802RE").val(r(t.re)),
        $(R + " #em1802RF").val(r(t.rf)),
        $(R + " #em1802EF1").val(a(t.ef1)),
        $(R + " #em1802EF2").val(a(t.ef2)),
        $(R + " #em1802EF3").val(a(t.ef3)),
        $(R + " #em1802EF4").val(a(t.ef4)),
        $(R + " #em1802Q").val(a(t.q)),
        $("#disasm").html(n[0])),
        "undefined" != typeof CPU6809 && y === CPU6809 && ($(R + " #emSP").val(r(t.sp)),
        $(R + " #em6809A").val(m(t.a)),
        $(R + " #em6809B").val(m(t.b)),
        $(R + " #em6809X").val(r(t.x)),
        $(R + " #em6809Y").val(r(t.y)),
        $(R + " #em6809U").val(r(t.u)),
        $(R + " #em6809DP").val(m(t.dp)),
        $("#disasm").html(n[0])),
        "undefined" != typeof CPU8080 && y === CPU8080 && ($(R + " #emSP").val(r(t.sp)),
        $(R + " #emI80A").val(m(t.a)),
        $(R + " #emI80F").val(m(t.f)),
        $(R + " #emI80B").val(m(t.b)),
        $(R + " #emI80C").val(m(t.c)),
        $(R + " #emI80D").val(m(t.d)),
        $(R + " #emI80E").val(m(t.e)),
        $(R + " #emI80H").val(m(t.h)),
        $(R + " #emI80L").val(m(t.l)),
        "undefined" != typeof CPUD8080 && $("#disasm").html(n[0])),
        "undefined" != typeof CPU8008 && y === CPU8008 && ($(R + " #emSP").val(JSON.stringify(t.sp)),
        $(R + " #emI08A").val(m(t.a)),
        $(R + " #emI08F").val(m(t.f)),
        $(R + " #emI08B").val(m(t.b)),
        $(R + " #emI08C").val(m(t.c)),
        $(R + " #emI08D").val(m(t.d)),
        $(R + " #emI08E").val(m(t.e)),
        $(R + " #emI08H").val(m(t.h)),
        $(R + " #emI08L").val(m(t.l)),
        $("#disasm").html(n[0])),
        "undefined" != typeof CPUZ80 && y === CPUZ80 && ($(R + " #emSP").val(r(t.sp)),
        $(R + " #emZ80AF").val(r(t.af)),
        $(R + " #emZ80BC").val(r(t.bc)),
        $(R + " #emZ80DE").val(r(t.de)),
        $(R + " #emZ80HL").val(r(t.hl)),
        $(R + " #emZ80IX").val(r(t.ix)),
        $(R + " #emZ80IY").val(r(t.iy)),
        $(R + " #emZ80I").val(m(t.i)),
        $(R + " #emZ80R").val(m(t.r)),
        $(R + " #emZ80AF2").val(r(t.af_)),
        $(R + " #emZ80BC2").val(r(t.bc_)),
        $(R + " #emZ80DE2").val(r(t.de_)),
        $(R + " #emZ80HL2").val(r(t.hl_)),
        "undefined" != typeof CPUDZ80 && $("#disasm").html(n[0])),
        C && C(t),
        y.interrupt || $(R + " #irq").hide(),
        y.reset || $(R + " #rst").hide(),
        y.nmi || $(R + " #nmi").hide(),
        I(),
        d()
    }
      , h = !1
      , B = !1
      , U = 1
      , w = function() {
        if ($("#anispeed").html(U),
        h)
            return h = B = !1,
            void P();
        l(U) ? B = !1 : setTimeout(w, 50)
    }
      , y = null;
    n.DBG = {
        init: function(i, e) {
            C = e,
            BRK.init(),
            u(i),
            $(n).keydown(function(e) {
                switch (e.keyCode) {
                case 119:
                    if ("none" == $(i).css("display"))
                        return;
                    return l(),
                    !1;
                case 118:
                    if ("none" == $(i).css("display"))
                        return;
                    var n = y.status().pc
                      , t = p(n);
                    return BRK.setQBRK(n + t[1]),
                    B = !0,
                    U = 1e5,
                    setTimeout(w, 50),
                    !1
                }
            })
        },
        redraw: function() {
            P()
        },
        setBRK: function(e) {
            BRK.setBRK(e)
        },
        clrBRK: function() {
            BRK.clrBRK()
        },
        addBRK: function(e) {
            BRK.addBRK(e),
            d()
        },
        remBRK: function(e) {
            BRK.remBRK(e),
            d()
        },
        killbrk: function(e) {
            BRK.remBRK(e),
            d()
        },
        killmrd: function(e) {
            BRK.remMRD(e),
            d()
        },
        killmwr: function(e) {
            BRK.remMWR(e),
            d()
        },
        killwatch: function(e) {
            BRK.remWatch(e),
            d()
        },
        bindEMU: function(e) {
            localEMU = e,
            y = e.CPU,
            b = e.RAM(),
            $(R + " .spregs").hide(),
            "undefined" != typeof CPU8080 && y === CPU8080 && $(R + " #em8080").show(),
            "undefined" != typeof CPU8008 && y === CPU8008 && $(R + " #em8008").show(),
            "undefined" != typeof CPUZ80 && y === CPUZ80 && $(R + " #emz80").show(),
            "undefined" != typeof CPU6502 && y === CPU6502 && $(R + " #em6502").show(),
            "undefined" != typeof CPU6800 && y === CPU6800 && $(R + " #em6800").show(),
            "undefined" != typeof CPU1802 && y === CPU1802 && $(R + " #em1802").show(),
            "undefined" != typeof CPU6809 && y === CPU6809 && $(R + " #em6809").show(),
            P()
        },
        stop: function(e) {
            h = !0
        },
        reset: function(e) {
            b = [],
            (y = e).init(o, v, null, f, c),
            $(R + " .spregs").hide(),
            "undefined" != typeof CPU8080 && e === CPU8080 && $(R + " #em8080").show(),
            "undefined" != typeof CPU8008 && e === CPU8008 && $(R + " #em8008").show(),
            "undefined" != typeof CPUZ80 && e === CPUZ80 && $(R + " #emz80").show(),
            "undefined" != typeof CPU6502 && e === CPU6502 && $(R + " #em6502").show(),
            "undefined" != typeof CPU6800 && y === CPU6800 && $(R + " #em6800").show(),
            "undefined" != typeof CPU1802 && y === CPU1802 && $(R + " #em1802").show(),
            "undefined" != typeof CPU6809 && y === CPU6809 && $(R + " #em6809").show()
        },
        readHex: function(e) {
            for (var n = e.split(/\n/), t = 0; t < n.length; t++)
                s(n[t])
        },
        RAM: function() {
            return b
        },
        T: 0,
        CPUset: function(e, n) {
            y.set(e, n)
        },
        MEMDUMP: 0
    }
}(window),
function(e) {
    var a = []
      , s = {}
      , m = []
      , r = []
      , d = null
      , p = []
      , l = []
      , n = !1;
    e.BRK = {
        init: function() {
            a = [],
            s = {},
            m = [],
            r = [],
            d = null
        },
        setBRK: function(e) {
            a = e
        },
        clrBRK: function() {
            a = []
        },
        getBRK: function() {
            return a
        },
        addBRK: function(n) {
            (a = a.filter(function(e) {
                return e != n
            })).push(n)
        },
        remBRK: function(n) {
            a = a.filter(function(e) {
                return e != n
            })
        },
        setQBRK: function(e) {
            d = e
        },
        clrQBRK: function() {
            d = pc
        },
        addWatch: function(e, n) {
            s[e] = n
        },
        remWatch: function(e) {
            delete s[e]
        },
        getWatch: function() {
            return s
        },
        addMRD: function(n) {
            (m = m.filter(function(e) {
                return e != n
            })).push(n)
        },
        remMRD: function(n) {
            m = m.filter(function(e) {
                return e != n
            })
        },
        getMRD: function() {
            return m
        },
        addMWR: function(n) {
            (r = r.filter(function(e) {
                return e != n
            })).push(n)
        },
        remMWR: function(n) {
            r = r.filter(function(e) {
                return e != n
            })
        },
        getMWR: function() {
            return r
        },
        memrd: function(e) {
            n || p.push(e)
        },
        memwr: function(e) {
            n || l.push(e)
        },
        mig: function(e) {
            n = e
        },
        isBreak: function(e) {
            if (d && e === d)
                return !(d = null);
            for (var n = 0; n < a.length; n++)
                if (e === a[n])
                    return !0;
            for (; p.length; ) {
                for (n = 0; n < m.length; n++)
                    if (p[0] == m[n])
                        return p = [],
                        !0;
                p.shift()
            }
            for (; l.length; ) {
                for (n = 0; n < r.length; n++)
                    if (l[0] == r[n])
                        return l = [],
                        !0;
                l.shift()
            }
            var t = DBG.RAM();
            for (var i in s)
                if (t[i] == s[i])
                    return !0;
            return !1
        }
    }
}(window);
!function(s) {
    var t = [["NOP", 1], ["LXI B,#1", 3], ["STAX B", 1], ["INX B", 1], ["INR B", 1], ["DCR B", 1], ["MVI B, %1", 2], ["RLC", 1], ["-", 0], ["DAD B", 1], ["LDAX B", 1], ["DCX B", 1], ["INR C", 1], ["DCR C", 1], ["MVI C,%1", 2], ["RRC", 1], ["-", 0], ["LXI D,#1", 3], ["STAX D", 1], ["INX D", 1], ["INR D", 1], ["DCR D", 1], ["MVI D, %1", 2], ["RAL", 1], ["-", 0], ["DAD D", 1], ["LDAX D", 1], ["DCX D", 1], ["INR E", 1], ["DCR E", 1], ["MVI E,%1", 2], ["RAR", 1], ["RIM", 1], ["LXI H,#1", 3], ["SHLD #1", 3], ["INX H", 1], ["INR H", 1], ["DCR H", 1], ["MVI H,%1", 2], ["DAA", 1], ["-", 0], ["DAD H", 1], ["LHLD #1", 3], ["DCX H", 1], ["INR L", 1], ["DCR L", 1], ["MVI L, %1", 2], ["CMA", 1], ["SIM", 1], ["LXI SP, #1", 3], ["STA #1", 3], ["INX SP", 1], ["INR M", 1], ["DCR M", 1], ["MVI M,%1", 2], ["STC", 1], ["-", 0], ["DAD SP", 1], ["LDA #1", 3], ["DCX SP", 1], ["INR A", 1], ["DCR A", 1], ["MVI A,%1", 2], ["CMC", 1], ["MOV B,B", 1], ["MOV B,C", 1], ["MOV B,D", 1], ["MOV B,E", 1], ["MOV B,H", 1], ["MOV B,L", 1], ["MOV B,M", 1], ["MOV B,A", 1], ["MOV C,B", 1], ["MOV C,C", 1], ["MOV C,D", 1], ["MOV C,E", 1], ["MOV C,H", 1], ["MOV C,L", 1], ["MOV C,M", 1], ["MOV C,A", 1], ["MOV D,B", 1], ["MOV D,C", 1], ["MOV D,D", 1], ["MOV D,E", 1], ["MOV D,H", 1], ["MOV D,L", 1], ["MOV D,M", 1], ["MOV D,A", 1], ["MOV E,B", 1], ["MOV E,C", 1], ["MOV E,D", 1], ["MOV E,E", 1], ["MOV E,H", 1], ["MOV E,L", 1], ["MOV E,M", 1], ["MOV E,A", 1], ["MOV H,B", 1], ["MOV H,C", 1], ["MOV H,D", 1], ["MOV H,E", 1], ["MOV H,H", 1], ["MOV H,L", 1], ["MOV H,M", 1], ["MOV H,A", 1], ["MOV L,B", 1], ["MOV L,C", 1], ["MOV L,D", 1], ["MOV L,E", 1], ["MOV L,H", 1], ["MOV L,L", 1], ["MOV L,M", 1], ["MOV L,A", 1], ["MOV M,B", 1], ["MOV M,C", 1], ["MOV M,D", 1], ["MOV M,E", 1], ["MOV M,H", 1], ["MOV M,L", 1], ["HLT", 1], ["MOV M,A", 1], ["MOV A,B", 1], ["MOV A,C", 1], ["MOV A,D", 1], ["MOV A,E", 1], ["MOV A,H", 1], ["MOV A,L", 1], ["MOV A,M", 1], ["MOV A,A", 1], ["ADD B", 1], ["ADD C", 1], ["ADD D", 1], ["ADD E", 1], ["ADD H", 1], ["ADD L", 1], ["ADD M", 1], ["ADD A", 1], ["ADC B", 1], ["ADC C", 1], ["ADC D", 1], ["ADC E", 1], ["ADC H", 1], ["ADC L", 1], ["ADC M", 1], ["ADC A", 1], ["SUB B", 1], ["SUB C", 1], ["SUB D", 1], ["SUB E", 1], ["SUB H", 1], ["SUB L", 1], ["SUB M", 1], ["SUB A", 1], ["SBB B", 1], ["SBB C", 1], ["SBB D", 1], ["SBB E", 1], ["SBB H", 1], ["SBB L", 1], ["SBB M", 1], ["SBB A", 1], ["ANA B", 1], ["ANA C", 1], ["ANA D", 1], ["ANA E", 1], ["ANA H", 1], ["ANA L", 1], ["ANA M", 1], ["ANA A", 1], ["XRA B", 1], ["XRA C", 1], ["XRA D", 1], ["XRA E", 1], ["XRA H", 1], ["XRA L", 1], ["XRA M", 1], ["XRA A", 1], ["ORA B", 1], ["ORA C", 1], ["ORA D", 1], ["ORA E", 1], ["ORA H", 1], ["ORA L", 1], ["ORA M", 1], ["ORA A", 1], ["CMP B", 1], ["CMP C", 1], ["CMP D", 1], ["CMP E", 1], ["CMP H", 1], ["CMP L", 1], ["CMP M", 1], ["CMP A", 1], ["RNZ", 1], ["POP B", 1], ["JNZ #1", 3], ["JMP #1", 3], ["CNZ #1", 3], ["PUSH B", 1], ["ADI %1", 2], ["RST 0", 1], ["RZ", 1], ["RET", 1], ["JZ #1", 3], ["-", 0], ["CZ #1", 3], ["CALL #1", 3], ["ACI %1", 2], ["RST 1", 1], ["RNC", 1], ["POP D", 1], ["JNC #1", 3], ["OUT %1", 2], ["CNC #1", 3], ["PUSH D", 1], ["SUI %1", 2], ["RST 2", 1], ["RC", 1], ["-", 0], ["JC #1", 3], ["IN %1", 2], ["CC #1", 3], ["-", 0], ["SBI %1", 2], ["RST 3", 1], ["RPO", 1], ["POP H", 1], ["JPO #1", 3], ["XTHL", 1], ["CPO #1", 3], ["PUSH H", 1], ["ANI %1", 2], ["RST 4", 1], ["RPE", 1], ["PCHL", 1], ["JPE #1", 3], ["XCHG", 1], ["CPE #1", 3], ["-", 0], ["XRI %1", 2], ["RST 5", 1], ["RP", 1], ["POP PSW", 1], ["JP #1", 3], ["DI", 1], ["CP #1", 3], ["PUSH PSW", 1], ["ORI %1", 2], ["RST 6", 1], ["RM", 1], ["SPHL", 1], ["JM #1", 3], ["EI", 1], ["CM #1", 3], ["-", 0], ["CPI %1", 2], ["RST 7", 1]]
      , i = function(s, t) {
        for (var i = s.toString(16); i.length < t; )
            i = "0" + i;
        return i.toUpperCase()
    }
      , h = function(s) {
        return i(255 & s, 2)
    };
    s.disasm = function(s, i, e, c, a) {
        var r = t[s]
          , y = r[0]
          , l = h(i);
        y = y.replace("%1", "$" + l);
        var b = h(e) + h(i);
        return y = y.replace("#1", "$" + b),
        [y, r[1]]
    }
}("undefined" == typeof exports ? this.CPUD8080 = {} : exports),
function(s) {
    function t(s, t) {
        for (var i = [], h = 0; h < t - s.length; ++h)
            i.push("0");
        return i.push(s),
        i.join("")
    }
    var i, h, e, c, a, r = [70, 2, 2, 6, 2, 6, 6, 2, 2, 6, 6, 2, 6, 2, 2, 6, 2, 6, 6, 2, 6, 2, 2, 6, 6, 2, 2, 6, 2, 6, 6, 2, 2, 6, 6, 2, 6, 2, 2, 6, 6, 2, 2, 6, 2, 6, 6, 2, 6, 2, 2, 6, 2, 6, 6, 2, 2, 6, 6, 2, 6, 2, 2, 6, 2, 6, 6, 2, 6, 2, 2, 6, 6, 2, 2, 6, 2, 6, 6, 2, 6, 2, 2, 6, 2, 6, 6, 2, 2, 6, 6, 2, 6, 2, 2, 6, 6, 2, 2, 6, 2, 6, 6, 2, 2, 6, 6, 2, 6, 2, 2, 6, 2, 6, 6, 2, 6, 2, 2, 6, 6, 2, 2, 6, 2, 6, 6, 2, 130, 134, 134, 130, 134, 130, 130, 134, 134, 130, 130, 134, 130, 134, 134, 130, 134, 130, 130, 134, 130, 134, 134, 130, 130, 134, 134, 130, 134, 130, 130, 134, 134, 130, 130, 134, 130, 134, 134, 130, 130, 134, 134, 130, 134, 130, 130, 134, 130, 134, 134, 130, 134, 130, 130, 134, 134, 130, 130, 134, 130, 134, 134, 130, 134, 130, 130, 134, 130, 134, 134, 130, 130, 134, 134, 130, 134, 130, 130, 134, 130, 134, 134, 130, 134, 130, 130, 134, 134, 130, 130, 134, 130, 134, 134, 130, 130, 134, 134, 130, 134, 130, 130, 134, 134, 130, 130, 134, 130, 134, 134, 130, 134, 130, 130, 134, 130, 134, 134, 130, 130, 134, 134, 130, 134, 130, 130, 134], y = [70, 258, 514, 774, 1026, 1286, 1542, 1794, 2050, 2310, 4114, 4374, 4630, 4882, 5142, 5394, 4098, 4358, 4614, 4866, 5126, 5378, 5634, 5894, 6150, 6402, 8210, 8470, 8726, 8978, 9238, 9490, 8194, 8454, 8710, 8962, 9222, 9474, 9730, 9990, 10246, 10498, 12310, 12562, 12818, 13078, 13330, 13590, 12294, 12546, 12802, 13062, 13314, 13574, 13830, 14082, 14338, 14598, 16402, 16662, 16918, 17170, 17430, 17682, 16386, 16646, 16902, 17154, 17414, 17666, 17922, 18182, 18438, 18690, 20502, 20754, 21010, 21270, 21522, 21782, 20486, 20738, 20994, 21254, 21506, 21766, 22022, 22274, 22530, 22790, 24598, 24850, 25106, 25366, 25618, 25878, 24582, 24834, 25090, 25350, 25602, 25862, 26118, 26370, 26626, 26886, 28690, 28950, 29206, 29458, 29718, 29970, 28674, 28934, 29190, 29442, 29702, 29954, 30210, 30470, 30726, 30978, 32914, 33174, 33430, 33682, 33942, 34194, 32898, 33158, 33414, 33666, 33926, 34178, 34434, 34694, 34950, 35202, 37014, 37266, 37522, 37782, 38034, 38294, 36998, 37250, 37506, 37766, 38018, 38278, 38534, 38786, 39042, 39302, 65623, 65811, 66067, 66327, 66579, 66839, 65607, 65795, 66051, 66311, 66563, 66823, 67079, 67331, 67587, 67847, 69651, 69911, 70167, 70419, 70679, 70931, 69635, 69895, 70151, 70403, 70663, 70915, 71171, 71431, 71687, 71939, 73747, 74007, 74263, 74515, 74775, 75027, 73731, 73991, 74247, 74499, 74759, 75011, 75267, 75527, 75783, 76035, 77847, 78099, 78355, 78615, 78867, 79127, 77831, 78083, 78339, 78599, 78851, 79111, 79367, 79619, 79875, 80135, 81939, 82199, 82455, 82707, 82967, 83219, 81923, 82183, 82439, 82691, 82951, 83203, 83459, 83719, 83975, 84227, 86039, 86291, 86547, 86807, 87059, 87319, 86023, 86275, 86531, 86791, 87043, 87303, 87559, 87811, 88067, 88327, 90135, 90387, 90643, 90903, 91155, 91415, 24583, 24835, 25091, 25351, 25603, 25863, 26119, 26371, 26627, 26887, 28691, 28951, 29207, 29459, 29719, 29971, 28675, 28935, 29191, 29443, 29703, 29955, 30211, 30471, 30727, 30979, 32915, 33175, 33431, 33683, 33943, 34195, 32899, 33159, 33415, 33667, 33927, 34179, 34435, 34695, 34951, 35203, 37015, 37267, 37523, 37783, 38035, 38295, 36999, 37251, 37507, 37767, 38019, 38279, 38535, 38787, 39043, 39303, 41111, 41363, 41619, 41879, 42131, 42391, 41095, 41347, 41603, 41863, 42115, 42375, 42631, 42883, 43139, 43399, 45203, 45463, 45719, 45971, 46231, 46483, 45187, 45447, 45703, 45955, 46215, 46467, 46723, 46983, 47239, 47491, 49303, 49555, 49811, 50071, 50323, 50583, 49287, 49539, 49795, 50055, 50307, 50567, 50823, 51075, 51331, 51591, 53395, 53655, 53911, 54163, 54423, 54675, 53379, 53639, 53895, 54147, 54407, 54659, 54915, 55175, 55431, 55683, 57491, 57751, 58007, 58259, 58519, 58771, 57475, 57735, 57991, 58243, 58503, 58755, 59011, 59271, 59527, 59779, 61591, 61843, 62099, 62359, 62611, 62871, 61575, 61827, 62083, 62343, 62595, 62855, 63111, 63363, 63619, 63879, 65623, 65811, 66067, 66327, 66579, 66839, 65607, 65795, 66051, 66311, 66563, 66823, 67079, 67331, 67587, 67847, 69651, 69911, 70167, 70419, 70679, 70931, 69635, 69895, 70151, 70403, 70663, 70915, 71171, 71431, 71687, 71939, 73747, 74007, 74263, 74515, 74775, 75027, 73731, 73991, 74247, 74499, 74759, 75011, 75267, 75527, 75783, 76035, 77847, 78099, 78355, 78615, 78867, 79127, 77831, 78083, 78339, 78599, 78851, 79111, 79367, 79619, 79875, 80135, 81939, 82199, 82455, 82707, 82967, 83219, 81923, 82183, 82439, 82691, 82951, 83203, 83459, 83719, 83975, 84227, 86039, 86291, 86547, 86807, 87059, 87319, 86023, 86275, 86531, 86791, 87043, 87303, 87559, 87811, 88067, 88327, 90135, 90387, 90643, 90903, 91155, 91415, 1542, 1794, 2050, 2310, 2566, 2818, 3078, 3330, 3586, 3846, 4114, 4374, 4630, 4882, 5142, 5394, 5634, 5894, 6150, 6402, 6658, 6918, 7170, 7430, 7686, 7938, 8210, 8470, 8726, 8978, 9238, 9490, 9730, 9990, 10246, 10498, 10754, 11014, 11266, 11526, 11782, 12034, 12310, 12562, 12818, 13078, 13330, 13590, 13830, 14082, 14338, 14598, 14854, 15106, 15366, 15618, 15874, 16134, 16402, 16662, 16918, 17170, 17430, 17682, 17922, 18182, 18438, 18690, 18946, 19206, 19458, 19718, 19974, 20226, 20502, 20754, 21010, 21270, 21522, 21782, 22022, 22274, 22530, 22790, 23046, 23298, 23558, 23810, 24066, 24326, 24598, 24850, 25106, 25366, 25618, 25878, 26118, 26370, 26626, 26886, 27142, 27394, 27654, 27906, 28162, 28422, 28690, 28950, 29206, 29458, 29718, 29970, 30210, 30470, 30726, 30978, 31234, 31494, 31746, 32006, 32262, 32514, 32914, 33174, 33430, 33682, 33942, 34194, 34434, 34694, 34950, 35202, 35458, 35718, 35970, 36230, 36486, 36738, 37014, 37266, 37522, 37782, 38034, 38294, 38534, 38786, 39042, 39302, 39558, 39810, 40070, 40322, 40578, 40838, 65623, 65811, 66067, 66327, 66579, 66839, 67079, 67331, 67587, 67847, 68103, 68355, 68615, 68867, 69123, 69383, 69651, 69911, 70167, 70419, 70679, 70931, 71171, 71431, 71687, 71939, 72195, 72455, 72707, 72967, 73223, 73475, 73747, 74007, 74263, 74515, 74775, 75027, 75267, 75527, 75783, 76035, 76291, 76551, 76803, 77063, 77319, 77571, 77847, 78099, 78355, 78615, 78867, 79127, 79367, 79619, 79875, 80135, 80391, 80643, 80903, 81155, 81411, 81671, 81939, 82199, 82455, 82707, 82967, 83219, 83459, 83719, 83975, 84227, 84483, 84743, 84995, 85255, 85511, 85763, 86039, 86291, 86547, 86807, 87059, 87319, 87559, 87811, 88067, 88327, 88583, 88835, 89095, 89347, 89603, 89863, 90135, 90387, 90643, 90903, 91155, 91415, 26119, 26371, 26627, 26887, 27143, 27395, 27655, 27907, 28163, 28423, 28691, 28951, 29207, 29459, 29719, 29971, 30211, 30471, 30727, 30979, 31235, 31495, 31747, 32007, 32263, 32515, 32915, 33175, 33431, 33683, 33943, 34195, 34435, 34695, 34951, 35203, 35459, 35719, 35971, 36231, 36487, 36739, 37015, 37267, 37523, 37783, 38035, 38295, 38535, 38787, 39043, 39303, 39559, 39811, 40071, 40323, 40579, 40839, 41111, 41363, 41619, 41879, 42131, 42391, 42631, 42883, 43139, 43399, 43655, 43907, 44167, 44419, 44675, 44935, 45203, 45463, 45719, 45971, 46231, 46483, 46723, 46983, 47239, 47491, 47747, 48007, 48259, 48519, 48775, 49027, 49303, 49555, 49811, 50071, 50323, 50583, 50823, 51075, 51331, 51591, 51847, 52099, 52359, 52611, 52867, 53127, 53395, 53655, 53911, 54163, 54423, 54675, 54915, 55175, 55431, 55683, 55939, 56199, 56451, 56711, 56967, 57219, 57491, 57751, 58007, 58259, 58519, 58771, 59011, 59271, 59527, 59779, 60035, 60295, 60547, 60807, 61063, 61315, 61591, 61843, 62099, 62359, 62611, 62871, 63111, 63363, 63619, 63879, 64135, 64387, 64647, 64899, 65155, 65415, 65623, 65811, 66067, 66327, 66579, 66839, 67079, 67331, 67587, 67847, 68103, 68355, 68615, 68867, 69123, 69383, 69651, 69911, 70167, 70419, 70679, 70931, 71171, 71431, 71687, 71939, 72195, 72455, 72707, 72967, 73223, 73475, 73747, 74007, 74263, 74515, 74775, 75027, 75267, 75527, 75783, 76035, 76291, 76551, 76803, 77063, 77319, 77571, 77847, 78099, 78355, 78615, 78867, 79127, 79367, 79619, 79875, 80135, 80391, 80643, 80903, 81155, 81411, 81671, 81939, 82199, 82455, 82707, 82967, 83219, 83459, 83719, 83975, 84227, 84483, 84743, 84995, 85255, 85511, 85763, 86039, 86291, 86547, 86807, 87059, 87319, 87559, 87811, 88067, 88327, 88583, 88835, 89095, 89347, 89603, 89863, 90135, 90387, 90643, 90903, 91155, 91415], l = function() {
        this.b = 0,
        this.c = 0,
        this.d = 0,
        this.e = 0,
        this.f = 0,
        this.h = 0,
        this.l = 0,
        this.a = 0,
        this.pc = 0,
        this.inte = 0,
        this.halted = 0,
        this.sp = 61440,
        this.cycles = 0,
        this.ram = []
    };
    l.prototype.af = function() {
        return this.a << 8 | this.f
    }
    ,
    l.prototype.AF = function(s) {
        this.a = s >> 8 & 255,
        this.f = 255 & s
    }
    ,
    l.prototype.bc = function() {
        return (255 & this.b) << 8 | 255 & this.c
    }
    ,
    l.prototype.BC = function(s) {
        this.b = s >> 8 & 255,
        this.c = 255 & s
    }
    ,
    l.prototype.de = function() {
        return this.d << 8 | this.e
    }
    ,
    l.prototype.DE = function(s) {
        this.d = s >> 8 & 255,
        this.e = 255 & s
    }
    ,
    l.prototype.hl = function() {
        return this.h << 8 | this.l
    }
    ,
    l.prototype.HL = function(s) {
        this.h = s >> 8 & 255,
        this.l = 255 & s
    }
    ,
    l.prototype.set = function(s) {
        this.f |= s
    }
    ,
    l.prototype.clear = function(s) {
        this.f &= 255 & ~s
    }
    ,
    l.prototype.toString = function() {
        return "{ af: " + t(this.af().toString(16), 4) + " bc: " + t(this.bc().toString(16), 4) + " de: " + t(this.de().toString(16), 4) + " hl: " + t(this.hl().toString(16), 4) + " pc: " + t(this.pc.toString(16), 4) + " sp: " + t(this.sp.toString(16), 4) + " flags: " + (64 & this.f ? "z" : ".") + (128 & this.f ? "s" : ".") + (4 & this.f ? "p" : ".") + (1 & this.f ? "c" : ".") + "  }"
    }
    ,
    l.prototype.step = function() {
        if (1 === this.halted)
            return this.cycles++,
            1;
        var s = h(this.pc++)
          , t = this.cycles;
        return this.execute(s),
        this.pc &= 65535,
        this.cycles - t
    }
    ,
    l.prototype.writePort = function(s, t) {
        e && e(255 & s, t)
    }
    ,
    l.prototype.readPort = function(s) {
        return c ? c(255 & s) : 255
    }
    ,
    l.prototype.getByte = function(s) {
        return h(65535 & s)
    }
    ,
    l.prototype.getWord = function(s) {
        var t = h(65535 & s);
        return h(s + 1 & 65535) << 8 | t
    }
    ,
    l.prototype.nextByte = function() {
        var s = this.pc
          , t = h(65535 & s);
        return this.pc = s + 1 & 65535,
        t
    }
    ,
    l.prototype.nextWord = function() {
        var s = this.pc
          , t = h(65535 & s)
          , i = h(s + 1 & 65535);
        return this.pc = s + 2 & 65535,
        i << 8 | t
    }
    ,
    l.prototype.writeByte = function(s, t) {
        i(65535 & s, 255 & t)
    }
    ,
    l.prototype.writeWord = function(s, t) {
        var i = t
          , h = t >> 8;
        this.writeByte(65535 & s, i),
        this.writeByte(s + 1 & 65535, h)
    }
    ,
    l.prototype.calcFlags = function(s, t, i) {
        var h = 255 & s;
        return s >= 256 || s < 0 ? this.f |= 1 : this.f &= 254,
        this.f = r[h],
        s >= 256 || s < 0 ? this.f |= 1 : this.f &= 254,
        h
    }
    ,
    l.prototype.acADD = function(s, t, i) {
        var h = [0, 16, 16, 16, 0, 0, 0, 16][(8 & i) >> 1 | (8 & t) >> 2 | (8 & s) >> 3];
        this.f = -17 & this.f | h
    }
    ,
    l.prototype.acSUB = function(s, t, i) {
        var h = [16, 16, 0, 16, 0, 16, 0, 0][(8 & i) >> 1 | (8 & t) >> 2 | (8 & s) >> 3];
        this.f = -17 & this.f | h
    }
    ,
    l.prototype.incrementByte = function(s) {
        var t = 1 & this.f
          , i = this.calcFlags(s + 1, s, 1);
        return this.f = -2 & this.f & 255 | t,
        0 == (15 & i) ? this.f = 16 | this.f : this.f &= 239,
        i
    }
    ,
    l.prototype.decrementByte = function(s) {
        var t = 1 & this.f
          , i = this.calcFlags(s - 1, s, 1);
        return this.f = -2 & this.f & 255 | t,
        (15 & s) > 0 ? this.f = 16 | this.f : this.f &= 239,
        i
    }
    ,
    l.prototype.addByte = function(s, t) {
        var i = this.calcFlags(s + t, s, t);
        return this.acADD(s, t, i),
        i
    }
    ,
    l.prototype.addByteWithCarry = function(s, t) {
        var i = this.addByte(s, t + (1 & this.f ? 1 : 0));
        return this.acADD(s, t, i),
        i
    }
    ,
    l.prototype.subtractByte = function(s, t) {
        var i = this.calcFlags(s - t, s, t);
        return this.acSUB(s, t, i),
        i
    }
    ,
    l.prototype.subtractByteWithCarry = function(s, t) {
        var i = t + (1 & this.f ? 1 : 0)
          , h = this.calcFlags(s - i, s, i);
        return this.acSUB(s, t, h),
        h
    }
    ,
    l.prototype.andByte = function(s, t) {
        var i = this.calcFlags(s & t, s, t);
        return (8 & s | 8 & t) > 0 ? this.f |= 16 : this.f &= -17,
        this.f &= 254,
        i
    }
    ,
    l.prototype.xorByte = function(s, t) {
        var i = this.calcFlags(s ^ t, s, t);
        return this.f &= -17,
        this.f &= 254,
        i
    }
    ,
    l.prototype.orByte = function(s, t) {
        var i = this.calcFlags(s | t, s, t);
        return this.f &= -17,
        this.f &= 254,
        i
    }
    ,
    l.prototype.addWord = function(s, t) {
        var i = s + t;
        return i > 65535 ? this.f |= 1 : this.f &= -2,
        65535 & i
    }
    ,
    l.prototype.pop = function() {
        var s = this.getWord(this.sp);
        return this.sp = this.sp + 2 & 65535,
        s
    }
    ,
    l.prototype.push = function(s) {
        this.sp = this.sp - 2 & 65535,
        this.writeWord(this.sp, s)
    }
    ,
    l.prototype.processInterrupts = function() {}
    ,
    l.prototype.execute = function(s) {
        var t, i, e;
        switch (this.f &= 215,
        this.f |= 2,
        s) {
        case 0:
        case 8:
        case 16:
        case 24:
        case 32:
        case 40:
        case 48:
        case 56:
            this.cycles += 4;
            break;
        case 1:
            this.BC(this.nextWord()),
            this.cycles += 10;
            break;
        case 2:
            this.writeByte(this.bc(), this.a),
            this.cycles += 7;
            break;
        case 3:
            this.BC(this.bc() + 1 & 65535),
            this.cycles += 6;
            break;
        case 4:
            this.b = this.incrementByte(this.b),
            this.cycles += 5;
            break;
        case 5:
            this.b = this.decrementByte(this.b),
            this.cycles += 5;
            break;
        case 6:
            this.b = this.nextByte(),
            this.cycles += 7;
            break;
        case 7:
            var c = (128 & this.a) >> 7;
            c ? this.f |= 1 : this.f &= 254,
            this.a = this.a << 1 & 254 | c,
            this.cycles += 4;
            break;
        case 9:
            this.HL(this.addWord(this.hl(), this.bc())),
            this.cycles += 11;
            break;
        case 10:
            this.a = h(this.bc()),
            this.cycles += 7;
            break;
        case 11:
            this.BC(this.bc() + 65535 & 65535),
            this.cycles += 6;
            break;
        case 12:
            this.c = this.incrementByte(this.c),
            this.cycles += 5;
            break;
        case 13:
            this.c = this.decrementByte(this.c),
            this.cycles += 5;
            break;
        case 14:
            this.c = this.nextByte(),
            this.cycles += 7;
            break;
        case 15:
            var a = (1 & this.a) << 7;
            a ? this.f |= 1 : this.f &= 254,
            this.a = this.a >> 1 & 127 | a,
            this.cycles += 4;
            break;
        case 17:
            this.DE(this.nextWord()),
            this.cycles += 10;
            break;
        case 18:
            this.writeByte(this.de(), this.a),
            this.cycles += 7;
            break;
        case 19:
            this.DE(this.de() + 1 & 65535),
            this.cycles += 6;
            break;
        case 20:
            this.d = this.incrementByte(this.d),
            this.cycles += 5;
            break;
        case 21:
            this.d = this.decrementByte(this.d),
            this.cycles += 5;
            break;
        case 22:
            this.d = this.nextByte(),
            this.cycles += 7;
            break;
        case 23:
            e = 1 & this.f ? 1 : 0,
            128 & this.a ? this.f |= 1 : this.f &= 254,
            this.a = this.a << 1 & 254 | e,
            this.cycles += 4;
            break;
        case 25:
            this.HL(this.addWord(this.hl(), this.de())),
            this.cycles += 11;
            break;
        case 26:
            this.a = h(this.de()),
            this.cycles += 7;
            break;
        case 27:
            this.DE(this.de() - 1 & 65535),
            this.cycles += 6;
            break;
        case 28:
            this.e = this.incrementByte(this.e),
            this.cycles += 5;
            break;
        case 29:
            this.e = this.decrementByte(this.e),
            this.cycles += 5;
            break;
        case 30:
            this.e = this.nextByte(),
            this.cycles += 7;
            break;
        case 31:
            var r = 1 & this.f ? 128 : 0;
            1 & this.a ? this.f |= 1 : this.f &= 254,
            this.a = this.a >> 1 & 127 | r,
            this.cycles += 4;
            break;
        case 33:
            this.HL(this.nextWord()),
            this.cycles += 10;
            break;
        case 34:
            this.writeWord(this.nextWord(), this.hl()),
            this.cycles += 16;
            break;
        case 35:
            this.HL(this.hl() + 1 & 65535),
            this.cycles += 6;
            break;
        case 36:
            this.h = this.incrementByte(this.h),
            this.cycles += 5;
            break;
        case 37:
            this.h = this.decrementByte(this.h),
            this.cycles += 5;
            break;
        case 38:
            this.h = this.nextByte(),
            this.cycles += 7;
            break;
        case 39:
            var l = this.a;
            1 & this.f && (l |= 256),
            16 & this.f && (l |= 512);
            var b = y[l];
            this.a = b >> 8 & 255,
            this.f = 215 & b | 2,
            this.cycles += 4;
            break;
        case 41:
            this.HL(this.addWord(this.hl(), this.hl())),
            this.cycles += 11;
            break;
        case 42:
            this.HL(this.getWord(this.nextWord())),
            this.cycles += 16;
            break;
        case 43:
            this.HL(this.hl() - 1 & 65535),
            this.cycles += 6;
            break;
        case 44:
            this.l = this.incrementByte(this.l),
            this.cycles += 5;
            break;
        case 45:
            this.l = this.decrementByte(this.l),
            this.cycles += 5;
            break;
        case 46:
            this.l = this.nextByte(),
            this.cycles += 7;
            break;
        case 47:
            this.a ^= 255,
            this.cycles += 4;
            break;
        case 49:
            this.sp = this.nextWord(),
            this.cycles += 10;
            break;
        case 50:
            this.writeByte(this.nextWord(), this.a),
            this.cycles += 13;
            break;
        case 51:
            this.sp = this.sp + 1 & 65535,
            this.cycles += 6;
            break;
        case 52:
            t = this.hl(),
            this.writeByte(t, this.incrementByte(h(t))),
            this.cycles += 10;
            break;
        case 53:
            t = this.hl(),
            this.writeByte(t, this.decrementByte(h(t))),
            this.cycles += 10;
            break;
        case 54:
            this.writeByte(this.hl(), this.nextByte()),
            this.cycles += 10;
            break;
        case 55:
            this.f |= 1,
            this.cycles += 4;
            break;
        case 57:
            this.HL(this.addWord(this.hl(), this.sp)),
            this.cycles += 11;
            break;
        case 58:
            this.a = h(this.nextWord()),
            this.cycles += 13;
            break;
        case 59:
            this.sp = this.sp - 1 & 65535,
            this.cycles += 6;
            break;
        case 60:
            this.a = this.incrementByte(this.a),
            this.cycles += 5;
            break;
        case 61:
            this.a = this.decrementByte(this.a),
            this.cycles += 5;
            break;
        case 62:
            this.a = this.nextByte(),
            this.cycles += 7;
            break;
        case 63:
            this.f ^= 1,
            this.cycles += 4;
            break;
        case 64:
            this.b = this.b,
            this.cycles += 5;
            break;
        case 65:
            this.b = this.c,
            this.cycles += 5;
            break;
        case 66:
            this.b = this.d,
            this.cycles += 5;
            break;
        case 67:
            this.b = this.e,
            this.cycles += 5;
            break;
        case 68:
            this.b = this.h,
            this.cycles += 5;
            break;
        case 69:
            this.b = this.l,
            this.cycles += 5;
            break;
        case 70:
            this.b = h(this.hl()),
            this.cycles += 7;
            break;
        case 71:
            this.b = this.a,
            this.cycles += 5;
            break;
        case 72:
            this.c = this.b,
            this.cycles += 5;
            break;
        case 73:
            this.c = this.c,
            this.cycles += 5;
            break;
        case 74:
            this.c = this.d,
            this.cycles += 5;
            break;
        case 75:
            this.c = this.e,
            this.cycles += 5;
            break;
        case 76:
            this.c = this.h,
            this.cycles += 5;
            break;
        case 77:
            this.c = this.l,
            this.cycles += 5;
            break;
        case 78:
            this.c = h(this.hl()),
            this.cycles += 7;
            break;
        case 79:
            this.c = this.a,
            this.cycles += 5;
            break;
        case 80:
            this.d = this.b,
            this.cycles += 5;
            break;
        case 81:
            this.d = this.c,
            this.cycles += 5;
            break;
        case 82:
            this.d = this.d,
            this.cycles += 5;
            break;
        case 83:
            this.d = this.e,
            this.cycles += 5;
            break;
        case 84:
            this.d = this.h,
            this.cycles += 5;
            break;
        case 85:
            this.d = this.l,
            this.cycles += 5;
            break;
        case 86:
            this.d = h(this.hl()),
            this.cycles += 7;
            break;
        case 87:
            this.d = this.a,
            this.cycles += 5;
            break;
        case 88:
            this.e = this.b,
            this.cycles += 5;
            break;
        case 89:
            this.e = this.c,
            this.cycles += 5;
            break;
        case 90:
            this.e = this.d,
            this.cycles += 5;
            break;
        case 91:
            this.e = this.e,
            this.cycles += 5;
            break;
        case 92:
            this.e = this.h,
            this.cycles += 5;
            break;
        case 93:
            this.e = this.l,
            this.cycles += 5;
            break;
        case 94:
            this.e = h(this.hl()),
            this.cycles += 7;
            break;
        case 95:
            this.e = this.a,
            this.cycles += 5;
            break;
        case 96:
            this.h = this.b,
            this.cycles += 5;
            break;
        case 97:
            this.h = this.c,
            this.cycles += 5;
            break;
        case 98:
            this.h = this.d,
            this.cycles += 5;
            break;
        case 99:
            this.h = this.e,
            this.cycles += 5;
            break;
        case 100:
            this.h = this.h,
            this.cycles += 5;
            break;
        case 101:
            this.h = this.l,
            this.cycles += 5;
            break;
        case 102:
            this.h = h(this.hl()),
            this.cycles += 7;
            break;
        case 103:
            this.h = this.a,
            this.cycles += 5;
            break;
        case 104:
            this.l = this.b,
            this.cycles += 5;
            break;
        case 105:
            this.l = this.c,
            this.cycles += 5;
            break;
        case 106:
            this.l = this.d,
            this.cycles += 5;
            break;
        case 107:
            this.l = this.e,
            this.cycles += 5;
            break;
        case 108:
            this.l = this.h,
            this.cycles += 5;
            break;
        case 109:
            this.l = this.l,
            this.cycles += 5;
            break;
        case 110:
            this.l = h(this.hl()),
            this.cycles += 7;
            break;
        case 111:
            this.l = this.a,
            this.cycles += 5;
            break;
        case 112:
            this.writeByte(this.hl(), this.b),
            this.cycles += 7;
            break;
        case 113:
            this.writeByte(this.hl(), this.c),
            this.cycles += 7;
            break;
        case 114:
            this.writeByte(this.hl(), this.d),
            this.cycles += 7;
            break;
        case 115:
            this.writeByte(this.hl(), this.e),
            this.cycles += 7;
            break;
        case 116:
            this.writeByte(this.hl(), this.h),
            this.cycles += 7;
            break;
        case 117:
            this.writeByte(this.hl(), this.l),
            this.cycles += 7;
            break;
        case 118:
            this.cycles += 7,
            this.halted = 1;
            break;
        case 119:
            this.writeByte(this.hl(), this.a),
            this.cycles += 7;
            break;
        case 120:
            this.a = this.b,
            this.cycles += 5;
            break;
        case 121:
            this.a = this.c,
            this.cycles += 5;
            break;
        case 122:
            this.a = this.d,
            this.cycles += 5;
            break;
        case 123:
            this.a = this.e,
            this.cycles += 5;
            break;
        case 124:
            this.a = this.h,
            this.cycles += 5;
            break;
        case 125:
            this.a = this.l,
            this.cycles += 5;
            break;
        case 126:
            this.a = h(this.hl()),
            this.cycles += 7;
            break;
        case 127:
            this.a = this.a,
            this.cycles += 5;
            break;
        case 128:
            this.a = this.addByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 129:
            this.a = this.addByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 130:
            this.a = this.addByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 131:
            this.a = this.addByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 132:
            this.a = this.addByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 133:
            this.a = this.addByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 134:
            this.a = this.addByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 135:
            this.a = this.addByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 136:
            this.a = this.addByteWithCarry(this.a, this.b),
            this.cycles += 4;
            break;
        case 137:
            this.a = this.addByteWithCarry(this.a, this.c),
            this.cycles += 4;
            break;
        case 138:
            this.a = this.addByteWithCarry(this.a, this.d),
            this.cycles += 4;
            break;
        case 139:
            this.a = this.addByteWithCarry(this.a, this.e),
            this.cycles += 4;
            break;
        case 140:
            this.a = this.addByteWithCarry(this.a, this.h),
            this.cycles += 4;
            break;
        case 141:
            this.a = this.addByteWithCarry(this.a, this.l),
            this.cycles += 4;
            break;
        case 142:
            this.a = this.addByteWithCarry(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 143:
            this.a = this.addByteWithCarry(this.a, this.a),
            this.cycles += 4;
            break;
        case 144:
            this.a = this.subtractByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 145:
            this.a = this.subtractByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 146:
            this.a = this.subtractByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 147:
            this.a = this.subtractByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 148:
            this.a = this.subtractByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 149:
            this.a = this.subtractByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 150:
            this.a = this.subtractByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 151:
            this.a = this.subtractByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 152:
            this.a = this.subtractByteWithCarry(this.a, this.b),
            this.cycles += 4;
            break;
        case 153:
            this.a = this.subtractByteWithCarry(this.a, this.c),
            this.cycles += 4;
            break;
        case 154:
            this.a = this.subtractByteWithCarry(this.a, this.d),
            this.cycles += 4;
            break;
        case 155:
            this.a = this.subtractByteWithCarry(this.a, this.e),
            this.cycles += 4;
            break;
        case 156:
            this.a = this.subtractByteWithCarry(this.a, this.h),
            this.cycles += 4;
            break;
        case 157:
            this.a = this.subtractByteWithCarry(this.a, this.l),
            this.cycles += 4;
            break;
        case 158:
            this.a = this.subtractByteWithCarry(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 159:
            this.a = this.subtractByteWithCarry(this.a, this.a),
            this.cycles += 4;
            break;
        case 160:
            this.a = this.andByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 161:
            this.a = this.andByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 162:
            this.a = this.andByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 163:
            this.a = this.andByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 164:
            this.a = this.andByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 165:
            this.a = this.andByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 166:
            this.a = this.andByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 167:
            this.a = this.andByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 168:
            this.a = this.xorByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 169:
            this.a = this.xorByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 170:
            this.a = this.xorByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 171:
            this.a = this.xorByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 172:
            this.a = this.xorByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 173:
            this.a = this.xorByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 174:
            this.a = this.xorByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 175:
            this.a = this.xorByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 176:
            this.a = this.orByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 177:
            this.a = this.orByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 178:
            this.a = this.orByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 179:
            this.a = this.orByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 180:
            this.a = this.orByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 181:
            this.a = this.orByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 182:
            this.a = this.orByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 183:
            this.a = this.orByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 184:
            this.subtractByte(this.a, this.b),
            this.cycles += 4;
            break;
        case 185:
            this.subtractByte(this.a, this.c),
            this.cycles += 4;
            break;
        case 186:
            this.subtractByte(this.a, this.d),
            this.cycles += 4;
            break;
        case 187:
            this.subtractByte(this.a, this.e),
            this.cycles += 4;
            break;
        case 188:
            this.subtractByte(this.a, this.h),
            this.cycles += 4;
            break;
        case 189:
            this.subtractByte(this.a, this.l),
            this.cycles += 4;
            break;
        case 190:
            this.subtractByte(this.a, h(this.hl())),
            this.cycles += 7;
            break;
        case 191:
            this.subtractByte(this.a, this.a),
            this.cycles += 4;
            break;
        case 192:
            64 & this.f ? this.cycles += 5 : (this.pc = this.pop(),
            this.cycles += 11);
            break;
        case 193:
            this.BC(this.pop()),
            this.cycles += 10;
            break;
        case 194:
            64 & this.f ? this.pc = this.pc + 2 & 65535 : this.pc = this.nextWord(),
            this.cycles += 10;
            break;
        case 195:
        case 203:
            this.pc = this.getWord(this.pc),
            this.cycles += 10;
            break;
        case 196:
            64 & this.f ? (this.cycles += 11,
            this.pc = this.pc + 2 & 65535) : (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i);
            break;
        case 197:
            this.push(this.bc()),
            this.cycles += 11;
            break;
        case 198:
            this.a = this.addByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 199:
            this.push(this.pc),
            this.pc = 0,
            this.cycles += 11;
            break;
        case 200:
            64 & this.f ? (this.pc = this.pop(),
            this.cycles += 11) : this.cycles += 5;
            break;
        case 201:
        case 217:
            this.pc = this.pop(),
            this.cycles += 10;
            break;
        case 202:
            64 & this.f ? this.pc = this.nextWord() : this.pc = this.pc + 2 & 65535,
            this.cycles += 10;
            break;
        case 204:
            64 & this.f ? (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i) : (this.cycles += 11,
            this.pc = this.pc + 2 & 65535);
            break;
        case 205:
        case 221:
        case 237:
        case 253:
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i,
            this.cycles += 17;
            break;
        case 206:
            this.a = this.addByteWithCarry(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 207:
            this.push(this.pc),
            this.pc = 8,
            this.cycles += 11;
            break;
        case 208:
            1 & this.f ? this.cycles += 5 : (this.pc = this.pop(),
            this.cycles += 11);
            break;
        case 209:
            this.DE(this.pop()),
            this.cycles += 10;
            break;
        case 210:
            1 & this.f ? this.pc = this.pc + 2 & 65535 : this.pc = this.nextWord(),
            this.cycles += 10;
            break;
        case 211:
            this.writePort(this.nextByte(), this.a),
            this.cycles += 10;
            break;
        case 212:
            1 & this.f ? (this.cycles += 11,
            this.pc = this.pc + 2 & 65535) : (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i);
            break;
        case 213:
            this.push(this.de()),
            this.cycles += 11;
            break;
        case 214:
            this.a = this.subtractByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 215:
            this.push(this.pc),
            this.pc = 16,
            this.cycles += 11;
            break;
        case 216:
            1 & this.f ? (this.pc = this.pop(),
            this.cycles += 11) : this.cycles += 5;
            break;
        case 218:
            1 & this.f ? this.pc = this.nextWord() : this.pc = this.pc + 2 & 65535,
            this.cycles += 10;
            break;
        case 219:
            this.a = this.readPort(this.nextByte()),
            this.cycles += 10;
            break;
        case 220:
            1 & this.f ? (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i) : (this.cycles += 11,
            this.pc = this.pc + 2 & 65535);
            break;
        case 222:
            this.a = this.subtractByteWithCarry(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 223:
            this.push(this.pc),
            this.pc = 24,
            this.cycles += 11;
            break;
        case 224:
            4 & this.f ? this.cycles += 5 : (this.pc = this.pop(),
            this.cycles += 11);
            break;
        case 225:
            this.HL(this.pop()),
            this.cycles += 10;
            break;
        case 226:
            4 & this.f ? this.pc = this.pc + 2 & 65535 : this.pc = this.nextWord(),
            this.cycles += 10;
            break;
        case 227:
            var p = this.getWord(this.sp);
            this.writeWord(this.sp, this.hl()),
            this.HL(p),
            this.cycles += 4;
            break;
        case 228:
            4 & this.f ? (this.cycles += 11,
            this.pc = this.pc + 2 & 65535) : (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i);
            break;
        case 229:
            this.push(this.hl()),
            this.cycles += 11;
            break;
        case 230:
            this.a = this.andByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 231:
            this.push(this.pc),
            this.pc = 32,
            this.cycles += 11;
            break;
        case 232:
            4 & this.f ? (this.pc = this.pop(),
            this.cycles += 11) : this.cycles += 5;
            break;
        case 233:
            this.pc = this.hl(),
            this.cycles += 4;
            break;
        case 234:
            4 & this.f ? this.pc = this.nextWord() : this.pc = this.pc + 2 & 65535,
            this.cycles += 10;
            break;
        case 235:
            i = this.de(),
            this.DE(this.hl()),
            this.HL(i),
            this.cycles += 4;
            break;
        case 236:
            4 & this.f ? (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i) : (this.cycles += 11,
            this.pc = this.pc + 2 & 65535);
            break;
        case 238:
            this.a = this.xorByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 239:
            this.push(this.pc),
            this.pc = 40,
            this.cycles += 11;
            break;
        case 240:
            128 & this.f ? this.cycles += 5 : (this.pc = this.pop(),
            this.cycles += 11);
            break;
        case 241:
            this.AF(this.pop()),
            this.cycles += 10;
            break;
        case 242:
            128 & this.f ? this.pc = this.pc + 2 & 65535 : this.pc = this.nextWord(),
            this.cycles += 10;
            break;
        case 243:
            this.inte = 0,
            this.cycles += 4;
            break;
        case 244:
            128 & this.f ? (this.cycles += 11,
            this.pc = this.pc + 2 & 65535) : (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i);
            break;
        case 245:
            this.push(this.af()),
            this.cycles += 11;
            break;
        case 246:
            this.a = this.orByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 247:
            this.push(this.pc),
            this.pc = 48,
            this.cycles += 11;
            break;
        case 248:
            128 & this.f ? (this.pc = this.pop(),
            this.cycles += 11) : this.cycles += 5;
            break;
        case 249:
            this.sp = this.hl(),
            this.cycles += 6;
            break;
        case 250:
            128 & this.f ? this.pc = this.nextWord() : this.pc = this.pc + 2 & 65535,
            this.cycles += 10;
            break;
        case 251:
            this.inte = 1,
            this.cycles += 4;
            break;
        case 252:
            128 & this.f ? (this.cycles += 17,
            i = this.nextWord(),
            this.push(this.pc),
            this.pc = i) : (this.cycles += 11,
            this.pc = this.pc + 2 & 65535);
            break;
        case 254:
            this.subtractByte(this.a, this.nextByte()),
            this.cycles += 7;
            break;
        case 255:
            this.push(this.pc),
            this.pc = 56,
            this.cycles += 11;
            break;
        default:
            this.cycles += 4
        }
        this.f &= 215,
        this.f |= 2
    }
    ;
    var b, p = !1, n = function() {
        b.pc = 0,
        b.sp = 0,
        b.halted = 0,
        b.a = b.b = b.c = b.d = b.e = b.h = b.l = 0,
        b.f = 2,
        b.inte = 0,
        b.cycles = 0
    }, o = function(s) {
        console.log(toHex4(s.pc))
    };
    s.trace = function(s) {
        p = s
    }
    ,
    s.steps = function(s) {
        for (T = 0; s > 0; )
            s -= b.step(),
            p && o(b)
    }
    ,
    s.T = function() {
        return b.cycles
    }
    ,
    s.memr = function(s) {
        return h(s)
    }
    ,
    s.reset = n,
    s.init = function(s, t, r, y, p) {
        i = s,
        h = t,
        a = r,
        e = y,
        c = p,
        b = new l,
        n()
    }
    ,
    s.status = function() {
        return {
            pc: b.pc,
            sp: b.sp,
            a: b.a,
            b: b.b,
            c: b.c,
            d: b.d,
            e: b.e,
            f: b.f,
            h: b.h,
            l: b.l
        }
    }
    ,
    s.interrupt = function(s) {
        b.inte && (b.halted = 0,
        b.push(b.pc),
        b.pc = s || 56)
    }
    ,
    s.set = function(s, t) {
        switch (s = s.toUpperCase()) {
        case "PC":
            return void (b.pc = t);
        case "A":
            return void (b.a = t);
        case "B":
            return void (b.b = t);
        case "C":
            return void (b.c = t);
        case "D":
            return void (b.d = t);
        case "E":
            return void (b.e = t);
        case "H":
            return void (b.h = t);
        case "L":
            return void (b.l = t);
        case "F":
            return void (b.f = t);
        case "SP":
            return void (b.sp = t)
        }
    }
    ,
    s.flagsToString = function() {
        for (var s = "", t = "SZ0A0P1C", i = 0; i < 8; i++)
            s += 0 === (b.f & 128 >> i) ? t[i].toLowerCase() : t[i];
        return s
    }
}("undefined" == typeof exports ? this.CPU8080 = {} : exports);
!function(r) {
    "undefined" != typeof module ? module.exports = r() : "function" == typeof define && "object" == typeof define.amd ? define(r) : this.CPU8008 = r()
}(function() {
    var e = [6, 0, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 8, 10, 10, 8, 10, 8, 8, 10, 10, 8, 8, 10, 8, 10, 10, 8, 10, 8, 8, 10, 8, 10, 10, 8, 8, 10, 10, 8, 10, 8, 8, 10, 10, 8, 8, 10, 8, 10, 10, 8, 8, 10, 10, 8, 10, 8, 8, 10, 8, 10, 10, 8, 10, 8, 8, 10, 10, 8, 8, 10, 8, 10, 10, 8, 10, 8, 8, 10, 8, 10, 10, 8, 8, 10, 10, 8, 10, 8, 8, 10, 8, 10, 10, 8, 10, 8, 8, 10, 10, 8, 8, 10, 8, 10, 10, 8, 8, 10, 10, 8, 10, 8, 8, 10, 10, 8, 8, 10, 8, 10, 10, 8, 10, 8, 8, 10, 8, 10, 10, 8, 8, 10, 10, 8, 10, 8, 8, 10];
    function t() {
        if (h.halted)
            return h.cycles++,
            1;
        var r = B(h.pc++)
          , e = h.cycles;
        return n(r),
        h.pc &= 16383,
        h.cycles - e
    }
    function M() {
        var r = h.pc
          , e = B(16383 & r);
        return h.pc = r + 1 & 16383,
        e
    }
    function P(r) {
        h.f = 1 & h.f | e[r]
    }
    function O(r) {
        h.cycles += r
    }
    function l(r) {
        var e = 3 & r;
        return r >> 2 == (0 == e ? 1 & h.f ? 1 : 0 : 1 == e ? 4 & h.f ? 1 : 0 : 1 == e ? 8 & h.f ? 1 : 0 : 2 & h.f ? 1 : 0) ? 1 : 0
    }
    function S(r) {
        h.a = 255 & r,
        P(h.a),
        255 < r || r < 0 ? h.f |= 1 : h.f &= -2
    }
    function L() {
        h.pc = 0,
        h.sp = [],
        h.halted = !1,
        h.ra = h.rb = h.rc = h.rd = h.re = h.rh = h.rl = 0,
        h.f = 0,
        inte = 0,
        h.cycles = 0
    }
    var i, B, E, U, h = {
        a: 0,
        b: 0,
        c: 0,
        d: 0,
        e: 0,
        h: 0,
        l: 0,
        pc: 0,
        sp: [],
        f: 0,
        halted: !1,
        cycles: 0,
        hl: function() {
            return this.l | this.h << 8
        },
        dst: function(r, e) {
            "M" == e ? a(this.hl(), r) : this[e] = r
        },
        src: function(r) {
            return "M" == r ? B(this.hl()) : this[r]
        }
    }, a = function(r, e) {
        i(16383 & r, 255 & e)
    }, n = function(r) {
        h.f = 15 & h.f,
        h.pc = 16383 & h.pc;
        var e, t, a, n, L, i, c, f, o = (56 & r) >> 3, u = 7 & r, C = "abcdehlM"[o], d = "abcdehlM"[u], s = r >> 6;
        if (3 == s)
            return "M" == d && "M" == C && (h.halted = !0,
            O(8)),
            "M" != d && "M" != C ? (h.dst(h[d], C),
            void O(10)) : "M" == C ? (h.dst(h[d], C),
            void O(14)) : (h.dst(B(h.hl()), C),
            void O(16));
        if (2 == s) {
            if (i = C,
            c = 10,
            f = 16,
            h.cycles += "M" == i ? f : c,
            0 == u)
                return p = h.a + h.src(C),
                void S(p);
            if (1 == u)
                return p = h.a + h.src(C),
                1 & h.f && p++,
                void S(p);
            if (2 == u)
                return p = h.a - h.src(C),
                void S(p);
            if (3 == u)
                return p = h.a - h.src(C),
                1 & h.f && p--,
                void S(p);
            if (4 == u)
                return p = h.a & h.src(C),
                void S(p);
            if (5 == u)
                return p = h.a ^ h.src(C),
                void S(p);
            if (6 == u)
                return p = h.a | h.src(C),
                void S(p);
            if (7 == u) {
                var T = h.a
                  , p = h.a - h.src(C);
                return S(p),
                void (h.a = T)
            }
        } else if (1 == s) {
            if (1 == (1 & u)) {
                var A = r - 64 >> 1 & 31;
                return void (A < 8 ? (h.a = 255 & (L = A,
                U ? U(7 & L) : 255),
                O(16)) : (a = A,
                n = h.a,
                E && E(31 & a, n),
                O(12)))
            }
            var D = 16383 & (e = B(65535 & h.pc),
            t = B(h.pc + 1 & 65535),
            h.pc = h.pc + 2 & 16383,
            t << 8 | e)
              , R = l(o);
            if (4 == u && (R = 1),
            6 == u && (R = 1),
            0 == (3 & u))
                return void (R ? (O(22),
                h.pc = D) : O(18));
            if (2 == (3 & u))
                return void (R ? (O(22),
                h.sp.push(h.pc),
                h.pc = D) : O(18))
        } else if (0 == s) {
            if (0 == u) {
                if ("M" == C)
                    return;
                return void ("a" != C ? (h[C] = 255 & ++h[C],
                P(h[C]),
                O(10)) : (h.halted = !0,
                O(8)))
            }
            if (1 == u) {
                if ("M" == C)
                    return;
                return void ("a" != C ? (h[C] = 255 & --h[C],
                P(h[C]),
                O(10)) : (h.halted = !0,
                O(8)))
            }
            if (2 == u) {
                if (3 < o)
                    return;
                switch (O(10),
                o) {
                case 0:
                    v = 255 < (p = h.a << 1) ? 1 : 0,
                    h.a = 255 & p | v;
                    break;
                case 1:
                    v = 1 & h.a,
                    p = h.a >> 1,
                    h.a = 255 & p | v << 7;
                    break;
                case 2:
                    v = 255 < (p = h.a << 1) ? 1 : 0,
                    h.a = 255 & p | 1 & h.f;
                    break;
                case 3:
                    v = 1 & h.a,
                    p = h.a >> 1,
                    h.a = 255 & p | (1 & h.f) << 7
                }
                return void (v ? h.f |= 1 : h.f &= -2)
            }
            if (3 == u) {
                if (R = l(o)) {
                    if (O(10),
                    h.sp.length < 1)
                        return;
                    h.pc = 16383 & h.sp.pop()
                } else
                    O(6);
                return
            }
            if (4 == u) {
                O(16);
                var v = 1 & h.f ? 1 : 0;
                return p = M(),
                0 == o && (p = h.a + p,
                S(p)),
                1 == o && (p = h.a + p,
                1 & h.f && p++,
                S(p)),
                2 == o && (p = h.a - p,
                S(p)),
                3 == o && (p = h.a - p,
                1 & h.f && p--,
                S(p)),
                4 == o && (p = h.a & p,
                S(p)),
                5 == o && (p = h.a ^ p,
                S(p)),
                6 == o && (p = h.a | p,
                S(p)),
                7 == o && (T = h.a,
                p = h.a - p,
                S(p),
                h.a = T),
                void (v ? h.f |= 1 : h.f &= -2)
            }
            if (5 == u)
                return O(10),
                h.sp.push(h.pc),
                void (h.pc = 8 * o);
            if (6 == u)
                return p = M(),
                O(16),
                h.dst(p, C),
                void ("M" == C && O(2));
            if (7 == u) {
                if (h.sp.length < 1)
                    return;
                return h.pc = 16383 & h.sp.pop(),
                void O(10)
            }
        }
    }, c = !1, f = [["*HLT", 1], ["*HLT", 1], ["RLC", 1], ["RFC", 1], ["ADI d8", 2], ["RST 0", 1], ["LAI d8", 2], ["RET", 1], ["INB", 1], ["DCB", 1], ["RRC", 1], ["RFZ", 1], ["ACI d8", 2], ["RST 1", 1], ["LBI d8", 2], ["*RET", 1], ["INC", 1], ["DCC", 1], ["RAL", 1], ["RFS", 1], ["SUI d8", 2], ["RST 2", 1], ["LCI d8", 2], ["*RET", 1], ["IND", 1], ["DCD", 1], ["RAR", 1], ["RFP", 1], ["SBI d8", 2], ["RST 3", 1], ["LDI d8", 2], ["*RET", 1], ["INE", 1], ["DCE", 1], ["*NOP", 1], ["RTC", 1], ["NDI d8", 2], ["RST 4", 1], ["LEI d8", 2], ["*RET", 1], ["INH", 1], ["DCH", 1], ["*NOP", 1], ["RTZ", 1], ["XRI d8", 2], ["RST 5", 1], ["LHI d8", 2], ["*RET", 1], ["INL", 1], ["DCL", 1], ["*NOP", 1], ["RTS", 1], ["ORI d8", 2], ["RST 6", 1], ["LLI d8", 2], ["*RET", 1], ["*NOP", 1], ["*NOP", 1], ["*NOP", 1], ["RTP", 1], ["CPI d8", 2], ["RST 7", 1], ["LMI d8", 2], ["*RET", 1], ["JFC a16", 3], ["INP 0", 1], ["CFC a16", 3], ["INP 1", 1], ["JMP a16", 3], ["INP 2", 1], ["CAL a16", 3], ["INP 3", 1], ["JFZ a16", 3], ["INP 4", 1], ["CFZ a16", 3], ["INP 5", 1], ["*JMP a16", 3], ["INP 6", 1], ["*CAL a16", 3], ["INP 7", 1], ["JFS a16", 3], ["OUT 8", 1], ["CFS a16", 3], ["OUT 9", 1], ["*JMP a16", 3], ["OUT 10", 1], ["*CAL a16", 3], ["OUT 11", 1], ["JFP a16", 3], ["OUT 12", 1], ["CFP a16", 3], ["OUT 13", 1], ["*JMP a16", 3], ["OUT 14", 1], ["*CAL a16", 3], ["OUT 15", 1], ["JTC a16", 3], ["OUT 16", 1], ["CTC a16", 3], ["OUT 17", 1], ["*JMP a16", 3], ["OUT 18", 1], ["*CAL a16", 3], ["OUT 19", 1], ["JTZ a16", 3], ["OUT 20", 1], ["CTZ a16", 3], ["OUT 21", 1], ["*JMP a16", 3], ["OUT 22", 1], ["*CAL a16", 3], ["OUT 23", 1], ["JTS a16", 3], ["OUT 24", 1], ["CTS a16", 3], ["OUT 25", 1], ["*JMP a16", 3], ["OUT 26", 1], ["*CAL a16", 3], ["OUT 27", 1], ["JTP a16", 3], ["OUT 28", 1], ["CTP a16", 3], ["OUT 29", 1], ["*JMP a16", 3], ["OUT 30", 1], ["*CAL a16", 3], ["OUT 31", 1], ["ADA", 1], ["ADB", 1], ["ADC", 1], ["ADD", 1], ["ADE", 1], ["ADH", 1], ["ADL", 1], ["ADM", 1], ["ACA", 1], ["ACB", 1], ["ACC", 1], ["ACD", 1], ["ACE", 1], ["ACH", 1], ["ACL", 1], ["ACM", 1], ["SUA", 1], ["SUB", 1], ["SUC", 1], ["SUD", 1], ["SUE", 1], ["SUH", 1], ["SUL", 1], ["SUM", 1], ["SBA", 1], ["SBB", 1], ["SBC", 1], ["SBD", 1], ["SBE", 1], ["SBH", 1], ["SBL", 1], ["SBM", 1], ["NDA", 1], ["NDB", 1], ["NDC", 1], ["NDD", 1], ["NDE", 1], ["NDH", 1], ["NDL", 1], ["NDM", 1], ["XRA", 1], ["XRB", 1], ["XRC", 1], ["XRD", 1], ["XRE", 1], ["XRH", 1], ["XRL", 1], ["XRM", 1], ["ORA", 1], ["ORB", 1], ["ORC", 1], ["ORD", 1], ["ORE", 1], ["ORH", 1], ["ORL", 1], ["ORM", 1], ["CPA", 1], ["CPB", 1], ["CPC", 1], ["CPD", 1], ["CPE", 1], ["CPH", 1], ["CPL", 1], ["CPM", 1], ["NOP", 1], ["LAB", 1], ["LAC", 1], ["LAD", 1], ["LAE", 1], ["LAH", 1], ["LAL", 1], ["LAM", 1], ["LBA", 1], ["LBB", 1], ["LBC", 1], ["LBD", 1], ["LBE", 1], ["LBH", 1], ["LBL", 1], ["LBM", 1], ["LCA", 1], ["LCB", 1], ["LCC", 1], ["LCD", 1], ["LCE", 1], ["LCH", 1], ["LCL", 1], ["LCM", 1], ["LDA", 1], ["LDB", 1], ["LDC", 1], ["LDD", 1], ["LDE", 1], ["LDH", 1], ["LDL", 1], ["LDM", 1], ["LEA", 1], ["LEB", 1], ["LEC", 1], ["LED", 1], ["LEE", 1], ["LEH", 1], ["LEL", 1], ["LEM", 1], ["LHA", 1], ["LHB", 1], ["LHC", 1], ["LHD", 1], ["LHE", 1], ["LHH", 1], ["LHL", 1], ["LHM", 1], ["LLA", 1], ["LLB", 1], ["LLC", 1], ["LLD", 1], ["LLE", 1], ["LLH", 1], ["LLL", 1], ["LLM", 1], ["LMA", 1], ["LMB", 1], ["LMC", 1], ["LMD", 1], ["LME", 1], ["LMH", 1], ["LML", 1], ["HLT", 1]];
    return {
        trace: function(r) {
            c = r
        },
        steps: function(r) {
            for (T = 0; 0 < r; ) {
                r -= t() || 1,
                c && (e = h,
                console.log(toHex4(e.pc)))
            }
            var e
        },
        T: function() {
            return h.cycles
        },
        memr: function(r) {
            return B(r)
        },
        reset: L,
        init: function(r, e, t, a, n) {
            i = r,
            B = e,
            E = a,
            U = n,
            L()
        },
        status: function() {
            return h
        },
        interrupt: function(r) {
            proc.halted = 0,
            proc.push(proc.pc),
            proc.pc = r || 56
        },
        set: function(r, e) {
            switch (r = r.toUpperCase()) {
            case "PC":
                return void (h.pc = e);
            case "A":
                return void (h.a = e);
            case "B":
                return void (h.b = e);
            case "C":
                return void (h.c = e);
            case "D":
                return void (h.d = e);
            case "E":
                return void (h.e = e);
            case "H":
                return void (h.h = e);
            case "L":
                return void (h.l = e);
            case "F":
                return void (h.f = e);
            case "SP":
                return void (h.sp = e)
            }
        },
        flagsToString: function() {
            for (var r = "", e = 0; e < 4; e++) {
                r += 0 == (h.f & 8 >> e) ? "SZPC"[e].toLowerCase() : "SZPC"[e]
            }
            return r
        },
        disasm: function(r, e, t) {
            var a = f[r];
            return 2 == a[1] && (a[0] = a[0].replace("d8", "" + function(r) {
                for (; r.length < 2; )
                    r = "0" + r;
                return r
            }(e.toString(16)))),
            3 == a[1] && (a[0] = a[0].replace("a16", "" + function(r) {
                for (; r.length < 4; )
                    r = "0" + r;
                return r
            }((e + 256 * t).toString(16)))),
            a
        }
    }
});
!function(n, t) {
    "undefined" != typeof module ? module.exports = t() : "function" == typeof define && "object" == typeof define.amd ? define(t) : this.CPU6502 = t()
}(0, function() {
    var n, t, u, i, o, f, c, r, X, A, S, e = 0, R = !1, C = function(n) {
        return A(n) + 256 * A(65535 & n + 1)
    }, L = function() {
        return A(f)
    }, Y = function() {
        return A(f)
    }, D = function() {
        return 255 & t + A(f)
    }, a = function() {
        return 255 & u + A(f)
    }, v = function() {
        return C(255 & A(f) + t)
    }, O = function() {
        if (r) {
            var n = C(A(f))
              , t = n + u & 65535;
            return (65280 & n) != (65280 & t) && c++,
            t
        }
        return C(A(f)) + u & 65535
    }, P = function() {
        return C(f)
    }, E = function() {
        if (r) {
            var n = C(f)
              , u = n + t & 65535;
            return (65280 & n) != (65280 & u) && c++,
            u
        }
        return C(f) + t & 65535
    }, T = function() {
        if (r) {
            var n = C(f)
              , t = n + u & 65535;
            return (65280 & n) != (65280 & t) && c++,
            t
        }
        return C(f) + u & 65535
    }, s = function() {
        c++;
        var n = L();
        (65280 & ++f) != (65280 & (n = 128 & n ? f - (1 + (255 ^ n)) : f + n)) && c++,
        f = 65535 & n
    }, B = function(n) {
        X(o + 256, 255 & n),
        o--,
        o &= 255
    }, I = function() {
        return o++,
        o &= 255,
        A(o + 256)
    }, N = function(n) {
        B(n >> 8 & 255),
        B(255 & n)
    }, d = function() {
        var n = I();
        return n += 256 * I()
    }, p = function(n) {
        i &= -131,
        i |= 0 == n ? 2 : 128 & n
    }, M = function(n, t, u) {
        var i = 128 & n ? 1 : 0
          , o = 128 & t ? 1 : 0
          , f = 128 & u ? 1 : 0
          , c = 0;
        return 0 == i && 0 == o && 1 == f && (c = 1),
        1 == i && 1 == o && 0 == f && (c = 1),
        c
    }, l = function(n, t, u) {
        var i = 128 & n ? 1 : 0
          , o = 128 & t ? 1 : 0
          , f = 128 & u ? 1 : 0
          , c = 0;
        return 0 == i && 1 == o && 0 == f && (c = 1),
        1 == i && 0 == o && 1 == f && (c = 1),
        c
    }, m = function(t) {
        n |= A(t()),
        p(n)
    }, H = function(n) {
        var t = n()
          , u = A(t);
        i &= -132,
        128 & u && (i |= 1),
        (u <<= 1) ? i |= 128 & u : i |= 2,
        X(t, u)
    }, g = function(n) {
        var t = n()
          , u = A(t);
        i &= -132,
        i |= 1 & u,
        (u >>= 1) || (i |= 2),
        X(t, u)
    }, y = function(n) {
        i & n ? f++ : s()
    }, V = function(n) {
        i & n ? s() : f++
    }, h = function(n) {
        i &= ~n
    }, J = function(n) {
        i |= n
    }, $ = function(t) {
        n &= A(t()),
        p(n)
    }, b = function(t) {
        var u = A(t());
        i &= -195,
        0 == (n & u) && (i |= 2),
        i |= 192 & u
    }, w = function(n) {
        var t = n()
          , u = A(t);
        1 & i ? (128 & u || (i &= -2),
        u = u << 1 | 1) : (128 & u && (i |= 1),
        u <<= 1),
        p(u),
        X(t, u)
    }, x = function(t) {
        n ^= A(t()),
        p(n)
    }, U = function(t) {
        var u = A(t())
          , o = u;
        8 & i ? (u = rn[u] + rn[n] + (1 & i ? 1 : 0),
        i &= -196,
        M(o, n, u) && (i |= 64),
        u > 99 && (i |= 1,
        u -= 100),
        i |= 0 == u ? 2 : 128 & u,
        n = Xn[u]) : (u += n + (1 & i ? 1 : 0),
        i &= -196,
        u > 255 && (i |= 1,
        u &= 255),
        i |= 0 == u ? 2 : 128 & u,
        M(o, n, u) && (i |= 64),
        n = u)
    }, j = function(n) {
        var t = n()
          , u = A(t);
        1 & i ? (1 & u || (i &= -2),
        u = u >> 1 | 128) : (1 & u && (i |= 1),
        u >>= 1),
        p(u),
        X(t, u)
    }, k = function(t) {
        X(t(), n)
    }, K = function(n) {
        X(n(), u)
    }, Q = function(n) {
        X(n(), t)
    }, Z = function(n) {
        var t = A(n());
        i &= -132,
        i |= u == t ? 3 : u > t ? 1 : 128
    }, q = function(n) {
        var u = A(n());
        i &= -132,
        i |= t == u ? 3 : t > u ? 1 : 128
    }, z = function(t) {
        var u = A(t());
        i &= -132,
        i |= n == u ? 3 : n > u ? 1 : 128
    }, F = function(t) {
        var u = A(t())
          , o = u;
        8 & i ? (u = rn[n] - rn[u] - (1 & i ? 0 : 1),
        i &= -196,
        l(o, n, u) && (i |= 64),
        0 == u ? i |= 3 : u > 0 ? i |= 1 : (i |= 128,
        u += 100),
        n = Xn[u]) : (u = n - u - (1 & i ? 0 : 1),
        i &= -196,
        0 == u ? i |= 3 : u > 0 && (i |= 1),
        i |= 128 & u,
        l(o, n, u) && (i |= 64),
        n = 255 & u)
    }, G = function(n) {
        var t = n()
          , u = A(t) - 1 & 255;
        i &= -131,
        i |= u ? 128 & u : 2,
        X(t, u)
    }, W = function(n) {
        var t = n()
          , u = A(t) + 1 & 255;
        i &= -131,
        i |= u ? 128 & u : 2,
        X(t, u)
    }, _ = function(t) {
        n = A(t()),
        p(n)
    }, nn = function(n) {
        u = A(n()),
        p(u)
    }, tn = function(n) {
        t = A(n()),
        p(t)
    }, un = function() {
        f++
    }, on = [7, 6, 0, 0, 0, 3, 5, 0, 3, 2, 2, 0, 0, 4, 6, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0, 6, 6, 0, 0, 3, 3, 5, 0, 4, 2, 2, 0, 4, 4, 6, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0, 6, 6, 0, 0, 0, 3, 5, 0, 3, 2, 2, 0, 3, 4, 6, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0, 6, 6, 0, 0, 0, 3, 5, 0, 4, 2, 2, 0, 5, 4, 6, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0, 0, 6, 0, 0, 3, 3, 3, 0, 2, 0, 2, 0, 4, 4, 4, 0, 2, 6, 0, 0, 4, 4, 4, 0, 2, 5, 2, 0, 0, 5, 0, 0, 2, 6, 2, 0, 3, 3, 3, 0, 2, 2, 2, 0, 4, 4, 4, 0, 2, 5, 0, 0, 4, 4, 4, 0, 2, 4, 2, 0, 4, 4, 4, 0, 2, 6, 0, 0, 3, 3, 5, 0, 2, 2, 2, 0, 4, 4, 3, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0, 2, 6, 0, 0, 3, 3, 5, 0, 2, 2, 2, 0, 4, 4, 6, 0, 2, 5, 0, 0, 0, 4, 6, 0, 2, 4, 0, 0, 0, 4, 7, 0], fn = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0], cn = [function() {
        i |= 16,
        N(f),
        B(i),
        i |= 4,
        f = C(65534),
        R = !0
    }
    , function() {
        m(v),
        f++
    }
    , un, un, un, function() {
        m(Y),
        f++
    }
    , function() {
        H(Y),
        f++
    }
    , un, function() {
        B(i |= 32)
    }
    , function() {
        n |= L(),
        p(n),
        f++
    }
    , function() {
        128 & n ? i |= 1 : i &= -2,
        p(n <<= 1),
        n &= 255
    }
    , un, un, function() {
        m(P),
        f += 2
    }
    , function() {
        H(P),
        f += 2
    }
    , un, function() {
        y(128)
    }
    , function() {
        m(O),
        f++
    }
    , un, un, un, function() {
        m(D),
        f++
    }
    , function() {
        H(D),
        f++
    }
    , un, function() {
        h(1)
    }
    , function() {
        m(T),
        f += 2
    }
    , un, un, un, function() {
        m(E),
        f += 2
    }
    , function() {
        H(E),
        f += 2
    }
    , un, function() {
        N(f + 1 & 65535),
        f = C(f)
    }
    , function() {
        $(v),
        f++
    }
    , un, un, function() {
        b(Y),
        f++
    }
    , function() {
        $(Y),
        f++
    }
    , function() {
        w(Y),
        f++
    }
    , un, function() {
        i = I()
    }
    , function() {
        n &= L(),
        p(n),
        f++
    }
    , function() {
        1 & i ? (0 == (128 & n) && (i &= -2),
        n = n << 1 | 1) : (128 & n && (i |= 1),
        n <<= 1),
        p(n),
        n &= 255
    }
    , un, function() {
        b(P),
        f += 2
    }
    , function() {
        $(P),
        f += 2
    }
    , function() {
        w(P),
        f += 2
    }
    , un, function() {
        V(128)
    }
    , function() {
        $(O),
        f++
    }
    , un, un, un, function() {
        $(D),
        f++
    }
    , function() {
        w(D),
        f++
    }
    , un, function() {
        J(1)
    }
    , function() {
        $(T),
        f += 2
    }
    , un, un, un, function() {
        $(E),
        f += 2
    }
    , function() {
        w(E),
        f += 2
    }
    , un, function() {
        i = I(),
        f = d()
    }
    , function() {
        x(v),
        f++
    }
    , un, un, un, function() {
        x(Y),
        f++
    }
    , function() {
        g(Y),
        f++
    }
    , un, function() {
        B(n)
    }
    , function() {
        n ^= L(),
        p(n),
        f++
    }
    , function() {
        i &= -132,
        1 & n && (i |= 1),
        (n >>= 1) || (i |= 2),
        n &= 255
    }
    , un, function() {
        f = C(f)
    }
    , function() {
        x(P),
        f += 2
    }
    , function() {
        g(P),
        f += 2
    }
    , un, function() {
        y(64)
    }
    , function() {
        x(O),
        f++
    }
    , un, un, un, function() {
        x(D),
        f++
    }
    , function() {
        g(D),
        f++
    }
    , un, function() {
        h(4)
    }
    , function() {
        x(T),
        f += 2
    }
    , un, un, un, function() {
        x(E),
        f += 2
    }
    , function() {
        g(E),
        f += 2
    }
    , un, function() {
        f = d(),
        f++
    }
    , function() {
        U(v),
        f++
    }
    , un, un, un, function() {
        U(Y),
        f++
    }
    , function() {
        j(Y),
        f++
    }
    , un, function() {
        n = I(),
        p(n)
    }
    , function() {
        var t = L()
          , u = t;
        8 & i ? (t = rn[t] + rn[n] + (1 & i ? 1 : 0),
        i &= -196,
        t > 99 && (i |= 1,
        t -= 100),
        i |= 0 == t ? 2 : 128 & t,
        M(u, n, t) && (i |= 64),
        n = Xn[t]) : (t += n + (1 & i ? 1 : 0),
        i &= -196,
        t > 255 && (i |= 1,
        t &= 255),
        i |= 0 == t ? 2 : 128 & t,
        M(u, n, t) && (i |= 64),
        n = t),
        f++
    }
    , function() {
        1 & i ? (0 == (1 & n) && (i &= -2),
        n = n >> 1 | 128) : (1 & n && (i |= 1),
        n >>= 1),
        p(n),
        n &= 255
    }
    , un, function() {
        var n = C(f);
        f = C(n)
    }
    , function() {
        U(P),
        f += 2
    }
    , function() {
        j(P),
        f += 2
    }
    , un, function() {
        V(64)
    }
    , function() {
        U(O),
        f++
    }
    , un, un, un, function() {
        U(D),
        f++
    }
    , function() {
        j(D),
        f++
    }
    , un, function() {
        J(4)
    }
    , function() {
        U(T),
        f += 2
    }
    , un, un, un, function() {
        U(E),
        f += 2
    }
    , function() {
        j(E),
        f += 2
    }
    , un, un, function() {
        k(v),
        f++
    }
    , un, un, function() {
        K(Y),
        f++
    }
    , function() {
        k(Y),
        f++
    }
    , function() {
        Q(Y),
        f++
    }
    , un, function() {
        u--,
        p(u &= 255)
    }
    , un, function() {
        p(n = t)
    }
    , un, function() {
        K(P),
        f += 2
    }
    , function() {
        k(P),
        f += 2
    }
    , function() {
        Q(P),
        f += 2
    }
    , un, function() {
        y(1)
    }
    , function() {
        k(O),
        f++
    }
    , un, un, function() {
        K(D),
        f++
    }
    , function() {
        k(D),
        f++
    }
    , function() {
        Q(a),
        f++
    }
    , un, function() {
        p(n = u)
    }
    , function() {
        k(T),
        f += 2
    }
    , function() {
        o = t
    }
    , un, un, function() {
        k(E),
        f += 2
    }
    , un, un, function() {
        u = L(),
        p(u),
        f++
    }
    , function() {
        _(v),
        f++
    }
    , function() {
        t = L(),
        p(t),
        f++
    }
    , un, function() {
        nn(Y),
        f++
    }
    , function() {
        _(Y),
        f++
    }
    , function() {
        tn(Y),
        f++
    }
    , un, function() {
        p(u = n)
    }
    , function() {
        n = L(),
        p(n),
        f++
    }
    , function() {
        p(t = n)
    }
    , un, function() {
        nn(P),
        f += 2
    }
    , function() {
        _(P),
        f += 2
    }
    , function() {
        tn(P),
        f += 2
    }
    , un, function() {
        V(1)
    }
    , function() {
        _(O),
        f++
    }
    , un, un, function() {
        nn(D),
        f++
    }
    , function() {
        _(D),
        f++
    }
    , function() {
        tn(a),
        f++
    }
    , un, function() {
        h(64)
    }
    , function() {
        _(T),
        f += 2
    }
    , function() {
        t = o
    }
    , un, function() {
        nn(E),
        f += 2
    }
    , function() {
        _(E),
        f += 2
    }
    , function() {
        tn(T),
        f += 2
    }
    , un, function() {
        var n = L();
        i &= -132,
        i |= u == n ? 3 : u > n ? 1 : 128,
        f++
    }
    , function() {
        z(v),
        f++
    }
    , un, un, function() {
        Z(Y),
        f++
    }
    , function() {
        z(Y),
        f++
    }
    , function() {
        G(Y),
        f++
    }
    , un, function() {
        u++,
        p(u &= 255)
    }
    , function() {
        var t = L();
        i &= -132,
        i |= n == t ? 3 : n > t ? 1 : 128,
        f++
    }
    , function() {
        t--,
        p(t &= 255)
    }
    , un, function() {
        Z(P),
        f += 2
    }
    , function() {
        z(P),
        f += 2
    }
    , function() {
        G(P),
        f += 2
    }
    , un, function() {
        y(2)
    }
    , function() {
        z(O),
        f++
    }
    , un, un, un, function() {
        z(D),
        f++
    }
    , function() {
        G(D),
        f++
    }
    , un, function() {
        h(8)
    }
    , function() {
        z(T),
        f += 2
    }
    , un, un, un, function() {
        z(E),
        f += 2
    }
    , function() {
        G(E),
        f += 2
    }
    , un, function() {
        var n = L();
        i &= -132,
        i |= t == n ? 3 : t > n ? 1 : 128,
        f++
    }
    , function() {
        F(v),
        f++
    }
    , un, un, function() {
        q(Y),
        f++
    }
    , function() {
        F(Y),
        f++
    }
    , function() {
        W(Y),
        f++
    }
    , un, function() {
        t++,
        p(t &= 255)
    }
    , function() {
        var t = L()
          , u = t;
        8 & i ? (t = rn[n] - rn[t] - (1 & i ? 0 : 1),
        i &= -196,
        l(u, n, t) && (i |= 64),
        0 == t ? i |= 3 : t > 0 ? i |= 1 : (i |= 128,
        t += 100),
        n = Xn[t]) : (t = n - t - (1 & i ? 0 : 1),
        i &= -196,
        0 == t ? i |= 3 : t > 0 && (i |= 1),
        i |= 128 & (t &= 255),
        l(u, n, t) && (i |= 64),
        n = t),
        f++
    }
    , function() {}
    , un, function() {
        q(P),
        f += 2
    }
    , function() {
        F(P),
        f += 2
    }
    , function() {
        W(P),
        f += 2
    }
    , un, function() {
        V(2)
    }
    , function() {
        F(O),
        f++
    }
    , un, un, un, function() {
        F(D),
        f++
    }
    , function() {
        W(D),
        f++
    }
    , un, function() {
        J(8)
    }
    , function() {
        F(T),
        f += 2
    }
    , un, un, un, function() {
        F(E),
        f += 2
    }
    , function() {
        W(E),
        f += 2
    }
    , un], rn = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165], Xn = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153], An = function() {
        R = !1;
        var n = L();
        f++,
        f &= 65535,
        c = 0,
        r = fn[n],
        cn[n](),
        f &= 65535;
        var t = on[n] + c;
        return e += t,
        S && S(t),
        t
    }, Sn = function() {
        f = C(65532),
        o = 255,
        n = t = u = 0,
        i = 32,
        R = !1,
        e = 0
    }, en = function(n, t) {
        for (var u = n.toString(16); u.length < t; )
            u = "0" + u;
        return u.toUpperCase()
    }, Rn = function(n) {
        return en(255 & n, 2)
    }, Cn = function(n) {
        return en(n, 4)
    }, Ln = [["BRK", 1], ["ORA (@,X)", 2], ["-", 0], ["SLO (@,X)", 2], ["-", 0], ["ORA *@", 2], ["ASL *@", 2], ["SLO *@", 2], ["PHP", 1], ["ORA #@", 2], ["ASL A", 1], ["ANC #@", 2], ["-", 0], ["ORA ^", 3], ["ASL ^", 3], ["SLO ^", 3], ["BPL @", 2], ["ORA (@),Y", 2], ["-", 0], ["SLO (@),Y", 2], ["-", 0], ["ORA *@,X", 2], ["ASL *@,X", 2], ["SLO *@,X", 2], ["CLC", 1], ["ORA ^,Y", 3], ["-", 0], ["SLO ^,Y", 3], ["-", 0], ["ORA ^,X", 3], ["ASL ^,X", 3], ["SLO ^,X", 3], ["JSR ^", 3], ["AND (@,X)", 2], ["-", 0], ["RLA (@,X)", 2], ["BIT *@", 2], ["AND *@", 2], ["ROL *@", 2], ["RLA *@", 2], ["PLP", 1], ["AND #@", 2], ["ROL A", 1], ["-", 0], ["BIT ^", 3], ["AND ^", 3], ["ROL ^", 3], ["RLA ^", 3], ["BMI @", 2], ["AND (@),Y", 2], ["-", 0], ["RLA (@),Y", 2], ["-", 0], ["AND *@,X", 2], ["ROL *@,X", 2], ["RLA *@,X", 2], ["SEC", 1], ["AND ^,Y", 3], ["-", 0], ["RLA ^,Y", 3], ["-", 0], ["AND ^,X", 3], ["ROL ^,X", 3], ["RLA ^,X", 3], ["RTI", 1], ["EOR (@,X)", 2], ["-", 0], ["SRE (@,X)", 2], ["-", 0], ["EOR *@", 2], ["LSR *@", 2], ["SRE *@", 2], ["PHA", 1], ["EOR #@", 2], ["LSR A", 1], ["ALR #@", 2], ["JMP ^", 3], ["EOR ^", 3], ["LSR ^", 3], ["SRE ^", 3], ["BVC @", 2], ["EOR (@),Y", 2], ["-", 0], ["SRE (@),Y", 2], ["-", 0], ["EOR *@,X", 2], ["LSR *@,X", 2], ["SRE *@,X", 2], ["CLI", 1], ["EOR ^,Y", 3], ["-", 0], ["SRE ^,Y", 3], ["-", 0], ["EOR ^,X", 3], ["LSR ^,X", 3], ["SRE ^,X", 3], ["RTS", 1], ["ADC (@,X)", 2], ["-", 0], ["RRA (@,X)", 2], ["-", 0], ["ADC *@", 2], ["ROR *@", 2], ["RRA *@", 2], ["PLA", 1], ["ADC #@", 2], ["ROR A", 1], ["ARR #@", 2], ["JMP (^)", 3], ["ADC ^", 3], ["ROR ^", 3], ["RRA ^", 3], ["BVS @", 2], ["ADC (@),Y", 2], ["-", 0], ["RRA (@),Y", 2], ["-", 0], ["ADC *@,X", 2], ["ROR *@,X", 2], ["RRA *@,X", 2], ["SEI", 1], ["ADC ^,Y", 3], ["-", 0], ["RRA ^,Y", 3], ["-", 0], ["ADC ^,X", 3], ["ROR ^,X", 3], ["RRA ^,X", 3], ["-", 0], ["STA (@,X)", 2], ["-", 0], ["SAX (@,X)", 2], ["STY *@", 2], ["STA *@", 2], ["STX *@", 2], ["SAX *@", 2], ["DEY", 1], ["-", 0], ["TXA", 1], ["XAA #@", 2], ["STY ^", 3], ["STA ^", 3], ["STX ^", 3], ["SAX ^", 3], ["BCC @", 2], ["STA (@),Y", 2], ["-", 0], ["AHX (@),Y", 2], ["STY *@,X", 2], ["STA *@,X", 2], ["STX *@,Y", 2], ["SAX *@,Y", 2], ["TYA", 1], ["STA ^,Y", 3], ["TXS", 1], ["TAS ^,Y", 3], ["SHY ^,X", 3], ["STA ^,X", 3], ["SHX ^,Y", 3], ["AHX ^,Y", 3], ["LDY #@", 2], ["LDA (@,X)", 2], ["LDX #@", 2], ["-", 0], ["LDY *@", 2], ["LDA *@", 2], ["LDX *@", 2], ["-", 0], ["TAY", 1], ["LDA #@", 2], ["TAX", 1], ["LAX #@", 2], ["LDY ^", 3], ["LDA ^", 3], ["LDX ^", 3], ["-", 0], ["BCS @", 2], ["LDA (@),Y", 2], ["-", 0], ["-", 0], ["LDY *@,X", 2], ["LDA *@,X", 2], ["LDX *@,Y", 2], ["-", 0], ["CLV", 1], ["LDA ^,Y", 3], ["TSX", 1], ["LAS ^,Y", 3], ["LDY ^,X", 3], ["LDA ^,X", 3], ["LDX ^,Y", 3], ["-", 0], ["CPY #@", 2], ["CMP (@,X)", 2], ["-", 0], ["DCP (@,X)", 2], ["CPY *@", 2], ["CMP *@", 2], ["DEC *@", 2], ["DCP *@", 2], ["INY", 1], ["CMP #@", 2], ["DEX", 1], ["AXS #@", 2], ["CPY ^", 3], ["CMP ^", 3], ["DEC ^", 3], ["DCP ^", 3], ["BNE @", 2], ["CMP (@),Y", 2], ["-", 0], ["DCP (@),Y", 2], ["-", 0], ["CMP *@,X", 2], ["DEC *@,X", 2], ["DCP *@,X", 2], ["CLD", 1], ["CMP ^,Y", 3], ["-", 0], ["DCP ^,Y", 3], ["-", 0], ["CMP ^,X", 3], ["DEC ^,X", 3], ["DCP ^,X", 3], ["CPX #@", 2], ["SBC (@,X)", 2], ["-", 0], ["ISC (@,X)", 2], ["CPX *@", 2], ["SBC *@", 2], ["INC *@", 2], ["ISC *@", 2], ["INX", 1], ["SBC #@", 2], ["NOP", 1], ["-", 0], ["CPX ^", 3], ["SBC ^", 3], ["INC ^", 3], ["ISC ^", 3], ["BEQ @", 2], ["SBC (@),Y", 2], ["-", 0], ["ISC (@),Y", 2], ["-", 0], ["SBC *@,X", 2], ["INC *@,X", 2], ["ISC *@,X", 2], ["SED", 1], ["SBC ^,Y", 3], ["-", 0], ["ISC ^,Y", 3], ["-", 0], ["SBC ^,X", 3], ["INC ^,X", 3], ["ISC ^,X", 3]];
    return {
        steps: function(n) {
            for (; n > 0; )
                if (n -= An(),
                R)
                    return void (e += n)
        },
        T: function() {
            return e
        },
        memr: function(n) {
            return A(n)
        },
        reset: Sn,
        init: function(n, t, u) {
            X = n,
            A = t,
            S = u,
            Sn()
        },
        status: function() {
            return {
                pc: f,
                sp: o,
                a: n,
                x: t,
                y: u,
                flags: i,
                break: R
            }
        },
        interrupt: function() {
            4 & i || (N(f),
            B(i),
            i |= 4,
            f = C(65534),
            e += 7)
        },
        nmi: function() {
            N(f),
            B(i),
            i |= 4,
            f = C(65530),
            e += 7
        },
        set: function(i, c) {
            switch (i) {
            case "PC":
                return void (f = c);
            case "A":
                return void (n = c);
            case "X":
                return void (t = c);
            case "Y":
                return void (u = c);
            case "SP":
                return void (o = c)
            }
        },
        flagsToString: function() {
            for (var n = "", t = "NV1BDIZC", u = 0; u < 8; u++)
                n += 0 == (i & 128 >> u) ? t[u].toLowerCase() : t[u];
            return n
        },
        disasm: function(n, t, u, i) {
            var o = Ln[n]
              , f = o[0]
              , c = Rn(t)
              , r = Cn(t < 128 ? t + i + 2 : i + t - 256 + 2);
            f = (f = f.replace(" @", " $" + r)).replace("@", "$" + c);
            var X = Rn(u) + Rn(t);
            return f = f.replace("^", "$" + X),
            [f, o[1]]
        }
    }
});
!function(e, a) {
    "undefined" != typeof module ? module.exports = a() : "function" == typeof define && "object" == typeof define.amd ? define(a) : this.CPU6800 = a()
}(0, function() {
    var e, a, c, r, n, s, t, u, b, k = 0, A = !1, B = function(e) {
        return 256 * u(e) + u(65535 & e + 1)
    }, o = function(e) {
        return 256 * u(255 & e) + u(255 & e + 1)
    }, i = function(e, a) {
        t(e, a >> 8 & 255),
        t(e + 1 & 65535, 255 & a)
    }, f = function(e) {
        t(255 & e, data >> 8 & 255),
        t(e + 1 & 255, 255 & data)
    }, S = [0, 2, 0, 0, 0, 0, 2, 2, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2, 0, 2, 0, 2, 0, 0, 0, 0, 4, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 5, 0, 10, 0, 0, 9, 12, 2, 0, 0, 2, 2, 0, 2, 2, 2, 2, 2, 0, 2, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 2, 2, 2, 2, 0, 2, 2, 0, 2, 7, 0, 0, 7, 7, 0, 7, 7, 7, 7, 7, 0, 7, 7, 4, 7, 6, 0, 0, 6, 6, 0, 6, 6, 6, 6, 6, 0, 6, 6, 3, 6, 2, 2, 2, 0, 2, 2, 2, 0, 2, 2, 2, 2, 3, 8, 3, 0, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 4, 0, 4, 5, 5, 5, 5, 0, 5, 5, 5, 6, 5, 5, 5, 5, 6, 8, 6, 7, 4, 4, 4, 0, 4, 4, 4, 5, 4, 4, 4, 4, 5, 9, 5, 6, 2, 2, 2, 0, 2, 2, 2, 0, 2, 2, 2, 2, 0, 0, 3, 0, 3, 3, 3, 0, 3, 3, 3, 4, 3, 3, 3, 3, 0, 0, 4, 5, 5, 5, 5, 0, 5, 5, 5, 6, 5, 5, 5, 5, 0, 0, 6, 7, 4, 4, 4, 0, 4, 4, 4, 5, 4, 4, 4, 4, 0, 0, 5, 6], C = [-1, 0, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, -1, -1, -1, 0, 0, -1, 0, -1, 0, -1, -1, -1, -1, 6, -1, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, -1, 0, -1, -1, 0, 0, 0, -1, -1, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, -1, 0, 0, -1, -1, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, -1, 0, 4, -1, -1, 4, 4, -1, 4, 4, 4, 4, 4, -1, 4, 4, 4, 4, 3, -1, -1, 3, 3, -1, 3, 3, 3, 3, 3, -1, 3, 3, 3, 3, 5, 5, 5, -1, 5, 5, 5, -1, 5, 5, 5, 5, 2, 6, 2, -1, 1, 1, 1, -1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, 1, 1, 4, 4, 4, -1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, -1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, -1, 5, 5, 5, -1, 5, 5, 5, 5, -1, -1, 2, -1, 1, 1, 1, -1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, 1, 1, 4, 4, 4, -1, 4, 4, 4, 4, 4, 4, 4, 4, -1, -1, 4, 4, 3, 3, 3, -1, 3, 3, 3, 3, 3, 3, 3, 3, -1, -1, 3, 3], X = function() {
        var e = u(s++);
        return s &= 65535,
        e
    }, D = [function() {}
    , function() {
        var e = X();
        return u(e)
    }
    , function() {
        return 256 * X() + X()
    }
    , function() {
        var e = X()
          , a = X();
        return u(256 * e + a)
    }
    , function() {
        var e = X();
        return u(e + c)
    }
    , function() {
        return X()
    }
    , function() {
        return 128 - X() + s
    }
    ], R = [function() {}
    , function(e) {
        var a = X();
        t(a, e)
    }
    , function(e) {}
    , function(e) {
        var a = X()
          , c = X();
        t(256 * a + c, e)
    }
    , function(e) {
        var a = X();
        t(a + c, e)
    }
    , function(e) {}
    , function(e) {}
    ], L = function(e) {
        return r &= -13,
        0 === e ? r |= 4 : 128 & e && (r |= 8),
        e
    }, T = function(e) {
        return r &= -5,
        0 === e && (r |= 4),
        e
    }, O = function(e) {
        return r &= -9,
        128 & e && (r |= 8),
        e
    }, E = function(e) {
        return L(e),
        r &= 253,
        e
    }, v = function(e, a, c) {
        r &= -33,
        e >> 3 & 1 & a >> 3 & 1 | a >> 3 & 1 & ~(c >> 3 & 1) | e >> 3 & 1 & ~(c >> 3 & 1) && (r |= 32)
    }, I = function(e, a, c) {
        r &= -2,
        e >> 7 & 1 & a >> 7 & 1 | a >> 7 & 1 & ~(c >> 7 & 1) | e >> 7 & 1 & ~(c >> 7 & 1) && (r |= 1)
    }, P = function(e, a, c) {
        r &= -3,
        e >> 7 & 1 & ~(a >> 7 & 1) & ~(c >> 7 & 1) | a >> 7 & 1 & ~(e >> 7 & 1) & c >> 7 & 1 && (r |= 2)
    }, l = function(e) {
        return r &= -3,
        128 === e && (r |= 2),
        e
    }, N = function(e) {
        return r &= -3,
        127 === e && (r |= 2),
        e
    }, d = function(e) {
        return r &= -2,
        128 & e && (r |= 1),
        e
    }, p = function(e) {
        return r &= -2,
        1 & e && (r |= 1),
        e
    }, M = function(e) {
        return r &= -6,
        r |= 0 === e ? 4 : 1,
        e
    }, U = function(e) {
        return (!1 & (r &= -3) || !1 & r) && (r |= 2),
        e
    }, V = function(e) {
        return O(l(M(e)))
    }, m = function(e) {
        var a = 256 * X() + X()
          , c = e(u(a));
        null !== c && t(a, 255 & c)
    }, g = function(e) {
        var a = X() + IX
          , c = e(u(a));
        null !== c && t(a, 255 & c)
    }, G = function(e) {
        return e < 128 ? e : e - 256
    }, h = function() {
        A = !1;
        var M = X()
          , h = C[M]
          , w = null
          , F = null;
        h >= 0 && (w = D[h],
        F = R[h]);
        var H, J, x;
        switch (M) {
        case 1:
            break;
        case 6:
            r = 63 & e;
            break;
        case 7:
            e = r;
            break;
        case 8:
            T(c = c + 1 & 65535);
            break;
        case 9:
            T(c = c - 1 & 65535);
            break;
        case 10:
            r &= 61;
            break;
        case 11:
            r |= 2;
            break;
        case 12:
            r &= 62;
            break;
        case 13:
            r |= 1;
            break;
        case 14:
            r &= 47;
            break;
        case 15:
            r |= 16;
            break;
        case 16:
            H = e,
            I(e, a, H -= a),
            P(e, a, H),
            O(e = 255 & H),
            T(e);
            break;
        case 17:
            H = e,
            H -= a,
            a > e ? r |= 1 : r &= 62,
            P(e, a, H),
            O(255 & H),
            T(255 & H);
            break;
        case 22:
            a = E(e);
            break;
        case 23:
            e = E(a);
            break;
        case 25:
            H = e,
            (15 & e) > 9 | 32 & r && P(H, 6, e += 6),
            (240 & e) >> 8 > 9 | 1 & r && P(H, 96, e += 96),
            (15 & e) > 9 & 144 == (240 & e) && P(H, 96, e += 96),
            (240 & e) >> 8 > 9 && (r.C = 1),
            O(e),
            T(e);
            break;
        case 27:
            H = e,
            v(e, a, H += a),
            I(e, a, H),
            P(e, a, H),
            O(e = 255 & H),
            T(e);
            break;
        case 32:
            H = X(),
            s += G(H);
            break;
        case 35:
            H = X(),
            1 & r | r.fZER || (s += G(H));
            break;
        case 36:
            H = X(),
            1 & r | r.fZER && (s += G(H));
            break;
        case 36:
            H = X(),
            1 & r || (s += G(H));
            break;
        case 37:
            H = X(),
            1 & r && (s += G(H));
            break;
        case 38:
            H = X(),
            4 & r || (s += G(H));
            break;
        case 39:
            H = X(),
            4 & r && (s += G(H));
            break;
        case 40:
            H = X(),
            2 & r || (s += G(H));
            break;
        case 41:
            H = X(),
            2 & r && (s += G(H));
            break;
        case 42:
            H = X(),
            8 & r || (s += G(H));
            break;
        case 43:
            H = X(),
            8 & r && (s += G(H));
            break;
        case 44:
            H = X(),
            8 & r ^ r.fOVF || (s += G(H));
            break;
        case 45:
            H = X(),
            8 & r ^ r.fOVF && (s += G(H));
            break;
        case 46:
            H = X(),
            8 & r ^ r.fOVF || 4 & r || (s += G(H));
            break;
        case 47:
            H = X(),
            8 & r ^ r.fOVF && 4 & r && (s += G(H));
            break;
        case 48:
            c = n + 1 & 65535;
            break;
        case 53:
            n = c - 1 & 65535;
            break;
        case 49:
            n = n + 1 & 65535;
            break;
        case 52:
            n = n - 1 & 65535;
            break;
        case 50:
            e = u(n = n + 1 & 65535);
            break;
        case 51:
            a = u(n = n + 1 & 65535);
            break;
        case 54:
            t(n, e),
            n = n - 1 & 65535;
            break;
        case 55:
            t(n, a),
            n = n - 1 & 65535;
            break;
        case 57:
            s = (u((n += 2) - 1) << 8) + u(n);
            break;
        case 59:
            r = 63 & u(++n),
            a = u(++n),
            e = u(++n),
            c = (u((n += 2) - 1) << 8) + u(n),
            s = (u((n += 2) - 1) << 8) + u(n);
            break;
        case 63:
            t(n--, 255 & s),
            t(n--, s >> 8 & 255),
            t(n--, 255 & c),
            t(n--, c >> 8 & 255),
            t(n--, e),
            t(n--, a),
            t(n--, r),
            r |= 16,
            s = B(65530);
            break;
        case 64:
            e = V(0 - e & 255);
            break;
        case 80:
            a = V(0 - a & 255);
            break;
        case 96:
            g(function(e) {
                return V(0 - e & 255)
            });
            break;
        case 112:
            m(function(e) {
                return V(0 - e & 255)
            });
            break;
        case 67:
            e = E(255 & ~e),
            r |= 1;
            break;
        case 83:
            a = E(255 & ~a),
            r |= 1;
            break;
        case 99:
            g(function(e) {
                return r |= 1,
                E(255 & ~e)
            });
            break;
        case 115:
            m(function(e) {
                return r |= 1,
                E(255 & ~e)
            });
            break;
        case 68:
            H = e,
            p(e),
            e = L(255 & (H >>= 1)),
            U(e);
            break;
        case 84:
            H = a,
            p(a),
            a = L(255 & (H >>= 1)),
            U(a);
            break;
        case 100:
            g(function(e) {
                return H = e,
                p(e),
                H >>= 1,
                e = L(255 & H),
                U(e)
            });
            break;
        case 116:
            m(function(e) {
                return H = e,
                p(e),
                H >>= 1,
                e = L(255 & H),
                U(e)
            });
            break;
        case 70:
            H = e,
            x = 1 & r,
            p(e),
            e = L(255 & (H = (H >> 1) + (x << 7))),
            U(e);
            break;
        case 86:
            H = a,
            x = 1 & r,
            p(a),
            a = L(255 & (H = (H >> 1) + (x << 7))),
            U(a);
            break;
        case 102:
            g(function(e) {
                return H = e,
                x = 1 & r,
                p(e),
                H = (H >> 1) + (x << 7),
                e = L(255 & H),
                U(e)
            });
            break;
        case 118:
            m(function(e) {
                return H = e,
                x = 1 & r,
                p(e),
                H = (H >> 1) + (x << 7),
                e = L(255 & H),
                U(e)
            });
            break;
        case 71:
            H = e,
            p(e),
            e = L(255 & (H = (H >> 1) + (128 & H))),
            U(e);
            break;
        case 87:
            H = a,
            p(a),
            a = L(255 & (H = (H >> 1) + (128 & H))),
            U(a);
            break;
        case 103:
            g(function(e) {
                return H = e,
                p(e),
                H = (H >> 1) + (128 & H),
                e = L(255 & H),
                U(e)
            });
            break;
        case 119:
            m(function(e) {
                return H = e,
                p(e),
                H = (H >> 1) + (128 & H),
                e = L(255 & H),
                U(e)
            });
            break;
        case 72:
            H = e,
            d(e),
            e = L(255 & (H <<= 1)),
            U(e);
            break;
        case 88:
            H = a,
            d(a),
            a = L(255 & (H <<= 1)),
            U(a);
            break;
        case 104:
            g(function(e) {
                return H = e,
                d(e),
                H <<= 1,
                e = L(255 & H),
                U(e)
            });
            break;
        case 120:
            m(function(e) {
                return H = e,
                d(e),
                H <<= 1,
                e = L(255 & H),
                U(e)
            });
            break;
        case 73:
            H = e,
            x = 1 & r,
            d(e),
            e = L(255 & (H = (H << 1) + x)),
            U(e);
            break;
        case 89:
            H = a,
            x = 1 & r,
            d(a),
            a = L(255 & (H = (H << 1) + x)),
            U(a);
            break;
        case 105:
            g(function(e) {
                return H = e,
                x = 1 & r,
                d(e),
                H = (H << 1) + x,
                e = L(255 & H),
                U(e)
            });
            break;
        case 121:
            m(function(e) {
                return H = e,
                x = 1 & r,
                d(e),
                H = (H << 1) + x,
                e = L(255 & H),
                U(e)
            });
            break;
        case 74:
            e = L(l(e) - 1 & 255);
            break;
        case 90:
            a = L(l(a) - 1 & 255);
            break;
        case 106:
            g(function(e) {
                return L(l(e) - 1 & 255)
            });
            break;
        case 122:
            m(function(e) {
                return L(l(e) - 1 & 255)
            });
            break;
        case 76:
            e = L(N(e) + 1 & 255);
            break;
        case 92:
            a = L(N(a) + 1 & 255);
            break;
        case 108:
            g(function(e) {
                return L(N(e) + 1 & 255)
            });
            break;
        case 124:
            m(function(e) {
                return L(N(e) + 1 & 255)
            });
            break;
        case 77:
            E(255 & e),
            r &= 62;
            break;
        case 93:
            E(255 & a),
            r &= 62;
            break;
        case 109:
            g(function(e) {
                return E(e),
                r &= 62,
                null
            });
            break;
        case 125:
            m(function(e) {
                return E(e),
                r &= 62,
                null
            });
            break;
        case 110:
            s = c + w;
            break;
        case 126:
            s = (w() << 8) + w();
            break;
        case 79:
            e = V(0);
            break;
        case 95:
            a = V(0);
            break;
        case 111:
            g(function(e) {
                return V(0)
            });
            break;
        case 127:
            m(function(e) {
                return V(0)
            });
            break;
        case 128:
        case 144:
        case 160:
        case 176:
            H = e,
            J = w(),
            H -= J,
            J > e ? r |= 1 : r &= 62,
            P(e, J, H),
            O(e = 255 & H),
            T(e);
            break;
        case 192:
        case 208:
        case 224:
        case 240:
            H = a,
            J = w(),
            H -= J,
            J > a ? r |= 1 : r &= 62,
            P(a, J, H),
            O(a = 255 & H),
            T(a);
            break;
        case 129:
        case 145:
        case 161:
        case 177:
            H = e,
            J = w(),
            H -= J,
            J > e ? r |= 1 : r &= 62,
            P(e, J, H),
            O(255 & H),
            T(255 & H);
            break;
        case 193:
        case 209:
        case 225:
        case 241:
            H = a,
            J = w(),
            H -= J,
            J > a ? r |= 1 : r &= 62,
            P(a, J, H),
            O(255 & H),
            T(255 & H);
            break;
        case 130:
        case 146:
        case 162:
        case 178:
            H = e,
            J = w(),
            H -= J,
            H -= 1 & r,
            J > e ? r |= 1 : r &= 62,
            P(e, J, H),
            O(e = 255 & H),
            T(e);
            break;
        case 194:
        case 210:
        case 226:
        case 242:
            H = a,
            J = w(),
            H -= J,
            H -= 1 & r,
            J > a ? r |= 1 : r &= 62,
            P(a, J, H),
            O(a = 255 & H),
            T(a);
            break;
        case 132:
        case 148:
        case 164:
        case 180:
            e = E(e & w());
            break;
        case 196:
        case 212:
        case 228:
        case 244:
            a = E(a & w());
            break;
        case 133:
        case 149:
        case 165:
        case 181:
            E(e & w());
            break;
        case 197:
        case 213:
        case 229:
        case 245:
            E(a & w());
            break;
        case 134:
        case 150:
        case 166:
        case 182:
            e = E(w());
            break;
        case 198:
        case 214:
        case 230:
        case 246:
            a = E(w());
            break;
        case 151:
        case 167:
        case 183:
            F(E(e));
            break;
        case 215:
        case 231:
        case 247:
            F(E(a));
            break;
        case 136:
        case 152:
        case 168:
        case 184:
            e = E(e ^ w());
            break;
        case 200:
        case 216:
        case 232:
        case 248:
            a = E(a ^ w());
            break;
        case 137:
        case 153:
        case 169:
        case 185:
            H = e,
            J = w(),
            v(e, J, H += J + (1 & r)),
            I(e, J, H),
            P(e, J, H),
            O(e = 255 & H),
            T(e);
            break;
        case 201:
        case 217:
        case 233:
        case 249:
            H = a,
            J = w(),
            v(a, J, H += J + (1 & r)),
            I(a, J, H),
            P(a, J, H),
            O(a = 255 & H),
            T(a);
            break;
        case 138:
        case 154:
        case 170:
        case 186:
            e = E(e | w());
            break;
        case 202:
        case 218:
        case 234:
        case 250:
            a = E(a | w());
            break;
        case 139:
        case 155:
        case 171:
        case 187:
            H = e,
            J = w(),
            v(e, J, H += J),
            I(e, J, H),
            P(e, J, H),
            O(e = 255 & H),
            T(e);
            break;
        case 203:
        case 219:
        case 235:
        case 251:
            H = a,
            J = w(),
            v(a, J, H += J),
            I(a, J, H),
            P(a, J, H),
            O(a = 255 & H),
            T(a);
            break;
        case 140:
            H = (X() << 8) + X(),
            P(c, J = H, H = c - H),
            O(H >> 8),
            T(H);
            break;
        case 156:
            H = o(X()),
            P(c, J = H, H = c - H),
            O(H >> 8),
            T(H);
            break;
        case 172:
            H = B(X() + c),
            P(c, J = H, H = c - H),
            O(H >> 8),
            T(H);
            break;
        case 188:
            H = (X() << 8) + X(),
            H = B(H),
            P(c, J = H, H = c - H),
            O(H >> 8),
            T(H);
            break;
        case 173:
            J = X(),
            t(n--, 255 & s),
            t(n--, s >> 8 & 255),
            s = c + J;
            break;
        case 189:
            J = (X() << 8) + X(),
            t(n--, 255 & s),
            t(n--, s >> 8 & 255),
            s = J;
            break;
        case 142:
            n = (X() << 8) + X(),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 158:
            n = o(X()),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 174:
            n = B(X() + c),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 190:
            H = (X() << 8) + X(),
            n = B(H),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 206:
            c = (X() << 8) + X(),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 222:
            c = o(X()),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 238:
            c = B(X() + c),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 254:
            H = (X() << 8) + X(),
            c = B(H),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 159:
            f(X()),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 175:
            i(X() + c, n),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 191:
            H = (X() << 8) + X(),
            i(H, n),
            r &= -3,
            O(n >> 8),
            T(n);
            break;
        case 223:
            f(X()),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 239:
            i(X() + c, c),
            r &= -3,
            O(c >> 8),
            T(c);
            break;
        case 255:
            H = (X() << 8) + X(),
            i(H, c),
            r &= -3,
            O(c >> 8),
            T(c)
        }
        s &= 65535;
        var y = S[M];
        return k += y,
        b && b(y),
        y
    }, w = function() {
        s = B(65534),
        e = a = c = 0,
        r = 16,
        A = !1,
        k = 0
    }, F = function(e, a) {
        for (var c = e.toString(16); c.length < a; )
            c = "0" + c;
        return c.toUpperCase()
    }, H = function(e) {
        return F(255 & e, 2)
    }, J = function(e) {
        return F(e, 4)
    }, x = [["-", 0], ["NOP", 1], ["-", 0], ["-", 0], ["-", 0], ["-", 0], ["TAP", 1], ["TPA", 1], ["INX", 1], ["DEX", 1], ["CLV", 1], ["SEV", 1], ["CLC", 1], ["SEC", 1], ["CLI", 1], ["SEI", 1], ["SBA", 1], ["CBA", 1], ["-", 0], ["-", 0], ["-", 0], ["-", 0], ["TAB", 1], ["TBA", 1], ["-", 0], ["DAA", 1], ["-", 0], ["ABA", 1], ["-", 0], ["-", 0], ["-", 0], ["-", 0], ["BRA ~", 2], ["-", 0], ["BHI ~", 2], ["BLS ~", 2], ["BCC ~", 2], ["BCS ~", 2], ["BNE ~", 2], ["BEQ ~", 2], ["BVC ~", 2], ["BVS ~", 2], ["BPL ~", 2], ["BMI ~", 2], ["BGE ~", 2], ["BLT ~", 2], ["BGT ~", 2], ["BLE ~", 2], ["TSX", 1], ["INS", 1], ["PULA", 1], ["PULB", 1], ["DES", 1], ["TXS", 1], ["PSHA", 1], ["PSHB", 1], ["-", 0], ["RTS", 1], ["-", 0], ["RTI", 1], ["-", 0], ["-", 0], ["WAI", 1], ["SWI", 1], ["NEGA", 1], ["-", 0], ["-", 0], ["COMA", 1], ["LSRA", 1], ["-", 0], ["RORA", 1], ["ASRA", 1], ["ASLA", 1], ["ROLA", 1], ["DECA", 1], ["-", 0], ["INCA", 1], ["TSTA", 1], ["-", 0], ["CLRA", 1], ["NEGB", 1], ["-", 0], ["-", 0], ["COMB", 1], ["LSRB", 1], ["-", 0], ["RORB", 1], ["ASRB", 1], ["ASLB", 1], ["ROLB", 1], ["DECB", 1], ["-", 0], ["INCB", 1], ["TSTB", 1], ["-", 0], ["CLRB", 1], ["NEG @,X", 2], ["-", 0], ["-", 0], ["COM @,X", 2], ["LSR @,X", 2], ["-", 0], ["ROR @,X", 2], ["ASR @,X", 2], ["ASL @,X", 2], ["ROL @,X", 2], ["DEC @,X", 2], ["-", 0], ["INC @,X", 2], ["TST @,X", 2], ["JMP @,X", 2], ["CLR @,X", 2], ["NEG ^", 3], ["-", 0], ["-", 0], ["COM ^", 3], ["LSR ^", 3], ["-", 0], ["ROR ^", 3], ["ASR ^", 3], ["ASL ^", 3], ["ROL ^", 3], ["DEC ^", 3], ["-", 0], ["INC ^", 3], ["TST ^", 3], ["JMP ^", 3], ["CLR ^", 3], ["SUBA #@", 2], ["CMPA #@", 2], ["SBCA #@", 2], ["-", 0], ["ANDA #@", 2], ["BITA #@", 2], ["LDAA #@", 2], ["-", 0], ["EORA #@", 2], ["ADCA #@", 2], ["ORAA #@", 2], ["ADDA #@", 2], ["CPX #^", 3], ["BSR ~", 2], ["LDS #^", 3], ["-", 0], ["SUBA @", 2], ["CMPA @", 2], ["SBCA @", 2], ["-", 0], ["ANDA @", 2], ["BITA @", 2], ["LDAA @", 2], ["STAA @", 2], ["EORA @", 2], ["ADCA @", 2], ["ORAA @", 2], ["ADDA @", 2], ["CPX @", 2], ["-", 0], ["LDS @", 2], ["STS @", 2], ["SUBA @,X", 2], ["CMPA @,X", 2], ["SBCA @,X", 2], ["-", 0], ["ANDA @,X", 2], ["BITA @,X", 2], ["LDAA @,X", 2], ["STAA @,X", 2], ["EORA @,X", 2], ["ADCA @,X", 2], ["ORAA @,X", 2], ["ADDA @,X", 2], ["CPX @,X", 2], ["JSR @,X", 2], ["LDS @,X", 2], ["STS @,X", 2], ["SUBA ^", 3], ["CMPA ^", 3], ["SBCA ^", 3], ["-", 0], ["ANDA ^", 3], ["BITA ^", 3], ["LDAA ^", 3], ["STAA ^", 3], ["EORA ^", 3], ["ADCA ^", 3], ["ORAA ^", 3], ["ADDA ^", 3], ["CPX ^", 3], ["JSR ^", 3], ["LDS ^", 3], ["STS ^", 3], ["SUBB #@", 2], ["CMPB #@", 2], ["SBCB #@", 2], ["-", 0], ["ANDB #@", 2], ["BITB #@", 2], ["LDAB #@", 2], ["-", 0], ["EORB #@", 2], ["ADCB #@", 2], ["ORAB #@", 2], ["ADDB #@", 2], ["-", 0], ["-", 0], ["LDX #^", 3], ["-", 0], ["SUBB @", 2], ["CMPB @", 2], ["SBCB @", 2], ["-", 0], ["ANDB @", 2], ["BITB @", 2], ["LDAB @", 2], ["STAB @", 2], ["EORB @", 2], ["ADCB @", 2], ["ORAB @", 2], ["ADDB @", 2], ["-", 0], ["-", 0], ["LDX @", 2], ["STX @", 2], ["SUBB @,X", 2], ["CMPB @,X", 2], ["SBCB @,X", 2], ["-", 0], ["ANDB @,X", 2], ["BITB @,X", 2], ["LDAB @,X", 2], ["STAB @,X", 2], ["EORB @,X", 2], ["ADCB @,X", 2], ["ORAB @,X", 2], ["ADDB @,X", 2], ["-", 0], ["-", 0], ["LDX @,X", 2], ["STX @,X", 2], ["SUBB ^", 3], ["CMPB ^", 3], ["SBCB ^", 3], ["-", 0], ["ANDB ^", 3], ["BITB ^", 3], ["LDAB ^", 3], ["STAB ^", 3], ["EORB ^", 3], ["ADCB ^", 3], ["ORAB ^", 3], ["ADDB ^", 3], ["-", 0], ["-", 0], ["LDX ^", 3], ["STX ^", 3]];
    return {
        steps: function(e) {
            for (; e > 0; )
                if (e -= h(),
                A)
                    return void (k += e)
        },
        T: function() {
            return k
        },
        memr: function(e) {
            return u(e)
        },
        reset: w,
        init: function(k, A, B) {
            t = k,
            u = A,
            b = B,
            n = 0,
            e = 0,
            a = 0,
            s = 0,
            r = 0,
            c = 0,
            w()
        },
        status: function() {
            return {
                pc: s,
                sp: n,
                a: e,
                b: a,
                x: c,
                flags: 63 & r,
                break: A
            }
        },
        interrupt: function() {
            16 & r || (t(n--, 255 & s),
            t(n--, s >> 8 & 255),
            t(n--, 255 & c),
            t(n--, c >> 8 & 255),
            t(n--, e),
            t(n--, a),
            t(n--, r),
            r |= 16,
            s = B(65528),
            k += 12)
        },
        nmi: function() {
            t(n--, 255 & s),
            t(n--, s >> 8 & 255),
            t(n--, 255 & c),
            t(n--, c >> 8 & 255),
            t(n--, e),
            t(n--, a),
            t(n--, r),
            r |= 16,
            s = B(65532),
            k += 12
        },
        set: function(t, u) {
            switch (t.toLowerCase()) {
            case "pc":
                return void (s = u);
            case "a":
                return void (e = u);
            case "b":
                return void (a = u);
            case "x":
                return void (c = u);
            case "sp":
                return void (n = u);
            case "flags":
                return void (r = 63 & u)
            }
        },
        flagsToString: function() {
            for (var e = "", a = "--HINZVC", c = 0; c < 8; c++)
                e += 0 === (r & 128 >> c) ? a[c].toLowerCase() : a[c];
            return e
        },
        disasm: function(e, a, c, r) {
            var n = x[e]
              , s = n[0]
              , t = H(a)
              , u = J(a < 128 ? a + r + 2 : r + a - 256 + 2);
            s = (s = s.replace("~", " $" + u)).replace("@", "$" + t);
            var b = H(a) + H(c);
            return s = s.replace("^", "$" + b),
            [s, n[1]]
        }
    }
});
!function(e, r) {
    "undefined" != typeof module ? module.exports = r() : "function" == typeof define && "object" == typeof define.amd ? define(r) : this.CPU1802 = r()
}(0, function() {
    var e, r, a, c, n, s, t = 0, L = 0, i = 0, u = 0, D = 0, S = 0, o = 0, I = 0, E = 0, P = 0, f = 0, b = 0, N = 0, k = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], C = function() {
        return k[L]
    }, d = function(e) {
        k[L] = e
    }, O = function() {
        return k[i]
    }, B = function(e) {
        k[i] = e
    }, A = function() {
        var e = C()
          , a = r(e++);
        return e &= 65535,
        d(e),
        a
    }, H = function(e) {
        var r = !1;
        switch (7 & e) {
        case 0:
            r = !0;
            break;
        case 1:
            r = 1 == E;
            break;
        case 2:
            r = 0 === u;
            break;
        case 3:
            r = 1 == D;
            break;
        case 4:
            r = 1 == P;
            break;
        case 5:
            r = 0 === f;
            break;
        case 6:
            r = 1 == b;
            break;
        case 7:
            r = 0 === N
        }
        return e > 7 ? !r : r
    }, v = function(e, r) {
        (u = u + e + r) > 255 ? (D = 1,
        u -= 256) : D = 0
    }, G = function(e, r) {
        (u = u - e - r) < 0 ? (D = 1,
        u += 256) : D = 0
    }, R = function(e, r) {
        (u = e - u - r) < 0 ? (D = 1,
        u += 256) : D = 0
    }, T = function() {
        D = 1 & u,
        u >>= 1
    }, X = function() {
        D = 128 & u ? 1 : 0,
        u <<= 1,
        u &= 255
    }, F = function() {
        D = 1 & (u |= D << 8),
        u >>= 1
    }, p = function() {
        u <<= 1,
        D = 256 & (u |= D) ? 1 : 0,
        u &= 255
    }, m = function() {
        if (1 == o)
            return t += 2,
            2;
        var P, f, b = C(), N = A(), m = !1, U = 15 & N;
        switch ((240 & N) >> 4) {
        case 0:
            if (0 === U) {
                o = 1;
                break
            }
            u = r(k[U]);
            break;
        case 1:
            k[U]++,
            k[U] &= 65535;
            break;
        case 2:
            k[U]--,
            k[U] &= 65535;
            break;
        case 4:
            u = r(k[U]++),
            k[U] &= 65535;
            break;
        case 5:
            e(k[U], u);
            break;
        case 8:
            u = 255 & k[U];
            break;
        case 9:
            u = (65280 & k[U]) >> 8;
            break;
        case 10:
            k[U] = 65280 & k[U] | 255 & u;
            break;
        case 11:
            k[U] = 255 & k[U] | (255 & u) << 8;
            break;
        case 13:
            L = U;
            break;
        case 14:
            i = U;
            break;
        case 3:
            P = H(U),
            f = A(),
            P && d(65280 & b | f);
            break;
        case 12:
            if (m = !0,
            (7 & U) < 4)
                P = H(U),
                f = A() << 8 | A(),
                P && d(f);
            else {
                if (4 == U)
                    break;
                P = !H(U - 4),
                12 == U && (P = 1 == S),
                P && (A(),
                A())
            }
            break;
        case 6:
            0 === U && B(O() + 1 & 65535),
            U < 8 && (f = O(),
            B(f + 1 & 65535),
            c && c(U, r(f))),
            U > 8 && (f = n ? n(U - 8, u) : 0,
            e(O(), f));
            break;
        case 7:
            switch (U) {
            case 0:
            case 1:
                f = r(O()),
                i = (240 & f) >> 4,
                L = 15 & f,
                B(O() + 1 & 65535),
                S = 0 === U ? 1 : 0;
                break;
            case 2:
                u = r(O()),
                B(O() + 1 & 65535);
                break;
            case 3:
                e(O(), u),
                B(O() - 1 & 65535);
                break;
            case 8:
                e(O(), I);
                break;
            case 9:
                I = L | i << 4,
                e(k[2], I),
                i = L,
                k[2] = k[2] - 1 & 65535;
                break;
            case 10:
                E = 0,
                s && s(0);
                break;
            case 11:
                E = 1,
                s && s(1);
                break;
            case 4:
                v(r(O()), D);
                break;
            case 12:
                v(A(), D);
                break;
            case 5:
                R(r(O()), D);
                break;
            case 13:
                R(A(), D);
                break;
            case 6:
                F();
                break;
            case 14:
                p();
                break;
            case 7:
                G(r(O()), D);
                break;
            case 15:
                G(A(), D)
            }
            break;
        case 15:
            switch (U) {
            case 0:
                u = r(O());
                break;
            case 1:
                u |= r(O());
                break;
            case 2:
                u &= r(O());
                break;
            case 3:
                u ^= r(O());
                break;
            case 8:
                f = A(),
                u = f;
                break;
            case 9:
                u |= A();
                break;
            case 10:
                u &= A();
                break;
            case 11:
                u ^= A();
                break;
            case 4:
                v(r(O()), 0);
                break;
            case 12:
                v(A(), 0);
                break;
            case 5:
                R(r(O()), 0);
                break;
            case 13:
                R(A(), 0);
                break;
            case 6:
                T();
                break;
            case 14:
                X();
                break;
            case 7:
                G(r(O()), 0);
                break;
            case 15:
                G(A(), 0)
            }
        }
        return t += 2,
        m && t++,
        time = m ? 3 : 2,
        a && a(time),
        time
    }, U = function() {
        k[0] = 0,
        L = 0,
        i = 0,
        E = 0,
        S = 1,
        o = 0,
        t = 0
    }, l = function(e, r) {
        for (var a = e.toString(16); a.length < r; )
            a = "0" + a;
        return a.toUpperCase()
    }, Q = function(e) {
        return l(255 & e, 2)
    }, h = function(e) {
        return l(e, 4)
    }, w = [["IDL", 1], ["LDN 1", 1], ["LDN 2", 1], ["LDN 3", 1], ["LDN 4", 1], ["LDN 5", 1], ["LDN 6", 1], ["LDN 7", 1], ["LDN 8", 1], ["LDN 9", 1], ["LDN A", 1], ["LDN B", 1], ["LDN C", 1], ["LDN D", 1], ["LDN E", 1], ["LDN F", 1], ["INC 0", 1], ["INC 1", 1], ["INC 2", 1], ["INC 3", 1], ["INC 4", 1], ["INC 5", 1], ["INC 6", 1], ["INC 7", 1], ["INC 8", 1], ["INC 9", 1], ["INC A", 1], ["INC B", 1], ["INC C", 1], ["INC D", 1], ["INC E", 1], ["INC F", 1], ["DEC 0", 1], ["DEC 1", 1], ["DEC 2", 1], ["DEC 3", 1], ["DEC 4", 1], ["DEC 5", 1], ["DEC 6", 1], ["DEC 7", 1], ["DEC 8", 1], ["DEC 9", 1], ["DEC A", 1], ["DEC B", 1], ["DEC C", 1], ["DEC D", 1], ["DEC E", 1], ["DEC F", 1], ["BR ~", 2], ["BQ ~", 2], ["BZ ~", 2], ["BDF ~", 2], ["B1 ~", 2], ["B2 ~", 2], ["B3 ~", 2], ["B4 ~", 2], ["SKP", 1], ["BNQ ~", 2], ["BNZ ~", 2], ["BNF ~", 2], ["BN1 ~", 2], ["BN2 ~", 2], ["BN3 ~", 2], ["BN4 ~", 2], ["LDA 0", 1], ["LDA 1", 1], ["LDA 2", 1], ["LDA 3", 1], ["LDA 4", 1], ["LDA 5", 1], ["LDA 6", 1], ["LDA 7", 1], ["LDA 8", 1], ["LDA 9", 1], ["LDA A", 1], ["LDA B", 1], ["LDA C", 1], ["LDA D", 1], ["LDA E", 1], ["LDA F", 1], ["STR 0", 1], ["STR 1", 1], ["STR 2", 1], ["STR 3", 1], ["STR 4", 1], ["STR 5", 1], ["STR 6", 1], ["STR 7", 1], ["STR 8", 1], ["STR 9", 1], ["STR A", 1], ["STR B", 1], ["STR C", 1], ["STR D", 1], ["STR E", 1], ["STR F", 1], ["IRX", 1], ["OUT 1", 1], ["OUT 2", 1], ["OUT 3", 1], ["OUT 4", 1], ["OUT 5", 1], ["OUT 6", 1], ["OUT 7", 1], ["---", 1], ["INP 1", 1], ["INP 2", 1], ["INP 3", 1], ["INP 4", 1], ["INP 5", 1], ["INP 6", 1], ["INP 7", 1], ["RET", 1], ["DIS", 1], ["LDXA", 1], ["STXD", 1], ["ADC", 1], ["SDB", 1], ["SHRC", 1], ["SMB", 1], ["SAV", 1], ["MARK", 1], ["REQ", 1], ["SEQ", 1], ["ADCI @", 2], ["SDBI @", 2], ["SHLC", 1], ["SMBI @", 2], ["GLO 0", 1], ["GLO 1", 1], ["GLO 2", 1], ["GLO 3", 1], ["GLO 4", 1], ["GLO 5", 1], ["GLO 6", 1], ["GLO 7", 1], ["GLO 8", 1], ["GLO 9", 1], ["GLO A", 1], ["GLO B", 1], ["GLO C", 1], ["GLO D", 1], ["GLO E", 1], ["GLO F", 1], ["GHI 0", 1], ["GHI 1", 1], ["GHI 2", 1], ["GHI 3", 1], ["GHI 4", 1], ["GHI 5", 1], ["GHI 6", 1], ["GHI 7", 1], ["GHI 8", 1], ["GHI 9", 1], ["GHI A", 1], ["GHI B", 1], ["GHI C", 1], ["GHI D", 1], ["GHI E", 1], ["GHI F", 1], ["PLO 0", 1], ["PLO 1", 1], ["PLO 2", 1], ["PLO 3", 1], ["PLO 4", 1], ["PLO 5", 1], ["PLO 6", 1], ["PLO 7", 1], ["PLO 8", 1], ["PLO 9", 1], ["PLO A", 1], ["PLO B", 1], ["PLO C", 1], ["PLO D", 1], ["PLO E", 1], ["PLO F", 1], ["PHI 0", 1], ["PHI 1", 1], ["PHI 2", 1], ["PHI 3", 1], ["PHI 4", 1], ["PHI 5", 1], ["PHI 6", 1], ["PHI 7", 1], ["PHI 8", 1], ["PHI 9", 1], ["PHI A", 1], ["PHI B", 1], ["PHI C", 1], ["PHI D", 1], ["PHI E", 1], ["PHI F", 1], ["LBR ^", 3], ["LBQ ^", 3], ["LBZ ^", 3], ["LBDF ^", 3], ["NOP", 1], ["LSNQ", 1], ["LSNZ", 1], ["LSNF", 1], ["LSKP", 1], ["LBNQ ^", 3], ["LBNZ ^", 3], ["LBNF ^", 3], ["LSIE", 1], ["LSQ", 1], ["LSZ", 1], ["LSDF", 1], ["SEP 0", 1], ["SEP 1", 1], ["SEP 2", 1], ["SEP 3", 1], ["SEP 4", 1], ["SEP 5", 1], ["SEP 6", 1], ["SEP 7", 1], ["SEP 8", 1], ["SEP 9", 1], ["SEP A", 1], ["SEP B", 1], ["SEP C", 1], ["SEP D", 1], ["SEP E", 1], ["SEP F", 1], ["SEX 0", 1], ["SEX 1", 1], ["SEX 2", 1], ["SEX 3", 1], ["SEX 4", 1], ["SEX 5", 1], ["SEX 6", 1], ["SEX 7", 1], ["SEX 8", 1], ["SEX 9", 1], ["SEX A", 1], ["SEX B", 1], ["SEX C", 1], ["SEX D", 1], ["SEX E", 1], ["SEX F", 1], ["LDX", 1], ["OR", 1], ["AND", 1], ["XOR", 1], ["ADD", 1], ["SD", 1], ["SHR", 1], ["SM", 1], ["LDI @", 2], ["ORI @", 2], ["ANI @", 2], ["XRI @", 2], ["ADI @", 2], ["SDI @", 2], ["SHL", 1], ["SMI @", 2]];
    return {
        steps: function(e) {
            for (; e > 0; )
                e -= m()
        },
        T: function() {
            return t
        },
        memr: function(e) {
            return r(e)
        },
        reset: U,
        init: function(t, L, i, u, D, S) {
            e = t,
            r = L,
            c = u,
            n = D,
            s = S,
            a = i,
            U()
        },
        status: function() {
            return {
                pc: k[L],
                sp: k[i],
                d: u,
                p: L,
                x: i,
                r0: k[0],
                r1: k[1],
                r2: k[2],
                r3: k[3],
                r4: k[4],
                r5: k[5],
                r6: k[6],
                r7: k[7],
                r8: k[8],
                r9: k[9],
                ra: k[10],
                rb: k[11],
                rc: k[12],
                rd: k[13],
                re: k[14],
                rf: k[15],
                df: D,
                q: E,
                ef1: P,
                ef2: f,
                ef3: b,
                ef4: N
            }
        },
        interrupt: function() {
            0 !== S && (S = 1,
            I = L | i << 4,
            i = 2,
            L = 1,
            t++,
            o = 0)
        },
        dmaOUT: function() {
            var e = r(k[0]);
            return k[0]++,
            o = 0,
            t++,
            e
        },
        dmaIN: function(r) {
            e(k[0], 255 & r),
            k[0]++,
            t++,
            o = 0
        },
        set: function(e, r) {
            switch (e.toLowerCase()) {
            case "pc":
                return void (k[L] = 65535 & r);
            case "d":
                return void (u = 255 & r);
            case "x":
                return void (i = 15 & r);
            case "p":
                return void (L = 15 & r);
            case "df":
                return void (D = 1 & r);
            case "sp":
                return void (k[i] = 65535 & r);
            case "r0":
                return void (k[0] = 65535 & r);
            case "r1":
                return void (k[1] = 65535 & r);
            case "r2":
                return void (k[2] = 65535 & r);
            case "r3":
                return void (k[3] = 65535 & r);
            case "r4":
                return void (k[4] = 65535 & r);
            case "r5":
                return void (k[5] = 65535 & r);
            case "r6":
                return void (k[6] = 65535 & r);
            case "r7":
                return void (k[7] = 65535 & r);
            case "r8":
                return void (k[8] = 65535 & r);
            case "r9":
                return void (k[9] = 65535 & r);
            case "ra":
                return void (k[10] = 65535 & r);
            case "rb":
                return void (k[11] = 65535 & r);
            case "rc":
                return void (k[12] = 65535 & r);
            case "rd":
                return void (k[13] = 65535 & r);
            case "re":
                return void (k[14] = 65535 & r);
            case "rf":
                return void (k[15] = 65535 & r);
            case "q":
                return void (E = 1 & r);
            case "ef1":
                return void (P = 1 & r);
            case "ef2":
                return void (f = 1 & r);
            case "ef3":
                return void (b = 1 & r);
            case "ef4":
                return void (N = 1 & r)
            }
        },
        flagsToString: function() {
            return 1 == D ? "DF" : "-"
        },
        disasm: function(e, r, a, c) {
            var n = w[e]
              , s = n[0]
              , t = Q(r)
              , L = h(65280 & c | 255 & r);
            s = (s = s.replace("~", "$" + L)).replace("@", "$" + t);
            var i = Q(r) + Q(a);
            return s = s.replace("^", "$" + i),
            [s, n[1]]
        }
    }
});
!function(e) {
    "undefined" != typeof module ? module.exports = e() : "function" == typeof define && "object" == typeof define.amd ? define(e) : this.CPU6809 = e()
}(function() {
    function c(e, a, r) {
        ue |= (128 & (e ^ a ^ r ^ r >> 1)) >> 6
    }
    function s(e, a, r) {
        ue |= (32768 & (e ^ a ^ r ^ r >> 1)) >> 14
    }
    function C() {
        return 256 * re + ce
    }
    function f(e) {
        re = e >> 8 & 255,
        ce = 255 & e
    }
    function L(e) {
        ie(--ne, 255 & e)
    }
    function R(e) {
        ie(--ne, 255 & e),
        ie(--ne, e >> 8 & 255)
    }
    function P(e) {
        ie(--ke, 255 & e)
    }
    function v(e) {
        ie(--ke, 255 & e),
        ie(--ke, e >> 8 & 255)
    }
    function T(e) {
        return Ae(ne++)
    }
    function M(e) {
        return 256 * Ae(ne++) + Ae(ne++)
    }
    function U(e) {
        return Ae(ke++)
    }
    function E(e) {
        return 256 * Ae(ke++) + Ae(ke++)
    }
    function b(e) {
        switch (15 & e) {
        case 0:
            return C();
        case 1:
            return se;
        case 2:
            return be;
        case 3:
            return ke;
        case 4:
            return ne;
        case 5:
            return te;
        case 8:
            return re;
        case 9:
            return ce;
        case 10:
            return ue;
        case 11:
            return Be;
        default:
            return null
        }
    }
    function k(e, a) {
        switch (15 & e) {
        case 0:
            return void f(a);
        case 1:
            return void (se = a);
        case 2:
            return void (be = a);
        case 3:
            return void (ke = a);
        case 4:
            return void (ne = a);
        case 5:
            return void (te = a);
        case 8:
            return void (re = a);
        case 9:
            return void (ce = a);
        case 10:
            return void (ue = a);
        case 11:
            return void (Be = a);
        default:
            return
        }
    }
    function d(e, a) {
        var r = 136 & e;
        128 != r && 8 != r || (r = 0),
        a ? (r = b(e >> 4),
        k(e >> 4, b(e)),
        k(e, r)) : k(e, b(e >> 4))
    }
    function O(e) {
        return 127 < e ? e - 256 : e
    }
    function N(e) {
        return 32767 < e ? e - 65536 : e
    }
    function I() {
        var e = Ae(te++);
        return te &= 65535,
        e
    }
    function l() {
        var e = Ae(te++);
        te &= 65535;
        var a = Ae(te++);
        return te &= 65535,
        256 * e + a
    }
    function X(e) {
        var a = Ae(e++);
        e &= 65535;
        var r = Ae(e++);
        return e &= 65535,
        256 * a + r
    }
    function Y(e, a) {
        ie(e++, a >> 8 & 255),
        ie(e &= 65535, 255 & a)
    }
    function h() {
        var e, a = I();
        switch (96 & a) {
        case 0:
            e = se;
            break;
        case 32:
            e = be;
            break;
        case 64:
            e = ke;
            break;
        case 96:
            e = ne
        }
        var r, c = null, s = null;
        if (128 & a) {
            switch (15 & a) {
            case 0:
                c = (s = e) + 1,
                Se += 2;
                break;
            case 1:
                c = (s = e) + 2,
                Se += 3;
                break;
            case 2:
                s = c = e - 1,
                Se += 2;
                break;
            case 3:
                s = c = e - 2,
                Se += 3;
                break;
            case 4:
                s = e;
                break;
            case 5:
                s = e + O(ce),
                Se += 1;
                break;
            case 6:
                s = e + O(re),
                Se += 1;
                break;
            case 7:
                s = 0;
                break;
            case 8:
                s = e + O(I()),
                Se += 1;
                break;
            case 9:
                s = e + N(l()),
                Se += 4;
                break;
            case 10:
                s = 0;
                break;
            case 11:
                Se += 4,
                s = e + C();
                break;
            case 12:
                r = O(I()),
                s = te + r,
                Se += 1;
                break;
            case 13:
                r = N(l()),
                s = te + r,
                Se += 5;
                break;
            case 14:
                s = 0;
                break;
            case 15:
                Se += 5,
                s = l()
            }
            s &= 65535,
            16 & a && (s = 256 * Ae(s) + Ae(s + 1 & 65535),
            Se += 3)
        } else {
            var b = 31 & a;
            15 < b && (b -= 32),
            s = e + b,
            Se += 1
        }
        if (null !== c)
            switch (96 & a) {
            case 0:
                se = c;
                break;
            case 32:
                be = c;
                break;
            case 64:
                ke = c;
                break;
            case 96:
                ne = c
            }
        return 65535 & s
    }
    function p(e) {
        ue &= -13,
        0 === e && (ue |= 4),
        32768 & e && (ue |= 8)
    }
    function w(e) {
        return e++,
        ue &= -15,
        ue |= fe[e &= 255],
        0 !== e && 128 != e || (ue |= 2),
        e
    }
    function G(e) {
        return e--,
        ue &= -15,
        ue |= fe[e &= 255],
        127 !== e && 255 != e || (ue |= 2),
        e
    }
    function $(e, a) {
        var r = e - a;
        return ue &= -16,
        ue |= fe[255 & r],
        256 & r && (ue |= 1),
        c(e, a, r),
        255 & r
    }
    function m(e, a) {
        var r = e - a;
        return ue &= -16,
        0 == (65535 & r) && (ue |= 4),
        32768 & r && (ue |= 8),
        65536 & r && (ue |= 1),
        s(e, a, r),
        65535 & r
    }
    function J(e, a) {
        var r = e + a;
        return ue &= -48,
        ue |= fe[255 & r],
        256 & r && (ue |= 1),
        c(e, a, r),
        16 & (r ^ e ^ a) && (ue |= 32),
        255 & r
    }
    function g(e, a) {
        var r = e + a;
        return ue &= -16,
        0 == (65535 & r) && (ue |= 4),
        32768 & r && (ue |= 8),
        65536 & r && (ue |= 1),
        s(e, a, r),
        65535 & r
    }
    function H(e, a) {
        var r = e + a + (1 & ue);
        return ue &= -48,
        ue |= fe[255 & r],
        256 & r && (ue |= 1),
        c(e, a, r),
        16 & (r ^ e ^ a) && (ue |= 32),
        255 & r
    }
    function V(e, a) {
        var r = e - a - (1 & ue);
        return ue &= -16,
        ue |= fe[255 & r],
        256 & r && (ue |= 1),
        c(e, a, r),
        255 & r
    }
    function x(e, a) {
        var r = e - a;
        ue &= -16,
        ue |= fe[255 & r],
        256 & r && (ue |= 1),
        c(e, a, r)
    }
    function y(e, a) {
        var r = e - a;
        ue &= -16,
        0 == (65535 & r) && (ue |= 4),
        32768 & r && (ue |= 8),
        65536 & r && (ue |= 1),
        s(e, a, r)
    }
    function W(e) {
        return ue &= -16,
        128 == e && (ue |= 2),
        ue |= 0 === (e = 1 + (255 & ~e)) ? 4 : 1,
        128 & e && (ue |= 8),
        128 & e && (ue |= 8),
        e
    }
    function j(e) {
        return ue &= -14,
        1 & e && (ue |= 1),
        0 === (e >>= 1) && (ue |= 4),
        255 & e
    }
    function F(e) {
        return ue &= -14,
        1 & e && (ue |= 1),
        ue |= fe[e = 128 & e | e >> 1],
        e
    }
    function Q(e) {
        var a = e;
        return ue &= -16,
        128 & e && (ue |= 1),
        ue |= fe[e <<= 1],
        128 & (e ^ a) && (ue |= 2),
        e
    }
    function Z(e) {
        var a = e
          , r = 1 & ue;
        return ue &= -16,
        128 & e && (ue |= 1),
        ue |= fe[e = e << 1 | r],
        128 & (e ^ a) && (ue |= 2),
        e
    }
    function q(e) {
        var a = 1 & ue;
        return ue &= -14,
        1 & e && (ue |= 1),
        ue |= fe[e = e >> 1 | a << 7],
        e
    }
    function z(e, a) {
        return ue &= -15,
        ue |= fe[e ^= a],
        e
    }
    function K(e, a) {
        return ue &= -15,
        ue |= fe[e |= a],
        e
    }
    function _(e, a) {
        return ue &= -15,
        ue |= fe[e &= a],
        e
    }
    function ee(e) {
        return ue &= -15,
        ue |= fe[e ^= 255],
        ue |= 1,
        e
    }
    function ae() {
        return 256 * Be + I()
    }
    function a() {
        var e, a, r, c, s, b, k, n, t = Se, u = null, B = null, i = I();
        switch (Se += De[i],
        i) {
        case 0:
            u = ae(),
            ie(u, W(Ae(u)));
            break;
        case 3:
            u = ae(),
            ie(u, ee(Ae(u)));
            break;
        case 4:
            u = ae(),
            ie(u, j(Ae(u)));
            break;
        case 6:
            u = ae(),
            ie(u, q(Ae(u)));
            break;
        case 7:
            u = ae(),
            ie(u, F(Ae(u)));
            break;
        case 8:
            u = ae(),
            ie(u, Q(Ae(u)));
            break;
        case 9:
            u = ae(),
            ie(u, Z(Ae(u)));
            break;
        case 10:
            u = ae(),
            ie(u, G(Ae(u)));
            break;
        case 12:
            u = ae(),
            ie(u, w(Ae(u)));
            break;
        case 13:
            u = ae(),
            B = Ae(u),
            ue &= -15,
            ue |= fe[B];
            break;
        case 14:
            u = ae(),
            te = u;
            break;
        case 15:
            u = ae(),
            ie(u, 0),
            ue &= -12,
            ue |= 4;
            break;
        case 18:
        case 19:
            break;
        case 22:
            u = N(l()),
            te += u;
            break;
        case 23:
            u = N(l()),
            R(te),
            te += u;
            break;
        case 25:
            var A, o = 0, S = 240 & re, D = 15 & re;
            (9 < D || 32 & ue) && (o |= 6),
            128 < S && 9 < D && (o |= 96),
            (144 < S || 1 & ue) && (o |= 96),
            ue &= -15,
            256 & (A = o + re) && (ue |= 1),
            ue |= fe[re = 255 & A];
            break;
        case 26:
            ue |= I();
            break;
        case 28:
            ue &= I();
            break;
        case 29:
            re = 128 & ce ? 255 : 0,
            p(C()),
            ue &= -3;
            break;
        case 30:
            B = I(),
            d(B, !0);
            break;
        case 31:
            B = I(),
            d(B, !1);
            break;
        case 32:
            u = O(I()),
            te += u;
            break;
        case 33:
            u = O(I());
            break;
        case 34:
            u = O(I()),
            5 & ue || (te += u);
            break;
        case 35:
            u = O(I()),
            5 & ue && (te += u);
            break;
        case 36:
            u = O(I()),
            1 & ue || (te += u);
            break;
        case 37:
            u = O(I()),
            1 & ue && (te += u);
            break;
        case 38:
            u = O(I()),
            4 & ue || (te += u);
            break;
        case 39:
            u = O(I()),
            4 & ue && (te += u);
            break;
        case 40:
            u = O(I()),
            2 & ue || (te += u);
            break;
        case 41:
            u = O(I()),
            2 & ue && (te += u);
            break;
        case 42:
            u = O(I()),
            8 & ue || (te += u);
            break;
        case 43:
            u = O(I()),
            8 & ue && (te += u);
            break;
        case 44:
            u = O(I()),
            8 & ue ^ (2 & ue) << 2 || (te += u);
            break;
        case 45:
            u = O(I()),
            8 & ue ^ (2 & ue) << 2 && (te += u);
            break;
        case 46:
            u = O(I()),
            8 & ue ^ (2 & ue) << 2 || 4 & ue || (te += u);
            break;
        case 47:
            u = O(I()),
            (8 & ue ^ (2 & ue) << 2 || 4 & ue) && (te += u);
            break;
        case 48:
            0 === (se = h()) ? ue |= 4 : ue &= -5;
            break;
        case 49:
            0 === (be = h()) ? ue |= 4 : ue &= -5;
            break;
        case 50:
            ne = h();
            break;
        case 51:
            ke = h();
            break;
        case 52:
            k = I(),
            n = 0,
            128 & k && (R(te),
            n += 2),
            64 & k && (R(ke),
            n += 2),
            32 & k && (R(be),
            n += 2),
            16 & k && (R(se),
            n += 2),
            8 & k && (L(Be),
            n++),
            4 & k && (L(ce),
            n++),
            2 & k && (L(re),
            n++),
            1 & k && (L(ue),
            n++),
            Se += n;
            break;
        case 53:
            s = I(),
            b = 0,
            1 & s && (ue = T(),
            b++),
            2 & s && (re = T(),
            b++),
            4 & s && (ce = T(),
            b++),
            8 & s && (Be = T(),
            b++),
            16 & s && (se = M(),
            b += 2),
            32 & s && (be = M(),
            b += 2),
            64 & s && (ke = M(),
            b += 2),
            128 & s && (te = M(),
            b += 2),
            Se += b;
            break;
        case 54:
            r = I(),
            c = 0,
            128 & r && (v(te),
            c += 2),
            64 & r && (v(ne),
            c += 2),
            32 & r && (v(be),
            c += 2),
            16 & r && (v(se),
            c += 2),
            8 & r && (P(Be),
            c++),
            4 & r && (P(ce),
            c++),
            2 & r && (P(re),
            c++),
            1 & r && (P(ue),
            c++),
            Se += c;
            break;
        case 55:
            e = I(),
            a = 0,
            1 & e && (ue = U(),
            a++),
            2 & e && (re = U(),
            a++),
            4 & e && (ce = U(),
            a++),
            8 & e && (Be = U(),
            a++),
            16 & e && (se = E(),
            a += 2),
            32 & e && (be = E(),
            a += 2),
            64 & e && (ne = E(),
            a += 2),
            128 & e && (te = E(),
            a += 2),
            Se += a;
            break;
        case 57:
            te = M();
            break;
        case 58:
            se += ce;
            break;
        case 59:
            (ue = T()) & oe && (Se += 9,
            re = T(),
            ce = T(),
            Be = T(),
            se = M(),
            be = M(),
            ke = M()),
            te = M();
            break;
        case 60:
            ue &= I();
            break;
        case 61:
            0 === (u = re * ce) ? ue |= 4 : ue &= -5,
            128 & u ? ue |= 1 : ue &= -2,
            f(u);
            break;
        case 63:
            ue |= oe,
            R(te),
            R(ke),
            R(be),
            R(se),
            L(Be),
            L(ce),
            L(re),
            L(ue),
            ue |= 80,
            te = X(65530);
            break;
        case 64:
            re = W(re);
            break;
        case 67:
            re = ee(re);
            break;
        case 68:
            re = j(re);
            break;
        case 70:
            re = q(re);
            break;
        case 71:
            re = F(re);
            break;
        case 72:
            re = Q(re);
            break;
        case 73:
            re = Z(re);
            break;
        case 74:
            re = G(re);
            break;
        case 76:
            re = w(re);
            break;
        case 77:
            ue &= -15,
            ue |= fe[re];
            break;
        case 79:
            re = 0,
            ue &= -12,
            ue |= 4;
            break;
        case 80:
            ce = W(ce);
            break;
        case 83:
            ce = ee(ce);
            break;
        case 84:
            ce = j(ce);
            break;
        case 86:
            ce = q(ce);
            break;
        case 87:
            ce = F(ce);
            break;
        case 88:
            ce = Q(ce);
            break;
        case 89:
            ce = Z(ce);
            break;
        case 90:
            ce = G(ce);
            break;
        case 92:
            ce = w(ce);
            break;
        case 93:
            ue &= -15,
            ue |= fe[ce];
            break;
        case 95:
            ce = 0,
            ue &= -12,
            ue |= 4;
            break;
        case 96:
            u = h(),
            ie(u, W(Ae(u)));
            break;
        case 99:
            u = h(),
            ie(u, ee(Ae(u)));
            break;
        case 100:
            u = h(),
            ie(u, j(Ae(u)));
            break;
        case 102:
            u = h(),
            ie(u, q(Ae(u)));
            break;
        case 103:
            u = h(),
            ie(u, F(Ae(u)));
            break;
        case 104:
            u = h(),
            ie(u, Q(Ae(u)));
            break;
        case 105:
            u = h(),
            ie(u, Z(Ae(u)));
            break;
        case 106:
            u = h(),
            ie(u, G(Ae(u)));
            break;
        case 108:
            u = h(),
            ie(u, w(Ae(u)));
            break;
        case 109:
            u = h(),
            B = Ae(u),
            ue &= -15,
            ue |= fe[B];
            break;
        case 110:
            u = h(),
            te = u;
            break;
        case 111:
            u = h(),
            ie(u, 0),
            ue &= -12,
            ue |= 4;
            break;
        case 112:
            u = l(),
            ie(u, W(Ae(u)));
            break;
        case 115:
            u = l(),
            ie(u, ee(Ae(u)));
            break;
        case 116:
            u = l(),
            ie(u, j(Ae(u)));
            break;
        case 118:
            u = l(),
            ie(u, q(Ae(u)));
            break;
        case 119:
            u = l(),
            ie(u, F(Ae(u)));
            break;
        case 120:
            u = l(),
            ie(u, Q(Ae(u)));
            break;
        case 121:
            u = l(),
            ie(u, Z(Ae(u)));
            break;
        case 122:
            u = l(),
            ie(u, G(Ae(u)));
            break;
        case 124:
            u = l(),
            ie(u, w(Ae(u)));
            break;
        case 125:
            u = l(),
            B = Ae(u),
            ue &= -15,
            ue |= fe[B];
            break;
        case 126:
            u = l(),
            te = u;
            break;
        case 127:
            u = l(),
            ie(u, 0),
            ue &= -12,
            ue |= 4;
            break;
        case 128:
            re = $(re, I());
            break;
        case 129:
            x(re, I());
            break;
        case 130:
            re = V(re, I());
            break;
        case 131:
            f(m(C(), l()));
            break;
        case 132:
            re = _(re, I());
            break;
        case 133:
            _(re, I());
            break;
        case 134:
            re = I(),
            ue &= -15,
            ue |= fe[re];
            break;
        case 136:
            re = z(re, I());
            break;
        case 137:
            re = H(re, I());
            break;
        case 138:
            re = K(re, I());
            break;
        case 139:
            re = J(re, I());
            break;
        case 140:
            y(se, l());
            break;
        case 141:
            u = O(I()),
            R(te),
            te += u;
            break;
        case 142:
            se = l(),
            p(se),
            ue &= -3;
            break;
        case 144:
            u = ae(),
            re = $(re, Ae(u));
            break;
        case 145:
            u = ae(),
            x(re, Ae(u));
            break;
        case 146:
            u = ae(),
            re = V(re, Ae(u));
            break;
        case 147:
            u = ae(),
            f(m(C(), X(u)));
            break;
        case 148:
            u = ae(),
            re = _(re, Ae(u));
            break;
        case 149:
            u = ae(),
            _(re, Ae(u));
            break;
        case 150:
            u = ae(),
            re = Ae(u),
            ue &= -15,
            ue |= fe[re];
            break;
        case 151:
            u = ae(),
            ie(u, re),
            ue &= -15,
            ue |= fe[re];
            break;
        case 152:
            u = ae(),
            re = z(re, Ae(u));
            break;
        case 153:
            u = ae(),
            re = H(re, Ae(u));
            break;
        case 154:
            u = ae(),
            re = K(re, Ae(u));
            break;
        case 155:
            u = ae(),
            re = J(re, Ae(u));
            break;
        case 156:
            u = ae(),
            y(se, X(u));
            break;
        case 157:
            u = ae(),
            R(te),
            te = u;
            break;
        case 158:
            u = ae(),
            se = X(u),
            p(se),
            ue &= -3;
            break;
        case 159:
            u = ae(),
            Y(u, se),
            p(se),
            ue &= -3;
            break;
        case 160:
            u = h(),
            re = $(re, Ae(u));
            break;
        case 161:
            u = h(),
            x(re, Ae(u));
            break;
        case 162:
            u = h(),
            re = V(re, Ae(u));
            break;
        case 163:
            u = h(),
            f(m(C(), X(u)));
            break;
        case 164:
            u = h(),
            re = _(re, Ae(u));
            break;
        case 165:
            u = h(),
            _(re, Ae(u));
            break;
        case 166:
            u = h(),
            re = Ae(u),
            ue &= -15,
            ue |= fe[re];
            break;
        case 167:
            u = h(),
            ie(u, re),
            ue &= -15,
            ue |= fe[re];
            break;
        case 168:
            u = h(),
            re = z(re, Ae(u));
            break;
        case 169:
            u = h(),
            re = H(re, Ae(u));
            break;
        case 170:
            u = h(),
            re = K(re, Ae(u));
            break;
        case 171:
            u = h(),
            re = J(re, Ae(u));
            break;
        case 172:
            u = h(),
            y(se, X(u));
            break;
        case 173:
            u = h(),
            R(te),
            te = u;
            break;
        case 174:
            u = h(),
            se = X(u),
            p(se),
            ue &= -3;
            break;
        case 175:
            u = h(),
            Y(u, se),
            p(se),
            ue &= -3;
            break;
        case 176:
            u = l(),
            re = $(re, Ae(u));
            break;
        case 177:
            u = l(),
            x(re, Ae(u));
            break;
        case 178:
            u = l(),
            re = V(re, Ae(u));
            break;
        case 179:
            u = l(),
            f(m(C(), X(u)));
            break;
        case 180:
            u = l(),
            re = _(re, Ae(u));
            break;
        case 181:
            u = l(),
            _(re, Ae(u));
            break;
        case 182:
            u = l(),
            re = Ae(u),
            ue &= -15,
            ue |= fe[re];
            break;
        case 183:
            u = l(),
            ie(u, re),
            ue &= -15,
            ue |= fe[re];
            break;
        case 184:
            u = l(),
            re = z(re, Ae(u));
            break;
        case 185:
            u = l(),
            re = H(re, Ae(u));
            break;
        case 186:
            u = l(),
            re = K(re, Ae(u));
            break;
        case 187:
            u = l(),
            re = J(re, Ae(u));
            break;
        case 188:
            u = l(),
            y(se, X(u));
            break;
        case 189:
            u = l(),
            R(te),
            te = u;
            break;
        case 190:
            u = l(),
            se = X(u),
            p(se),
            ue &= -3;
            break;
        case 191:
            u = l(),
            Y(u, se),
            p(se),
            ue &= -3;
            break;
        case 192:
            ce = $(ce, I());
            break;
        case 193:
            x(ce, I());
            break;
        case 194:
            ce = V(ce, I());
            break;
        case 195:
            f(g(C(), l()));
            break;
        case 196:
            ce = _(ce, I());
            break;
        case 197:
            _(ce, I());
            break;
        case 198:
            ce = I(),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 200:
            ce = z(ce, I());
            break;
        case 201:
            ce = H(ce, I());
            break;
        case 202:
            ce = K(ce, I());
            break;
        case 203:
            ce = J(ce, I());
            break;
        case 204:
            u = l(),
            f(u),
            p(u),
            ue &= -3;
            break;
        case 206:
            ke = l(),
            p(ke),
            ue &= -3;
            break;
        case 208:
            u = ae(),
            ce = $(ce, Ae(u));
            break;
        case 209:
            u = ae(),
            x(ce, Ae(u));
            break;
        case 210:
            u = ae(),
            ce = V(ce, Ae(u));
            break;
        case 211:
            u = ae(),
            f(g(C(), X(u)));
            break;
        case 212:
            u = ae(),
            ce = _(ce, Ae(u));
            break;
        case 213:
            u = ae(),
            _(ce, Ae(u));
            break;
        case 214:
            u = ae(),
            ce = Ae(u),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 215:
            u = ae(),
            ie(u, ce),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 216:
            u = ae(),
            ce = z(ce, Ae(u));
            break;
        case 217:
            u = ae(),
            ce = H(ce, Ae(u));
            break;
        case 218:
            u = ae(),
            ce = K(ce, Ae(u));
            break;
        case 219:
            u = ae(),
            ce = J(ce, Ae(u));
            break;
        case 220:
            u = ae(),
            B = X(u),
            f(B),
            p(B),
            ue &= -3;
            break;
        case 221:
            u = ae(),
            Y(u, C()),
            ue &= -3;
            break;
        case 222:
            u = ae(),
            ke = X(u),
            p(se),
            ue &= -3;
            break;
        case 223:
            u = ae(),
            Y(u, ke),
            p(ke),
            ue &= -3;
            break;
        case 224:
            u = h(),
            ce = $(ce, Ae(u));
            break;
        case 225:
            u = h(),
            x(ce, Ae(u));
            break;
        case 226:
            u = h(),
            ce = V(ce, Ae(u));
            break;
        case 227:
            u = h(),
            f(g(C(), X(u)));
            break;
        case 228:
            u = h(),
            ce = _(ce, Ae(u));
            break;
        case 229:
            u = h(),
            _(ce, Ae(u));
            break;
        case 230:
            u = h(),
            ce = Ae(u),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 231:
            u = h(),
            ie(u, ce),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 232:
            u = h(),
            ce = z(ce, Ae(u));
            break;
        case 233:
            u = h(),
            ce = H(ce, Ae(u));
            break;
        case 234:
            u = h(),
            ce = K(ce, Ae(u));
            break;
        case 235:
            u = h(),
            ce = J(ce, Ae(u));
            break;
        case 236:
            u = h(),
            B = X(u),
            f(B),
            p(B),
            ue &= -3;
            break;
        case 237:
            u = h(),
            Y(u, C()),
            ue &= -3;
            break;
        case 238:
            u = h(),
            ke = X(u),
            p(ke),
            ue &= -3;
            break;
        case 239:
            u = h(),
            Y(u, ke),
            p(ke),
            ue &= -3;
            break;
        case 240:
            u = l(),
            ce = $(ce, Ae(u));
            break;
        case 241:
            u = l(),
            x(ce, Ae(u));
            break;
        case 242:
            u = l(),
            ce = V(ce, Ae(u));
            break;
        case 243:
            u = l(),
            f(g(C(), X(u)));
            break;
        case 244:
            u = l(),
            ce = _(ce, Ae(u));
            break;
        case 245:
            u = l(),
            _(ce, Ae(u));
            break;
        case 246:
            u = l(),
            ce = Ae(u),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 247:
            u = l(),
            ie(u, ce),
            ue &= -15,
            ue |= fe[ce];
            break;
        case 248:
            u = l(),
            ce = z(ce, Ae(u));
            break;
        case 249:
            u = l(),
            ce = H(ce, Ae(u));
            break;
        case 250:
            u = l(),
            ce = K(ce, Ae(u));
            break;
        case 251:
            u = l(),
            ce = J(ce, Ae(u));
            break;
        case 252:
            u = l(),
            B = X(u),
            f(B),
            p(B),
            ue &= -3;
            break;
        case 253:
            u = l(),
            Y(u, C()),
            ue &= -3;
            break;
        case 254:
            u = l(),
            ke = X(u),
            p(ke),
            ue &= -3;
            break;
        case 255:
            u = l(),
            Y(u, ke),
            p(ke),
            ue &= -3;
            break;
        case 16:
            switch (i = I(),
            Se += Ce[i],
            i) {
            case 33:
                u = N(l());
                break;
            case 34:
                u = N(l()),
                5 & ue || (te += u);
                break;
            case 35:
                u = N(l()),
                5 & ue && (te += u);
                break;
            case 36:
                u = N(l()),
                1 & ue || (te += u);
                break;
            case 37:
                u = N(l()),
                1 & ue && (te += u);
                break;
            case 38:
                u = N(l()),
                4 & ue || (te += u);
                break;
            case 39:
                u = N(l()),
                4 & ue && (te += u);
                break;
            case 40:
                u = N(l()),
                2 & ue || (te += u);
                break;
            case 41:
                u = N(l()),
                2 & ue && (te += u);
                break;
            case 42:
                u = N(l()),
                8 & ue || (te += u);
                break;
            case 43:
                u = N(l()),
                8 & ue && (te += u);
                break;
            case 44:
                u = N(l()),
                8 & ue ^ (2 & ue) << 2 || (te += u);
                break;
            case 45:
                u = N(l()),
                8 & ue ^ (2 & ue) << 2 && (te += u);
                break;
            case 46:
                u = N(l()),
                8 & ue ^ (2 & ue) << 2 && 4 & ue || (te += u);
                break;
            case 47:
                u = N(l()),
                (8 & ue ^ (2 & ue) << 2 || 4 & ue) && (te += u);
                break;
            case 63:
                ue |= oe,
                R(te),
                R(ke),
                R(be),
                R(se),
                L(Be),
                L(ce),
                L(re),
                L(ue),
                ue |= 80,
                te = X(65524);
                break;
            case 131:
                y(C(), l());
                break;
            case 140:
                y(be, l());
                break;
            case 142:
                be = l(),
                p(be),
                ue &= -3;
                break;
            case 147:
                u = ae(),
                y(C(), X(u));
                break;
            case 156:
                u = ae(),
                y(be, X(u));
                break;
            case 158:
                u = ae(),
                be = X(u),
                p(be),
                ue &= -3;
                break;
            case 159:
                u = ae(),
                Y(u, be),
                p(be),
                ue &= -3;
                break;
            case 163:
                u = h(),
                y(C(), X(u));
                break;
            case 172:
                u = h(),
                y(be, X(u));
                break;
            case 174:
                u = h(),
                be = X(u),
                p(be),
                ue &= -3;
                break;
            case 175:
                u = h(),
                Y(u, be),
                p(be),
                ue &= -3;
                break;
            case 179:
                u = l(),
                y(C(), X(u));
                break;
            case 188:
                u = l(),
                y(be, X(u));
                break;
            case 190:
                u = l(),
                be = X(u),
                p(be),
                ue &= -3;
                break;
            case 191:
                u = l(),
                Y(u, be),
                p(be),
                ue &= -3;
                break;
            case 206:
                ne = l(),
                p(ne),
                ue &= -3;
                break;
            case 222:
                u = ae(),
                ne = X(u),
                p(ne),
                ue &= -3;
                break;
            case 223:
                u = ae(),
                Y(u, ne),
                p(ne),
                ue &= -3;
                break;
            case 238:
                u = h(),
                ne = X(u),
                p(ne),
                ue &= -3;
                break;
            case 239:
                u = h(),
                Y(u, ne),
                p(ne),
                ue &= -3;
                break;
            case 254:
                u = l(),
                ne = X(u),
                p(ne),
                ue &= -3;
                break;
            case 255:
                u = l(),
                Y(u, ne),
                p(ne),
                ue &= -3
            }
            break;
        case 17:
            switch (i = I(),
            Se += Ce[i],
            i) {
            case 63:
                ue |= oe,
                R(te),
                R(ke),
                R(be),
                R(se),
                L(Be),
                L(ce),
                L(re),
                L(ue),
                ue |= 80,
                te = X(65522);
                break;
            case 131:
                y(ke, l());
                break;
            case 140:
                y(ne, l());
                break;
            case 147:
                u = ae(),
                y(ke, X(u));
                break;
            case 156:
                u = ae(),
                y(ne, X(u));
                break;
            case 163:
                u = h(),
                y(ke, X(u));
                break;
            case 172:
                u = h(),
                y(ne, X(u));
                break;
            case 179:
                u = l(),
                y(ke, X(u));
                break;
            case 188:
                u = l(),
                y(ne, X(u))
            }
        }
        return re &= 255,
        ce &= 255,
        ue &= 255,
        Be &= 255,
        se &= 65535,
        be &= 65535,
        ke &= 65535,
        ne &= 65535,
        te &= 65535,
        Se - t
    }
    function n() {
        re |= 0,
        ce |= 0,
        se |= 0,
        be |= 0,
        ke |= 0,
        ne |= 0,
        te = X(65534),
        ue |= 80,
        Se = Be = 0
    }
    var re, ce, se, be, ke, ne, te, ue, Be, ie, Ae, oe = 128, Se = 0, De = [6, 0, 0, 6, 6, 0, 6, 6, 6, 6, 6, 0, 6, 6, 3, 6, 0, 0, 2, 4, 0, 0, 5, 9, 0, 2, 3, 0, 3, 2, 8, 6, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 5, 3, 6, 9, 11, 0, 19, 2, 0, 0, 2, 2, 0, 2, 2, 2, 2, 2, 0, 2, 2, 0, 2, 2, 0, 0, 2, 2, 0, 2, 2, 2, 2, 2, 0, 2, 2, 0, 2, 6, 0, 0, 6, 6, 0, 6, 6, 6, 6, 6, 0, 6, 6, 3, 6, 7, 0, 0, 7, 7, 0, 7, 7, 7, 7, 7, 0, 7, 7, 4, 7, 2, 2, 2, 4, 2, 2, 2, 0, 2, 2, 2, 2, 4, 7, 3, 0, 4, 4, 4, 6, 4, 4, 4, 4, 4, 4, 4, 4, 6, 7, 5, 5, 4, 4, 4, 6, 4, 4, 4, 4, 4, 4, 4, 4, 6, 7, 5, 5, 5, 5, 5, 7, 5, 5, 5, 5, 5, 5, 5, 5, 7, 8, 6, 6, 2, 2, 2, 4, 2, 2, 2, 0, 2, 2, 2, 2, 3, 0, 3, 0, 4, 4, 4, 6, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 4, 4, 4, 6, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 7, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6], Ce = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 4, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 6, 6, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 6, 6, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7], fe = [4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8], Le = [[2, 1, "NEG"], [1, 0, "???"], [1, 0, "???"], [2, 1, "COM"], [2, 1, "LSR"], [1, 0, "???"], [2, 1, "ROR"], [2, 1, "ASR"], [2, 1, "LSL"], [2, 1, "ROL"], [2, 1, "DEC"], [1, 0, "???"], [2, 1, "INC"], [2, 1, "TST"], [2, 1, "JMP"], [2, 1, "CLR"], [1, 0, "Prefix"], [1, 0, "Prefix"], [1, 2, "NOP"], [1, 2, "SYNC"], [1, 0, "???"], [1, 0, "???"], [3, 3, "LBRA"], [3, 3, "LBSR"], [1, 0, "???"], [1, 2, "DAA"], [2, 4, "ORCC"], [1, 0, "???"], [2, 4, "ANDCC"], [1, 2, "SEX"], [2, 20, "EXG"], [2, 20, "TFR"], [2, 5, "BRA"], [2, 5, "BRN"], [2, 5, "BHI"], [2, 5, "BLS"], [2, 5, "BCC"], [2, 5, "BCS"], [2, 5, "BNE"], [2, 5, "BEQ"], [2, 5, "BVC"], [2, 5, "BVS"], [2, 5, "BPL"], [2, 5, "BMI"], [2, 5, "BGE"], [2, 5, "BLT"], [2, 5, "BGT"], [2, 5, "BLE"], [2, 6, "LEAX"], [2, 6, "LEAY"], [2, 6, "LEAS"], [2, 6, "LEAU"], [2, 10, "PSHS"], [2, 10, "PULS"], [2, 11, "PSHU"], [2, 11, "PULU"], [1, 0, "???"], [1, 2, "RTS"], [1, 2, "ABX"], [1, 2, "RTI"], [2, 2, "CWAI"], [1, 2, "MUL"], [1, 2, "RESET"], [1, 2, "SWI1"], [1, 2, "NEGA"], [1, 0, "???"], [1, 0, "???"], [1, 2, "COMA"], [1, 2, "LSRA"], [1, 0, "???"], [1, 2, "RORA"], [1, 2, "ASRA"], [1, 2, "ASLA"], [1, 2, "ROLA"], [1, 2, "DECA"], [1, 0, "???"], [1, 2, "INCA"], [1, 2, "TSTA"], [1, 0, "???"], [1, 2, "CLRA"], [1, 2, "NEGB"], [1, 0, "???"], [1, 0, "???"], [1, 2, "COMB"], [1, 2, "LSRB"], [1, 0, "???"], [1, 2, "RORB"], [1, 2, "ASRB"], [1, 2, "ASLB"], [1, 2, "ROLB"], [1, 2, "DECB"], [1, 0, "???"], [1, 2, "INCB"], [1, 2, "TSTB"], [1, 0, "???"], [1, 2, "CLRB"], [2, 6, "NEG"], [1, 0, "???"], [1, 0, "???"], [2, 6, "COM"], [2, 6, "LSR"], [1, 0, "???"], [2, 6, "ROR"], [2, 6, "ASR"], [2, 6, "LSL"], [2, 6, "ROL"], [2, 6, "DEC"], [1, 0, "???"], [2, 6, "INC"], [2, 6, "TST"], [2, 6, "JMP"], [2, 6, "CLR"], [3, 7, "NEG"], [1, 0, "???"], [1, 0, "???"], [3, 7, "COM"], [3, 7, "LSR"], [1, 0, "???"], [3, 7, "ROR"], [3, 7, "ASR"], [3, 7, "LSL"], [3, 7, "ROL"], [3, 7, "DEC"], [1, 0, "???"], [3, 7, "INC"], [3, 7, "TST"], [3, 7, "JMP"], [3, 7, "CLR"], [2, 4, "SUBA"], [2, 4, "CMPA"], [2, 4, "SBCA"], [3, 8, "SUBD"], [2, 4, "ANDA"], [2, 4, "BITA"], [2, 4, "LDA"], [1, 0, "???"], [2, 4, "EORA"], [2, 4, "ADCA"], [2, 4, "ORA"], [2, 4, "ADDA"], [3, 8, "CMPX"], [2, 5, "BSR"], [3, 8, "LDX"], [1, 0, "???"], [2, 1, "SUBA"], [2, 1, "CMPA"], [2, 1, "SBCA"], [2, 1, "SUBd"], [2, 1, "ANDA"], [2, 1, "BITA"], [2, 1, "LDA"], [2, 1, "STA"], [2, 1, "EORA"], [2, 1, "ADCA"], [2, 1, "ORA"], [2, 1, "ADDA"], [2, 1, "CMPX"], [2, 1, "JSR"], [2, 1, "LDX"], [2, 1, "STX"], [2, 6, "SUBA"], [2, 6, "CMPA"], [2, 6, "SBCA"], [2, 6, "SUBD"], [2, 6, "ANDA"], [2, 6, "BITA"], [2, 6, "LDA"], [2, 6, "STA"], [2, 6, "EORA"], [2, 6, "ADCA"], [2, 6, "ORA"], [2, 6, "ADDA"], [2, 6, "CMPX"], [2, 6, "JSR"], [2, 6, "LDX"], [2, 6, "STX"], [3, 7, "SUBA"], [3, 7, "CMPA"], [3, 7, "SBCA"], [3, 7, "SUBD"], [3, 7, "ANDA"], [3, 7, "BITA"], [3, 7, "LDA"], [3, 7, "STA"], [3, 7, "EORA"], [3, 7, "ADCA"], [3, 7, "ORA"], [3, 7, "ADDA"], [3, 7, "CMPX"], [3, 7, "JSR"], [3, 7, "LDX"], [3, 7, "STX"], [2, 4, "SUBB"], [2, 4, "CMPB"], [2, 4, "SBCB"], [3, 8, "ADDD"], [2, 4, "ANDB"], [2, 4, "BITB"], [2, 4, "LDB"], [1, 0, "???"], [2, 4, "EORB"], [2, 4, "ADCB"], [2, 4, "ORB"], [2, 4, "ADDB"], [3, 8, "LDD"], [1, 0, "???"], [3, 8, "LDU"], [1, 0, "???"], [2, 1, "SUBB"], [2, 1, "CMPB"], [2, 1, "SBCB"], [2, 1, "ADDD"], [2, 1, "ANDB"], [2, 1, "BITB"], [2, 1, "LDB"], [2, 1, "STB"], [2, 1, "EORB"], [2, 1, "ADCB"], [2, 1, "ORB "], [2, 1, "ADDB"], [2, 1, "LDD "], [2, 1, "STD "], [2, 1, "LDU "], [2, 1, "STU "], [2, 6, "SUBB"], [2, 6, "CMPB"], [2, 6, "SBCB"], [2, 6, "ADDD"], [2, 6, "ANDB"], [2, 6, "BITB"], [2, 6, "LDB"], [2, 6, "STB"], [2, 6, "EORB"], [2, 6, "ADCB"], [2, 6, "ORB"], [2, 6, "ADDB"], [2, 6, "LDD"], [2, 6, "STD"], [2, 6, "LDU"], [2, 6, "STU"], [3, 7, "SUBB"], [3, 7, "CMPB"], [3, 7, "SBCB"], [3, 7, "ADDD"], [3, 7, "ANDB"], [3, 7, "BITB"], [3, 7, "LDB"], [3, 7, "STB"], [3, 7, "EORB"], [3, 7, "ADCB"], [3, 7, "ORB"], [3, 7, "ADDB"], [3, 7, "LDD"], [3, 7, "STD"], [3, 7, "LDU"], [3, 7, "STU"]], Re = {
        63: [2, 2, "SWI3"],
        131: [4, 8, "CMPU"],
        140: [4, 8, "CMPS"],
        147: [3, 1, "CMPU"],
        156: [3, 1, "CMPS"],
        163: [3, 6, "CMPU"],
        172: [3, 6, "CMPS"],
        179: [4, 7, "CMPU"],
        188: [4, 7, "CMPS"]
    }, Pe = {
        33: [5, 3, "LBRN"],
        34: [5, 3, "LBHI"],
        35: [5, 3, "LBLS"],
        36: [5, 3, "LBCC"],
        37: [5, 3, "LBCS"],
        38: [5, 3, "LBNE"],
        39: [5, 3, "LBEQ"],
        40: [5, 3, "LBVC"],
        41: [5, 3, "LBVS"],
        42: [5, 3, "LBPL"],
        43: [5, 3, "LBMI"],
        44: [5, 3, "LBGE"],
        45: [5, 3, "LBLT"],
        46: [5, 3, "LBGT"],
        47: [5, 3, "LBLE"],
        63: [2, 2, "SWI2"],
        131: [4, 8, "CMPD"],
        140: [4, 8, "CMPY"],
        142: [4, 8, "LDY"],
        147: [3, 1, "CMPD"],
        156: [3, 1, "CMPY"],
        158: [3, 1, "LDY"],
        159: [3, 1, "STY"],
        163: [3, 6, "CMPD"],
        172: [3, 6, "CMPY"],
        174: [3, 6, "LDY"],
        175: [3, 6, "STY"],
        179: [4, 7, "CMPD"],
        188: [4, 7, "CMPY"],
        190: [4, 7, "LDY"],
        191: [4, 7, "STY"],
        206: [4, 8, "LDS"],
        222: [3, 1, "LDS"],
        223: [3, 1, "STS"],
        238: [3, 6, "LDS"],
        239: [3, 6, "STS"],
        254: [4, 7, "LDS"],
        255: [4, 7, "STS"]
    };
    return {
        steps: function(e) {
            for (; 0 < e; )
                e -= a()
        },
        T: function() {
            return Se
        },
        memr: function(e) {
            return Ae(e)
        },
        reset: n,
        init: function(e, a, r) {
            ie = e,
            Ae = a,
            n()
        },
        status: function() {
            return {
                pc: te,
                sp: ne,
                u: ke,
                a: re,
                b: ce,
                x: se,
                y: be,
                dp: Be,
                flags: ue
            }
        },
        interrupt: function() {},
        nmi: function() {},
        set: function(e, a) {
            switch (e.toUpperCase()) {
            case "PC":
                return void (te = a);
            case "A":
                return void (re = a);
            case "B":
                return void (ce = a);
            case "X":
                return void (se = a);
            case "Y":
                return void (be = a);
            case "SP":
                return void (ne = a);
            case "U":
                return void (ke = a);
            case "FLAGS":
                return void (ue = a)
            }
        },
        flagsToString: function() {
            for (var e = "", a = "EFHINZVC", r = 0; r < 8; r++) {
                e += 0 == (ue & 128 >> r) ? a[r].toLowerCase() : a[r]
            }
            return e
        },
        disasm: function(e, a, r, c, s, b) {
            function k(e, a) {
                for (var r = e.toString(16); r.length < a; )
                    r = "0" + r;
                return r.toUpperCase()
            }
            function n(e) {
                return k(255 & e, 2)
            }
            function t(e) {
                return k(e, 4)
            }
            var u, B, i, A = Le[e];
            if (16 === e) {
                if (void 0 === (A = Pe[a]))
                    return ["???", 2];
                e = a,
                a = r,
                r = c,
                c = s
            }
            if (17 === e) {
                if (void 0 === (A = Re[a]))
                    return ["???", 2];
                e = a,
                a = r,
                r = c,
                c = s
            }
            var o = A[0]
              , S = A[1]
              , D = A[2];
            switch (S) {
            case 0:
                break;
            case 1:
                D += " $" + n(a);
                break;
            case 2:
                break;
            case 3:
                D += " #$" + t(256 * a + r < 32768 ? 256 * a + r + b : 256 * a + r + b - 65536);
                break;
            case 4:
                D += " #$" + n(a);
                break;
            case 5:
                D += " #$" + t(a < 128 ? a + b + 2 : a + b - 254);
                break;
            case 6:
                D += " ";
                var C = a
                  , f = ["X", "Y", "U", "S"][(96 & C) >> 5];
                if (!(128 & C)) {
                    var L = 31 & C;
                    15 < L && (L -= 32),
                    D += L + "," + f;
                    break
                }
                var R = 15 & C
                  , P = 127 < r ? r - 256 : r
                  , v = 32767 < 256 * r + c ? 256 * r + c - 65536 : 256 * r + c;
                if (16 & C)
                    switch (R) {
                    case 0:
                        D += "???";
                        break;
                    case 1:
                        D += "[," + f + "++]";
                        break;
                    case 2:
                        D += "???";
                        break;
                    case 3:
                        D += "[,--" + f + "]";
                        break;
                    case 4:
                        D += "[," + f + "]";
                        break;
                    case 5:
                        D += "[B," + f + "]";
                        break;
                    case 6:
                        D += "[A," + f + "]";
                        break;
                    case 7:
                        D += "???";
                        break;
                    case 8:
                        D += "[" + P + "," + f + "]",
                        o++;
                        break;
                    case 9:
                        D += "[" + v + "," + f + "]",
                        o += 2;
                        break;
                    case 10:
                        D += "???";
                        break;
                    case 11:
                        D += "[D," + f + "]";
                        break;
                    case 12:
                        D += "[" + P + ",PC]",
                        o++;
                        break;
                    case 13:
                        D += "[" + v + ",PC]",
                        o += 2;
                        break;
                    case 14:
                        D += "???";
                        break;
                    case 15:
                        D += "[$" + t(256 * r + c) + "]",
                        o += 2
                    }
                else
                    switch (R) {
                    case 0:
                        D += "," + f + "+";
                        break;
                    case 1:
                        D += "," + f + "++";
                        break;
                    case 2:
                        D += ",-" + f;
                        break;
                    case 3:
                        D += ",--" + f;
                        break;
                    case 4:
                        D += "," + f;
                        break;
                    case 5:
                        D += "B," + f;
                        break;
                    case 6:
                        D += "A," + f;
                        break;
                    case 7:
                        D += "???";
                        break;
                    case 8:
                        D += P + "," + f,
                        o++;
                        break;
                    case 9:
                        D += v + "," + f,
                        o += 2;
                        break;
                    case 10:
                        D += "???";
                        break;
                    case 11:
                        D += "D," + f;
                        break;
                    case 12:
                        D += P + ",PC",
                        o++;
                        break;
                    case 13:
                        D += v + ",PC",
                        o += 2;
                        break;
                    case 14:
                        D += "???";
                        break;
                    case 15:
                        D += "$" + t(256 * r + c),
                        o += 2
                    }
                break;
            case 7:
                D += " $" + t(256 * a + r);
                break;
            case 8:
                D += " #$" + t(256 * a + r);
                break;
            case 10:
                for (u = ["PC", "U", "Y", "X", "DP", "B", "A", "CC"],
                B = [],
                i = 0; i < 8; i++)
                    0 != (1 & a) && B.push(u[7 - i]),
                    a >>= 1;
                D += " " + B.join(",");
                break;
            case 11:
                for (u = ["PC", "S", "Y", "X", "DP", "B", "A", "CC"],
                B = [],
                i = 0; i < 8; i++)
                    0 != (1 & a) && B.push(u[7 - i]),
                    a >>= 1;
                D += " " + B.join(",");
                break;
            case 20:
                D += " " + (u = ["D", "X", "Y", "U", "S", "PC", "?", "?", "A", "B", "CC", "DP", "?", "?", "?", "?"])[a >> 4] + "," + u[15 & a]
            }
            return [D, o]
        }
    }
});
window.JSSpeccy || (window.JSSpeccy = {}),
function(e) {
    function r(e, r, D) {
        var c = parseInt("0x" + r, 16);
        switch (c = c < 128 ? c + D + 2 : c + D - 256 + 2,
        c = "000" + c.toString(16),
        c = c.substr(c.length - 4, 4).toUpperCase(),
        e) {
        case "10":
            return "DJNZ  " + c;
        case "18":
            return "JR    " + c;
        case "20":
            return "JR    NZ," + c;
        case "28":
            return "JR    Z," + c;
        case "30":
            return "JR    NC," + c;
        case "38":
            return "JR    C," + c;
        case "06":
            return C + "B," + r;
        case "0E":
            return C + "C," + r;
        case "16":
            return C + "D," + r;
        case "1E":
            return C + "E," + r;
        case "26":
            return C + "H," + r;
        case "2E":
            return C + "L," + r;
        case "36":
            return C + "(HL)," + r;
        case "3E":
            return C + "A," + r;
        case "C6":
            return "ADD   A," + r;
        case "CE":
            return "ADC   A," + r;
        case "D3":
            return "OUT   (" + r + "),A";
        case "D6":
            return "SUB   " + r;
        case "DB":
            return "IN    A,(" + r + ")";
        case "DE":
            return "SBC   A," + r;
        case "E6":
            return "AND   " + r;
        case "EE":
            return "XOR   " + r;
        case "F6":
            return "OR    " + r;
        case "FE":
            return "CP    " + r;
        case "CB":
            return a(e, r);
        case "DD":
            return t(e, r);
        case "ED":
            return s(e, r);
        case "FD":
            return t(e, r);
        default:
            return ""
        }
    }
    function D(e, r, D) {
        var c = D + r;
        switch (e) {
        case "01":
            return C + "BC," + c;
        case "11":
            return C + "DE," + c;
        case "21":
            return C + "HL," + c;
        case "22":
            return C + "(" + c + "),HL";
        case "2A":
            return C + "HL,(" + c + ")";
        case "31":
            return C + "SP," + c;
        case "32":
            return C + "(" + c + "),A";
        case "3A":
            return C + "A,(" + c + ")";
        case "C2":
            return "JP    NZ," + c;
        case "C3":
            return "JP    " + c;
        case "C4":
            return "CALL  NZ," + c;
        case "CA":
            return "JP    Z," + c;
        case "CC":
            return "CALL  Z," + c;
        case "CD":
            return "CALL  " + c;
        case "D2":
            return "JP    NC," + c;
        case "D4":
            return "CALL  NC," + c;
        case "DA":
            return "JP    C," + c;
        case "DC":
            return "CALL  C," + c;
        case "E2":
            return "JP    PO," + c;
        case "E4":
            return "CALL  PO," + c;
        case "EA":
            return "JP    PE," + c;
        case "EC":
            return "CALL  PE," + c;
        case "F2":
            return "JP    P," + c;
        case "F4":
            return "CALL  P," + c;
        case "FA":
            return "JP    M," + c;
        case "FC":
            return "CALL  M," + c;
        case "DD":
            return n(e, r, D);
        case "ED":
            return "";
        case "FD":
            return n(e, r, D);
        default:
            return ""
        }
    }
    function c(e, r, D, c) {
        switch (e) {
        case "DD":
        case "ED":
        case "FD":
            return u(e, r, D, c);
        default:
            return ""
        }
    }
    function a(e, r) {
        if ("CB" != e)
            return "";
        switch (r) {
        case "00":
            return E + "B";
        case "01":
            return E + "C";
        case "02":
            return E + "D";
        case "03":
            return E + "E";
        case "04":
            return E + "H";
        case "05":
            return E + "L";
        case "06":
            return E + "(HL)";
        case "07":
            return E + "A";
        case "08":
            return A + "B";
        case "09":
            return A + "C";
        case "0A":
            return A + "D";
        case "0B":
            return A + "E";
        case "0C":
            return A + "H";
        case "0D":
            return A + "L";
        case "0E":
            return A + "(HL)";
        case "0F":
            return A + "A";
        case "10":
            return X + "B";
        case "11":
            return X + "C";
        case "12":
            return X + "D";
        case "13":
            return X + "E";
        case "14":
            return X + "H";
        case "15":
            return X + "L";
        case "16":
            return X + "(HL)";
        case "17":
            return X + "A";
        case "18":
            return Y + "B";
        case "19":
            return Y + "C";
        case "1A":
            return Y + "D";
        case "1B":
            return Y + "E";
        case "1C":
            return Y + "H";
        case "1D":
            return Y + "L";
        case "1E":
            return Y + "(HL)";
        case "1F":
            return Y + "A";
        case "20":
            return L + "B";
        case "21":
            return L + "C";
        case "22":
            return L + "D";
        case "23":
            return L + "E";
        case "24":
            return L + "H";
        case "25":
            return L + "L";
        case "26":
            return L + "(HL)";
        case "27":
            return L + "A";
        case "28":
            return H + "B";
        case "29":
            return H + "C";
        case "2A":
            return H + "D";
        case "2B":
            return H + "E";
        case "2C":
            return H + "H";
        case "2D":
            return H + "L";
        case "2E":
            return H + "(HL)";
        case "2F":
            return H + "A";
        case "30":
            return R + "B";
        case "31":
            return R + "C";
        case "32":
            return R + "D";
        case "33":
            return R + "E";
        case "34":
            return R + "H";
        case "35":
            return R + "L";
        case "36":
            return R + "(HL)";
        case "37":
            return R + "A";
        case "38":
            return P + "B";
        case "39":
            return P + "C";
        case "3A":
            return P + "D";
        case "3B":
            return P + "E";
        case "3C":
            return P + "H";
        case "3D":
            return P + "L";
        case "3E":
            return P + "(HL)";
        case "3F":
            return P + "A";
        case "40":
            return B + "0,B";
        case "41":
            return B + "0,C";
        case "42":
            return B + "0,D";
        case "43":
            return B + "0,E";
        case "44":
            return B + "0,H";
        case "45":
            return B + "0,L";
        case "46":
            return B + "0,(HL)";
        case "47":
            return B + "0,A";
        case "48":
            return B + "1,B";
        case "49":
            return B + "1,C";
        case "4A":
            return B + "1,D";
        case "4B":
            return B + "1,E";
        case "4C":
            return B + "1,H";
        case "4D":
            return B + "1,L";
        case "4E":
            return B + "1,(HL)";
        case "4F":
            return B + "1,A";
        case "50":
            return B + "2,B";
        case "51":
            return B + "2,C";
        case "52":
            return B + "2,D";
        case "53":
            return B + "2,E";
        case "54":
            return B + "2,H";
        case "55":
            return B + "2,L";
        case "56":
            return B + "2,(HL)";
        case "57":
            return B + "2,A";
        case "58":
            return B + "3,B";
        case "59":
            return B + "3,C";
        case "5A":
            return B + "3,D";
        case "5B":
            return B + "3,E";
        case "5C":
            return B + "3,H";
        case "5D":
            return B + "3,L";
        case "5E":
            return B + "3,(HL)";
        case "5F":
            return B + "3,A";
        case "60":
            return B + "4,B";
        case "61":
            return B + "4,C";
        case "62":
            return B + "4,D";
        case "63":
            return B + "4,E";
        case "64":
            return B + "4,H";
        case "65":
            return B + "4,L";
        case "66":
            return B + "4,(HL)";
        case "67":
            return B + "4,A";
        case "68":
            return B + "5,B";
        case "69":
            return B + "5,C";
        case "6A":
            return B + "5,D";
        case "6B":
            return B + "5,E";
        case "6C":
            return B + "5,H";
        case "6D":
            return B + "5,L";
        case "6E":
            return B + "5,(HL)";
        case "6F":
            return B + "5,A";
        case "70":
            return B + "6,B";
        case "71":
            return B + "6,C";
        case "72":
            return B + "6,D";
        case "73":
            return B + "6,E";
        case "74":
            return B + "6,H";
        case "75":
            return B + "6,L";
        case "76":
            return B + "6,(HL)";
        case "77":
            return B + "6,A";
        case "78":
            return B + "7,B";
        case "79":
            return B + "7,C";
        case "7A":
            return B + "7,D";
        case "7B":
            return B + "7,E";
        case "7C":
            return B + "7,H";
        case "7D":
            return B + "7,L";
        case "7E":
            return B + "7,(HL)";
        case "7F":
            return B + "7,A";
        case "80":
            return I + "0,B";
        case "81":
            return I + "0,C";
        case "82":
            return I + "0,D";
        case "83":
            return I + "0,E";
        case "84":
            return I + "0,H";
        case "85":
            return I + "0,L";
        case "86":
            return I + "0,(HL)";
        case "87":
            return I + "0,A";
        case "88":
            return I + "1,B";
        case "89":
            return I + "1,C";
        case "8A":
            return I + "1,D";
        case "8B":
            return I + "1,E";
        case "8C":
            return I + "1,H";
        case "8D":
            return I + "1,L";
        case "8E":
            return I + "1,(HL)";
        case "8F":
            return I + "1,A";
        case "90":
            return I + "2,B";
        case "91":
            return I + "2,C";
        case "92":
            return I + "2,D";
        case "93":
            return I + "2,E";
        case "94":
            return I + "2,H";
        case "95":
            return I + "2,L";
        case "96":
            return I + "2,(HL)";
        case "97":
            return I + "2,A";
        case "98":
            return I + "3,B";
        case "99":
            return I + "3,C";
        case "9A":
            return I + "3,D";
        case "9B":
            return I + "3,E";
        case "9C":
            return I + "3,H";
        case "9D":
            return I + "3,L";
        case "9E":
            return I + "3,(HL)";
        case "9F":
            return I + "3,A";
        case "A0":
            return I + "4,B";
        case "A1":
            return I + "4,C";
        case "A2":
            return I + "4,D";
        case "A3":
            return I + "4,E";
        case "A4":
            return I + "4,H";
        case "A5":
            return I + "4,L";
        case "A6":
            return I + "4,(HL)";
        case "A7":
            return I + "4,A";
        case "A8":
            return I + "5,B";
        case "A9":
            return I + "5,C";
        case "AA":
            return I + "5,D";
        case "AB":
            return I + "5,E";
        case "AC":
            return I + "5,H";
        case "AD":
            return I + "5,L";
        case "AE":
            return I + "5,(HL)";
        case "AF":
            return I + "5,A";
        case "B0":
            return I + "6,B";
        case "B1":
            return I + "6,C";
        case "B2":
            return I + "6,D";
        case "B3":
            return I + "6,E";
        case "B4":
            return I + "6,H";
        case "B5":
            return I + "6,L";
        case "B6":
            return I + "6,(HL)";
        case "B7":
            return I + "6,A";
        case "B8":
            return I + "7,B";
        case "B9":
            return I + "7,C";
        case "BA":
            return I + "7,D";
        case "BB":
            return I + "7,E";
        case "BC":
            return I + "7,H";
        case "BD":
            return I + "7,L";
        case "BE":
            return I + "7,(HL)";
        case "BF":
            return I + "7,A";
        case "C0":
            return F + "0,B";
        case "C1":
            return F + "0,C";
        case "C2":
            return F + "0,D";
        case "C3":
            return F + "0,E";
        case "C4":
            return F + "0,H";
        case "C5":
            return F + "0,L";
        case "C6":
            return F + "0,(HL)";
        case "C7":
            return F + "0,A";
        case "C8":
            return F + "1,B";
        case "C9":
            return F + "1,C";
        case "CA":
            return F + "1,D";
        case "CB":
            return F + "1,E";
        case "CC":
            return F + "1,H";
        case "CD":
            return F + "1,L";
        case "CE":
            return F + "1,(HL)";
        case "CF":
            return F + "1,A";
        case "D0":
            return F + "2,B";
        case "D1":
            return F + "2,C";
        case "D2":
            return F + "2,D";
        case "D3":
            return F + "2,E";
        case "D4":
            return F + "2,H";
        case "D5":
            return F + "2,L";
        case "D6":
            return F + "2,(HL)";
        case "D7":
            return F + "2,A";
        case "D8":
            return F + "3,B";
        case "D9":
            return F + "3,C";
        case "DA":
            return F + "3,D";
        case "DB":
            return F + "3,E";
        case "DC":
            return F + "3,H";
        case "DD":
            return F + "3,L";
        case "DE":
            return F + "3,(HL)";
        case "DF":
            return F + "3,A";
        case "E0":
            return F + "4,B";
        case "E1":
            return F + "4,C";
        case "E2":
            return F + "4,D";
        case "E3":
            return F + "4,E";
        case "E4":
            return F + "4,H";
        case "E5":
            return F + "4,L";
        case "E6":
            return F + "4,(HL)";
        case "E7":
            return F + "4,A";
        case "E8":
            return F + "5,B";
        case "E9":
            return F + "5,C";
        case "EA":
            return F + "5,D";
        case "EB":
            return F + "5,E";
        case "EC":
            return F + "5,H";
        case "ED":
            return F + "5,L";
        case "EE":
            return F + "5,(HL)";
        case "EF":
            return F + "5,A";
        case "F0":
            return F + "6,B";
        case "F1":
            return F + "6,C";
        case "F2":
            return F + "6,D";
        case "F3":
            return F + "6,E";
        case "F4":
            return F + "6,H";
        case "F5":
            return F + "6,L";
        case "F6":
            return F + "6,(HL)";
        case "F7":
            return F + "6,A";
        case "F8":
            return F + "7,B";
        case "F9":
            return F + "7,C";
        case "FA":
            return F + "7,D";
        case "FB":
            return F + "7,E";
        case "FC":
            return F + "7,H";
        case "FD":
            return F + "7,L";
        case "FE":
            return F + "7,(HL)";
        case "FF":
            return F + "7,A";
        default:
            return ""
        }
    }
    function s(e, r) {
        switch (e + r) {
        case "ED40":
            return "IN    B,(C)";
        case "ED41":
            return "OUT   (C),B";
        case "ED42":
            return "SBC   HL,BC";
        case "ED44":
            return "NEG";
        case "ED45":
            return "RETN";
        case "ED46":
            return "IM    0";
        case "ED47":
            return C + "I,A";
        case "ED48":
            return "IN    C,(C)";
        case "ED49":
            return "OUT   (C),C";
        case "ED4A":
            return "ADC   HL,BC";
        case "ED4C":
            return "NEG*";
        case "ED4D":
            return "RETI";
        case "ED4E":
            return "IM    0*";
        case "ED4F":
            return C + "R,A";
        case "ED50":
            return "IN    D,(C)";
        case "ED51":
            return "OUT   (C),D";
        case "ED52":
            return "SBC   HL,DE";
        case "ED54":
            return "NEG*";
        case "ED55":
            return "RETN*";
        case "ED56":
            return "IM    1";
        case "ED57":
            return C + "A,I";
        case "ED58":
            return "IN    E,(C)";
        case "ED59":
            return "OUT   (C),E";
        case "ED5A":
            return "ADC   HL,DE";
        case "ED5C":
            return "NEG*";
        case "ED5D":
            return "RETN*";
        case "ED5E":
            return "IM    2";
        case "ED5F":
            return C + "A,R";
        case "ED60":
            return "IN    H,(C)";
        case "ED61":
            return "OUT   (C),H";
        case "ED62":
            return "SBC   HL,HL";
        case "ED64":
            return "NEG*";
        case "ED65":
            return "RETN*";
        case "ED66":
            return "IM    0*";
        case "ED67":
            return "RRD";
        case "ED68":
            return "IN    L,(C)";
        case "ED69":
            return "OUT   (C),L";
        case "ED6A":
            return "ADC   HL,HL";
        case "ED6C":
            return "NEG*";
        case "ED6D":
            return "RETN*";
        case "ED6E":
            return "IM    0*";
        case "ED6F":
            return "RLD";
        case "ED70":
            return "IN    F,(C)";
        case "ED71":
            return "OUT   (C),0";
        case "ED72":
            return "SBC   HL,SP";
        case "ED74":
            return "NEG*";
        case "ED75":
            return "RETN*";
        case "ED76":
            return "IM    1*";
        case "ED77":
            return "NOP*";
        case "ED78":
            return "IN    A,(C)";
        case "ED79":
            return "OUT   (c),A";
        case "ED7A":
            return "ADC   HL,SP";
        case "ED7C":
            return "NEG*";
        case "ED7D":
            return "RETN*";
        case "ED7E":
            return "IM    2*";
        case "ED7F":
            return "NOP*";
        case "EDA0":
            return "LDI";
        case "EDA1":
            return "CPI";
        case "EDA2":
            return "INI";
        case "EDA3":
            return "OUTI";
        case "EDA8":
            return "LDD";
        case "EDA9":
            return "CPD";
        case "EDAA":
            return "IND";
        case "EDAB":
            return "OUTD";
        case "EDB0":
            return "LDIR";
        case "EDB1":
            return "CPIR";
        case "EDB2":
            return "INIR";
        case "EDB3":
            return "OTIR";
        case "EDB8":
            return "LDDR";
        case "EDB9":
            return "CPDR";
        case "EDBA":
            return "INDR";
        case "EDBB":
            return "OTDR";
        default:
            return ""
        }
    }
    function t(e, r) {
        switch (e + r) {
        case "DD09":
            return "ADD   IX,BC";
        case "DD19":
            return "ADD   IX,DE";
        case "DD23":
            return "INC   IX";
        case "DD24":
            return "INC   IXH";
        case "DD25":
            return "DEC   IXH";
        case "DD29":
            return "ADD   IX,IX";
        case "DD2B":
            return "DEC   IX";
        case "DD2C":
            return "INC   IXL";
        case "DD2D":
            return "DEC   IXL";
        case "DD39":
            return "ADD   IX,SP";
        case "DD44":
            return C + "B,IXH";
        case "DD45":
            return C + "B,IXL";
        case "DD4C":
            return C + "C,IXH";
        case "DD4D":
            return C + "C,IXL";
        case "DD54":
            return C + "D,IXH";
        case "DD55":
            return C + "D,IXL";
        case "DD5C":
            return C + "E,IXH";
        case "DD5D":
            return C + "E,IXL";
        case "DD60":
            return C + "IXH,B";
        case "DD61":
            return C + "IXH,C";
        case "DD62":
            return C + "IXH,D";
        case "DD63":
            return C + "IXH,E";
        case "DD64":
            return C + "IXH,IXH";
        case "DD65":
            return C + "IXH,IXL";
        case "DD67":
            return C + "IXH,A";
        case "DD68":
            return C + "IXL,B";
        case "DD69":
            return C + "IXL,C";
        case "DD6A":
            return C + "IXL,D";
        case "DD6B":
            return C + "IXL,E";
        case "DD6C":
            return C + "IXL,IXH";
        case "DD6D":
            return C + "IXL,IXL";
        case "DD6F":
            return C + "IXL,A";
        case "DD7C":
            return C + "A,IXH";
        case "DD7D":
            return C + "A,IXL";
        case "DD84":
            return "ADD   A,IXH";
        case "DD85":
            return "ADD   A,IXL";
        case "DD8C":
            return "ADC   A,IXH";
        case "DD8D":
            return "ADC   A,IXL";
        case "DD94":
            return "SUB   IXH";
        case "DD95":
            return "SUB   IXL";
        case "DD9C":
            return "SBC   A,IXH";
        case "DD9D":
            return "SBC   A,IXL";
        case "DDA4":
            return "AND   IXH";
        case "DDA5":
            return "AND   IXL";
        case "DDAC":
            return "XOR   IXH";
        case "DDAD":
            return "XOR   IXL";
        case "DDB4":
            return "OR    IXH";
        case "DDB5":
            return "OR    IXL";
        case "DDBC":
            return "CP    IXH";
        case "DDBD":
            return "CP    IXL";
        case "DDE1":
            return "POP   IX";
        case "DDE3":
            return "EX    (SP),IX";
        case "DDE5":
            return "PUSH   IX";
        case "DDE9":
            return "JP    (IX)";
        case "DDEB":
            return "EX    DE,IX";
        case "DDF9":
            return C + "SP,IX";
        case "FD09":
            return "ADD   IY,BC";
        case "FD19":
            return "ADD   IY,DE";
        case "FD23":
            return "INC   IY";
        case "FD24":
            return "INC   IYH";
        case "FD25":
            return "DEC   IYH";
        case "FD29":
            return "ADD   IY,IY";
        case "FD2B":
            return "DEC   IY";
        case "FD2C":
            return "INC   IYL";
        case "FD2D":
            return "DEC   IYL";
        case "FD39":
            return "ADD   IY,SP";
        case "FD44":
            return C + "B,IYH";
        case "FD45":
            return C + "B,IYL";
        case "FD4C":
            return C + "C,IYH";
        case "FD4D":
            return C + "C,IYL";
        case "FD54":
            return C + "D,IYH";
        case "FD55":
            return C + "D,IYL";
        case "FD5C":
            return C + "E,IYH";
        case "FD5D":
            return C + "E,IYL";
        case "FD60":
            return C + "IYH,B";
        case "FD61":
            return C + "IYH,C";
        case "FD62":
            return C + "IYH,D";
        case "FD63":
            return C + "IYH,E";
        case "FD64":
            return C + "IYH,IYH";
        case "FD65":
            return C + "IYH,IYL";
        case "FD67":
            return C + "IYH,A";
        case "FD68":
            return C + "IYL,B";
        case "FD69":
            return C + "IYL,C";
        case "FD6A":
            return C + "IYL,D";
        case "FD6B":
            return C + "IYL,E";
        case "FD6C":
            return C + "IYL,IYH";
        case "FD6D":
            return C + "IYL,IYL";
        case "FD6F":
            return C + "IYL,A";
        case "FD7C":
            return C + "A,IYH";
        case "FD7D":
            return C + "A,IYL";
        case "FD84":
            return "ADD   A,IYH";
        case "FD85":
            return "ADD   A,IYL";
        case "FD8C":
            return "ADC   A,IYH";
        case "FD8D":
            return "ADC   A,IYL";
        case "FD94":
            return "SUB   IYH";
        case "FD95":
            return "SUB   IYL";
        case "FD9C":
            return "SBC   A,IYH";
        case "FD9D":
            return "SBC   A,IYL";
        case "FDA4":
            return "AND   IYH";
        case "FDA5":
            return "AND   IYL";
        case "FDAC":
            return "XOR   IYH";
        case "FDAD":
            return "XOR   IYL";
        case "FDB4":
            return "OR    IYH";
        case "FDB5":
            return "OR    IYL";
        case "FDBC":
            return "CP    IYH";
        case "FDBD":
            return "CP    IYL";
        case "FDE1":
            return "POP   IY";
        case "FDE3":
            return "EX    (SP),IY";
        case "FDE5":
            return "PUSH   IY";
        case "FDE9":
            return "JP    (IY)";
        case "FDEB":
            return "EX    DE,IY";
        case "FDF9":
            return C + "SP,IY";
        default:
            return ""
        }
    }
    function n(e, r, D) {
        switch (e + r) {
        case "DD34":
            return "INC   (IX+" + D + ")";
        case "DD35":
            return "DEC   (IX+" + D + ")";
        case "DD46":
            return C + "B,(IX+" + D + ")";
        case "DD4E":
            return C + "C,(IX+" + D + ")";
        case "DD56":
            return C + "D,(IX+" + D + ")";
        case "DD5E":
            return C + "E,(IX+" + D + ")";
        case "DD66":
            return C + "H,(IX+" + D + ")";
        case "DD6E":
            return C + "L,(IX+" + D + ")";
        case "DD70":
            return C + "(IX+" + D + "),B";
        case "DD71":
            return C + "(IX+" + D + "),C";
        case "DD72":
            return C + "(IX+" + D + "),D";
        case "DD73":
            return C + "(IX+" + D + "),E";
        case "DD74":
            return C + "(IX+" + D + "),H";
        case "DD75":
            return C + "(IX+" + D + "),L";
        case "DD77":
            return C + "(IX+" + D + "),A";
        case "DD7E":
            return C + "A,(IX+" + D + ")";
        case "DD86":
            return "ADD   A,(IX+" + D + ")";
        case "DD8E":
            return "ADC   A,(IX+" + D + ")";
        case "DD96":
            return "SUB   A,(IX+" + D + ")";
        case "DD9E":
            return "SBC   A,(IX+" + D + ")";
        case "DDA6":
            return "AND   (IX+" + D + ")";
        case "DDAE":
            return "XOR   (IX+" + D + ")";
        case "DDB6":
            return "OR    (IX+" + D + ")";
        case "DDBE":
            return "CP    (IX+" + D + ")";
        case "FD34":
            return "INC   (IY+" + D + ")";
        case "FD35":
            return "DEC   (IY+" + D + ")";
        case "FD46":
            return C + "B,(IY+" + D + ")";
        case "FD4E":
            return C + "C,(IY+" + D + ")";
        case "FD56":
            return C + "D,(IY+" + D + ")";
        case "FD5E":
            return C + "E,(IY+" + D + ")";
        case "FD66":
            return C + "H,(IY+" + D + ")";
        case "FD6E":
            return C + "L,(IY+" + D + ")";
        case "FD70":
            return C + "(IY+" + D + "),B";
        case "FD71":
            return C + "(IY+" + D + "),C";
        case "FD72":
            return C + "(IY+" + D + "),D";
        case "FD73":
            return C + "(IY+" + D + "),E";
        case "FD74":
            return C + "(IY+" + D + "),H";
        case "FD75":
            return C + "(IY+" + D + "),L";
        case "FD77":
            return C + "(IY+" + D + "),A";
        case "FD7E":
            return C + "A,(IY+" + D + ")";
        case "FD86":
            return "ADD   A,(IY+" + D + ")";
        case "FD8E":
            return "ADC   A,(IY+" + D + ")";
        case "FD96":
            return "SUB   A,(IY+" + D + ")";
        case "FD9E":
            return "SBC   A,(IY+" + D + ")";
        case "FDA6":
            return "AND   (IY+" + D + ")";
        case "FDAE":
            return "XOR   (IY+" + D + ")";
        case "FDB6":
            return "OR    (IY+" + D + ")";
        case "FDBE":
            return "CP    (IY+" + D + ")";
        default:
            return ""
        }
    }
    function u(e, r, D, c) {
        var a = c + D;
        switch (e + r) {
        case "DD21":
            return C + "IX," + a;
        case "DD22":
            return C + "(" + a + "),IX";
        case "DD2A":
            return C + "IX,(" + a + ")";
        case "DD36":
            return C + "(IX+" + D + ")," + c;
        case "ED43":
            return C + "(" + a + "),BC";
        case "ED4B":
            return C + "BC,(" + a + ")";
        case "ED53":
            return C + "(" + a + "),DE";
        case "ED5B":
            return C + "DE,(" + a + ")";
        case "ED73":
            return C + "(" + a + "),SP";
        case "ED7B":
            return C + "SP,(" + a + ")";
        case "FD21":
            return C + "IY," + a;
        case "FD22":
            return C + "(" + a + "),IY";
        case "FD2A":
            return C + "IY,(" + a + ")";
        case "FD36":
            return C + "(IY+" + D + ")," + c
        }
        switch (e + r + c) {
        case "DDCB00":
            return E + "(IX+" + D + "),B";
        case "DDCB01":
            return E + "(IX+" + D + "),C";
        case "DDCB02":
            return E + "(IX+" + D + "),D";
        case "DDCB03":
            return E + "(IX+" + D + "),E";
        case "DDCB04":
            return E + "(IX+" + D + "),H";
        case "DDCB05":
            return E + "(IX+" + D + "),L";
        case "DDCB06":
            return E + "(IX+" + D + ")";
        case "DDCB07":
            return E + "(IX+" + D + "),A";
        case "DDCB08":
            return A + "(IX+" + D + "),B";
        case "DDCB09":
            return A + "(IX+" + D + "),C";
        case "DDCB0A":
            return A + "(IX+" + D + "),D";
        case "DDCB0B":
            return A + "(IX+" + D + "),E";
        case "DDCB0C":
            return A + "(IX+" + D + "),H";
        case "DDCB0D":
            return A + "(IX+" + D + "),L";
        case "DDCB0E":
            return A + "(IX+" + D + ")";
        case "DDCB0F":
            return A + "(IX+" + D + "),A";
        case "DDCB10":
            return X + "(IX+" + D + "),B";
        case "DDCB11":
            return X + "(IX+" + D + "),C";
        case "DDCB12":
            return X + "(IX+" + D + "),D";
        case "DDCB13":
            return X + "(IX+" + D + "),E";
        case "DDCB14":
            return X + "(IX+" + D + "),H";
        case "DDCB15":
            return X + "(IX+" + D + "),L";
        case "DDCB16":
            return X + "(IX+" + D + ")";
        case "DDCB17":
            return X + "(IX+" + D + "),A";
        case "DDCB18":
            return Y + "(IX+" + D + "),B";
        case "DDCB19":
            return Y + "(IX+" + D + "),C";
        case "DDCB1A":
            return Y + "(IX+" + D + "),D";
        case "DDCB1B":
            return Y + "(IX+" + D + "),E";
        case "DDCB1C":
            return Y + "(IX+" + D + "),H";
        case "DDCB1D":
            return Y + "(IX+" + D + "),L";
        case "DDCB1E":
            return Y + "(IX+" + D + ")";
        case "DDCB1F":
            return Y + "(IX+" + D + "),A";
        case "DDCB20":
            return L + "(IX+" + D + "),B";
        case "DDCB21":
            return L + "(IX+" + D + "),C";
        case "DDCB22":
            return L + "(IX+" + D + "),D";
        case "DDCB23":
            return L + "(IX+" + D + "),E";
        case "DDCB24":
            return L + "(IX+" + D + "),H";
        case "DDCB25":
            return L + "(IX+" + D + "),L";
        case "DDCB26":
            return L + "(IX+" + D + ")";
        case "DDCB27":
            return L + "(IX+" + D + "),A";
        case "DDCB28":
            return H + "(IX+" + D + "),B";
        case "DDCB29":
            return H + "(IX+" + D + "),C";
        case "DDCB2A":
            return H + "(IX+" + D + "),D";
        case "DDCB2B":
            return H + "(IX+" + D + "),E";
        case "DDCB2C":
            return H + "(IX+" + D + "),H";
        case "DDCB2D":
            return H + "(IX+" + D + "),L";
        case "DDCB2E":
            return H + "(IX+" + D + ")";
        case "DDCB2F":
            return H + "(IX+" + D + "),A";
        case "DDCB30":
            return R + "(IX+" + D + "),B";
        case "DDCB31":
            return R + "(IX+" + D + "),C";
        case "DDCB32":
            return R + "(IX+" + D + "),D";
        case "DDCB33":
            return R + "(IX+" + D + "),E";
        case "DDCB34":
            return R + "(IX+" + D + "),H";
        case "DDCB35":
            return R + "(IX+" + D + "),L";
        case "DDCB36":
            return R + "(IX+" + D + ")";
        case "DDCB37":
            return R + "(IX+" + D + "),A";
        case "DDCB38":
            return P + "(IX+" + D + "),B";
        case "DDCB39":
            return P + "(IX+" + D + "),C";
        case "DDCB3A":
            return P + "(IX+" + D + "),D";
        case "DDCB3B":
            return P + "(IX+" + D + "),E";
        case "DDCB3C":
            return P + "(IX+" + D + "),H";
        case "DDCB3D":
            return P + "(IX+" + D + "),L";
        case "DDCB3E":
            return P + "(IX+" + D + ")";
        case "DDCB3F":
            return P + "(IX+" + D + "),A";
        case "DDCB40":
        case "DDCB41":
        case "DDCB42":
        case "DDCB43":
        case "DDCB44":
        case "DDCB45":
            return B + "0,(IX+" + D + ")*";
        case "DDCB46":
            return B + "0,(IX+" + D + ")";
        case "DDCB47":
            return B + "0,(IX+" + D + ")*";
        case "DDCB48":
        case "DDCB49":
        case "DDCB4A":
        case "DDCB4B":
        case "DDCB4C":
        case "DDCB4D":
            return B + "1,(IX+" + D + ")*";
        case "DDCB4E":
            return B + "1,(IX+" + D + ")";
        case "DDCB4F":
            return B + "1,(IX+" + D + ")*";
        case "DDCB50":
        case "DDCB51":
        case "DDCB52":
        case "DDCB53":
        case "DDCB54":
        case "DDCB55":
            return B + "2,(IX+" + D + ")*";
        case "DDCB56":
            return B + "2,(IX+" + D + ")";
        case "DDCB57":
            return B + "2,(IX+" + D + ")*";
        case "DDCB58":
        case "DDCB59":
        case "DDCB5A":
        case "DDCB5B":
        case "DDCB5C":
        case "DDCB5D":
            return B + "3,(IX+" + D + ")*";
        case "DDCB5E":
            return B + "3,(IX+" + D + ")";
        case "DDCB5F":
            return B + "3,(IX+" + D + ")*";
        case "DDCB60":
        case "DDCB61":
        case "DDCB62":
        case "DDCB63":
        case "DDCB64":
        case "DDCB65":
            return B + "4,(IX+" + D + ")*";
        case "DDCB66":
            return B + "4,(IX+" + D + ")";
        case "DDCB67":
            return B + "4,(IX+" + D + ")*";
        case "DDCB68":
        case "DDCB69":
        case "DDCB6A":
        case "DDCB6B":
        case "DDCB6C":
        case "DDCB6D":
            return B + "5,(IX+" + D + ")*";
        case "DDCB6E":
            return B + "5,(IX+" + D + ")";
        case "DDCB6F":
            return B + "5,(IX+" + D + ")*";
        case "DDCB70":
        case "DDCB71":
        case "DDCB72":
        case "DDCB73":
        case "DDCB74":
        case "DDCB75":
            return B + "6,(IX+" + D + ")*";
        case "DDCB76":
            return B + "6,(IX+" + D + ")";
        case "DDCB77":
            return B + "6,(IX+" + D + ")*";
        case "DDCB78":
        case "DDCB79":
        case "DDCB7A":
        case "DDCB7B":
        case "DDCB7C":
        case "DDCB7D":
            return B + "7,(IX+" + D + ")*";
        case "DDCB7E":
            return B + "7,(IX+" + D + ")";
        case "DDCB7F":
            return B + "7,(IX+" + D + ")*";
        case "DDCB80":
            return I + "0,(IX+" + D + "),B";
        case "DDCB81":
            return I + "0,(IX+" + D + "),C";
        case "DDCB82":
            return I + "0,(IX+" + D + "),D";
        case "DDCB83":
            return I + "0,(IX+" + D + "),E";
        case "DDCB84":
            return I + "0,(IX+" + D + "),H";
        case "DDCB85":
            return I + "0,(IX+" + D + "),L";
        case "DDCB86":
            return I + "0,(IX+" + D + ")";
        case "DDCB87":
            return I + "0,(IX+" + D + "),A";
        case "DDCB88":
            return I + "1,(IX+" + D + "),B";
        case "DDCB89":
            return I + "1,(IX+" + D + "),C";
        case "DDCB8A":
            return I + "1,(IX+" + D + "),D";
        case "DDCB8B":
            return I + "1,(IX+" + D + "),E";
        case "DDCB8C":
            return I + "1,(IX+" + D + "),H";
        case "DDCB8D":
            return I + "1,(IX+" + D + "),L";
        case "DDCB8E":
            return I + "1,(IX+" + D + ")";
        case "DDCB8F":
            return I + "1,(IX+" + D + "),A";
        case "DDCB90":
            return I + "2,(IX+" + D + "),B";
        case "DDCB91":
            return I + "2,(IX+" + D + "),C";
        case "DDCB92":
            return I + "2,(IX+" + D + "),D";
        case "DDCB93":
            return I + "2,(IX+" + D + "),E";
        case "DDCB94":
            return I + "2,(IX+" + D + "),H";
        case "DDCB95":
            return I + "2,(IX+" + D + "),L";
        case "DDCB96":
            return I + "2,(IX+" + D + ")";
        case "DDCB97":
            return I + "2,(IX+" + D + "),A";
        case "DDCB98":
            return I + "3,(IX+" + D + "),B";
        case "DDCB99":
            return I + "3,(IX+" + D + "),C";
        case "DDCB9A":
            return I + "3,(IX+" + D + "),D";
        case "DDCB9B":
            return I + "3,(IX+" + D + "),E";
        case "DDCB9C":
            return I + "3,(IX+" + D + "),H";
        case "DDCB9D":
            return I + "3,(IX+" + D + "),L";
        case "DDCB9E":
            return I + "3,(IX+" + D + ")";
        case "DDCB9F":
            return I + "3,(IX+" + D + "),A";
        case "DDCBA0":
            return I + "4,(IX+" + D + "),B";
        case "DDCBA1":
            return I + "4,(IX+" + D + "),C";
        case "DDCBA2":
            return I + "4,(IX+" + D + "),D";
        case "DDCBA3":
            return I + "4,(IX+" + D + "),E";
        case "DDCBA4":
            return I + "4,(IX+" + D + "),H";
        case "DDCBA5":
            return I + "4,(IX+" + D + "),L";
        case "DDCBA6":
            return I + "4,(IX+" + D + ")";
        case "DDCBA7":
            return I + "4,(IX+" + D + "),A";
        case "DDCBA8":
            return I + "5,(IX+" + D + "),B";
        case "DDCBA9":
            return I + "5,(IX+" + D + "),C";
        case "DDCBAA":
            return I + "5,(IX+" + D + "),D";
        case "DDCBAB":
            return I + "5,(IX+" + D + "),E";
        case "DDCBAC":
            return I + "5,(IX+" + D + "),H";
        case "DDCBAD":
            return I + "5,(IX+" + D + "),L";
        case "DDCBAE":
            return I + "5,(IX+" + D + ")";
        case "DDCBAF":
            return I + "5,(IX+" + D + "),A";
        case "DDCBB0":
            return I + "6,(IX+" + D + "),B";
        case "DDCBB1":
            return I + "6,(IX+" + D + "),C";
        case "DDCBB2":
            return I + "6,(IX+" + D + "),D";
        case "DDCBB3":
            return I + "6,(IX+" + D + "),E";
        case "DDCBB4":
            return I + "6,(IX+" + D + "),H";
        case "DDCBB5":
            return I + "6,(IX+" + D + "),L";
        case "DDCBB6":
            return I + "6,(IX+" + D + ")";
        case "DDCBB7":
            return I + "6,(IX+" + D + "),A";
        case "DDCBB8":
            return I + "7,(IX+" + D + "),B";
        case "DDCBB9":
            return I + "7,(IX+" + D + "),C";
        case "DDCBBA":
            return I + "7,(IX+" + D + "),D";
        case "DDCBBB":
            return I + "7,(IX+" + D + "),E";
        case "DDCBBC":
            return I + "7,(IX+" + D + "),H";
        case "DDCBBD":
            return I + "7,(IX+" + D + "),L";
        case "DDCBBE":
            return I + "7,(IX+" + D + ")";
        case "DDCBBF":
            return I + "7,(IX+" + D + "),A";
        case "DDCBC0":
            return F + "0,(IX+" + D + "),B";
        case "DDCBC1":
            return F + "0,(IX+" + D + "),C";
        case "DDCBC2":
            return F + "0,(IX+" + D + "),D";
        case "DDCBC3":
            return F + "0,(IX+" + D + "),E";
        case "DDCBC4":
            return F + "0,(IX+" + D + "),H";
        case "DDCBC5":
            return F + "0,(IX+" + D + "),L";
        case "DDCBC6":
            return F + "0,(IX+" + D + ")";
        case "DDCBC7":
            return F + "0,(IX+" + D + "),A";
        case "DDCBC8":
            return F + "1,(IX+" + D + "),B";
        case "DDCBC9":
            return F + "1,(IX+" + D + "),C";
        case "DDCBCA":
            return F + "1,(IX+" + D + "),D";
        case "DDCBCB":
            return F + "1,(IX+" + D + "),E";
        case "DDCBCC":
            return F + "1,(IX+" + D + "),H";
        case "DDCBCD":
            return F + "1,(IX+" + D + "),L";
        case "DDCBCE":
            return F + "1,(IX+" + D + ")";
        case "DDCBCF":
            return F + "1,(IX+" + D + "),A";
        case "DDCBD0":
            return F + "2,(IX+" + D + "),B";
        case "DDCBD1":
            return F + "2,(IX+" + D + "),C";
        case "DDCBD2":
            return F + "2,(IX+" + D + "),D";
        case "DDCBD3":
            return F + "2,(IX+" + D + "),E";
        case "DDCBD4":
            return F + "2,(IX+" + D + "),H";
        case "DDCBD5":
            return F + "2,(IX+" + D + "),L";
        case "DDCBD6":
            return F + "2,(IX+" + D + ")";
        case "DDCBD7":
            return F + "2,(IX+" + D + "),A";
        case "DDCBD8":
            return F + "3,(IX+" + D + "),B";
        case "DDCBD9":
            return F + "3,(IX+" + D + "),C";
        case "DDCBDA":
            return F + "3,(IX+" + D + "),D";
        case "DDCBDB":
            return F + "3,(IX+" + D + "),E";
        case "DDCBDC":
            return F + "3,(IX+" + D + "),H";
        case "DDCBDD":
            return F + "3,(IX+" + D + "),L";
        case "DDCBDE":
            return F + "3,(IX+" + D + ")";
        case "DDCBDF":
            return F + "3,(IX+" + D + "),A";
        case "DDCBE0":
            return F + "4,(IX+" + D + "),B";
        case "DDCBE1":
            return F + "4,(IX+" + D + "),C";
        case "DDCBE2":
            return F + "4,(IX+" + D + "),D";
        case "DDCBE3":
            return F + "4,(IX+" + D + "),E";
        case "DDCBE4":
            return F + "4,(IX+" + D + "),H";
        case "DDCBE5":
            return F + "4,(IX+" + D + "),L";
        case "DDCBE6":
            return F + "4,(IX+" + D + ")";
        case "DDCBE7":
            return F + "4,(IX+" + D + "),A";
        case "DDCBE8":
            return F + "5,(IX+" + D + "),B";
        case "DDCBE9":
            return F + "5,(IX+" + D + "),C";
        case "DDCBEA":
            return F + "5,(IX+" + D + "),D";
        case "DDCBEB":
            return F + "5,(IX+" + D + "),E";
        case "DDCBEC":
            return F + "5,(IX+" + D + "),H";
        case "DDCBED":
            return F + "5,(IX+" + D + "),L";
        case "DDCBEE":
            return F + "5,(IX+" + D + ")";
        case "DDCBEF":
            return F + "5,(IX+" + D + "),A";
        case "DDCBF0":
            return F + "6,(IX+" + D + "),B";
        case "DDCBF1":
            return F + "6,(IX+" + D + "),C";
        case "DDCBF2":
            return F + "6,(IX+" + D + "),D";
        case "DDCBF3":
            return F + "6,(IX+" + D + "),E";
        case "DDCBF4":
            return F + "6,(IX+" + D + "),H";
        case "DDCBF5":
            return F + "6,(IX+" + D + "),L";
        case "DDCBF6":
            return F + "6,(IX+" + D + ")";
        case "DDCBF7":
            return F + "6,(IX+" + D + "),A";
        case "DDCBF8":
            return F + "7,(IX+" + D + "),B";
        case "DDCBF9":
            return F + "7,(IX+" + D + "),C";
        case "DDCBFA":
            return F + "7,(IX+" + D + "),D";
        case "DDCBFB":
            return F + "7,(IX+" + D + "),E";
        case "DDCBFC":
            return F + "7,(IX+" + D + "),H";
        case "DDCBFD":
            return F + "7,(IX+" + D + "),L";
        case "DDCBFE":
            return F + "7,(IX+" + D + ")";
        case "DDCBFF":
            return F + "7,(IX+" + D + "),A";
        case "FDCB00":
            return E + "(IY+" + D + "),B";
        case "FDCB01":
            return E + "(IY+" + D + "),C";
        case "FDCB02":
            return E + "(IY+" + D + "),D";
        case "FDCB03":
            return E + "(IY+" + D + "),E";
        case "FDCB04":
            return E + "(IY+" + D + "),H";
        case "FDCB05":
            return E + "(IY+" + D + "),L";
        case "FDCB06":
            return E + "(IY+" + D + ")";
        case "FDCB07":
            return E + "(IY+" + D + "),A";
        case "FDCB08":
            return A + "(IY+" + D + "),B";
        case "FDCB09":
            return A + "(IY+" + D + "),C";
        case "FDCB0A":
            return A + "(IY+" + D + "),D";
        case "FDCB0B":
            return A + "(IY+" + D + "),E";
        case "FDCB0C":
            return A + "(IY+" + D + "),H";
        case "FDCB0D":
            return A + "(IY+" + D + "),L";
        case "FDCB0E":
            return A + "(IY+" + D + ")";
        case "FDCB0F":
            return A + "(IY+" + D + "),A";
        case "FDCB10":
            return X + "(IY+" + D + "),B";
        case "FDCB11":
            return X + "(IY+" + D + "),C";
        case "FDCB12":
            return X + "(IY+" + D + "),D";
        case "FDCB13":
            return X + "(IY+" + D + "),E";
        case "FDCB14":
            return X + "(IY+" + D + "),H";
        case "FDCB15":
            return X + "(IY+" + D + "),L";
        case "FDCB16":
            return X + "(IY+" + D + ")";
        case "FDCB17":
            return X + "(IY+" + D + "),A";
        case "FDCB18":
            return Y + "(IY+" + D + "),B";
        case "FDCB19":
            return Y + "(IY+" + D + "),C";
        case "FDCB1A":
            return Y + "(IY+" + D + "),D";
        case "FDCB1B":
            return Y + "(IY+" + D + "),E";
        case "FDCB1C":
            return Y + "(IY+" + D + "),H";
        case "FDCB1D":
            return Y + "(IY+" + D + "),L";
        case "FDCB1E":
            return Y + "(IY+" + D + ")";
        case "FDCB1F":
            return Y + "(IY+" + D + "),A";
        case "FDCB20":
            return L + "(IY+" + D + "),B";
        case "FDCB21":
            return L + "(IY+" + D + "),C";
        case "FDCB22":
            return L + "(IY+" + D + "),D";
        case "FDCB23":
            return L + "(IY+" + D + "),E";
        case "FDCB24":
            return L + "(IY+" + D + "),H";
        case "FDCB25":
            return L + "(IY+" + D + "),L";
        case "FDCB26":
            return L + "(IY+" + D + ")";
        case "FDCB27":
            return L + "(IY+" + D + "),A";
        case "FDCB28":
            return H + "(IY+" + D + "),B";
        case "FDCB29":
            return H + "(IY+" + D + "),C";
        case "FDCB2A":
            return H + "(IY+" + D + "),D";
        case "FDCB2B":
            return H + "(IY+" + D + "),E";
        case "FDCB2C":
            return H + "(IY+" + D + "),H";
        case "FDCB2D":
            return H + "(IY+" + D + "),L";
        case "FDCB2E":
            return H + "(IY+" + D + ")";
        case "FDCB2F":
            return H + "(IY+" + D + "),A";
        case "FDCB30":
            return R + "(IY+" + D + "),B";
        case "FDCB31":
            return R + "(IY+" + D + "),C";
        case "FDCB32":
            return R + "(IY+" + D + "),D";
        case "FDCB33":
            return R + "(IY+" + D + "),E";
        case "FDCB34":
            return R + "(IY+" + D + "),H";
        case "FDCB35":
            return R + "(IY+" + D + "),L";
        case "FDCB36":
            return R + "(IY+" + D + ")";
        case "FDCB37":
            return R + "(IY+" + D + "),A";
        case "FDCB38":
            return P + "(IY+" + D + "),B";
        case "FDCB39":
            return P + "(IY+" + D + "),C";
        case "FDCB3A":
            return P + "(IY+" + D + "),D";
        case "FDCB3B":
            return P + "(IY+" + D + "),E";
        case "FDCB3C":
            return P + "(IY+" + D + "),H";
        case "FDCB3D":
            return P + "(IY+" + D + "),L";
        case "FDCB3E":
            return P + "(IY+" + D + ")";
        case "FDCB3F":
            return P + "(IY+" + D + "),A";
        case "FDCB40":
        case "FDCB41":
        case "FDCB42":
        case "FDCB43":
        case "FDCB44":
        case "FDCB45":
            return B + "0,(IY+" + D + ")*";
        case "FDCB46":
            return B + "0,(IY+" + D + ")";
        case "FDCB47":
            return B + "0,(IY+" + D + ")*";
        case "FDCB48":
        case "FDCB49":
        case "FDCB4A":
        case "FDCB4B":
        case "FDCB4C":
        case "FDCB4D":
            return B + "1,(IY+" + D + ")*";
        case "FDCB4E":
            return B + "1,(IY+" + D + ")";
        case "FDCB4F":
            return B + "1,(IY+" + D + ")*";
        case "FDCB50":
        case "FDCB51":
        case "FDCB52":
        case "FDCB53":
        case "FDCB54":
        case "FDCB55":
            return B + "2,(IY+" + D + ")*";
        case "FDCB56":
            return B + "2,(IY+" + D + ")";
        case "FDCB57":
            return B + "2,(IY+" + D + ")*";
        case "FDCB58":
        case "FDCB59":
        case "FDCB5A":
        case "FDCB5B":
        case "FDCB5C":
        case "FDCB5D":
            return B + "3,(IY+" + D + ")*";
        case "FDCB5E":
            return B + "3,(IY+" + D + ")";
        case "FDCB5F":
            return B + "3,(IY+" + D + ")*";
        case "FDCB60":
        case "FDCB61":
        case "FDCB62":
        case "FDCB63":
        case "FDCB64":
        case "FDCB65":
            return B + "4,(IY+" + D + ")*";
        case "FDCB66":
            return B + "4,(IY+" + D + ")";
        case "FDCB67":
            return B + "4,(IY+" + D + ")*";
        case "FDCB68":
        case "FDCB69":
        case "FDCB6A":
        case "FDCB6B":
        case "FDCB6C":
        case "FDCB6D":
            return B + "5,(IY+" + D + ")*";
        case "FDCB6E":
            return B + "5,(IY+" + D + ")";
        case "FDCB6F":
            return B + "5,(IY+" + D + ")*";
        case "FDCB70":
        case "FDCB71":
        case "FDCB72":
        case "FDCB73":
        case "FDCB74":
        case "FDCB75":
            return B + "6,(IY+" + D + ")*";
        case "FDCB76":
            return B + "6,(IY+" + D + ")";
        case "FDCB77":
            return B + "6,(IY+" + D + ")*";
        case "FDCB78":
        case "FDCB79":
        case "FDCB7A":
        case "FDCB7B":
        case "FDCB7C":
        case "FDCB7D":
            return B + "7,(IY+" + D + ")*";
        case "FDCB7E":
            return B + "7,(IY+" + D + ")";
        case "FDCB7F":
            return B + "7,(IY+" + D + ")*";
        case "FDCB80":
            return I + "0,(IY+" + D + "),B";
        case "FDCB81":
            return I + "0,(IY+" + D + "),C";
        case "FDCB82":
            return I + "0,(IY+" + D + "),D";
        case "FDCB83":
            return I + "0,(IY+" + D + "),E";
        case "FDCB84":
            return I + "0,(IY+" + D + "),H";
        case "FDCB85":
            return I + "0,(IY+" + D + "),L";
        case "FDCB86":
            return I + "0,(IY+" + D + ")";
        case "FDCB87":
            return I + "0,(IY+" + D + "),A";
        case "FDCB88":
            return I + "1,(IY+" + D + "),B";
        case "FDCB89":
            return I + "1,(IY+" + D + "),C";
        case "FDCB8A":
            return I + "1,(IY+" + D + "),D";
        case "FDCB8B":
            return I + "1,(IY+" + D + "),E";
        case "FDCB8C":
            return I + "1,(IY+" + D + "),H";
        case "FDCB8D":
            return I + "1,(IY+" + D + "),L";
        case "FDCB8E":
            return I + "1,(IY+" + D + ")";
        case "FDCB8F":
            return I + "1,(IY+" + D + "),A";
        case "FDCB90":
            return I + "2,(IY+" + D + "),B";
        case "FDCB91":
            return I + "2,(IY+" + D + "),C";
        case "FDCB92":
            return I + "2,(IY+" + D + "),D";
        case "FDCB93":
            return I + "2,(IY+" + D + "),E";
        case "FDCB94":
            return I + "2,(IY+" + D + "),H";
        case "FDCB95":
            return I + "2,(IY+" + D + "),L";
        case "FDCB96":
            return I + "2,(IY+" + D + ")";
        case "FDCB97":
            return I + "2,(IY+" + D + "),A";
        case "FDCB98":
            return I + "3,(IY+" + D + "),B";
        case "FDCB99":
            return I + "3,(IY+" + D + "),C";
        case "FDCB9A":
            return I + "3,(IY+" + D + "),D";
        case "FDCB9B":
            return I + "3,(IY+" + D + "),E";
        case "FDCB9C":
            return I + "3,(IY+" + D + "),H";
        case "FDCB9D":
            return I + "3,(IY+" + D + "),L";
        case "FDCB9E":
            return I + "3,(IY+" + D + ")";
        case "FDCB9F":
            return I + "3,(IY+" + D + "),A";
        case "FDCBA0":
            return I + "4,(IY+" + D + "),B";
        case "FDCBA1":
            return I + "4,(IY+" + D + "),C";
        case "FDCBA2":
            return I + "4,(IY+" + D + "),D";
        case "FDCBA3":
            return I + "4,(IY+" + D + "),E";
        case "FDCBA4":
            return I + "4,(IY+" + D + "),H";
        case "FDCBA5":
            return I + "4,(IY+" + D + "),L";
        case "FDCBA6":
            return I + "4,(IY+" + D + ")";
        case "FDCBA7":
            return I + "4,(IY+" + D + "),A";
        case "FDCBA8":
            return I + "5,(IY+" + D + "),B";
        case "FDCBA9":
            return I + "5,(IY+" + D + "),C";
        case "FDCBAA":
            return I + "5,(IY+" + D + "),D";
        case "FDCBAB":
            return I + "5,(IY+" + D + "),E";
        case "FDCBAC":
            return I + "5,(IY+" + D + "),H";
        case "FDCBAD":
            return I + "5,(IY+" + D + "),L";
        case "FDCBAE":
            return I + "5,(IY+" + D + ")";
        case "FDCBAF":
            return I + "5,(IY+" + D + "),A";
        case "FDCBB0":
            return I + "6,(IY+" + D + "),B";
        case "FDCBB1":
            return I + "6,(IY+" + D + "),C";
        case "FDCBB2":
            return I + "6,(IY+" + D + "),D";
        case "FDCBB3":
            return I + "6,(IY+" + D + "),E";
        case "FDCBB4":
            return I + "6,(IY+" + D + "),H";
        case "FDCBB5":
            return I + "6,(IY+" + D + "),L";
        case "FDCBB6":
            return I + "6,(IY+" + D + ")";
        case "FDCBB7":
            return I + "6,(IY+" + D + "),A";
        case "FDCBB8":
            return I + "7,(IY+" + D + "),B";
        case "FDCBB9":
            return I + "7,(IY+" + D + "),C";
        case "FDCBBA":
            return I + "7,(IY+" + D + "),D";
        case "FDCBBB":
            return I + "7,(IY+" + D + "),E";
        case "FDCBBC":
            return I + "7,(IY+" + D + "),H";
        case "FDCBBD":
            return I + "7,(IY+" + D + "),L";
        case "FDCBBE":
            return I + "7,(IY+" + D + ")";
        case "FDCBBF":
            return I + "7,(IY+" + D + "),A";
        case "FDCBC0":
            return F + "0,(IY+" + D + "),B";
        case "FDCBC1":
            return F + "0,(IY+" + D + "),C";
        case "FDCBC2":
            return F + "0,(IY+" + D + "),D";
        case "FDCBC3":
            return F + "0,(IY+" + D + "),E";
        case "FDCBC4":
            return F + "0,(IY+" + D + "),H";
        case "FDCBC5":
            return F + "0,(IY+" + D + "),L";
        case "FDCBC6":
            return F + "0,(IY+" + D + ")";
        case "FDCBC7":
            return F + "0,(IY+" + D + "),A";
        case "FDCBC8":
            return F + "1,(IY+" + D + "),B";
        case "FDCBC9":
            return F + "1,(IY+" + D + "),C";
        case "FDCBCA":
            return F + "1,(IY+" + D + "),D";
        case "FDCBCB":
            return F + "1,(IY+" + D + "),E";
        case "FDCBCC":
            return F + "1,(IY+" + D + "),H";
        case "FDCBCD":
            return F + "1,(IY+" + D + "),L";
        case "FDCBCE":
            return F + "1,(IY+" + D + ")";
        case "FDCBCF":
            return F + "1,(IY+" + D + "),A";
        case "FDCBD0":
            return F + "2,(IY+" + D + "),B";
        case "FDCBD1":
            return F + "2,(IY+" + D + "),C";
        case "FDCBD2":
            return F + "2,(IY+" + D + "),D";
        case "FDCBD3":
            return F + "2,(IY+" + D + "),E";
        case "FDCBD4":
            return F + "2,(IY+" + D + "),H";
        case "FDCBD5":
            return F + "2,(IY+" + D + "),L";
        case "FDCBD6":
            return F + "2,(IY+" + D + ")";
        case "FDCBD7":
            return F + "2,(IY+" + D + "),A";
        case "FDCBD8":
            return F + "3,(IY+" + D + "),B";
        case "FDCBD9":
            return F + "3,(IY+" + D + "),C";
        case "FDCBDA":
            return F + "3,(IY+" + D + "),D";
        case "FDCBDB":
            return F + "3,(IY+" + D + "),E";
        case "FDCBDC":
            return F + "3,(IY+" + D + "),H";
        case "FDCBDD":
            return F + "3,(IY+" + D + "),L";
        case "FDCBDE":
            return F + "3,(IY+" + D + ")";
        case "FDCBDF":
            return F + "3,(IY+" + D + "),A";
        case "FDCBE0":
            return F + "4,(IY+" + D + "),B";
        case "FDCBE1":
            return F + "4,(IY+" + D + "),C";
        case "FDCBE2":
            return F + "4,(IY+" + D + "),D";
        case "FDCBE3":
            return F + "4,(IY+" + D + "),E";
        case "FDCBE4":
            return F + "4,(IY+" + D + "),H";
        case "FDCBE5":
            return F + "4,(IY+" + D + "),L";
        case "FDCBE6":
            return F + "4,(IY+" + D + ")";
        case "FDCBE7":
            return F + "4,(IY+" + D + "),A";
        case "FDCBE8":
            return F + "5,(IY+" + D + "),B";
        case "FDCBE9":
            return F + "5,(IY+" + D + "),C";
        case "FDCBEA":
            return F + "5,(IY+" + D + "),D";
        case "FDCBEB":
            return F + "5,(IY+" + D + "),E";
        case "FDCBEC":
            return F + "5,(IY+" + D + "),H";
        case "FDCBED":
            return F + "5,(IY+" + D + "),L";
        case "FDCBEE":
            return F + "5,(IY+" + D + ")";
        case "FDCBEF":
            return F + "5,(IY+" + D + "),A";
        case "FDCBF0":
            return F + "6,(IY+" + D + "),B";
        case "FDCBF1":
            return F + "6,(IY+" + D + "),C";
        case "FDCBF2":
            return F + "6,(IY+" + D + "),D";
        case "FDCBF3":
            return F + "6,(IY+" + D + "),E";
        case "FDCBF4":
            return F + "6,(IY+" + D + "),H";
        case "FDCBF5":
            return F + "6,(IY+" + D + "),L";
        case "FDCBF6":
            return F + "6,(IY+" + D + ")";
        case "FDCBF7":
            return F + "6,(IY+" + D + "),A";
        case "FDCBF8":
            return F + "7,(IY+" + D + "),B";
        case "FDCBF9":
            return F + "7,(IY+" + D + "),C";
        case "FDCBFA":
            return F + "7,(IY+" + D + "),D";
        case "FDCBFB":
            return F + "7,(IY+" + D + "),E";
        case "FDCBFC":
            return F + "7,(IY+" + D + "),H";
        case "FDCBFD":
            return F + "7,(IY+" + D + "),L";
        case "FDCBFE":
            return F + "7,(IY+" + D + ")";
        case "FDCBFF":
            return F + "7,(IY+" + D + "),A";
        default:
            return ""
        }
    }
    var C = "LD    "
      , B = "BIT   "
      , I = "RES   "
      , F = "SET   "
      , E = "RLC   "
      , A = "RRC   "
      , X = "RL    "
      , Y = "RR    "
      , L = "SLA   "
      , H = "SRA   "
      , R = "SLL   "
      , P = "SRL   "
      , N = ["NOP", "", C + "(BC),A", "INC   BC", "INC   B", "DEC   B", "", "RLCA", "EX    AF,AF'", "ADD   HL,BC", C + "A,(BC)", "DEC   BC", "INC   C", "DEC   C", "", "RRCA", "", "", C + "(DE),A", "INC   DE", "INC   D", "DEC   D", "", "RLA", "", "ADD   HL,DE", C + "A,(DE)", "DEC   DE", "INC   E", "DEC   E", "", "RRA", "", "", "", "INC   HL", "INC   H", "DEC   H", "", "DAA", "", "ADD   HL,HL", "", "DEC   HL", "INC   L", "DEC   L", "", "CPL", "", "", "", "INC   SP", "INC   (HL)", "DEC   (HL)", "", "SCF", "", "ADD   HL,SP", "", "DEC   SP", "INC   A", "DEC   A", "", "CCF", C + "B,B", C + "B,C", C + "B,D", C + "B,E", C + "B,H", C + "B,L", C + "B,(HL)", C + "B,A", C + "C,B", C + "C,C", C + "C,D", C + "C,E", C + "C,H", C + "C,L", C + "C,(HL)", C + "C,A", C + "D,B", C + "D,C", C + "D,D", C + "D,E", C + "D,H", C + "D,L", C + "D,(HL)", C + "D,A", C + "E,B", C + "E,C", C + "E,D", C + "E,E", C + "E,H", C + "E,L", C + "E,(HL)", C + "E,A", C + "H,B", C + "H,C", C + "H,D", C + "H,E", C + "H,H", C + "H,L", C + "H,(HL)", C + "H,A", C + "L,B", C + "L,C", C + "L,D", C + "L,E", C + "L,H", C + "L,L", C + "L,(HL)", C + "L,A", C + "(HL),B", C + "(HL),C", C + "(HL),D", C + "(HL),E", C + "(HL),H", C + "(HL),L", "HALT", C + "(HL),A", C + "A,B", C + "A,C", C + "A,D", C + "A,E", C + "A,H", C + "A,L", C + "A,(HL)", C + "A,A", "ADD   A,B", "ADD   A,C", "ADD   A,D", "ADD   A,E", "ADD   A,H", "ADD   A,L", "ADD   A,(HL)", "ADD   A,A", "ADC   A,B", "ADC   A,C", "ADC   A,D", "ADC   A,E", "ADC   A,H", "ADC   A,L", "ADC   A,(HL)", "ADC   A,A", "SUB   B", "SUB   C", "SUB   D", "SUB   E", "SUB   H", "SUB   L", "SUB   (HL)", "SUB   A", "SBC   A,B", "SBC   A,C", "SBC   A,D", "SBC   A,E", "SBC   A,H", "SBC   A,L", "SBC   A,(HL)", "SBC   A,A", "AND   B", "AND   C", "AND   D", "AND   E", "AND   H", "AND   L", "AND   (HL)", "AND   A", "XOR   B", "XOR   C", "XOR   D", "XOR   E", "XOR   H", "XOR   L", "XOR   (HL)", "XOR   A", "OR    B", "OR    C", "OR    D", "OR    E", "OR    H", "OR    L", "OR    (HL)", "OR    A", "CP    B", "CP    C", "CP    D", "CP    E", "CP    H", "CP    L", "CP    (HL)", "CP    A", "RET   NZ", "POP   BC", "", "", "", "PUSH  BC", "", "RST   00", "RET   Z", "RET", "", "", "", "", "", "RST   08", "RET   NC", "POP   DE", "", "", "", "PUSH  DE", "", "RST   10", "RET   C", "EXX", "", "", "", "", "", "RST   18", "RET   PO", "POP   HL", "", "EX    (SP),HL", "", "PUSH  HL", "", "RST   20", "RET   PE", "JP    (HL)", "", "EX    DE,HL", "", "", "", "RST   28", "RET   P", "POP   AF", "", "DI", "", "PUSH  AF", "", "RST   30", "RET   M", C + "SP,HL", "", "EI", "", "", "", "RST   38"]
      , S = function(e, r) {
        for (var D = e.toString(16); D.length < r; )
            D = "0" + D;
        return D.toUpperCase()
    }
      , O = function(e) {
        return S(255 & e, 2)
    };
    e.CPUDZ80 = {
        disasm: function(e, a, s, t, n, u) {
            var C = N[e];
            return C ? [C, 1] : (C = r(O(e), O(a), u)) ? [C, 2] : (C = D(O(e), O(a), O(s))) ? [C, 3] : (C = c(O(e), O(a), O(s), O(t))) ? [C, 4] : C ? void 0 : ["UNKNOWN", 0]
        }
    }
}(window);
!function() {
    window.JSSpeccy.buildZ80 = function(r) {
        var g, t, E, f, o, n, e, s, a, i, u, P, D, N, _, l, R, M, v, O, T, A, c, p, d, C, m, b, x, L, H, Q, h, y, B, I, w, k, W, z, F, $, Y, S, U, X, j, Z, q, J, G, K, V, rr, tr, er, nr, sr, ar, ir, gr, Er, fr, or, ur, Pr, Dr, Nr, _r, lr, Rr, Mr, vr, Or, Tr, Ar, cr, pr, dr, Cr, mr, br, xr, Lr, Hr, Qr, hr, yr, Br, Ir, wr, kr, Wr, zr, Fr, $r, Yr, Sr, Ur, Xr, jr, Zr, qr, Jr, Gr, Kr, Vr, rt, tt, et, nt, st, at, it, gt, Et, ft, ot, ut, Pt, Dt, Nt, _t, lt, Rt, Mt, vt, Ot, Tt, At, ct, pt, dt, Ct;
        return null == r && (r = {}),
        Et = new ArrayBuffer(2),
        nt = new Uint16Array(Et),
        at = new Uint8Array(Et),
        nt[0] = 256,
        gt = 1 === at[0],
        Ct = {
            IX: 8,
            IY: 9
        },
        dt = gt ? (ot = 8,
        lt = 9,
        Mt = 20,
        pt = 21,
        {
            A: ft = 0,
            F: _t = 1,
            B: ut = 2,
            C: Pt = 3,
            D: Dt = 4,
            E: Nt = 5,
            H: Rt = 6,
            L: ct = 7,
            IXH: vt = 16,
            IXL: Ot = 17,
            IYH: Tt = 18,
            IYL: At = 19
        }) : (lt = 8,
        ot = 9,
        pt = 20,
        Mt = 21,
        {
            F: _t = 0,
            A: ft = 1,
            C: Pt = 2,
            B: ut = 3,
            E: Nt = 4,
            D: Dt = 5,
            L: ct = 6,
            H: Rt = 7,
            IXL: Ot = 16,
            IXH: vt = 17,
            IYL: At = 18,
            IYH: Tt = 19
        }),
        0,
        0,
        0,
        b = 16,
        m = 32,
        L = 64,
        x = 128,
        it = function(r, t) {
            var e;
            if (null == t && (t = !1),
            r.match(/^[AFBCDEHL]|I[XY][HL]$/))
                return {
                    getter: "",
                    v: "regs[" + dt[r] + "]",
                    trunc: "",
                    setter: ""
                };
            if ("(HL)" === r)
                return {
                    getter: "var val = READMEM(regPairs[3]);",
                    v: "val",
                    trunc: "& 0xff",
                    setter: "CONTEND_READ_NO_MREQ(regPairs[3], 1);\nWRITEMEM(regPairs[3], val);"
                };
            if ("nn" === r)
                return {
                    getter: "var val = READMEM(regPairs[12]); regPairs[12]++;",
                    v: "val",
                    trunc: "& 0xff",
                    setter: ""
                };
            if (e = r.match(/^\((I[XY])\+nn\)$/))
                return t = t ? "" : "var offset = READMEM(regPairs[12]);\nif (offset & 0x80) offset -= 0x100;\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;",
                {
                    getter: t += "var addr = (regPairs[" + Ct[e[1]] + "] + offset) & 0xffff;\nvar val = READMEM(addr);",
                    v: "val",
                    trunc: "& 0xff",
                    setter: "CONTEND_READ_NO_MREQ(addr, 1);\nWRITEMEM(addr, val);"
                };
            if ("add" === r)
                return {
                    getter: "",
                    v: "add",
                    trunc: "",
                    setter: ""
                };
            throw "Par√°metro con formato inv√°lido " + r
        }
        ,
        g = function(r) {
            r = it(r);
            return r.getter + "\n\nvar adctemp = regs[" + ft + "] + " + r.v + " + (regs[" + _t + "] & 1);\nvar lookup = ( (regs[" + ft + "] & 0x88) >> 3 ) | ( (" + r.v + " & 0x88) >> 2 ) | ( (adctemp & 0x88) >> 1 );\nregs[" + ft + "] = adctemp;\nregs[" + _t + "] = ( adctemp & 0x100 ? 1 : 0 ) | halfcarryAddTable[lookup & 0x07] | overflowAddTable[lookup >> 4] | sz53Table[regs[" + ft + "]];"
        }
        ,
        t = function(r) {
            return "var add16temp = regPairs[3] + regPairs[" + r + "] + (regs[" + _t + "] & 1);\nvar lookup = (\n\t( (regPairs[3] & 0x8800) >> 11 ) |\n\t( (regPairs[" + r + "] & 0x8800) >> 10 ) |\n\t( (add16temp & 0x8800) >>  9 )\n);\nregPairs[3] = add16temp;\nregs[" + _t + "] = (\n\t(add16temp & 0x10000 ? 1 : 0) |\n\toverflowAddTable[lookup >> 4] |\n\t(regs[" + Rt + "] & 168) |\n\thalfcarryAddTable[lookup & 0x07] |\n\t(regPairs[3] ? 0 : " + L + ")\n);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        E = function(r) {
            r = it(r);
            return r.getter + "\n\nvar addtemp = regs[" + ft + "] + " + r.v + ";\nvar lookup = ( (regs[" + ft + "] & 0x88) >> 3 ) | ( (" + r.v + " & 0x88) >> 2 ) | ( (addtemp & 0x88) >> 1 );\nregs[" + ft + "] = addtemp;\nregs[" + _t + "] = ( addtemp & 0x100 ? 1 : 0 ) | halfcarryAddTable[lookup & 0x07] | overflowAddTable[lookup >> 4] | sz53Table[regs[" + ft + "]];"
        }
        ,
        f = function(r, t) {
            return "var add16temp = regPairs[" + r + "] + regPairs[" + t + "];\nvar lookup = ( (regPairs[" + r + "] & 0x0800) >> 11 ) | ( (regPairs[" + t + "] & 0x0800) >> 10 ) | ( (add16temp & 0x0800) >>  9 );\nregPairs[" + r + "] = add16temp;\nregs[" + _t + "] = ( regs[" + _t + "] & ( 196 ) ) | ( add16temp & 0x10000 ? 1 : 0 ) | ( ( add16temp >> 8 ) & ( 40 ) ) | halfcarryAddTable[lookup];\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        o = function(r) {
            r = it(r);
            return r.getter + "\n\nregs[" + ft + "] &= " + r.v + ";\nregs[" + _t + "] = " + b + " | sz53pTable[regs[" + ft + "]];"
        }
        ,
        n = function(r, t) {
            var e = 7 === r ? "if (value & 0x80) regs[" + _t + "] |= " + x + ";" : "";
            return "var addr = (regPairs[" + t + "] + offset) & 0xffff;\nvar value = READMEM(addr);\nregs[" + _t + "] = ( regs[" + _t + "] & 1 ) | " + b + " | ( ( addr >> 8 ) & 40 );\nif ( !(value & " + (1 << r) + ") ) regs[" + _t + "] |= 68;\n" + e + "\nCONTEND_READ_NO_MREQ(addr, 1);"
        }
        ,
        Mr = function(r) {
            var t = 7 === r ? "if (value & 0x80) regs[" + _t + "] |= " + x + ";" : "";
            return "var addr = regPairs[3];\nvar value = READMEM(addr);\nCONTEND_READ_NO_MREQ(addr, 1);\nregs[" + _t + "] = ( regs[" + _t + "] & 1 ) | " + b + " | ( value & 40 );\nif( !(value & " + (1 << r) + ") ) regs[" + _t + "] |= 68;\n" + t
        }
        ,
        st = function(r, t) {
            var e = 7 === r ? "if (regs[" + t + "] & 0x80) regs[" + _t + "] |= " + x + ";" : "";
            return "regs[" + _t + "] = ( regs[" + _t + "] & 1 ) | " + b + " | ( regs[" + t + "] & 40 );\nif( !(regs[" + t + "] & " + (1 << r) + ") ) regs[" + _t + "] |= 68;\n" + e
        }
        ,
        e = function(r, t) {
            r = "regs[" + _t + "] & " + r;
            return "if (" + (r = !t ? "!(" + r + ")" : r) + ") {\n\tvar l = READMEM(regPairs[12]); regPairs[12]++;\n\tvar h = READMEM(regPairs[12]);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tregPairs[12]++;\n\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\n\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\n\tregPairs[12] = (h<<8) | l;\n} else {\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++;\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++;\n}"
        }
        ,
        s = function() {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\nregPairs[12] = (h<<8) | l;"
        }
        ,
        a = function() {
            return "regs[" + _t + "] = ( regs[" + _t + "] & 196 ) | ( (regs[" + _t + "] & 1) ? " + b + " : 1 ) | ( regs[" + ft + "] & 40 );"
        }
        ,
        R = function(r) {
            r = it(r);
            return r.getter + "\n\nvar cptemp = regs[" + ft + "] - " + r.v + ";\nvar lookup = ( (regs[" + ft + "] & 0x88) >> 3 ) | ( (" + r.v + " & 0x88) >> 2 ) | ( (cptemp & 0x88) >> 1 );\nregs[" + _t + "] = ( cptemp & 0x100 ? 1 : ( cptemp ? 0 : " + L + " ) ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | ( " + r.v + " & 40 ) | ( cptemp & " + x + " );"
        }
        ,
        _ = function(r) {
            return "var value = READMEM(regPairs[3]);\nvar bytetemp = (regs[" + ft + "] - value) & 0xff;\nvar lookup = ((regs[" + ft + "] & 0x08) >> 3) | ((value & 0x08) >> 2) | ((bytetemp & 0x08) >> 1);\nvar originalHL = regPairs[3];\nCONTEND_READ_NO_MREQ(originalHL, 1);\nCONTEND_READ_NO_MREQ(originalHL, 1);\nCONTEND_READ_NO_MREQ(originalHL, 1);\nCONTEND_READ_NO_MREQ(originalHL, 1);\nCONTEND_READ_NO_MREQ(originalHL, 1);\nregPairs[3]" + r + "; regPairs[1]--;\nregs[" + _t + "] = (regs[" + _t + "] & 1) | (regPairs[1] ? 6 : 2) | halfcarrySubTable[lookup] | (bytetemp ? 0 : " + L + ") | (bytetemp & " + x + ");\nif (regs[" + _t + "] & " + b + ") bytetemp--;\nregs[" + _t + "] |= (bytetemp & 8) | ( (bytetemp & 0x02) ? " + m + " : 0 );"
        }
        ,
        N = function(r) {
            return _(r) + "\nif ((regs[" + _t + "] & 68) == 4) {\n\tregPairs[12] -= 2;\n\tCONTEND_READ_NO_MREQ(originalHL, 1);\n\tCONTEND_READ_NO_MREQ(originalHL, 1);\n\tCONTEND_READ_NO_MREQ(originalHL, 1);\n\tCONTEND_READ_NO_MREQ(originalHL, 1);\n\tCONTEND_READ_NO_MREQ(originalHL, 1);\n}"
        }
        ,
        i = function() {
            return _("--")
        }
        ,
        P = function() {
            return _("++")
        }
        ,
        u = function() {
            return N("--")
        }
        ,
        D = function() {
            return N("++")
        }
        ,
        M = function() {
            var r = tt("add")
              , t = E("add");
            return "var add = 0;\nvar carry = regs[" + _t + "] & 1;\nif( ( regs[" + _t + "] & " + b + " ) || ( ( regs[" + ft + "] & 0x0f ) > 9 ) ) add = 6;\nif( carry || ( regs[" + ft + "] > 0x99 ) ) add |= 0x60;\nif( regs[" + ft + "] > 0x99 ) carry = 1;\nif( regs[" + _t + "] & 2 ) {\n\t" + r + "\n} else {\n\t" + t + "\n}\nregs[" + _t + "] = ( regs[" + _t + "] & " + -6 + " ) | carry | parityTable[regs[" + ft + "]];"
        }
        ,
        l = function() {
            return "regs[" + ft + "] ^= 0xff;\nregs[" + _t + "] = (regs[" + _t + "] & 197) | (regs[" + ft + "] & 40) | 18;"
        }
        ,
        v = function(r) {
            r = it(r);
            return r.getter + "\n\nregs[" + _t + "] = (regs[" + _t + "] & 1 ) | ( " + r.v + " & 0x0f ? 0 : " + b + " ) | 2;\n" + r.v + " = (" + r.v + " - 1) " + r.trunc + ";\n\n" + r.setter + "\nregs[" + _t + "] |= (" + r.v + " == 0x7f ? 4 : 0) | sz53Table[" + r.v + "];"
        }
        ,
        O = function(r) {
            return "regPairs[" + r + "]--;\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        T = function() {
            return "iff1 = iff2 = 0;"
        }
        ,
        A = function() {
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nregs[" + ut + "]--;\nif (regs[" + ut + "]) {\n\t/* take branch */\n\tvar offset = READMEM(regPairs[12]);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tregPairs[12]++;\n\tregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);\n} else {\n\t/* do not take branch */\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++;\n}"
        }
        ,
        c = function() {
            return "iff1 = iff2 = 1;\ninterruptible = false;"
        }
        ,
        C = function(r) {
            return "var l = READMEM(regPairs[11]);\nvar spPlus1 = (regPairs[11] + 1) & 0xffff;\nvar h = READMEM(spPlus1);\nCONTEND_READ_NO_MREQ(spPlus1, 1);\nWRITEMEM(spPlus1, regPairs[" + r + "] >> 8);\nWRITEMEM(regPairs[11], regPairs[" + r + "] & 0xff);\nregPairs[" + r + "] = (h<<8) | l;\nCONTEND_WRITE_NO_MREQ(regPairs[11], 1);\nCONTEND_WRITE_NO_MREQ(regPairs[11], 1);"
        }
        ,
        d = function(r, t) {
            return "var temp = regPairs[" + r + "];\nregPairs[" + r + "] = regPairs[" + t + "];\nregPairs[" + t + "] = temp;"
        }
        ,
        p = function() {
            return "var wordtemp;\nwordtemp = regPairs[1]; regPairs[1] = regPairs[5]; regPairs[5] = wordtemp;\nwordtemp = regPairs[2]; regPairs[2] = regPairs[6]; regPairs[6] = wordtemp;\nwordtemp = regPairs[3]; regPairs[3] = regPairs[7]; regPairs[7] = wordtemp;"
        }
        ,
        H = function() {
            return "halted = true;\nregPairs[12]--;"
        }
        ,
        Q = function(r) {
            return "im = " + r + ";"
        }
        ,
        F = function() {
            return "var val = READMEM(regPairs[12]); regPairs[12]++;\nvar port = (regs[" + ft + "] << 8) | val;\nCONTEND_PORT_EARLY(port);\nregs[" + ft + "] = ioBus.read(port);\nCONTEND_PORT_LATE(port);"
        }
        ,
        $ = function() {
            return "var port = regPairs[1];\nCONTEND_PORT_EARLY(port);\nvar result = ioBus.read(port);\nCONTEND_PORT_LATE(port);\nregs[" + _t + "] = (regs[" + _t + "] & 1) | sz53pTable[result];"
        }
        ,
        Y = function(r) {
            return "var port = regPairs[1];\nCONTEND_PORT_EARLY(port);\nregs[" + r + "] = ioBus.read(port);\nCONTEND_PORT_LATE(port);\nregs[" + _t + "] = (regs[" + _t + "] & 1) | sz53pTable[regs[" + r + "]];"
        }
        ,
        h = function(r) {
            r = it(r);
            return r.getter + "\n\nregs[" + _t + "] = (regs[" + _t + "] & 1) | (" + r.v + " & 0x0f ? 0 : " + b + ") | 2;\n" + r.v + " = (" + r.v + " + 1) " + r.trunc + ";\n\n" + r.setter + "\nregs[" + _t + "] = (regs[" + _t + "] & 1) | ( " + r.v + " == 0x80 ? 4 : 0 ) | ( " + r.v + " & 0x0f ? 0 : " + b + " ) | sz53Table[" + r.v + "];"
        }
        ,
        y = function(r) {
            return "regPairs[" + r + "]++;\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        z = function(r) {
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_PORT_EARLY(regPairs[1]);\nvar initemp = ioBus.read(regPairs[1]);\nCONTEND_PORT_LATE(regPairs[1]);\nWRITEMEM(regPairs[3], initemp);\nregs[" + ut + "]--;\nvar originalHL = regPairs[3];\nregPairs[3]" + r + r + ";\nvar initemp2 = (initemp + regs[" + Pt + "] " + r + " 1) & 0xff;\n\nregs[" + _t + "] = (initemp & 0x80 ? 2 : 0) | ((initemp2 < initemp) ? 17 : 0 ) | ( parityTable[ (initemp2 & 0x07) ^ regs[" + ut + "] ] ? 4 : 0 ) | sz53Table[regs[" + ut + "]];"
        }
        ,
        W = function(r) {
            return z(r) + "\nif (regs[" + ut + "]) {\n\tCONTEND_WRITE_NO_MREQ(originalHL, 1);\n\tCONTEND_WRITE_NO_MREQ(originalHL, 1);\n\tCONTEND_WRITE_NO_MREQ(originalHL, 1);\n\tCONTEND_WRITE_NO_MREQ(originalHL, 1);\n\tCONTEND_WRITE_NO_MREQ(originalHL, 1);\n\tregPairs[12] -= 2;\n}"
        }
        ,
        w = function() {
            return z("+")
        }
        ,
        B = function() {
            return z("-")
        }
        ,
        k = function() {
            return W("+")
        }
        ,
        I = function() {
            return W("-")
        }
        ,
        S = function(r, t) {
            r = "regs[" + _t + "] & " + r;
            return "if (" + (r = !t ? "!(" + r + ")" : r) + ") {\n\tvar l = READMEM(regPairs[12]); regPairs[12]++;\n\tvar h = READMEM(regPairs[12]); regPairs[12]++;\n\tregPairs[12] = (h<<8) | l;\n} else {\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++;\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++;\n}"
        }
        ,
        X = function(r) {
            return "regPairs[12] = regPairs[" + r + "];"
        }
        ,
        U = function() {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nregPairs[12] = (h<<8) | l;"
        }
        ,
        j = function(r, t) {
            r = "regs[" + _t + "] & " + r;
            return "if (" + (r = !t ? "!(" + r + ")" : r) + ") {\n\tvar offset = READMEM(regPairs[12]);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\tregPairs[12]++;\n\tregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);\n} else {\n\tCONTEND_READ(regPairs[12], 3);\n\tregPairs[12]++; /* skip past offset byte */\n}"
        }
        ,
        Z = function() {
            return "var offset = READMEM(regPairs[12]);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;\nregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);"
        }
        ,
        nr = function() {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nregs[" + ft + "] = READMEM(addr);"
        }
        ,
        ur = function() {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nWRITEMEM(addr, regs[" + ft + "]);"
        }
        ,
        Pr = function(r) {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nWRITEMEM(addr, regPairs[" + r + "] & 0xff);\naddr = (addr + 1) & 0xffff;\nWRITEMEM(addr, regPairs[" + r + "] >> 8);"
        }
        ,
        Dr = function(r) {
            return "var n = READMEM(regPairs[12]); regPairs[12]++;\nWRITEMEM(regPairs[" + r + "], n);"
        }
        ,
        Nr = function(r, t) {
            return "WRITEMEM(regPairs[" + r + "], regs[" + t + "]);"
        }
        ,
        _r = function(r) {
            return "var offset = READMEM(regPairs[12]); regPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs[" + r + "] + offset) & 0xffff;\n\nvar val = READMEM(regPairs[12]);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;\nWRITEMEM(addr, val);"
        }
        ,
        lr = function(r, t) {
            return "var offset = READMEM(regPairs[12]);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs[" + r + "] + offset) & 0xffff;\n\nWRITEMEM(addr, regs[" + t + "]);"
        }
        ,
        fr = function(r, t) {
            return "regs[" + r + "] = READMEM(regPairs[" + t + "]);"
        }
        ,
        or = function(r, t) {
            return "var offset = READMEM(regPairs[12]);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nCONTEND_READ_NO_MREQ(regPairs[12], 1);\nregPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs[" + t + "] + offset) & 0xffff;\n\nregs[" + r + "] = READMEM(addr);"
        }
        ,
        gr = function(r) {
            return "regs[" + r + "] = READMEM(regPairs[12]); regPairs[12]++;"
        }
        ,
        Er = function(r, t) {
            var e;
            return r === Mt || t === Mt || r === pt || t === pt ? (e = "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nregs[" + r + "] = regs[" + t + "];",
            r === ft && (e += "regs[" + _t + "] = (regs[" + _t + "] & 1) | sz53Table[regs[" + ft + "]] | ( iff2 ? 4 : 0 );"),
            e) : "regs[" + r + "] = regs[" + t + "];"
        }
        ,
        ir = function(r, t) {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nl = READMEM(addr);\naddr = (addr + 1) & 0xffff;\nh = READMEM(addr);\nregPairs[" + r + "] = (h<<8) | l;"
        }
        ,
        sr = function(r) {
            return "var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nregPairs[" + r + "] = (h<<8) | l;"
        }
        ,
        ar = function(r, t) {
            return "regPairs[" + r + "] = regPairs[" + t + "];\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        q = function(r, t, e, n) {
            var s = dt[r];
            return "var addr = (regPairs[" + n + "] + offset) & 0xffff;\nregs[" + s + "] = READMEM(addr);\n" + t(e, r) + "\nCONTEND_READ_NO_MREQ(addr, 1);\nWRITEMEM(addr, regs[" + s + "]);"
        }
        ,
        tr = function(r) {
            return "var bytetemp = READMEM(regPairs[3]);\nregPairs[1]--;\nWRITEMEM(regPairs[2],bytetemp);\nvar originalDE = regPairs[2];\nregPairs[2]" + r + "; regPairs[3]" + r + ";\nbytetemp = (bytetemp + regs[" + ft + "]) & 0xff;\nregs[" + _t + "] = (regs[" + _t + "] & 193) | (regPairs[1] ? 4 : 0) | (bytetemp & 8) | ((bytetemp & 0x02) ? " + m + " : 0);\nCONTEND_READ_NO_MREQ(originalDE, 1);\nCONTEND_READ_NO_MREQ(originalDE, 1);"
        }
        ,
        rr = function(r) {
            return tr(r) + "\nif (regPairs[1]) {\n\tregPairs[12]-=2;\n\tCONTEND_READ_NO_MREQ(originalDE, 1);\n\tCONTEND_READ_NO_MREQ(originalDE, 1);\n\tCONTEND_READ_NO_MREQ(originalDE, 1);\n\tCONTEND_READ_NO_MREQ(originalDE, 1);\n\tCONTEND_READ_NO_MREQ(originalDE, 1);\n}"
        }
        ,
        K = function() {
            return tr("++")
        }
        ,
        J = function() {
            return tr("--")
        }
        ,
        V = function() {
            return rr("++")
        }
        ,
        G = function() {
            return rr("--")
        }
        ,
        er = function(r, t, e) {
            var n = dt[r];
            return "var addr = (regPairs[" + e + "] + offset) & 0xffff;\nregs[" + n + "] = READMEM(addr);\n" + t(r) + "\nCONTEND_READ_NO_MREQ(addr, 1);\nWRITEMEM(addr, regs[" + n + "]);"
        }
        ,
        Rr = function() {
            return "var val = regs[" + ft + "];\nvar subtemp = -val;\nvar lookup = ( (val & 0x88) >> 2 ) | ( (subtemp & 0x88) >> 1 );\nregs[" + ft + "] = subtemp;\nregs[" + _t + "] = ( subtemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs[" + ft + "]];"
        }
        ,
        vr = function(r) {
            r = it(r);
            return r.getter + "\n\nregs[" + ft + "] |= " + r.v + ";\nregs[" + _t + "] = sz53pTable[regs[" + ft + "]];"
        }
        ,
        Cr = function(r) {
            return "CONTEND_PORT_EARLY(regPairs[1]);\nioBus.write(regPairs[1], 0, tstates);\nCONTEND_PORT_LATE(regPairs[1]);"
        }
        ,
        mr = function(r) {
            return "CONTEND_PORT_EARLY(regPairs[1]);\nioBus.write(regPairs[1], regs[" + r + "], tstates);\nCONTEND_PORT_LATE(regPairs[1]);"
        }
        ,
        br = function() {
            return "var port = (regs[" + ft + "] << 8) | READMEM(regPairs[12]); regPairs[12]++;\nCONTEND_PORT_EARLY(port);\nioBus.write(port, regs[" + ft + "], tstates);\nCONTEND_PORT_LATE(port);"
        }
        ,
        dr = function(r) {
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nvar outitemp = READMEM(regPairs[3]);\nregs[" + ut + "]--;\t/* This does happen first, despite what the specs say */\nCONTEND_PORT_EARLY(regPairs[1]);\nioBus.write(regPairs[1], outitemp, tstates);\nCONTEND_PORT_LATE(regPairs[1]);\n\nregPairs[3]" + r + ";\noutitemp2 = (outitemp + regs[" + ct + "]) & 0xff;\nregs[" + _t + "] = (outitemp & 0x80 ? 2 : 0) | ( (outitemp2 < outitemp) ? 17 : 0) | (parityTable[ (outitemp2 & 0x07) ^ regs[" + ut + "] ] ? 4 : 0 ) | sz53Table[ regs[" + ut + "] ];"
        }
        ,
        Ar = function(r) {
            return dr(r) + "\nif (regs[" + ut + "]) {\n\tregPairs[12]-=2;\n\tCONTEND_READ_NO_MREQ(regPairs[1], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[1], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[1], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[1], 1);\n\tCONTEND_READ_NO_MREQ(regPairs[1], 1);\n}"
        }
        ,
        cr = function() {
            return dr("--")
        }
        ,
        pr = function() {
            return dr("++")
        }
        ,
        Or = function() {
            return Ar("--")
        }
        ,
        Tr = function() {
            return Ar("++")
        }
        ,
        xr = function(r) {
            return "var l = READMEM(regPairs[11]); regPairs[11]++;\nvar h = READMEM(regPairs[11]); regPairs[11]++;\nregPairs[" + r + "] = (h<<8) | l;"
        }
        ,
        Lr = function(r) {
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[" + r + "] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[" + r + "] & 0xff);"
        }
        ,
        Hr = function(r, t) {
            t = it(t, !0);
            return t.getter + "\n" + t.v + " &= " + (255 ^ 1 << r) + ";\n" + t.setter
        }
        ,
        Qr = function() {
            return "var l = READMEM(regPairs[11]); regPairs[11]++;\nvar h = READMEM(regPairs[11]); regPairs[11]++; \nregPairs[12] = (h<<8) | l;"
        }
        ,
        yr = function(r, t) {
            r = "regs[" + _t + "] & " + r;
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nif (" + (r = !t ? "!(" + r + ")" : r) + ") {\n\tvar l = READMEM(regPairs[11]); regPairs[11]++;\n\tvar h = READMEM(regPairs[11]); regPairs[11]++;\n\tregPairs[12] = (h<<8) | l;\n}"
        }
        ,
        hr = function() {
            return "iff1 = iff2;\n" + Qr()
        }
        ,
        Br = function(r) {
            r = it(r, !0);
            return r.getter + "\nvar rltemp = " + r.v + ";\n" + r.v + " = ( (" + r.v + " << 1) | (regs[" + _t + "] & 1) ) " + r.trunc + ";\nregs[" + _t + "] = ( rltemp >> 7 ) | sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        Ir = function() {
            return "var bytetemp = regs[" + ft + "];\nregs[" + ft + "] = (regs[" + ft + "] << 1) | (regs[" + _t + "] & 1);\nregs[" + _t + "] = (regs[" + _t + "] & 196) | (regs[" + ft + "] & 40) | (bytetemp >> 7);"
        }
        ,
        Wr = function() {
            return "var bytetemp =  READMEM(regPairs[3]);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nvar val = (bytetemp << 4) | (regs[" + ft + "] & 0x0f);\nWRITEMEM(regPairs[3], val);\nregs[" + ft + "] = (regs[" + ft + "] & 0xf0) | (bytetemp >> 4);\nregs[" + _t + "] = (regs[" + _t + "] & 1) | sz53pTable[regs[" + ft + "]];"
        }
        ,
        kr = function() {
            return "regs[" + ft + "] = (regs[" + ft + "] << 1) | (regs[" + ft + "] >> 7);\nregs[" + _t + "] = (regs[" + _t + "] & 196) | (regs[" + ft + "] & 41);"
        }
        ,
        zr = function(r) {
            r = it(r, !0);
            return r.getter + "\nvar rrtemp = " + r.v + ";\n" + r.v + " = ( (" + r.v + " >> 1) | ( regs[" + _t + "] << 7 ) ) " + r.trunc + ";\nregs[" + _t + "] = (rrtemp & 1) | sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        Fr = function() {
            return "var bytetemp = regs[" + ft + "];\nregs[" + ft + "] = (bytetemp >> 1) | (regs[" + _t + "] << 7);\nregs[" + _t + "] = (regs[" + _t + "] & 196) | (regs[" + ft + "] & 40) | (bytetemp & 1);"
        }
        ,
        $r = function(r) {
            r = it(r, !0);
            return r.getter + "\nregs[" + _t + "] = " + r.v + " & 1;\n" + r.v + " = ( (" + r.v + " >> 1) | (" + r.v + " << 7) ) " + r.trunc + ";\nregs[" + _t + "] |= sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        Yr = function() {
            return "regs[" + _t + "] = (regs[" + _t + "] & 196) | (regs[" + ft + "] & 1);\nregs[" + ft + "] = (regs[" + ft + "] >> 1) | (regs[" + ft + "] << 7);\nregs[" + _t + "] |= (regs[" + ft + "] & 40);"
        }
        ,
        Sr = function() {
            return "var bytetemp = READMEM(regPairs[3]);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nCONTEND_READ_NO_MREQ(regPairs[3], 1);\nvar val = (regs[" + ft + "] << 4) | (bytetemp >> 4);\nWRITEMEM(regPairs[3], val);\nregs[" + ft + "] = (regs[" + ft + "] & 0xf0) | (bytetemp & 0x0f);\nregs[" + _t + "] = (regs[" + _t + "] & 1) | sz53pTable[regs[" + ft + "]];"
        }
        ,
        Ur = function(r) {
            return "CONTEND_READ_NO_MREQ(regPairs[10], 1);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\nregPairs[12] = " + r + ";"
        }
        ,
        Xr = function(r) {
            r = it(r);
            return r.getter + "\nvar sbctemp = regs[" + ft + "] - " + r.v + " - (regs[" + _t + "] & 1);\nvar lookup = ( (regs[" + ft + "] & 0x88) >> 3 ) | ( (" + r.v + " & 0x88) >> 2 ) | ( (sbctemp & 0x88) >> 1 );\nregs[" + ft + "] = sbctemp;\nregs[" + _t + "] = ( sbctemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs[" + ft + "]];"
        }
        ,
        jr = function(r) {
            return "var sub16temp = regPairs[3] - regPairs[" + r + "] - (regs[" + _t + "] & 1);\nvar lookup = ( (regPairs[3] & 0x8800) >> 11 ) | ( (regPairs[" + r + "] & 0x8800) >> 10 ) | ( (sub16temp & 0x8800) >>  9 );\nregPairs[3] = sub16temp;\nregs[" + _t + "] = ( sub16temp & 0x10000 ? 1 : 0 ) | 2 | overflowSubTable[lookup >> 4] | (regs[" + Rt + "] & 168) | halfcarrySubTable[lookup&0x07] | (regPairs[3] ? 0 : " + L + ");\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);\nCONTEND_READ_NO_MREQ(regPairs[10], 1);"
        }
        ,
        Zr = function() {
            return "regs[" + _t + "] = (regs[" + _t + "] & 196) | (regs[" + ft + "] & 40) | 1;"
        }
        ,
        qr = function(r, t) {
            r = 1 << r,
            t = it(t, !0);
            return t.getter + "\n" + t.v + " |= " + r + ";\n" + t.setter
        }
        ,
        Jr = function(r) {
            return "opcodePrefix = '" + r + "';\ninterruptible = false;"
        }
        ,
        Gr = function(r) {
            r = it(r, !0);
            return r.getter + "\nregs[" + _t + "] = " + r.v + " >> 7;\n" + r.v + " = (" + r.v + " << 1) " + r.trunc + ";\nregs[" + _t + "] |= sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        Kr = function(r) {
            r = it(r, !0);
            return r.getter + "\nregs[" + _t + "] =  " + r.v + " >> 7;\n" + r.v + " = (((" + r.v + ") << 1) " + r.trunc + ") | 0x01;\nregs[" + _t + "] |= sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        Vr = function(r) {
            r = it(r, !0);
            return r.getter + "\nregs[" + _t + "] = " + r.v + " & 1;\n" + r.v + " = ( (" + r.v + " & 0x80) | (" + r.v + " >> 1) ) " + r.trunc + ";\nregs[" + _t + "] |= sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        rt = function(r) {
            r = it(r, !0);
            return r.getter + "\nregs[" + _t + "] =  " + r.v + " & 1;\n" + r.v + " >>= 1;\nregs[" + _t + "] |= sz53pTable[" + r.v + "];\n" + r.setter
        }
        ,
        tt = function(r) {
            r = it(r);
            return r.getter + "\nvar subtemp = regs[" + ft + "] - " + r.v + ";\nvar lookup = ( (regs[" + ft + "] & 0x88) >> 3 ) | ( (" + r.v + " & 0x88) >> 2 ) | ( (subtemp & 0x88) >> 1 );\nregs[" + ft + "] = subtemp;\nregs[" + _t + "] = ( subtemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs[" + ft + "]];"
        }
        ,
        et = function(r) {
            r = it(r);
            return r.getter + "\nregs[" + ft + "] ^= " + r.v + ";\nregs[" + _t + "] = sz53pTable[regs[" + ft + "]];"
        }
        ,
        Et = function(r, t, s) {
            var a, i, e, g, E, f, n, o, u;
            for (null == t && (t = {}),
            null == s && (s = []),
            e = [],
            g = u = 0; u < 256; g = ++u)
                null != (n = null == (n = r[g]) ? t[g] : n) && (f = function() {
                    for (var r, t = [], e = 0, n = s.length; e < n; e++)
                        r = s[e],
                        i = r[0],
                        E = r[1],
                        a = r[2],
                        E === g && t.push([i, a]);
                    return t
                }(),
                o = function() {
                    for (var r, t = [], e = 0, n = f.length; e < n; e++)
                        r = f[e],
                        i = r[0],
                        a = r[1],
                        t.push("if (regPairs[12] == " + (i + 1 & 65535) + " && !(" + a + ")) break;");
                    return t
                }(),
                e.push("case " + g + ":\n\t" + o.join("\n") + "\n\t" + n + "\n\tbreak;"));
            return "switch (opcode) {\n\t" + e.join("") + '\n\tdefault:\n\t\tvar addr = regPairs[12] - 1;\n\t\tthrow("Unimplemented opcode " + opcode + " in page ' + r[256] + ' - PC = " + addr);\n}'
        }
        ,
        nt = {
            0: (wr = function(r) {
                r = it(r, !0);
                return r.getter + "\n" + r.v + " = ( (" + r.v + " << 1) | (" + r.v + " >> 7) ) " + r.trunc + ";\nregs[" + _t + "] = (" + r.v + " & 1) | sz53pTable[" + r.v + "];\n" + r.setter
            }
            )("B"),
            1: wr("C"),
            2: wr("D"),
            3: wr("E"),
            4: wr("H"),
            5: wr("L"),
            6: wr("(HL)"),
            7: wr("A"),
            8: $r("B"),
            9: $r("C"),
            10: $r("D"),
            11: $r("E"),
            12: $r("H"),
            13: $r("L"),
            14: $r("(HL)"),
            15: $r("A"),
            16: Br("B"),
            17: Br("C"),
            18: Br("D"),
            19: Br("E"),
            20: Br("H"),
            21: Br("L"),
            22: Br("(HL)"),
            23: Br("A"),
            24: zr("B"),
            25: zr("C"),
            26: zr("D"),
            27: zr("E"),
            28: zr("H"),
            29: zr("L"),
            30: zr("(HL)"),
            31: zr("A"),
            32: Gr("B"),
            33: Gr("C"),
            34: Gr("D"),
            35: Gr("E"),
            36: Gr("H"),
            37: Gr("L"),
            38: Gr("(HL)"),
            39: Gr("A"),
            40: Vr("B"),
            41: Vr("C"),
            42: Vr("D"),
            43: Vr("E"),
            44: Vr("H"),
            45: Vr("L"),
            46: Vr("(HL)"),
            47: Vr("A"),
            48: Kr("B"),
            49: Kr("C"),
            50: Kr("D"),
            51: Kr("E"),
            52: Kr("H"),
            53: Kr("L"),
            54: Kr("(HL)"),
            55: Kr("A"),
            56: rt("B"),
            57: rt("C"),
            58: rt("D"),
            59: rt("E"),
            60: rt("H"),
            61: rt("L"),
            62: rt("(HL)"),
            63: rt("A"),
            64: st(0, ut),
            65: st(0, Pt),
            66: st(0, Dt),
            67: st(0, Nt),
            68: st(0, Rt),
            69: st(0, ct),
            70: Mr(0),
            71: st(0, ft),
            72: st(1, ut),
            73: st(1, Pt),
            74: st(1, Dt),
            75: st(1, Nt),
            76: st(1, Rt),
            77: st(1, ct),
            78: Mr(1),
            79: st(1, ft),
            80: st(2, ut),
            81: st(2, Pt),
            82: st(2, Dt),
            83: st(2, Nt),
            84: st(2, Rt),
            85: st(2, ct),
            86: Mr(2),
            87: st(2, ft),
            88: st(3, ut),
            89: st(3, Pt),
            90: st(3, Dt),
            91: st(3, Nt),
            92: st(3, Rt),
            93: st(3, ct),
            94: Mr(3),
            95: st(3, ft),
            96: st(4, ut),
            97: st(4, Pt),
            98: st(4, Dt),
            99: st(4, Nt),
            100: st(4, Rt),
            101: st(4, ct),
            102: Mr(4),
            103: st(4, ft),
            104: st(5, ut),
            105: st(5, Pt),
            106: st(5, Dt),
            107: st(5, Nt),
            108: st(5, Rt),
            109: st(5, ct),
            110: Mr(5),
            111: st(5, ft),
            112: st(6, ut),
            113: st(6, Pt),
            114: st(6, Dt),
            115: st(6, Nt),
            116: st(6, Rt),
            117: st(6, ct),
            118: Mr(6),
            119: st(6, ft),
            120: st(7, ut),
            121: st(7, Pt),
            122: st(7, Dt),
            123: st(7, Nt),
            124: st(7, Rt),
            125: st(7, ct),
            126: Mr(7),
            127: st(7, ft),
            128: Hr(0, "B"),
            129: Hr(0, "C"),
            130: Hr(0, "D"),
            131: Hr(0, "E"),
            132: Hr(0, "H"),
            133: Hr(0, "L"),
            134: Hr(0, "(HL)"),
            135: Hr(0, "A"),
            136: Hr(1, "B"),
            137: Hr(1, "C"),
            138: Hr(1, "D"),
            139: Hr(1, "E"),
            140: Hr(1, "H"),
            141: Hr(1, "L"),
            142: Hr(1, "(HL)"),
            143: Hr(1, "A"),
            144: Hr(2, "B"),
            145: Hr(2, "C"),
            146: Hr(2, "D"),
            147: Hr(2, "E"),
            148: Hr(2, "H"),
            149: Hr(2, "L"),
            150: Hr(2, "(HL)"),
            151: Hr(2, "A"),
            152: Hr(3, "B"),
            153: Hr(3, "C"),
            154: Hr(3, "D"),
            155: Hr(3, "E"),
            156: Hr(3, "H"),
            157: Hr(3, "L"),
            158: Hr(3, "(HL)"),
            159: Hr(3, "A"),
            160: Hr(4, "B"),
            161: Hr(4, "C"),
            162: Hr(4, "D"),
            163: Hr(4, "E"),
            164: Hr(4, "H"),
            165: Hr(4, "L"),
            166: Hr(4, "(HL)"),
            167: Hr(4, "A"),
            168: Hr(5, "B"),
            169: Hr(5, "C"),
            170: Hr(5, "D"),
            171: Hr(5, "E"),
            172: Hr(5, "H"),
            173: Hr(5, "L"),
            174: Hr(5, "(HL)"),
            175: Hr(5, "A"),
            176: Hr(6, "B"),
            177: Hr(6, "C"),
            178: Hr(6, "D"),
            179: Hr(6, "E"),
            180: Hr(6, "H"),
            181: Hr(6, "L"),
            182: Hr(6, "(HL)"),
            183: Hr(6, "A"),
            184: Hr(7, "B"),
            185: Hr(7, "C"),
            186: Hr(7, "D"),
            187: Hr(7, "E"),
            188: Hr(7, "H"),
            189: Hr(7, "L"),
            190: Hr(7, "(HL)"),
            191: Hr(7, "A"),
            192: qr(0, "B"),
            193: qr(0, "C"),
            194: qr(0, "D"),
            195: qr(0, "E"),
            196: qr(0, "H"),
            197: qr(0, "L"),
            198: qr(0, "(HL)"),
            199: qr(0, "A"),
            200: qr(1, "B"),
            201: qr(1, "C"),
            202: qr(1, "D"),
            203: qr(1, "E"),
            204: qr(1, "H"),
            205: qr(1, "L"),
            206: qr(1, "(HL)"),
            207: qr(1, "A"),
            208: qr(2, "B"),
            209: qr(2, "C"),
            210: qr(2, "D"),
            211: qr(2, "E"),
            212: qr(2, "H"),
            213: qr(2, "L"),
            214: qr(2, "(HL)"),
            215: qr(2, "A"),
            216: qr(3, "B"),
            217: qr(3, "C"),
            218: qr(3, "D"),
            219: qr(3, "E"),
            220: qr(3, "H"),
            221: qr(3, "L"),
            222: qr(3, "(HL)"),
            223: qr(3, "A"),
            224: qr(4, "B"),
            225: qr(4, "C"),
            226: qr(4, "D"),
            227: qr(4, "E"),
            228: qr(4, "H"),
            229: qr(4, "L"),
            230: qr(4, "(HL)"),
            231: qr(4, "A"),
            232: qr(5, "B"),
            233: qr(5, "C"),
            234: qr(5, "D"),
            235: qr(5, "E"),
            236: qr(5, "H"),
            237: qr(5, "L"),
            238: qr(5, "(HL)"),
            239: qr(5, "A"),
            240: qr(6, "B"),
            241: qr(6, "C"),
            242: qr(6, "D"),
            243: qr(6, "E"),
            244: qr(6, "H"),
            245: qr(6, "L"),
            246: qr(6, "(HL)"),
            247: qr(6, "A"),
            248: qr(7, "B"),
            249: qr(7, "C"),
            250: qr(7, "D"),
            251: qr(7, "E"),
            252: qr(7, "H"),
            253: qr(7, "L"),
            254: qr(7, "(HL)"),
            255: qr(7, "A"),
            256: "cb"
        },
        gt = (at = function(r) {
            var t, e;
            e = "DDCB" === r ? (t = 8,
            "IX") : (t = 9,
            "IY");
            return {
                0: er("B", wr, t),
                1: er("C", wr, t),
                2: er("D", wr, t),
                3: er("E", wr, t),
                4: er("H", wr, t),
                5: er("L", wr, t),
                6: wr("(" + e + "+nn)"),
                7: er("A", wr, t),
                8: er("B", $r, t),
                9: er("C", $r, t),
                10: er("D", $r, t),
                11: er("E", $r, t),
                12: er("H", $r, t),
                13: er("L", $r, t),
                14: $r("(" + e + "+nn)"),
                15: er("A", $r, t),
                16: er("B", Br, t),
                17: er("C", Br, t),
                18: er("D", Br, t),
                19: er("E", Br, t),
                20: er("H", Br, t),
                21: er("L", Br, t),
                22: Br("(" + e + "+nn)"),
                23: er("A", Br, t),
                24: er("B", zr, t),
                25: er("C", zr, t),
                26: er("D", zr, t),
                27: er("E", zr, t),
                28: er("H", zr, t),
                29: er("L", zr, t),
                30: zr("(" + e + "+nn)"),
                31: er("A", zr, t),
                32: er("B", Gr, t),
                33: er("C", Gr, t),
                34: er("D", Gr, t),
                35: er("E", Gr, t),
                36: er("H", Gr, t),
                37: er("L", Gr, t),
                38: Gr("(" + e + "+nn)"),
                39: er("A", Gr, t),
                40: er("B", Vr, t),
                41: er("C", Vr, t),
                42: er("D", Vr, t),
                43: er("E", Vr, t),
                44: er("H", Vr, t),
                45: er("L", Vr, t),
                46: Vr("(" + e + "+nn)"),
                47: er("A", Vr, t),
                48: er("B", Kr, t),
                49: er("C", Kr, t),
                50: er("D", Kr, t),
                51: er("E", Kr, t),
                52: er("H", Kr, t),
                53: er("L", Kr, t),
                54: Kr("(" + e + "+nn)"),
                55: er("A", Kr, t),
                56: er("B", rt, t),
                57: er("C", rt, t),
                58: er("D", rt, t),
                59: er("E", rt, t),
                60: er("H", rt, t),
                61: er("L", rt, t),
                62: rt("(" + e + "+nn)"),
                63: er("A", rt, t),
                64: n(0, t),
                65: n(0, t),
                66: n(0, t),
                67: n(0, t),
                68: n(0, t),
                69: n(0, t),
                70: n(0, t),
                71: n(0, t),
                72: n(1, t),
                73: n(1, t),
                74: n(1, t),
                75: n(1, t),
                76: n(1, t),
                77: n(1, t),
                78: n(1, t),
                79: n(1, t),
                80: n(2, t),
                81: n(2, t),
                82: n(2, t),
                83: n(2, t),
                84: n(2, t),
                85: n(2, t),
                86: n(2, t),
                87: n(2, t),
                88: n(3, t),
                89: n(3, t),
                90: n(3, t),
                91: n(3, t),
                92: n(3, t),
                93: n(3, t),
                94: n(3, t),
                95: n(3, t),
                96: n(4, t),
                97: n(4, t),
                98: n(4, t),
                99: n(4, t),
                100: n(4, t),
                101: n(4, t),
                102: n(4, t),
                103: n(4, t),
                104: n(5, t),
                105: n(5, t),
                106: n(5, t),
                107: n(5, t),
                108: n(5, t),
                109: n(5, t),
                110: n(5, t),
                111: n(5, t),
                112: n(6, t),
                113: n(6, t),
                114: n(6, t),
                115: n(6, t),
                116: n(6, t),
                117: n(6, t),
                118: n(6, t),
                119: n(6, t),
                120: n(7, t),
                121: n(7, t),
                122: n(7, t),
                123: n(7, t),
                124: n(7, t),
                125: n(7, t),
                126: n(7, t),
                127: n(7, t),
                128: q("B", Hr, 0, t),
                129: q("C", Hr, 0, t),
                130: q("D", Hr, 0, t),
                131: q("E", Hr, 0, t),
                132: q("H", Hr, 0, t),
                133: q("L", Hr, 0, t),
                134: Hr(0, "(" + e + "+nn)"),
                135: q("A", Hr, 0, t),
                136: q("B", Hr, 1, t),
                137: q("C", Hr, 1, t),
                138: q("D", Hr, 1, t),
                139: q("E", Hr, 1, t),
                140: q("H", Hr, 1, t),
                141: q("L", Hr, 1, t),
                142: Hr(1, "(" + e + "+nn)"),
                143: q("A", Hr, 1, t),
                144: q("B", Hr, 2, t),
                145: q("C", Hr, 2, t),
                146: q("D", Hr, 2, t),
                147: q("E", Hr, 2, t),
                148: q("H", Hr, 2, t),
                149: q("L", Hr, 2, t),
                150: Hr(2, "(" + e + "+nn)"),
                151: q("A", Hr, 2, t),
                152: q("B", Hr, 3, t),
                153: q("C", Hr, 3, t),
                154: q("D", Hr, 3, t),
                155: q("E", Hr, 3, t),
                156: q("H", Hr, 3, t),
                157: q("L", Hr, 3, t),
                158: Hr(3, "(" + e + "+nn)"),
                159: q("A", Hr, 3, t),
                160: q("B", Hr, 4, t),
                161: q("C", Hr, 4, t),
                162: q("D", Hr, 4, t),
                163: q("E", Hr, 4, t),
                164: q("H", Hr, 4, t),
                165: q("L", Hr, 4, t),
                166: Hr(4, "(" + e + "+nn)"),
                167: q("A", Hr, 4, t),
                168: q("B", Hr, 5, t),
                169: q("C", Hr, 5, t),
                170: q("D", Hr, 5, t),
                171: q("E", Hr, 5, t),
                172: q("H", Hr, 5, t),
                173: q("L", Hr, 5, t),
                174: Hr(5, "(" + e + "+nn)"),
                175: q("A", Hr, 5, t),
                176: q("B", Hr, 6, t),
                177: q("C", Hr, 6, t),
                178: q("D", Hr, 6, t),
                179: q("E", Hr, 6, t),
                180: q("H", Hr, 6, t),
                181: q("L", Hr, 6, t),
                182: Hr(6, "(" + e + "+nn)"),
                183: q("A", Hr, 6, t),
                184: q("B", Hr, 7, t),
                185: q("C", Hr, 7, t),
                186: q("D", Hr, 7, t),
                187: q("E", Hr, 7, t),
                188: q("H", Hr, 7, t),
                189: q("L", Hr, 7, t),
                190: Hr(7, "(" + e + "+nn)"),
                191: q("A", Hr, 7, t),
                192: q("B", qr, 0, t),
                193: q("C", qr, 0, t),
                194: q("D", qr, 0, t),
                195: q("E", qr, 0, t),
                196: q("H", qr, 0, t),
                197: q("L", qr, 0, t),
                198: qr(0, "(" + e + "+nn)"),
                199: q("A", qr, 0, t),
                200: q("B", qr, 1, t),
                201: q("C", qr, 1, t),
                202: q("D", qr, 1, t),
                203: q("E", qr, 1, t),
                204: q("H", qr, 1, t),
                205: q("L", qr, 1, t),
                206: qr(1, "(" + e + "+nn)"),
                207: q("A", qr, 1, t),
                208: q("B", qr, 2, t),
                209: q("C", qr, 2, t),
                210: q("D", qr, 2, t),
                211: q("E", qr, 2, t),
                212: q("H", qr, 2, t),
                213: q("L", qr, 2, t),
                214: qr(2, "(" + e + "+nn)"),
                215: q("A", qr, 2, t),
                216: q("B", qr, 3, t),
                217: q("C", qr, 3, t),
                218: q("D", qr, 3, t),
                219: q("E", qr, 3, t),
                220: q("H", qr, 3, t),
                221: q("L", qr, 3, t),
                222: qr(3, "(" + e + "+nn)"),
                223: q("A", qr, 3, t),
                224: q("B", qr, 4, t),
                225: q("C", qr, 4, t),
                226: q("D", qr, 4, t),
                227: q("E", qr, 4, t),
                228: q("H", qr, 4, t),
                229: q("L", qr, 4, t),
                230: qr(4, "(" + e + "+nn)"),
                231: q("A", qr, 4, t),
                232: q("B", qr, 5, t),
                233: q("C", qr, 5, t),
                234: q("D", qr, 5, t),
                235: q("E", qr, 5, t),
                236: q("H", qr, 5, t),
                237: q("L", qr, 5, t),
                238: qr(5, "(" + e + "+nn)"),
                239: q("A", qr, 5, t),
                240: q("B", qr, 6, t),
                241: q("C", qr, 6, t),
                242: q("D", qr, 6, t),
                243: q("E", qr, 6, t),
                244: q("H", qr, 6, t),
                245: q("L", qr, 6, t),
                246: qr(6, "(" + e + "+nn)"),
                247: q("A", qr, 6, t),
                248: q("B", qr, 7, t),
                249: q("C", qr, 7, t),
                250: q("D", qr, 7, t),
                251: q("E", qr, 7, t),
                252: q("H", qr, 7, t),
                253: q("L", qr, 7, t),
                254: qr(7, "(" + e + "+nn)"),
                255: q("A", qr, 7, t),
                256: "ddcb"
            }
        }
        )("DDCB"),
        Mr = at("FDCB"),
        at = (st = function(r) {
            var t, e, n, s, a, i = "DD" === r ? (s = 8,
            t = vt,
            n = Ot,
            a = "IX",
            e = "IXH",
            "IXL") : (s = 9,
            t = Tt,
            n = At,
            a = "IY",
            e = "IYH",
            "IYL");
            return {
                9: f(s, 1),
                25: f(s, 2),
                33: sr(s),
                34: Pr(s),
                35: y(s),
                36: h(e),
                37: v(e),
                38: gr(t),
                41: f(s, s),
                42: ir(s),
                43: O(s),
                44: h(i),
                45: v(i),
                46: gr(n),
                52: h("(" + a + "+nn)"),
                53: v("(" + a + "+nn)"),
                54: _r(s),
                57: f(s, 11),
                68: Er(ut, t),
                69: Er(ut, n),
                70: or(ut, s),
                76: Er(Pt, t),
                77: Er(Pt, n),
                78: or(Pt, s),
                84: Er(Dt, t),
                85: Er(Dt, n),
                86: or(Dt, s),
                92: Er(Nt, t),
                93: Er(Nt, n),
                94: or(Nt, s),
                96: Er(t, ut),
                97: Er(t, Pt),
                98: Er(t, Dt),
                99: Er(t, Nt),
                100: Er(t, t),
                101: Er(t, n),
                102: or(Rt, s),
                103: Er(t, ft),
                104: Er(n, ut),
                105: Er(n, Pt),
                106: Er(n, Dt),
                107: Er(n, Nt),
                108: Er(n, t),
                109: Er(n, n),
                110: or(ct, s),
                111: Er(n, ft),
                112: lr(s, ut),
                113: lr(s, Pt),
                114: lr(s, Dt),
                115: lr(s, Nt),
                116: lr(s, Rt),
                117: lr(s, ct),
                119: lr(s, ft),
                124: Er(ft, t),
                125: Er(ft, n),
                126: or(ft, s),
                132: E(e),
                133: E(i),
                134: E("(" + a + "+nn)"),
                140: g(e),
                141: g(i),
                142: g("(" + a + "+nn)"),
                148: tt(e),
                149: tt(i),
                150: tt("(" + a + "+nn)"),
                156: Xr(e),
                157: Xr(i),
                158: Xr("(" + a + "+nn)"),
                164: o(e),
                165: o(i),
                166: o("(" + a + "+nn)"),
                172: et(e),
                173: et(i),
                174: et("(" + a + "+nn)"),
                180: vr(e),
                181: vr(i),
                182: vr("(" + a + "+nn)"),
                188: R(e),
                189: R(i),
                190: R("(" + a + "+nn)"),
                203: Jr(r + "CB"),
                221: Jr("DD"),
                225: xr(s),
                227: C(s),
                229: Lr(s),
                233: X(s),
                249: ar(11, s),
                253: Jr("FD"),
                256: "dd"
            }
        }
        )("DD"),
        Or = {
            64: Y(ut),
            65: mr(ut),
            66: jr(1),
            67: Pr(1),
            68: Rr(),
            69: hr(),
            70: Q(0),
            71: Er(Mt, ft),
            72: Y(Pt),
            73: mr(Pt),
            74: t(1),
            75: ir(1),
            76: Rr(),
            77: hr(),
            78: Q(0),
            79: Er(pt, ft),
            80: Y(Dt),
            81: mr(Dt),
            82: jr(2),
            83: Pr(2),
            84: Rr(),
            85: hr(),
            86: Q(1),
            87: Er(ft, Mt),
            88: Y(Nt),
            89: mr(Nt),
            90: t(2),
            91: ir(2),
            92: Rr(),
            93: hr(),
            94: Q(2),
            95: Er(ft, pt),
            96: Y(Rt),
            97: mr(Rt),
            98: jr(3),
            99: Pr(3),
            100: Rr(),
            101: hr(),
            102: Q(0),
            103: Sr(),
            104: Y(ct),
            105: mr(ct),
            106: t(3),
            107: ir(3),
            108: Rr(),
            109: hr(),
            110: Q(0),
            111: Wr(),
            112: $(),
            113: Cr(),
            114: jr(11),
            115: Pr(11),
            116: Rr(),
            117: hr(),
            118: Q(1),
            120: Y(ft),
            121: mr(ft),
            122: t(11),
            123: ir(11),
            124: Rr(),
            125: hr(),
            126: Q(2),
            160: K(),
            161: P(),
            162: w(),
            163: pr(),
            168: J(),
            169: i(),
            170: B(),
            171: cr(),
            176: V(),
            177: D(),
            178: k(),
            179: Tr(),
            184: G(),
            185: u(),
            186: I(),
            187: Or(),
            256: "ed"
        },
        st = st("FD"),
        Ur = {
            0: "",
            1: sr(1),
            2: Nr(1, ft),
            3: y(1),
            4: h("B"),
            5: v("B"),
            6: gr(ut),
            7: kr(),
            8: d(0, 4),
            9: f(3, 1),
            10: fr(ft, 1),
            11: O(1),
            12: h("C"),
            13: v("C"),
            14: gr(Pt),
            15: Yr(),
            16: A(),
            17: sr(2),
            18: Nr(2, ft),
            19: y(2),
            20: h("D"),
            21: v("D"),
            22: gr(Dt),
            23: Ir(),
            24: Z(),
            25: f(3, 2),
            26: fr(ft, 2),
            27: O(2),
            28: h("E"),
            29: v("E"),
            30: gr(Nt),
            31: Fr(),
            32: j(L, !1),
            33: sr(3),
            34: Pr(3),
            35: y(3),
            36: h("H"),
            37: v("H"),
            38: gr(Rt),
            39: M(),
            40: j(L, !0),
            41: f(3, 3),
            42: ir(3),
            43: O(3),
            44: h("L"),
            45: v("L"),
            46: gr(ct),
            47: l(),
            48: j(1, !1),
            49: sr(11),
            50: ur(),
            51: y(11),
            52: h("(HL)"),
            53: v("(HL)"),
            54: Dr(3),
            55: Zr(),
            56: j(1, !0),
            57: f(3, 11),
            58: nr(),
            59: O(11),
            60: h("A"),
            61: v("A"),
            62: gr(ft),
            63: a(),
            64: Er(ut, ut),
            65: Er(ut, Pt),
            66: Er(ut, Dt),
            67: Er(ut, Nt),
            68: Er(ut, Rt),
            69: Er(ut, ct),
            70: fr(ut, 3),
            71: Er(ut, ft),
            72: Er(Pt, ut),
            73: Er(Pt, Pt),
            74: Er(Pt, Dt),
            75: Er(Pt, Nt),
            76: Er(Pt, Rt),
            77: Er(Pt, ct),
            78: fr(Pt, 3),
            79: Er(Pt, ft),
            80: Er(Dt, ut),
            81: Er(Dt, Pt),
            82: Er(Dt, Dt),
            83: Er(Dt, Nt),
            84: Er(Dt, Rt),
            85: Er(Dt, ct),
            86: fr(Dt, 3),
            87: Er(Dt, ft),
            88: Er(Nt, ut),
            89: Er(Nt, Pt),
            90: Er(Nt, Dt),
            91: Er(Nt, Nt),
            92: Er(Nt, Rt),
            93: Er(Nt, ct),
            94: fr(Nt, 3),
            95: Er(Nt, ft),
            96: Er(Rt, ut),
            97: Er(Rt, Pt),
            98: Er(Rt, Dt),
            99: Er(Rt, Nt),
            100: Er(Rt, Rt),
            101: Er(Rt, ct),
            102: fr(Rt, 3),
            103: Er(Rt, ft),
            104: Er(ct, ut),
            105: Er(ct, Pt),
            106: Er(ct, Dt),
            107: Er(ct, Nt),
            108: Er(ct, Rt),
            109: Er(ct, ct),
            110: fr(ct, 3),
            111: Er(ct, ft),
            112: Nr(3, ut),
            113: Nr(3, Pt),
            114: Nr(3, Dt),
            115: Nr(3, Nt),
            116: Nr(3, Rt),
            117: Nr(3, ct),
            118: H(),
            119: Nr(3, ft),
            120: Er(ft, ut),
            121: Er(ft, Pt),
            122: Er(ft, Dt),
            123: Er(ft, Nt),
            124: Er(ft, Rt),
            125: Er(ft, ct),
            126: fr(ft, 3),
            127: Er(ft, ft),
            128: E("B"),
            129: E("C"),
            130: E("D"),
            131: E("E"),
            132: E("H"),
            133: E("L"),
            134: E("(HL)"),
            135: E("A"),
            136: g("B"),
            137: g("C"),
            138: g("D"),
            139: g("E"),
            140: g("H"),
            141: g("L"),
            142: g("(HL)"),
            143: g("A"),
            144: tt("B"),
            145: tt("C"),
            146: tt("D"),
            147: tt("E"),
            148: tt("H"),
            149: tt("L"),
            150: tt("(HL)"),
            151: tt("A"),
            152: Xr("B"),
            153: Xr("C"),
            154: Xr("D"),
            155: Xr("E"),
            156: Xr("H"),
            157: Xr("L"),
            158: Xr("(HL)"),
            159: Xr("A"),
            160: o("B"),
            161: o("C"),
            162: o("D"),
            163: o("E"),
            164: o("H"),
            165: o("L"),
            166: o("(HL)"),
            167: o("A"),
            168: et("B"),
            169: et("C"),
            170: et("D"),
            171: et("E"),
            172: et("H"),
            173: et("L"),
            174: et("(HL)"),
            175: et("A"),
            176: vr("B"),
            177: vr("C"),
            178: vr("D"),
            179: vr("E"),
            180: vr("H"),
            181: vr("L"),
            182: vr("(HL)"),
            183: vr("A"),
            184: R("B"),
            185: R("C"),
            186: R("D"),
            187: R("E"),
            188: R("H"),
            189: R("L"),
            190: R("(HL)"),
            191: R("A"),
            192: yr(L, !1),
            193: xr(1),
            194: S(L, !1),
            195: U(),
            196: e(L, !1),
            197: Lr(1),
            198: E("nn"),
            199: Ur(0),
            200: yr(L, !0),
            201: Qr(),
            202: S(L, !0),
            203: Jr("CB"),
            204: e(L, !0),
            205: s(),
            206: g("nn"),
            207: Ur(8),
            208: yr(1, !1),
            209: xr(2),
            210: S(1, !1),
            211: br(),
            212: e(1, !1),
            213: Lr(2),
            214: tt("nn"),
            215: Ur(16),
            216: yr(1, !0),
            217: p(),
            218: S(1, !0),
            219: F(),
            220: e(1, !0),
            221: Jr("DD"),
            222: Xr("nn"),
            223: Ur(24),
            224: yr(4, !1),
            225: xr(3),
            226: S(4, !1),
            227: C(3),
            228: e(4, !1),
            229: Lr(3),
            230: o("nn"),
            231: Ur(32),
            232: yr(4, !0),
            233: X(3),
            234: S(4, !0),
            235: d(2, 3),
            236: e(4, !0),
            237: Jr("ED"),
            238: et("nn"),
            239: Ur(40),
            240: yr(x, !1),
            241: xr(0),
            242: S(x, !1),
            243: T(),
            244: e(x, !1),
            245: Lr(0),
            246: vr("nn"),
            247: Ur(48),
            248: yr(x, !0),
            249: ar(11, 3),
            250: S(x, !0),
            251: c(),
            252: e(x, !0),
            253: Jr("FD"),
            254: R("nn"),
            255: Ur(56),
            256: 0
        },
        ot = (ot = (ot = "window.JSSpeccy.Z80 = function(opts) {\n\tvar self = {};\n\n\tvar memory = opts.memory;\nvar ioBus = opts.ioBus;\nvar display = opts.display;\n\nvar registerBuffer = new ArrayBuffer(26);\n/* Expose registerBuffer as both register pairs and individual registers */\nvar regPairs = new Uint16Array(registerBuffer);\nvar regs = new Uint8Array(registerBuffer);\n\nvar tstates = 0; /* number of tstates since start of this frame */\nvar iff1 = 0;\nvar iff2 = 0;\nvar im = 0;\nvar halted = false;\n\n/* tables for setting Z80 flags */\n\n/*\n\tWhether a half carry occurred or not can be determined by looking at\n\tthe 3rd bit of the two arguments and the result; these are hashed\n\tinto this table in the form r12, where r is the 3rd bit of the\n\tresult, 1 is the 3rd bit of the 1st argument and 2 is the\n\tthird bit of the 2nd argument; the tables differ for add and subtract\n\toperations\n*/\nvar halfcarryAddTable = new Uint8Array([0, 16, 16, 16, 0, 0, 0, 16]);\nvar halfcarrySubTable = new Uint8Array([0, 0, 16, 0, 16, 0, 16, 16]);\n\n/*\n\tSimilarly, overflow can be determined by looking at the 7th bits; again\n\tthe hash into this table is r12\n*/\nvar overflowAddTable = new Uint8Array([0, 0, 0, 4, 4, 0, 0, 0]);\nvar overflowSubTable = new Uint8Array([0, 4, 0, 0, 0, 0, 4, 0]);\n\nvar sz53Table = new Uint8Array(0x100); /* The S, Z, 5 and 3 bits of the index */\nvar parityTable = new Uint8Array(0x100); /* The parity of the lookup value */\nvar sz53pTable = new Uint8Array(0x100); /* OR the above two tables together */\n\nfor (var i = 0; i < 0x100; i++) {\n\tsz53Table[i] = i & ( 168 );\n\tvar j = i;\n\tvar parity = 0;\n\tfor (var k = 0; k < 8; k++) {\n\t\tparity ^= j & 1;\n\t\tj >>=1;\n\t}\n\n\tparityTable[i] = (parity ? 0 : 4);\n\tsz53pTable[i] = sz53Table[i] | parityTable[i];\n\t\n\tsz53Table[0] |= 64;\n\tsz53pTable[0] |= 64;\n}\n\nvar interruptible = true;\nvar interruptPending = false;\n var NMIPending = false;\nvar opcodePrefix = '';\n\n\tself.requestInterrupt = function() {\n\t\tinterruptPending = true;\n\t\t/* TODO: use event scheduling to keep the interrupt line active for a fixed\n\t\t~48T window, to support retriggered interrupts and interrupt blocking via\n\t\tchains of EI or DD/FD prefixes */\n\t}\n\tvar z80Interrupt = function() {\n\t\tif (iff1) {\n\t\t\tif (halted) {\n\t\t\t\t/* move PC on from the HALT opcode */\n\t\t\t\tregPairs[12]++;\n\t\t\t\thalted = false;\n\t\t\t}\n\n\t\t\tiff1 = iff2 = 0;\n\n\t\t\t/* push current PC in readiness for call to interrupt handler */\n\t\t\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\n\t\t\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\n\t\t\t\n\t\t\t/* TODO: R register */\n\t\t\t\n\t\t\tswitch (im) {\n\t\t\t\tcase 0:\n\t\t\t\t\tregPairs[12] = 0x0038;\n\t\t\t\t\ttstates += 6;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tregPairs[12] = 0x0038;\n\t\t\t\t\ttstates += 7;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tinttemp = (regs[" + Mt + "] << 8) | 0xff;\n\t\t\t\t\tl = READMEM(inttemp);\n\t\t\t\t\tinttemp = (inttemp+1) & 0xffff;\n\t\t\t\t\th = READMEM(inttemp);\n\t\t\t\t\tregPairs[12] = (h<<8) | l;\n\t\t\t\t\ttstates += 7;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n self.requestNMI = function() {NMIPending = true;}\nvar z80NMI = function() {if (halted) {regPairs[12]++;halted = false;}regPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);    regPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);regPairs[12] = 0x0066;};\n\tself.runFrame = function(frameLength) {\n\t\tvar lastOpcodePrefix, offset, opcode;\n\n\t\twhile (tstates < frameLength || opcodePrefix) {\n\t\tif (NMIPending){z80NMI();NMIPending=false;}\n\tif (interruptible && interruptPending) {\n\t\t\t\tz80Interrupt();\n\t\t\t\tinterruptPending = false;\n\t\t\t}\n\t\t\tinterruptible = true; /* unless overridden by opcode */\n\t\t\tlastOpcodePrefix = opcodePrefix;\n\t\t\topcodePrefix = '';\n\t\t\tswitch (lastOpcodePrefix) {\n\t\t\t\tcase '':\n\t\t\t\t\tCONTEND_READ(regPairs[12], 4);\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tregs[" + pt + "] = ((regs[" + pt + "] + 1) & 0x7f) | (regs[" + pt + "] & 0x80);\n\t\t\t\t\t" + Et(Ur, null, r.traps) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CB':\n\t\t\t\t\tCONTEND_READ(regPairs[12], 4);\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tregs[" + pt + "] = ((regs[" + pt + "] + 1) & 0x7f) | (regs[" + pt + "] & 0x80);\n\t\t\t\t\t" + Et(nt) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DD':\n\t\t\t\t\tCONTEND_READ(regPairs[12], 4);\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tregs[" + pt + "] = ((regs[" + pt + "] + 1) & 0x7f) | (regs[" + pt + "] & 0x80);\n\t\t\t\t\t" + Et(at, Ur) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DDCB':\n\t\t\t\t\toffset = READMEM(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tif (offset & 0x80) offset -= 0x100;\n\t\t\t\t\tCONTEND_READ(regPairs[12], 3);\n\t\t\t\t\topcode = memory.read(regPairs[12]);\n\t\t\t\t\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\t\t\t\t\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\t\t\t\t\tregPairs[12]++;\n\t\t\t\t\t" + Et(gt) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ED':\n\t\t\t\t\tCONTEND_READ(regPairs[12], 4);\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tregs[" + pt + "] = ((regs[" + pt + "] + 1) & 0x7f) | (regs[" + pt + "] & 0x80);\n\t\t\t\t\t" + Et(Or) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FD':\n\t\t\t\t\tCONTEND_READ(regPairs[12], 4);\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tregs[" + pt + "] = ((regs[" + pt + "] + 1) & 0x7f) | (regs[" + pt + "] & 0x80);\n\t\t\t\t\t" + Et(st, Ur) + "\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FDCB':\n\t\t\t\t\toffset = READMEM(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tif (offset & 0x80) offset -= 0x100;\n\t\t\t\t\tCONTEND_READ(regPairs[12], 3);\n\t\t\t\t\topcode = memory.read(regPairs[12]);\n\t\t\t\t\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\t\t\t\t\tCONTEND_READ_NO_MREQ(regPairs[12], 1);\n\t\t\t\t\tregPairs[12]++;\n\t\t\t\t\t" + Et(Mr) + "\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow(\"Unknown opcode prefix: \" + lastOpcodePrefix);\n\t\t\t}\n\t\t}\n\t\twhile (display.nextEventTime != null && display.nextEventTime <= tstates) display.doEvent();\n\t};\n\n\tself.reset = function() {\n\t\tregPairs[12] = regPairs[10] = 0;\n\t\tiff1 = 0; iff2 = 0; im = 0; halted = false;\n\t};\n\n\tself.loadFromSnapshot = function(snapRegs) {\n\t\tregPairs[0] = snapRegs['AF'];\n\t\tregPairs[1] = snapRegs['BC'];\n\t\tregPairs[2] = snapRegs['DE'];\n\t\tregPairs[3] = snapRegs['HL'];\n\t\tregPairs[4] = snapRegs['AF_'];\n\t\tregPairs[5] = snapRegs['BC_'];\n\t\tregPairs[6] = snapRegs['DE_'];\n\t\tregPairs[7] = snapRegs['HL_'];\n\t\tregPairs[8] = snapRegs['IX'];\n\t\tregPairs[9] = snapRegs['IY'];\n\t\tregPairs[11] = snapRegs['SP'];\n\t\tregPairs[12] = snapRegs['PC'];\n\t\tregPairs[10] = snapRegs['IR'];\n\t\tiff1 = snapRegs['iff1'];\n\t\tiff2 = snapRegs['iff2'];\n\t\tim = snapRegs['im'];\n\t};\n\n\t/* Register / flag accessors (used for tape trapping and test harness) */\n\tself.getAF = function() {\n\t\treturn regPairs[0];\n\t}\n\tself.getBC = function() {\n\t\treturn regPairs[1];\n\t}\n\tself.getDE = function() {\n\t\treturn regPairs[2];\n\t}\n\tself.getHL = function() {\n\t\treturn regPairs[3];\n\t}\n\tself.getAF_ = function() {\n\t\treturn regPairs[4];\n\t}\n\tself.getBC_ = function() {\n\t\treturn regPairs[5];\n\t}\n\tself.getDE_ = function() {\n\t\treturn regPairs[6];\n\t}\n\tself.getHL_ = function() {\n\t\treturn regPairs[7];\n\t}\n\tself.getIX = function() {\n\t\treturn regPairs[8];\n\t}\n\tself.getIY = function() {\n\t\treturn regPairs[9];\n\t}\n\tself.getI = function() {\n\t\treturn regs[" + Mt + "];\n\t}\n\tself.getR = function() {\n\t\treturn regs[" + pt + "];\n\t}\n\tself.getSP = function() {\n\t\treturn regPairs[11];\n\t}\n\tself.getPC = function() {\n\t\treturn regPairs[12];\n\t}\n\tself.getIFF1 = function() {\n\t\treturn iff1;\n\t}\n\tself.getIFF2 = function() {\n\t\treturn iff2;\n\t}\n\tself.getIM = function() {\n\t\treturn im;\n\t}\n\tself.getHalted = function() {\n\t\treturn halted;\n\t}\n\n\tself.setAF = function(val) {\n\t\tregPairs[0] = val;\n\t}\n\tself.setBC = function(val) {\n\t\tregPairs[1] = val;\n\t}\n\tself.setDE = function(val) {\n\t\tregPairs[2] = val;\n\t}\n\tself.setHL = function(val) {\n\t\tregPairs[3] = val;\n\t}\n\tself.setAF_ = function(val) {\n\t\tregPairs[4] = val;\n\t}\n\tself.setBC_ = function(val) {\n\t\tregPairs[5] = val;\n\t}\n\tself.setDE_ = function(val) {\n\t\tregPairs[6] = val;\n\t}\n\tself.setHL_ = function(val) {\n\t\tregPairs[7] = val;\n\t}\n\tself.setIX = function(val) {\n\t\tregPairs[8] = val;\n\t}\n\tself.setIY = function(val) {\n\t\tregPairs[9] = val;\n\t}\n\tself.setI = function(val) {\n\t\tregs[" + Mt + "] = val;\n\t}\n\tself.setR = function(val) {\n\t\tregs[" + pt + "] = val;\n\t}\n\tself.setSP = function(val) {\n\t\tregPairs[11] = val;\n\t}\n\tself.setPC = function(val) {\n\t\tregPairs[12] = val;\n\t}\n\tself.setIFF1 = function(val) {\n\t\tiff1 = val;\n\t}\n\tself.setIFF2 = function(val) {\n\t\tiff2 = val;\n\t}\n\tself.setIM = function(val) {\n\t\tim = val;\n\t}\n\tself.setHalted = function(val) {\n\t\thalted = val;\n\t}\n\n\tself.getTstates = function() {\n\t\treturn tstates;\n\t}\n\tself.setTstates = function(val) {\n\t\ttstates = val;\n\t}\n\n\tself.getCarry_ = function() {\n\t\treturn regs[" + lt + "] & 1;\n\t};\n\tself.setCarry = function(val) {\n\t\tif (val) {\n\t\t\tregs[" + _t + "] |= 1;\n\t\t} else {\n\t\t\tregs[" + _t + "] &= " + -2 + ";\n\t\t}\n\t};\n\tself.getA_ = function() {\n\t\treturn regs[" + ot + "];\n\t};\n\n\treturn self;\n};").replace(/READMEM\((.*?)\)/g, "(CONTEND_READ($1, 3), memory.read($1))")).replace(/WRITEMEM\((.*?),(.*?)\)/g, "CONTEND_WRITE($1, 3);\nwhile (display.nextEventTime != null && display.nextEventTime < tstates) display.doEvent();\nmemory.write($1,$2);"),
        ot = r.applyContention ? (ot = (ot = (ot = (ot = (ot = ot.replace(/CONTEND_READ\((.*?),(.*?)\)/g, "(tstates += memory.contend($1, tstates) + ($2))")).replace(/CONTEND_WRITE\((.*?),(.*?)\)/g, "(tstates += memory.contend($1, tstates) + ($2))")).replace(/CONTEND_READ_NO_MREQ\((.*?),(.*?)\)/g, "(tstates += memory.contend($1, tstates) + ($2))")).replace(/CONTEND_WRITE_NO_MREQ\((.*?),(.*?)\)/g, "(tstates += memory.contend($1, tstates) + ($2))")).replace(/CONTEND_PORT_EARLY\((.*?)\)/g, "var isContendedMemory = memory.isContended($1);\nvar isULAPort = ioBus.isULAPort($1);\nif (isContendedMemory) tstates += ioBus.contend($1, tstates);\ntstates += 1;\nwhile (display.nextEventTime != null && display.nextEventTime < tstates) display.doEvent();")).replace(/CONTEND_PORT_LATE\((.*?)\)/g, "if (isContendedMemory || isULAPort) {\n\tioBus.contend($1);\n\ttstates += 1;\n\tif (!isULAPort) {\n\t\tioBus.contend($1); tstates += 1;\n\t\tioBus.contend($1); tstates += 1;\n\t} else {\n\t\ttstates += 2;\n\t}\n} else {\n\ttstates += 3;\n}") : (ot = (ot = (ot = (ot = (ot = ot.replace(/CONTEND_READ\((.*?),(.*?)\)/g, "tstates += ($2)")).replace(/CONTEND_WRITE\((.*?),(.*?)\)/g, "tstates += ($2)")).replace(/CONTEND_READ_NO_MREQ\((.*?),(.*?)\)/g, "tstates += ($2)")).replace(/CONTEND_WRITE_NO_MREQ\((.*?),(.*?)\)/g, "tstates += ($2)")).replace(/CONTEND_PORT_EARLY\((.*?)\)/g, "tstates += 1")).replace(/CONTEND_PORT_LATE\((.*?)\)/g, "tstates += 3"),
        (0,
        eval)(ot)
    }
}
.call(this);
window.JSSpeccy = window.JSSpeccy || {},
window.CPUZ80 = function() {
    function s() {
        g.reset(),
        n = 0
    }
    var u, c, o, a, g, d = {
        read: function(e) {
            return u(e)
        },
        write: function(e, t) {
            c(e, t)
        }
    }, f = {
        read: function(e) {
            return a(e)
        },
        write: function(e, t) {
            o(e, t)
        }
    }, n = 0;
    return {
        steps: function(e) {
            for (var t; 0 < e; )
                g.setTstates(0),
                g.runFrame(1),
                e -= t = g.getTstates(),
                n += t
        },
        T: function() {
            return n
        },
        memr: function(e) {
            return u(e)
        },
        reset: s,
        proc: function() {
            return g
        },
        interrupt: function() {
            g.requestInterrupt()
        },
        nmi: function() {
            g.requestNMI()
        },
        init: function(e, t, n, r, i) {
            JSSpeccy.buildZ80({
                traps: [],
                applyContention: !1
            }),
            c = e,
            u = t,
            ticks = n,
            o = r,
            a = i,
            g = window.JSSpeccy.Z80({
                memory: d,
                ioBus: f,
                display: {
                    nextEventTime: null
                }
            }),
            s()
        },
        status: function() {
            var e = g.getBC()
              , t = g.getDE()
              , n = g.getHL()
              , r = g.getAF()
              , i = g.getBC_()
              , s = g.getDE_()
              , u = g.getHL_()
              , c = g.getAF_()
              , o = g.getIX()
              , a = g.getIY()
              , d = g.getI()
              , f = g.getR();
            return {
                pc: g.getPC(),
                sp: g.getSP(),
                af: r,
                bc: e,
                de: t,
                hl: n,
                af_: c,
                bc_: i,
                de_: s,
                hl_: u,
                a: r >> 8,
                b: e >> 8,
                c: 255 & e,
                d: t >> 8,
                e: 255 & t,
                f: 255 & r,
                h: n >> 8,
                l: 255 & n,
                ix: o,
                iy: a,
                i: d,
                r: f
            }
        },
        set: function(e, t) {
            switch (e) {
            case "PC":
                return void g.setPC(t);
            case "AF":
                return void g.setAF(t);
            case "BC":
                return void g.setBC(t);
            case "DE":
                return void g.setDE(t);
            case "HL":
                return void g.setHL(t);
            case "AF_":
                return void g.setAF_(t);
            case "BC_":
                return void g.setBC_(t);
            case "DE_":
                return void g.setDE_(t);
            case "HL_":
                return void g.setHL_(t);
            case "IX":
                return void g.setIX(t);
            case "IY":
                return void g.setIY(t);
            case "SP":
                return void g.setSP(t)
            }
        },
        flagsToString: function() {
            for (var e = "", t = "SZYHXPNC", n = 255 & g.getAF(), r = 0; r < 8; r++)
                e += 0 == (n & 128 >> r) ? t[r].toLowerCase() : t[r];
            return e
        }
    }
}();
